!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.bitbybitRunner=t():e.bitbybitRunner=t()}(this,()=>(()=>{var e,t,r,i,o={258:e=>{e.exports=function(){var e={},t=this,r=(new Function("try {return this===window;}catch(e){ return false;}"),new Function("try {return this===global;}catch(e){return false;}")),i=new Function("try {return typeof importScripts === 'function';}catch(e){return false;}");if(r()&&i(),r()||i()){var o=t;if(i()){onmessage=function(e){if(e.data.className&&e.data.methodName){var r=(i=e.data.className,o=e.data.methodName,s=t,i.split(".").forEach(function(e){s&&(s=s[e])}),s?s[o]:null);if(!r)return console.error("could not find "+e.data.className+"."+e.data.methodName);postMessage({result:r.apply(null,e.data.args),id:e.data.id})}var i,o,s}}}return function(e,t,r){"use strict";t.geom=t.geom||{},t.exe=t.exe||{},t.eval=t.eval||{},t.core=t.core||{},t.promhx=t.promhx||{};var i={},o=function(){return W.__string_rec(this,"")};function s(e,t){function r(){}r.prototype=e;var i=new r;for(var o in t)i[o]=t[o];return t.toString!==Object.prototype.toString&&(i.toString=t.toString),i}var n=function(){};i.HxOverrides=n,n.__name__=["HxOverrides"],n.strDate=function(e){switch(e.length){case 8:var t=e.split(":"),r=new Date;return r.setTime(0),r.setUTCHours(t[0]),r.setUTCMinutes(t[1]),r.setUTCSeconds(t[2]),r;case 10:var i=e.split("-");return new Date(i[0],i[1]-1,i[2],0,0,0);case 19:var o=e.split(" "),s=o[0].split("-"),n=o[1].split(":");return new Date(s[0],s[1]-1,s[2],n[0],n[1],n[2]);default:throw new T("Invalid date format : "+e)}},n.cca=function(e,t){var r=e.charCodeAt(t);if(r==r)return r},n.substr=function(e,t,r){return null!=t&&0!=t&&null!=r&&r<0?"":(null==r&&(r=e.length),t<0?(t=e.length+t)<0&&(t=0):r<0&&(r=e.length+r-t),e.substr(t,r))},n.iter=function(e){return{cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var a=function(){};i.Lambda=a,a.__name__=["Lambda"],a.fold=function(e,t,r){for(var i=st(e)();i.hasNext();)r=t(i.next(),r);return r};var c=function(){this.length=0};i.List=c,c.__name__=["List"],c.prototype={add:function(e){var t=[e];null==this.h?this.h=t:this.q[1]=t,this.q=t,this.length++},pop:function(){if(null==this.h)return null;var e=this.h[0];return this.h=this.h[1],null==this.h&&(this.q=null),this.length--,e},isEmpty:function(){return null==this.h},__class__:c},Math.__name__=["Math"];var h=function(){};i.Reflect=h,h.__name__=["Reflect"],h.field=function(e,t){try{return e[t]}catch(e){return e instanceof T&&(e=e.val),null}},h.callMethod=function(e,t,r){return t.apply(e,r)},h.fields=function(e){var t=[];if(null!=e){var r=Object.prototype.hasOwnProperty;for(var i in e)"__id__"!=i&&"hx__closures__"!=i&&r.call(e,i)&&t.push(i)}return t},h.isFunction=function(e){return"function"==typeof e&&!(e.__name__||e.__ename__)},h.deleteField=function(e,t){return!!Object.prototype.hasOwnProperty.call(e,t)&&(delete e[t],!0)};var l=function(){};i.Std=l,l.__name__=["Std"],l.string=function(e){return W.__string_rec(e,"")},l.parseFloat=function(e){return parseFloat(e)};var u=function(){this.b=""};i.StringBuf=u,u.__name__=["StringBuf"],u.prototype={add:function(e){this.b+=l.string(e)},__class__:u};var d=function(){};i.StringTools=d,d.__name__=["StringTools"],d.fastCodeAt=function(e,t){return e.charCodeAt(t)};var v=i.ValueType={__ename__:["ValueType"],__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"]};v.TNull=["TNull",0],v.TNull.toString=o,v.TNull.__enum__=v,v.TInt=["TInt",1],v.TInt.toString=o,v.TInt.__enum__=v,v.TFloat=["TFloat",2],v.TFloat.toString=o,v.TFloat.__enum__=v,v.TBool=["TBool",3],v.TBool.toString=o,v.TBool.__enum__=v,v.TObject=["TObject",4],v.TObject.toString=o,v.TObject.__enum__=v,v.TFunction=["TFunction",5],v.TFunction.toString=o,v.TFunction.__enum__=v,v.TClass=function(e){var t=["TClass",6,e];return t.__enum__=v,t.toString=o,t},v.TEnum=function(e){var t=["TEnum",7,e];return t.__enum__=v,t.toString=o,t},v.TUnknown=["TUnknown",8],v.TUnknown.toString=o,v.TUnknown.__enum__=v;var f=function(){};i.Type=f,f.__name__=["Type"],f.getClassName=function(e){var t=e.__name__;return null==t?null:t.join(".")},f.getEnumName=function(e){return e.__ename__.join(".")},f.resolveClass=function(e){var t=i[e];return null!=t&&t.__name__?t:null},f.resolveEnum=function(e){var t=i[e];return null!=t&&t.__ename__?t:null},f.createEmptyInstance=function(e){function t(){}return t.prototype=e.prototype,new t},f.createEnum=function(e,t,r){var i=h.field(e,t);if(null==i)throw new T("No such constructor "+t);if(h.isFunction(i)){if(null==r)throw new T("Constructor "+t+" need parameters");return h.callMethod(e,i,r)}if(null!=r&&0!=r.length)throw new T("Constructor "+t+" does not need parameters");return i},f.getEnumConstructs=function(e){return e.__constructs__.slice()},f.typeof=function(e){switch(typeof e){case"boolean":return v.TBool;case"string":return v.TClass(String);case"number":return Math.ceil(e)==e%2147483648?v.TInt:v.TFloat;case"object":if(null==e)return v.TNull;var t=e.__enum__;if(null!=t)return v.TEnum(t);var r=W.getClass(e);return null!=r?v.TClass(r):v.TObject;case"function":return e.__name__||e.__ename__?v.TObject:v.TFunction;case"undefined":return v.TNull;default:return v.TUnknown}};var p=function(){};i["haxe.IMap"]=p,p.__name__=["haxe","IMap"];var m=function(e,t){this.high=e,this.low=t};i["haxe._Int64.___Int64"]=m,m.__name__=["haxe","_Int64","___Int64"],m.prototype={__class__:m};var g=function(){this.buf=new u,this.cache=[],this.useCache=g.USE_CACHE,this.useEnumIndex=g.USE_ENUM_INDEX,this.shash=new C,this.scount=0};i["haxe.Serializer"]=g,g.__name__=["haxe","Serializer"],g.prototype={toString:function(){return this.buf.b},serializeString:function(e){var t=this.shash.get(e);if(null!=t)return this.buf.b+="R",void(this.buf.b+=null==t?"null":""+t);this.shash.set(e,this.scount++),this.buf.b+="y",null==(e=encodeURIComponent(e)).length?this.buf.b+="null":this.buf.b+=""+e.length,this.buf.b+=":",this.buf.b+=null==e?"null":""+e},serializeRef:function(e){for(var t=typeof e,r=0,i=this.cache.length;r<i;){var o=r++,s=this.cache[o];if(typeof s==t&&s==e)return this.buf.b+="r",this.buf.b+=null==o?"null":""+o,!0}return this.cache.push(e),!1},serializeFields:function(e){for(var t=0,r=h.fields(e);t<r.length;){var i=r[t];++t,this.serializeString(i),this.serialize(h.field(e,i))}this.buf.b+="g"},serialize:function(e){var t=f.typeof(e);switch(t[1]){case 0:this.buf.b+="n";break;case 1:var r=e;if(0==r)return void(this.buf.b+="z");this.buf.b+="i",this.buf.b+=null==r?"null":""+r;break;case 2:var i=e;isNaN(i)?this.buf.b+="k":isFinite(i)?(this.buf.b+="d",this.buf.b+=null==i?"null":""+i):this.buf.b+=i<0?"m":"p";break;case 3:this.buf.b+=e?"t":"f";break;case 6:var o=t[2];if(o==String)return void this.serializeString(e);if(this.useCache&&this.serializeRef(e))return;switch(o){case Array:var s=0;this.buf.b+="a";for(var n=e.length,a=0;a<n;){var d=a++;null==e[d]?s++:(s>0&&(1==s?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==s?"null":""+s),s=0),this.serialize(e[d]))}s>0&&(1==s?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==s?"null":""+s)),this.buf.b+="h";break;case c:this.buf.b+="l";for(var v=e.h,p=null;null!=v;){var m;p=v[0],v=v[1],m=p,this.serialize(m)}this.buf.b+="h";break;case Date:var b=e;this.buf.b+="v",this.buf.add(b.getTime());break;case C:this.buf.b+="b";for(var P=e,x=P.keys();x.hasNext();){var w=x.next();this.serializeString(w),this.serialize(null!=pt[w]?P.getReserved(w):P.h[w])}this.buf.b+="h";break;case k:this.buf.b+="q";for(var S=e,M=S.keys();M.hasNext();){var D=M.next();this.buf.b+=":",this.buf.b+=null==D?"null":""+D,this.serialize(S.h[D])}this.buf.b+="h";break;case _:this.buf.b+="M";for(var E=e,O=E.keys();O.hasNext();){var A=O.next(),L=h.field(A,"__id__");h.deleteField(A,"__id__"),this.serialize(A),A.__id__=L,this.serialize(E.h[A.__id__])}this.buf.b+="h";break;case y:for(var F=e,I=0,R=F.length-2,B=new u,N=g.BASE64;I<R;){var U=F.get(I++),j=F.get(I++),z=F.get(I++);B.add(N.charAt(U>>2)),B.add(N.charAt(63&(U<<4|j>>4))),B.add(N.charAt(63&(j<<2|z>>6))),B.add(N.charAt(63&z))}if(I==R){var V=F.get(I++),H=F.get(I++);B.add(N.charAt(V>>2)),B.add(N.charAt(63&(V<<4|H>>4))),B.add(N.charAt(H<<2&63))}else if(I==R+1){var q=F.get(I++);B.add(N.charAt(q>>2)),B.add(N.charAt(q<<4&63))}var G=B.b;this.buf.b+="s",null==G.length?this.buf.b+="null":this.buf.b+=""+G.length,this.buf.b+=":",this.buf.b+=null==G?"null":""+G;break;default:this.useCache&&this.cache.pop(),null!=e.hxSerialize?(this.buf.b+="C",this.serializeString(f.getClassName(o)),this.useCache&&this.cache.push(e),e.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(f.getClassName(o)),this.useCache&&this.cache.push(e),this.serializeFields(e))}break;case 4:if(W.__instanceof(e,vt)){var Y=f.getClassName(e);this.buf.b+="A",this.serializeString(Y)}else if(W.__instanceof(e,ft))this.buf.b+="B",this.serializeString(f.getEnumName(e));else{if(this.useCache&&this.serializeRef(e))return;this.buf.b+="o",this.serializeFields(e)}break;case 7:var X=t[2];if(this.useCache){if(this.serializeRef(e))return;this.cache.pop()}this.useEnumIndex?this.buf.b+="j":this.buf.b+="w",this.serializeString(f.getEnumName(X)),this.useEnumIndex?(this.buf.b+=":",this.buf.b+=l.string(e[1])):this.serializeString(e[0]),this.buf.b+=":";var Z=e.length;this.buf.b+=l.string(Z-2);for(var $=2;$<Z;){var K=$++;this.serialize(e[K])}this.useCache&&this.cache.push(e);break;case 5:throw new T("Cannot serialize function");default:throw new T("Cannot serialize "+l.string(e))}},__class__:g};var b=function(e){this.buf=e,this.length=e.length,this.pos=0,this.scache=[],this.cache=[];var t=b.DEFAULT_RESOLVER;null==t&&(t=f,b.DEFAULT_RESOLVER=t),this.setResolver(t)};i["haxe.Unserializer"]=b,b.__name__=["haxe","Unserializer"],b.initCodes=function(){for(var e=[],t=0,r=b.BASE64.length;t<r;){var i=t++;e[b.BASE64.charCodeAt(i)]=i}return e},b.prototype={setResolver:function(e){this.resolver=null==e?{resolveClass:function(e){return null},resolveEnum:function(e){return null}}:e},get:function(e){return this.buf.charCodeAt(e)},readDigits:function(){for(var e=0,t=!1,r=this.pos;;){var i=this.buf.charCodeAt(this.pos);if(i!=i)break;if(45!=i){if(i<48||i>57)break;e=10*e+(i-48),this.pos++}else{if(this.pos!=r)break;t=!0,this.pos++}}return t&&(e*=-1),e},readFloat:function(){for(var e=this.pos;;){var t=this.buf.charCodeAt(this.pos);if(!(t>=43&&t<58||101==t||69==t))break;this.pos++}return l.parseFloat(n.substr(this.buf,e,this.pos-e))},unserializeObject:function(e){for(;;){if(this.pos>=this.length)throw new T("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var t=this.unserialize();if("string"!=typeof t)throw new T("Invalid object key");var r=this.unserialize();e[t]=r}this.pos++},unserializeEnum:function(e,t){if(58!=this.get(this.pos++))throw new T("Invalid enum format");var r=this.readDigits();if(0==r)return f.createEnum(e,t);for(var i=[];r-- >0;)i.push(this.unserialize());return f.createEnum(e,t,i)},unserialize:function(){switch(this.get(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:return this.readFloat();case 121:var e=this.readDigits();if(58!=this.get(this.pos++)||this.length-this.pos<e)throw new T("Invalid string length");var t=n.substr(this.buf,this.pos,e);return this.pos+=e,t=decodeURIComponent(t.split("+").join(" ")),this.scache.push(t),t;case 107:return NaN;case 109:return-1/0;case 112:return 1/0;case 97:this.buf;var r=[];for(this.cache.push(r);;){var i=this.buf.charCodeAt(this.pos);if(104==i){this.pos++;break}if(117==i){this.pos++;var o=this.readDigits();r[r.length+o-1]=null}else r.push(this.unserialize())}return r;case 111:var s={};return this.cache.push(s),this.unserializeObject(s),s;case 114:var a=this.readDigits();if(a<0||a>=this.cache.length)throw new T("Invalid reference");return this.cache[a];case 82:var h=this.readDigits();if(h<0||h>=this.scache.length)throw new T("Invalid string reference");return this.scache[h];case 120:throw new T(this.unserialize());case 99:var l=this.unserialize(),u=this.resolver.resolveClass(l);if(null==u)throw new T("Class not found "+l);var v=f.createEmptyInstance(u);return this.cache.push(v),this.unserializeObject(v),v;case 119:var p=this.unserialize(),m=this.resolver.resolveEnum(p);if(null==m)throw new T("Enum not found "+p);var g=this.unserializeEnum(m,this.unserialize());return this.cache.push(g),g;case 106:var P=this.unserialize(),x=this.resolver.resolveEnum(P);if(null==x)throw new T("Enum not found "+P);this.pos++;var w=this.readDigits(),W=f.getEnumConstructs(x)[w];if(null==W)throw new T("Unknown enum index "+P+"@"+w);var S=this.unserializeEnum(x,W);return this.cache.push(S),S;case 108:var M=new c;for(this.cache.push(M),this.buf;104!=this.buf.charCodeAt(this.pos);)M.add(this.unserialize());return this.pos++,M;case 98:var D=new C;for(this.cache.push(D),this.buf;104!=this.buf.charCodeAt(this.pos);){var E=this.unserialize();D.set(E,this.unserialize())}return this.pos++,D;case 113:var O=new k;this.cache.push(O),this.buf;for(var A=this.get(this.pos++);58==A;){var L=this.readDigits();O.set(L,this.unserialize()),A=this.get(this.pos++)}if(104!=A)throw new T("Invalid IntMap format");return O;case 77:var F=new _;for(this.cache.push(F),this.buf;104!=this.buf.charCodeAt(this.pos);){var I=this.unserialize();F.set(I,this.unserialize())}return this.pos++,F;case 118:var R;if(this.buf.charCodeAt(this.pos)>=48&&this.buf.charCodeAt(this.pos)<=57&&this.buf.charCodeAt(this.pos+1)>=48&&this.buf.charCodeAt(this.pos+1)<=57&&this.buf.charCodeAt(this.pos+2)>=48&&this.buf.charCodeAt(this.pos+2)<=57&&this.buf.charCodeAt(this.pos+3)>=48&&this.buf.charCodeAt(this.pos+3)<=57&&45==this.buf.charCodeAt(this.pos+4)){var B=n.substr(this.buf,this.pos,19);R=n.strDate(B),this.pos+=19}else{var N=this.readFloat(),U=new Date;U.setTime(N),R=U}return this.cache.push(R),R;case 115:var j=this.readDigits(),z=this.buf;if(58!=this.get(this.pos++)||this.length-this.pos<j)throw new T("Invalid bytes length");var V=b.CODES;null==V&&(V=b.initCodes(),b.CODES=V);var H,q=this.pos,G=3&j;H=3*(j>>2)+(G>=2?G-1:0);for(var Y=q+(j-G),X=y.alloc(H),Z=0;q<Y;){var $=V[d.fastCodeAt(z,q++)],K=V[d.fastCodeAt(z,q++)];X.set(Z++,$<<2|K>>4);var J=V[d.fastCodeAt(z,q++)];X.set(Z++,K<<4|J>>2);var Q=V[d.fastCodeAt(z,q++)];X.set(Z++,J<<6|Q)}if(G>=2){var ee=V[d.fastCodeAt(z,q++)],te=V[d.fastCodeAt(z,q++)];if(X.set(Z++,ee<<2|te>>4),3==G){var re=V[d.fastCodeAt(z,q++)];X.set(Z++,te<<4|re>>2)}}return this.pos+=j,this.cache.push(X),X;case 67:var ie=this.unserialize(),oe=this.resolver.resolveClass(ie);if(null==oe)throw new T("Class not found "+ie);var se=f.createEmptyInstance(oe);if(this.cache.push(se),se.hxUnserialize(this),103!=this.get(this.pos++))throw new T("Invalid custom data");return se;case 65:var ne=this.unserialize(),ae=this.resolver.resolveClass(ne);if(null==ae)throw new T("Class not found "+ne);return ae;case 66:var ce=this.unserialize(),he=this.resolver.resolveEnum(ce);if(null==he)throw new T("Enum not found "+ce);return he}throw this.pos--,new T("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:b};var k=function(){this.h={}};i["haxe.ds.IntMap"]=k,k.__name__=["haxe","ds","IntMap"],k.__interfaces__=[p],k.prototype={set:function(e,t){this.h[e]=t},remove:function(e){return!!this.h.hasOwnProperty(e)&&(delete this.h[e],!0)},keys:function(){var e=[];for(var t in this.h)this.h.hasOwnProperty(t)&&e.push(0|t);return n.iter(e)},__class__:k};var _=function(){this.h={},this.h.__keys__={}};i["haxe.ds.ObjectMap"]=_,_.__name__=["haxe","ds","ObjectMap"],_.__interfaces__=[p],_.prototype={set:function(e,t){var r=e.__id__||(e.__id__=++_.count);this.h[r]=t,this.h.__keys__[r]=e},keys:function(){var e=[];for(var t in this.h.__keys__)this.h.hasOwnProperty(t)&&e.push(this.h.__keys__[t]);return n.iter(e)},__class__:_};var P=i["haxe.ds.Option"]={__ename__:["haxe","ds","Option"],__constructs__:["Some","None"]};P.Some=function(e){var t=["Some",0,e];return t.__enum__=P,t.toString=o,t},P.None=["None",1],P.None.toString=o,P.None.__enum__=P;var C=function(){this.h={}};i["haxe.ds.StringMap"]=C,C.__name__=["haxe","ds","StringMap"],C.__interfaces__=[p],C.prototype={set:function(e,t){null!=pt[e]?this.setReserved(e,t):this.h[e]=t},get:function(e){return null!=pt[e]?this.getReserved(e):this.h[e]},setReserved:function(e,t){null==this.rh&&(this.rh={}),this.rh["$"+e]=t},getReserved:function(e){return null==this.rh?null:this.rh["$"+e]},keys:function(){var e=this.arrayKeys();return n.iter(e)},arrayKeys:function(){var e=[];for(var t in this.h)this.h.hasOwnProperty(t)&&e.push(t);if(null!=this.rh)for(var t in this.rh)36==t.charCodeAt(0)&&e.push(t.substr(1));return e},__class__:C};var y=function(e){this.length=e.byteLength,this.b=new gt(e),this.b.bufferValue=e,e.hxBytes=this,e.bytes=this.b};i["haxe.io.Bytes"]=y,y.__name__=["haxe","io","Bytes"],y.alloc=function(e){return new y(new mt(e))},y.prototype={get:function(e){return this.b[e]},set:function(e,t){this.b[e]=255&t},__class__:y};var x=i["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};x.Blocked=["Blocked",0],x.Blocked.toString=o,x.Blocked.__enum__=x,x.Overflow=["Overflow",1],x.Overflow.toString=o,x.Overflow.__enum__=x,x.OutsideBounds=["OutsideBounds",2],x.OutsideBounds.toString=o,x.OutsideBounds.__enum__=x,x.Custom=function(e){var t=["Custom",3,e];return t.__enum__=x,t.toString=o,t};var w=function(){};i["haxe.io.FPHelper"]=w,w.__name__=["haxe","io","FPHelper"],w.i32ToFloat=function(e){var t=e>>>23&255,r=8388607&e;return 0==r&&0==t?0:(1-(e>>>31<<1))*(1+Math.pow(2,-23)*r)*Math.pow(2,t-127)},w.floatToI32=function(e){if(0==e)return 0;var t;t=e<0?-e:e;var r=Math.floor(Math.log(t)/.6931471805599453);return r<-127?r=-127:r>128&&(r=128),(e<0?-2147483648:0)|r+127<<23|8388607&Math.round(8388608*(t/Math.pow(2,r)-1))},w.i64ToDouble=function(e,t){var r=(t>>20&2047)-1023,i=4294967296*(1048575&t)+2147483648*(e>>>31)+(2147483647&e);return 0==i&&-1023==r?0:(1-(t>>>31<<1))*(1+Math.pow(2,-52)*i)*Math.pow(2,r)},w.doubleToI64=function(e){var t=w.i64tmp;if(0==e)t.low=0,t.high=0;else{var r;r=e<0?-e:e;var i,o=Math.floor(Math.log(r)/.6931471805599453),s=4503599627370496*(r/Math.pow(2,o)-1),n=0|(i=Math.round(s)),a=i/4294967296|0;t.low=n,t.high=(e<0?-2147483648:0)|o+1023<<20|a}return t};var T=function(e){Error.call(this),this.val=e,this.message=String(e),Error.captureStackTrace&&Error.captureStackTrace(this,T)};i["js._Boot.HaxeError"]=T,T.__name__=["js","_Boot","HaxeError"],T.__super__=Error,T.prototype=s(Error.prototype,{__class__:T});var W=function(){};i["js.Boot"]=W,W.__name__=["js","Boot"],W.getClass=function(e){if(e instanceof Array&&null==e.__enum__)return Array;var t=e.__class__;if(null!=t)return t;var r=W.__nativeClassName(e);return null!=r?W.__resolveNativeClass(r):null},W.__string_rec=function(e,t){if(null==e)return"null";if(t.length>=5)return"<...>";var r=typeof e;switch("function"==r&&(e.__name__||e.__ename__)&&(r="object"),r){case"object":if(e instanceof Array){if(e.__enum__){if(2==e.length)return e[0];var i=e[0]+"(";t+="\t";for(var o=2,s=e.length;o<s;){var n=o++;i+=2!=n?","+W.__string_rec(e[n],t):W.__string_rec(e[n],t)}return i+")"}var a=e.length,c="[";t+="\t";for(var h=0;h<a;){var l=h++;c+=(l>0?",":"")+W.__string_rec(e[l],t)}return c+"]"}var u;try{u=e.toString}catch(e){return e instanceof T&&(e=e.val),"???"}if(null!=u&&u!=Object.toString&&"function"==typeof u){var d=e.toString();if("[object Object]"!=d)return d}var v=null,f="{\n";t+="\t";var p=null!=e.hasOwnProperty;for(var v in e)p&&!e.hasOwnProperty(v)||"prototype"!=v&&"__class__"!=v&&"__super__"!=v&&"__interfaces__"!=v&&"__properties__"!=v&&(2!=f.length&&(f+=", \n"),f+=t+v+" : "+W.__string_rec(e[v],t));return f+"\n"+(t=t.substring(1))+"}";case"function":return"<function>";case"string":return e;default:return String(e)}},W.__interfLoop=function(e,t){if(null==e)return!1;if(e==t)return!0;var r=e.__interfaces__;if(null!=r)for(var i=0,o=r.length;i<o;){var s=r[i++];if(s==t||W.__interfLoop(s,t))return!0}return W.__interfLoop(e.__super__,t)},W.__instanceof=function(e,t){if(null==t)return!1;switch(t){case ht:return(0|e)===e;case ut:return"number"==typeof e;case dt:return"boolean"==typeof e;case String:return"string"==typeof e;case Array:return e instanceof Array&&null==e.__enum__;case lt:return!0;default:if(null==e)return!1;if("function"==typeof t){if(e instanceof t)return!0;if(W.__interfLoop(W.getClass(e),t))return!0}else if("object"==typeof t&&W.__isNativeObj(t)&&e instanceof t)return!0;return t==vt&&null!=e.__name__||t==ft&&null!=e.__ename__||e.__enum__==t}},W.__nativeClassName=function(e){var t=W.__toStr.call(e).slice(8,-1);return"Object"==t||"Function"==t||"Math"==t||"JSON"==t?null:t},W.__isNativeObj=function(e){return null!=W.__nativeClassName(e)},W.__resolveNativeClass=function(e){return r[e]};var S=function(e){if(e instanceof Array&&null==e.__enum__)this.a=e,this.byteLength=e.length;else{var t=e;this.a=[];for(var r=0;r<t;){var i=r++;this.a[i]=0}this.byteLength=t}};i["js.html.compat.ArrayBuffer"]=S,S.__name__=["js","html","compat","ArrayBuffer"],S.sliceImpl=function(e,t){var r=new gt(this,e,null==t?null:t-e),i=new mt(r.byteLength);return new gt(i).set(r),i},S.prototype={slice:function(e,t){return new S(this.a.slice(e,t))},__class__:S};var M=function(e,t,r){if(this.buf=e,this.offset=null==t?0:t,this.length=null==r?e.byteLength-this.offset:r,this.offset<0||this.length<0||this.offset+this.length>e.byteLength)throw new T(x.OutsideBounds)};i["js.html.compat.DataView"]=M,M.__name__=["js","html","compat","DataView"],M.prototype={getInt8:function(e){var t=this.buf.a[this.offset+e];return t>=128?t-256:t},getUint8:function(e){return this.buf.a[this.offset+e]},getInt16:function(e,t){var r=this.getUint16(e,t);return r>=32768?r-65536:r},getUint16:function(e,t){return t?this.buf.a[this.offset+e]|this.buf.a[this.offset+e+1]<<8:this.buf.a[this.offset+e]<<8|this.buf.a[this.offset+e+1]},getInt32:function(e,t){var r=this.offset+e,i=this.buf.a[r++],o=this.buf.a[r++],s=this.buf.a[r++],n=this.buf.a[r++];return t?i|o<<8|s<<16|n<<24:n|s<<8|o<<16|i<<24},getUint32:function(e,t){var r=this.getInt32(e,t);return r<0?r+4294967296:r},getFloat32:function(e,t){return w.i32ToFloat(this.getInt32(e,t))},getFloat64:function(e,t){var r=this.getInt32(e,t),i=this.getInt32(e+4,t);return w.i64ToDouble(t?r:i,t?i:r)},setInt8:function(e,t){this.buf.a[e+this.offset]=t<0?t+128&255:255&t},setUint8:function(e,t){this.buf.a[e+this.offset]=255&t},setInt16:function(e,t,r){this.setUint16(e,t<0?t+65536:t,r)},setUint16:function(e,t,r){var i=e+this.offset;r?(this.buf.a[i]=255&t,this.buf.a[i++]=t>>8&255):(this.buf.a[i++]=t>>8&255,this.buf.a[i]=255&t)},setInt32:function(e,t,r){this.setUint32(e,t,r)},setUint32:function(e,t,r){var i=e+this.offset;r?(this.buf.a[i++]=255&t,this.buf.a[i++]=t>>8&255,this.buf.a[i++]=t>>16&255,this.buf.a[i++]=t>>>24):(this.buf.a[i++]=t>>>24,this.buf.a[i++]=t>>16&255,this.buf.a[i++]=t>>8&255,this.buf.a[i++]=255&t)},setFloat32:function(e,t,r){this.setUint32(e,w.floatToI32(t),r)},setFloat64:function(e,t,r){var i=w.doubleToI64(t);r?(this.setUint32(e,i.low),this.setUint32(e,i.high)):(this.setUint32(e,i.high),this.setUint32(e,i.low))},__class__:M};var D=function(){};i["js.html.compat.Uint8Array"]=D,D.__name__=["js","html","compat","Uint8Array"],D._new=function(e,t,r){var i;if("number"==typeof e){i=[];for(var o=0;o<e;)i[o++]=0;i.byteLength=i.length,i.byteOffset=0,i.buffer=new S(i)}else if(W.__instanceof(e,S)){var s=e;null==t&&(t=0),null==r&&(r=s.byteLength-t),(i=0==t?s.a:s.a.slice(t,t+r)).byteLength=i.length,i.byteOffset=t,i.buffer=s}else{if(!(e instanceof Array&&null==e.__enum__))throw new T("TODO "+l.string(e));(i=e.slice()).byteLength=i.length,i.byteOffset=0,i.buffer=new S(i)}return i.subarray=D._subarray,i.set=D._set,i},D._set=function(e,t){var r=this;if(W.__instanceof(e.buffer,S)){var i=e;if(e.byteLength+t>r.byteLength)throw new T("set() outside of range");for(var o=0,s=e.byteLength;o<s;){var n=o++;r[n+t]=i[n]}}else{if(!(e instanceof Array&&null==e.__enum__))throw new T("TODO");var a=e;if(a.length+t>r.byteLength)throw new T("set() outside of range");for(var c=0,h=a.length;c<h;){var l=c++;r[l+t]=a[l]}}},D._subarray=function(e,t){var r=D._new(this.slice(e,t));return r.byteOffset=e,r};var E=function(e){this._resolved=!1,this._pending=!1,this._errorPending=!1,this._fulfilled=!1,this._update=[],this._error=[],this._errored=!1,null!=e&&E.link(e,this,function(e){return e})};i["promhx.base.AsyncBase"]=E,E.__name__=["promhx","base","AsyncBase"],E.link=function(e,t,r){e._update.push({async:t,linkf:function(e){t.handleResolve(r(e))}}),E.immediateLinkUpdate(e,t,r)},E.immediateLinkUpdate=function(e,t,r){if(!e._errored||e._errorPending||e._error.length>0||t.handleError(e._errorVal),e._resolved&&!e._pending)try{t.handleResolve(r(e._val))}catch(e){e instanceof T&&(e=e.val),t.handleError(e)}},E.linkAll=function(e,t){for(var r=function(r,i,o){if(0==r.length||E.allFulfilled(r)){for(var s,n=[],a=st(e)();a.hasNext();){var c=a.next();n.push(c==i?o:c._val)}s=n,t.handleResolve(s)}},i=st(e)();i.hasNext();){var o=i.next();o._update.push({async:t,linkf:function(e,t,r){return function(i){e(t,r,i)}}(r,function(){for(var t=[],r=st(e)();r.hasNext();){var i=r.next();i!=o&&t.push(i)}return t}(),o)})}E.allFulfilled(e)&&t.handleResolve(function(){for(var t=[],r=st(e)();r.hasNext();){var i=r.next();t.push(i._val)}return t}())},E.pipeLink=function(e,t,r){var i=!1,o=function(e){if(!i){i=!0;var o=r(e);o._update.push({async:t,linkf:ct(t,t.handleResolve)}),E.immediateLinkUpdate(o,t,function(e){return e})}};if(e._update.push({async:t,linkf:o}),e._resolved&&!e._pending)try{o(e._val)}catch(e){e instanceof T&&(e=e.val),t.handleError(e)}},E.allResolved=function(e){for(var t=st(e)();t.hasNext();)if(!t.next()._resolved)return!1;return!0},E.allFulfilled=function(e){for(var t=st(e)();t.hasNext();)if(!t.next()._fulfilled)return!1;return!0},E.prototype={catchError:function(e){return this._error.push(e),this},errorThen:function(e){return this._errorMap=e,this},isResolved:function(){return this._resolved},isErrored:function(){return this._errored},isErrorHandled:function(){return this._error.length>0},isErrorPending:function(){return this._errorPending},isFulfilled:function(){return this._fulfilled},isPending:function(){return this._pending},handleResolve:function(e){this._resolve(e)},_resolve:function(e){var t,r,i=this;this._pending?I.enqueue((t=ct(this,this._resolve),r=e,function(){t(r)})):(this._resolved=!0,this._pending=!0,I.queue.add(function(){i._val=e;for(var t=0,r=i._update;t<r.length;){var o=r[t];++t;try{o.linkf(e)}catch(e){e instanceof T&&(e=e.val),o.async.handleError(e)}}i._fulfilled=!0,i._pending=!1}),I.continueOnNextLoop())},handleError:function(e){this._handleError(e)},_handleError:function(e){var t=this,r=function(e){if(t._error.length>0)for(var r=0,i=t._error;r<i.length;){var o=i[r];++r,o(e)}else{if(!(t._update.length>0))throw new T(e);for(var s=0,n=t._update;s<n.length;){var a=n[s];++s,a.async.handleError(e)}}t._errorPending=!1};this._errorPending||(this._errorPending=!0,this._errored=!0,this._errorVal=e,I.queue.add(function(){if(null!=t._errorMap)try{t._resolve(t._errorMap(e))}catch(e){e instanceof T&&(e=e.val),r(e)}else r(e)}),I.continueOnNextLoop())},then:function(e){var t=new E(null);return E.link(this,t,e),t},unlink:function(e){var t=this;I.queue.add(function(){t._update=t._update.filter(function(t){return t.async!=e})}),I.continueOnNextLoop()},isLinked:function(e){for(var t=0,r=this._update;t<r.length;){var i=r[t];if(++t,i.async==e)return!0}return!1},__class__:E};var O=t.promhx.Deferred=function(){E.call(this)};i["promhx.Deferred"]=O,O.__name__=["promhx","Deferred"],O.__super__=E,O.prototype=s(E.prototype,{resolve:function(e){this.handleResolve(e)},throwError:function(e){this.handleError(e)},promise:function(){return new A(this)},stream:function(){return new L(this)},publicStream:function(){return new F(this)},__class__:O});var A=t.promhx.Promise=function(e){E.call(this,e),this._rejected=!1};i["promhx.Promise"]=A,A.__name__=["promhx","Promise"],A.whenAll=function(e){var t=new A(null);return E.linkAll(e,t),t},A.promise=function(e){var t=new A;return t.handleResolve(e),t},A.__super__=E,A.prototype=s(E.prototype,{isRejected:function(){return this._rejected},reject:function(e){this._rejected=!0,this.handleError(e)},handleResolve:function(e){if(this._resolved){throw new T(R.AlreadyResolved("Promise has already been resolved"))}this._resolve(e)},then:function(e){var t=new A(null);return E.link(this,t,e),t},unlink:function(e){var t=this;I.queue.add(function(){if(t._fulfilled)t._update=t._update.filter(function(t){return t.async!=e});else{t.handleError(R.DownstreamNotFullfilled("Downstream Promise is not fullfilled"))}}),I.continueOnNextLoop()},handleError:function(e){this._rejected=!0,this._handleError(e)},pipe:function(e){var t=new A(null);return E.pipeLink(this,t,e),t},errorPipe:function(e){var t=new A;return this.catchError(function(r){e(r).then(ct(t,t._resolve))}),this.then(ct(t,t._resolve)),t},__class__:A});var L=t.promhx.Stream=function(e){E.call(this,e),this._end_promise=new A};i["promhx.Stream"]=L,L.__name__=["promhx","Stream"],L.foreach=function(e){for(var t=new L(null),r=st(e)();r.hasNext();){var i=r.next();t.handleResolve(i)}return t.end(),t},L.wheneverAll=function(e){var t=new L(null);return E.linkAll(e,t),t},L.concatAll=function(e){for(var t=new L(null),r=st(e)();r.hasNext();){var i=r.next();t.concat(i)}return t},L.mergeAll=function(e){for(var t=new L(null),r=st(e)();r.hasNext();){var i=r.next();t.merge(i)}return t},L.stream=function(e){var t=new L(null);return t.handleResolve(e),t},L.__super__=E,L.prototype=s(E.prototype,{then:function(e){var t=new L(null);return E.link(this,t,e),this._end_promise._update.push({async:t._end_promise,linkf:function(e){t.end()}}),t},detachStream:function(e){for(var t=[],r=!1,i=0,o=this._update;i<o.length;){var s=o[i];++i,s.async==e?(this._end_promise._update=this._end_promise._update.filter(function(t){return t.async!=e._end_promise}),r=!0):t.push(s)}return this._update=t,r},first:function(){var e=new A(null);return this.then(function(t){e._resolved||e.handleResolve(t)}),e},handleResolve:function(e){this._end||this._pause||this._resolve(e)},pause:function(e){null==e&&(e=!this._pause),this._pause=e},pipe:function(e){var t=new L(null);return E.pipeLink(this,t,e),this._end_promise.then(function(e){t.end()}),t},errorPipe:function(e){var t=new L(null);return this.catchError(function(r){var i=e(r);i.then(ct(t,t._resolve)),i._end_promise.then(ct(nt=t._end_promise,nt._resolve))}),this.then(ct(t,t._resolve)),this._end_promise.then(function(e){t.end()}),t},handleEnd:function(){if(this._pending)I.queue.add(ct(this,this.handleEnd)),I.continueOnNextLoop();else{if(this._end_promise._resolved)return;var e;this._end=!0,e=this._resolved?P.Some(this._val):P.None,this._end_promise.handleResolve(e),this._update=[],this._error=[]}},end:function(){return I.queue.add(ct(this,this.handleEnd)),I.continueOnNextLoop(),this},endThen:function(e){return this._end_promise.then(e)},filter:function(e){var t=new L(null);return this._update.push({async:t,linkf:function(r){e(r)&&t.handleResolve(r)}}),E.immediateLinkUpdate(this,t,function(e){return e}),t},concat:function(e){var t=new L(null);return this._update.push({async:t,linkf:ct(t,t.handleResolve)}),E.immediateLinkUpdate(this,t,function(e){return e}),this._end_promise.then(function(r){e.pipe(function(e){return t.handleResolve(e),t}),e._end_promise.then(function(e){t.end()})}),t},merge:function(e){var t=new L(null);return this._update.push({async:t,linkf:ct(t,t.handleResolve)}),e._update.push({async:t,linkf:ct(t,t.handleResolve)}),E.immediateLinkUpdate(this,t,function(e){return e}),E.immediateLinkUpdate(e,t,function(e){return e}),t},__class__:L});var F=t.promhx.PublicStream=function(e){L.call(this,e)};i["promhx.PublicStream"]=F,F.__name__=["promhx","PublicStream"],F.publicstream=function(e){var t=new F(null);return t.handleResolve(e),t},F.__super__=L,F.prototype=s(L.prototype,{resolve:function(e){this.handleResolve(e)},throwError:function(e){this.handleError(e)},update:function(e){this.handleResolve(e)},__class__:F});var I=function(){};i["promhx.base.EventLoop"]=I,I.__name__=["promhx","base","EventLoop"],I.enqueue=function(e){I.queue.add(e),I.continueOnNextLoop()},I.set_nextLoop=function(e){if(null!=I.nextLoop)throw new T("nextLoop has already been set");return I.nextLoop=e,I.nextLoop},I.queueEmpty=function(){return I.queue.isEmpty()},I.finish=function(e){null==e&&(e=1e3);for(var t=null;e-- >0&&null!=(t=I.queue.pop());)t();return I.queue.isEmpty()},I.clear=function(){I.queue=new c},I.f=function(){var e=I.queue.pop();null!=e&&e(),I.queue.isEmpty()||I.continueOnNextLoop()},I.continueOnNextLoop=function(){null!=I.nextLoop?I.nextLoop(I.f):setImmediate(I.f)};var R=i["promhx.error.PromiseError"]={__ename__:["promhx","error","PromiseError"],__constructs__:["AlreadyResolved","DownstreamNotFullfilled"]};R.AlreadyResolved=function(e){var t=["AlreadyResolved",0,e];return t.__enum__=R,t.toString=o,t},R.DownstreamNotFullfilled=function(e){var t=["DownstreamNotFullfilled",1,e];return t.__enum__=R,t.toString=o,t};var B=function(){};i["verb.Verb"]=B,B.__name__=["verb","Verb"],B.main=function(){e.log("verb 2.1.0")};var N=function(){};i["verb.core.ArrayExtensions"]=N,N.__name__=["verb","core","ArrayExtensions"],N.alloc=function(e,t){if(!(t<0))for(;e.length<t;)e.push(null)},N.reversed=function(e){var t=e.slice();return t.reverse(),t},N.last=function(e){return e[e.length-1]},N.first=function(e){return e[0]},N.spliceAndInsert=function(e,t,r,i){e.splice(t,r),e.splice(t,0,i)},N.left=function(e){if(0==e.length)return[];var t=Math.ceil(e.length/2);return e.slice(0,t)},N.right=function(e){if(0==e.length)return[];var t=Math.ceil(e.length/2);return e.slice(t)},N.rightWithPivot=function(e){if(0==e.length)return[];var t=Math.ceil(e.length/2);return e.slice(t-1)},N.unique=function(e,t){if(0==e.length)return[];for(var r=[e.pop()];e.length>0;){for(var i=e.pop(),o=!0,s=0;s<r.length;){var n=r[s];if(++s,t(i,n)){o=!1;break}}o&&r.push(i)}return r};var U=function(){};i["verb.core.Binomial"]=U,U.__name__=["verb","core","Binomial"],U.get=function(e,t){if(0==t)return 1;if(0==e||t>e)return 0;if(t>e-t&&(t=e-t),U.memo_exists(e,t))return U.get_memo(e,t);for(var r=1,i=e,o=1,s=t+1;o<s;){var n=o++;U.memo_exists(i,n)?(e--,r=U.get_memo(i,n)):(r*=e--,U.memoize(i,n,r/=n))}return r},U.get_no_memo=function(e,t){if(0==t)return 1;if(0==e||t>e)return 0;t>e-t&&(t=e-t);for(var r=1,i=1,o=t+1;i<o;)r*=e--,r/=i++;return r},U.memo_exists=function(e,t){return U.memo.h.hasOwnProperty(e)&&U.memo.h[e].h.hasOwnProperty(t)},U.get_memo=function(e,t){return U.memo.h[e].h[t]},U.memoize=function(e,t,r){U.memo.h.hasOwnProperty(e)||U.memo.set(e,new k),U.memo.h[e].h[t]=r};var j=t.core.BoundingBox=function(e){this.max=null,this.min=null,this.dim=3,this.initialized=!1,null!=e&&this.addRange(e)};i["verb.core.BoundingBox"]=j,j.__name__=["verb","core","BoundingBox"],j.intervalsOverlap=function(e,t,r,i,o){var s;null==o&&(o=-1),s=o<-.5?z.TOLERANCE:o;var n=Math.min(e,t)-s,a=Math.max(e,t)+s,c=Math.min(r,i)-s,h=Math.max(r,i)+s;return n>=c&&n<=h||a>=c&&a<=h||c>=n&&c<=a||h>=n&&h<=a},j.prototype={fromPoint:function(e){return new j([e])},add:function(e){if(!this.initialized)return this.dim=e.length,this.min=e.slice(0),this.max=e.slice(0),this.initialized=!0,this;for(var t=0,r=this.dim;t<r;){var i=t++;e[i]>this.max[i]&&(this.max[i]=e[i]),e[i]<this.min[i]&&(this.min[i]=e[i])}return this},addRange:function(e){for(var t=e.length,r=0;r<t;){var i=r++;this.add(e[i])}return this},contains:function(e,t){return null==t&&(t=-1),!!this.initialized&&this.intersects(new j([e]),t)},intersects:function(e,t){if(null==t&&(t=-1),!this.initialized||!e.initialized)return!1;for(var r=this.min,i=this.max,o=e.min,s=e.max,n=0,a=this.dim;n<a;){var c=n++;if(!j.intervalsOverlap(r[c],i[c],o[c],s[c],t))return!1}return!0},clear:function(){return this.initialized=!1,this},getLongestAxis:function(){for(var e=0,t=0,r=0,i=this.dim;r<i;){var o=r++,s=this.getAxisLength(o);s>e&&(e=s,t=o)}return t},getAxisLength:function(e){return e<0||e>this.dim-1?0:Math.abs(this.min[e]-this.max[e])},intersect:function(e,t){if(!this.initialized)return null;var r=this.min,i=this.max,o=e.min,s=e.max;if(!this.intersects(e,t))return null;for(var n=[],a=[],c=0,h=this.dim;c<h;){var l=c++;n.push(Math.min(i[l],s[l])),a.push(Math.max(r[l],o[l]))}return new j([a,n])},__class__:j};var z=t.core.Constants=function(){};i["verb.core.Constants"]=z,z.__name__=["verb","core","Constants"];var V=t.core.SerializableBase=function(){};i["verb.core.SerializableBase"]=V,V.__name__=["verb","core","SerializableBase"],V.prototype={serialize:function(){var e=new g;return e.serialize(this),e.toString()},__class__:V};var H=t.core.Plane=function(e,t){this.origin=e,this.normal=t};i["verb.core.Plane"]=H,H.__name__=["verb","core","Plane"],H.__super__=V,H.prototype=s(V.prototype,{__class__:H});var q=t.core.Ray=function(e,t){this.origin=e,this.dir=t};i["verb.core.Ray"]=q,q.__name__=["verb","core","Ray"],q.__super__=V,q.prototype=s(V.prototype,{__class__:q});var G=t.core.NurbsCurveData=function(e,t,r){this.degree=e,this.controlPoints=r,this.knots=t};i["verb.core.NurbsCurveData"]=G,G.__name__=["verb","core","NurbsCurveData"],G.__super__=V,G.prototype=s(V.prototype,{__class__:G});var Y=t.core.NurbsSurfaceData=function(e,t,r,i,o){this.degreeU=e,this.degreeV=t,this.knotsU=r,this.knotsV=i,this.controlPoints=o};i["verb.core.NurbsSurfaceData"]=Y,Y.__name__=["verb","core","NurbsSurfaceData"],Y.__super__=V,Y.prototype=s(V.prototype,{__class__:Y});var X=t.core.MeshData=function(e,t,r,i){this.faces=e,this.points=t,this.normals=r,this.uvs=i};i["verb.core.MeshData"]=X,X.__name__=["verb","core","MeshData"],X.empty=function(){return new X([],[],[],[])},X.__super__=V,X.prototype=s(V.prototype,{__class__:X});var Z=t.core.PolylineData=function(e,t){this.points=e,this.params=t};i["verb.core.PolylineData"]=Z,Z.__name__=["verb","core","PolylineData"],Z.__super__=V,Z.prototype=s(V.prototype,{__class__:Z});var $=t.core.VolumeData=function(e,t,r,i,o,s,n){this.degreeU=e,this.degreeV=t,this.degreeW=r,this.knotsU=i,this.knotsV=o,this.knotsW=s,this.controlPoints=n};i["verb.core.VolumeData"]=$,$.__name__=["verb","core","VolumeData"],$.__super__=V,$.prototype=s(V.prototype,{__class__:$});var K=t.core.Pair=function(e,t){this.item0=e,this.item1=t};i["verb.core.Pair"]=K,K.__name__=["verb","core","Pair"],K.prototype={__class__:K};var J=t.core.Interval=function(e,t){this.min=e,this.max=t};i["verb.core.Interval"]=J,J.__name__=["verb","core","Interval"],J.prototype={__class__:J};var Q=t.core.CurveCurveIntersection=function(e,t,r,i){this.point0=e,this.point1=t,this.u0=r,this.u1=i};i["verb.core.CurveCurveIntersection"]=Q,Q.__name__=["verb","core","CurveCurveIntersection"],Q.prototype={__class__:Q};var ee=t.core.CurveSurfaceIntersection=function(e,t,r,i){this.u=e,this.uv=t,this.curvePoint=r,this.surfacePoint=i};i["verb.core.CurveSurfaceIntersection"]=ee,ee.__name__=["verb","core","CurveSurfaceIntersection"],ee.prototype={__class__:ee};var te=t.core.MeshIntersectionPoint=function(e,t,r,i,o){this.visited=!1,this.adj=null,this.opp=null,this.uv0=e,this.uv1=t,this.point=r,this.faceIndex0,this.faceIndex1};i["verb.core.MeshIntersectionPoint"]=te,te.__name__=["verb","core","MeshIntersectionPoint"],te.prototype={__class__:te};var re=t.core.PolylineMeshIntersection=function(e,t,r,i,o){this.point=e,this.u=t,this.uv=r,this.polylineIndex=i,this.faceIndex=o};i["verb.core.PolylineMeshIntersection"]=re,re.__name__=["verb","core","PolylineMeshIntersection"],re.prototype={__class__:re};var ie=t.core.SurfaceSurfaceIntersectionPoint=function(e,t,r,i){this.uv0=e,this.uv1=t,this.point=r,this.dist=i};i["verb.core.SurfaceSurfaceIntersectionPoint"]=ie,ie.__name__=["verb","core","SurfaceSurfaceIntersectionPoint"],ie.prototype={__class__:ie};var oe=t.core.TriSegmentIntersection=function(e,t,r,i){this.point=e,this.s=t,this.t=r,this.p=i};i["verb.core.TriSegmentIntersection"]=oe,oe.__name__=["verb","core","TriSegmentIntersection"],oe.prototype={__class__:oe};var se=t.core.CurveTriPoint=function(e,t,r){this.u=e,this.point=t,this.uv=r};i["verb.core.CurveTriPoint"]=se,se.__name__=["verb","core","CurveTriPoint"],se.prototype={__class__:se};var ne=function(e,t,r,i,o){null==o&&(o=!1),null==i&&(i=-1),this.uv=r,this.point=e,this.normal=t,this.id=i,this.degen=o};i["verb.core.SurfacePoint"]=ne,ne.__name__=["verb","core","SurfacePoint"],ne.fromUv=function(e,t){return new ne(null,null,[e,t])},ne.prototype={__class__:ne};var ae=t.core.CurvePoint=function(e,t){this.u=e,this.pt=t};i["verb.core.CurvePoint"]=ae,ae.__name__=["verb","core","CurvePoint"],ae.prototype={__class__:ae};var ce=t.core.KdTree=function(e,t){this.dim=3,this.points=e,this.distanceFunction=t,this.dim=e[0].point.length,this.root=this.buildTree(e,0,null)};i["verb.core.KdTree"]=ce,ce.__name__=["verb","core","KdTree"],ce.prototype={buildTree:function(e,t,r){var i,o,s=t%this.dim;return 0==e.length?null:1==e.length?new ue(e[0],s,r):(e.sort(function(e,t){var r=e.point[s]-t.point[s];return 0==r?0:r>0?1:-1}),i=Math.floor(e.length/2),(o=new ue(e[i],s,r)).left=this.buildTree(e.slice(0,i),t+1,o),o.right=this.buildTree(e.slice(i+1),t+1,o),o)},nearest:function(e,t,r){var i,o=this,s=new he(function(e){return-e.item1}),n=null;i=n=function(r){for(var i,a,c,h,l=r.dimension,u=o.distanceFunction(e,r.kdPoint.point),d=[],v=0,f=o.dim;v<f;)v++,d.push(0);a=d;for(var p=function(e,r){s.push(new K(e,r)),s.size()>t&&s.pop()},m=0,g=o.dim;m<g;){var b=m++;b==r.dimension?a[b]=e[b]:a[b]=r.kdPoint.point[b]}c=o.distanceFunction(a,r.kdPoint.point),null!=r.right||null!=r.left?(i=null==r.right?r.left:null==r.left?r.right:e[l]<r.kdPoint.point[l]?r.left:r.right,n(i),(s.size()<t||u<s.peek().item1)&&p(r,u),(s.size()<t||Math.abs(c)<s.peek().item1)&&null!=(h=i==r.left?r.right:r.left)&&n(h)):(s.size()<t||u<s.peek().item1)&&p(r,u)};for(var a=0;a<t;)a++,s.push(new K(null,r));i(this.root);for(var c=[],h=0;h<t;){var l=h++;null!=s.content[l].item0&&c.push(new K(s.content[l].item0.kdPoint,s.content[l].item1))}return c},__class__:ce};var he=function(e){this.content=[],this.scoreFunction=e};i["verb.core.BinaryHeap"]=he,he.__name__=["verb","core","BinaryHeap"],he.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},peek:function(){return this.content[0]},remove:function(e){for(var t=this.content.length,r=0;r<t;){var i=r++;if(this.content[i]==e){var o=this.content.pop();return void(i!=t-1&&(this.content[i]=o,this.scoreFunction(o)<this.scoreFunction(e)?this.bubbleUp(i):this.sinkDown(i)))}}throw new T("Node not found.")},size:function(){return this.content.length},bubbleUp:function(e){for(var t=this.content[e];e>0;){var r=Math.floor((e+1)/2)-1,i=this.content[r];if(!(this.scoreFunction(t)<this.scoreFunction(i)))break;this.content[r]=t,this.content[e]=i,e=r}},sinkDown:function(e){for(var t=this.content.length,r=this.content[e],i=this.scoreFunction(r);;){var o=2*(e+1),s=o-1,n=-1,a=0;if(s<t){var c=this.content[s];(a=this.scoreFunction(c))<i&&(n=s)}if(o<t){var h=this.content[o];this.scoreFunction(h)<(-1==n?i:a)&&(n=o)}if(-1==n)break;this.content[e]=this.content[n],this.content[n]=r,e=n}},__class__:he};var le=t.core.KdPoint=function(e,t){this.point=e,this.obj=t};i["verb.core.KdPoint"]=le,le.__name__=["verb","core","KdPoint"],le.prototype={__class__:le};var ue=t.core.KdNode=function(e,t,r){this.kdPoint=e,this.left=null,this.right=null,this.parent=r,this.dimension=t};i["verb.core.KdNode"]=ue,ue.__name__=["verb","core","KdNode"],ue.prototype={__class__:ue};var de=function(){};i["verb.eval.IBoundingBoxTree"]=de,de.__name__=["verb","eval","IBoundingBoxTree"],de.prototype={__class__:de};var ve=function(e,t){this._boundingBox=null,this._curve=e,null==t&&(t=Te.domain(this._curve.knots)/64),this._knotTol=t};i["verb.core.LazyCurveBoundingBoxTree"]=ve,ve.__name__=["verb","core","LazyCurveBoundingBoxTree"],ve.__interfaces__=[de],ve.prototype={split:function(){var e=N.first(this._curve.knots),t=N.last(this._curve.knots),r=t-e,i=De.curveSplit(this._curve,(t+e)/2+.1*r*Math.random());return new K(new ve(i[0],this._knotTol),new ve(i[1],this._knotTol))},boundingBox:function(){return null==this._boundingBox&&(this._boundingBox=new j(Oe.dehomogenize1d(this._curve.controlPoints))),this._boundingBox},yield:function(){return this._curve},indivisible:function(e){return Te.domain(this._curve.knots)<this._knotTol},empty:function(){return!1},__class__:ve};var fe=function(e,t){if(this._boundingBox=null,this._mesh=e,null==t){for(var r=[],i=0,o=e.faces.length;i<o;){var s=i++;r.push(s)}t=r}this._faceIndices=t};i["verb.core.LazyMeshBoundingBoxTree"]=fe,fe.__name__=["verb","core","LazyMeshBoundingBoxTree"],fe.__interfaces__=[de],fe.prototype={split:function(){var e=ke.sortTrianglesOnLongestAxis(this.boundingBox(),this._mesh,this._faceIndices),t=N.left(e),r=N.right(e);return new K(new fe(this._mesh,t),new fe(this._mesh,r))},boundingBox:function(){return null==this._boundingBox&&(this._boundingBox=ke.makeMeshAabb(this._mesh,this._faceIndices)),this._boundingBox},yield:function(){return this._faceIndices[0]},indivisible:function(e){return 1==this._faceIndices.length},empty:function(){return 0==this._faceIndices.length},__class__:fe};var pe=function(e,t){this._boundingBox=null,this._polyline=e,null==t&&(t=new J(0,0!=e.points.length?e.points.length-1:0)),this._interval=t};i["verb.core.LazyPolylineBoundingBoxTree"]=pe,pe.__name__=["verb","core","LazyPolylineBoundingBoxTree"],pe.__interfaces__=[de],pe.prototype={split:function(){var e=this._interval.min,t=this._interval.max,r=e+Math.ceil((t-e)/2),i=new J(e,r),o=new J(r,t);return new K(new pe(this._polyline,i),new pe(this._polyline,o))},boundingBox:function(){return null==this._boundingBox&&(this._boundingBox=new j(this._polyline.points)),this._boundingBox},yield:function(){return this._interval.min},indivisible:function(e){return this._interval.max-this._interval.min==1},empty:function(){return this._interval.max-this._interval.min==0},__class__:pe};var me=function(e,t,r,i){null==t&&(t=!1),this._boundingBox=null,this._surface=e,this._splitV=t,null==r&&(r=Te.domain(e.knotsU)/16),null==i&&(i=Te.domain(e.knotsV)/16),this._knotTolU=r,this._knotTolV=i};i["verb.core.LazySurfaceBoundingBoxTree"]=me,me.__name__=["verb","core","LazySurfaceBoundingBoxTree"],me.__interfaces__=[de],me.prototype={split:function(){var e,t;this._splitV?(e=N.first(this._surface.knotsV),t=N.last(this._surface.knotsV)):(e=N.first(this._surface.knotsU),t=N.last(this._surface.knotsU));var r=(e+t)/2,i=De.surfaceSplit(this._surface,r,this._splitV);return new K(new me(i[0],!this._splitV,this._knotTolU,this._knotTolV),new me(i[1],!this._splitV,this._knotTolU,this._knotTolV))},boundingBox:function(){if(null==this._boundingBox){this._boundingBox=new j;for(var e=0,t=this._surface.controlPoints;e<t.length;){var r=t[e];++e,this._boundingBox.addRange(Oe.dehomogenize1d(r))}}return this._boundingBox},yield:function(){return this._surface},indivisible:function(e){return Te.domain(this._surface.knotsV)<this._knotTolV&&Te.domain(this._surface.knotsU)<this._knotTolU},empty:function(){return!1},__class__:me};var ge=t.core.Mat=function(){};i["verb.core.Mat"]=ge,ge.__name__=["verb","core","Mat"],ge.mul=function(e,t){for(var r=[],i=0,o=t.length;i<o;){var s=i++;r.push(Te.mul(e,t[s]))}return r},ge.mult=function(e,t){var r,i,o,s,n,a,c,h;r=e.length,i=t.length,o=t[0].length,s=[];for(var l=r-1,u=0,d=0;l>=0;){for(n=[],a=e[l],d=o-1;d>=0;){for(c=a[i-1]*t[i-1][d],u=i-2;u>=1;)h=u-1,c+=a[u]*t[u][d]+a[h]*t[h][d],u-=2;0==u&&(c+=a[0]*t[0][d]),n[d]=c,d--}s[l]=n,l--}return s},ge.add=function(e,t){for(var r=[],i=0,o=e.length;i<o;){var s=i++;r.push(Te.add(e[s],t[s]))}return r},ge.div=function(e,t){for(var r=[],i=0,o=e.length;i<o;){var s=i++;r.push(Te.div(e[s],t))}return r},ge.sub=function(e,t){for(var r=[],i=0,o=e.length;i<o;){var s=i++;r.push(Te.sub(e[s],t[s]))}return r},ge.dot=function(e,t){for(var r=[],i=0,o=e.length;i<o;){var s=i++;r.push(Te.dot(e[s],t))}return r},ge.identity=function(e){for(var t=Te.zeros2d(e,e),r=0;r<e;){var i=r++;t[i][i]=1}return t},ge.transpose=function(e){if(0==e.length)return[];for(var t=[],r=0,i=e[0].length;r<i;){var o=r++;t.push(function(){for(var t=[],r=0,i=e.length;r<i;){var s=r++;t.push(e[s][o])}return t}())}return t},ge.solve=function(e,t){return ge.LUsolve(ge.LU(e),t)},ge.LUsolve=function(e,t){var r,i,o,s,n,a=e.LU,c=a.length,h=t.slice(),l=e.P;for(r=c-1;-1!=r;)h[r]=t[r],--r;for(r=0;r<c;){for(o=l[r],l[r]!=r&&(n=h[r],h[r]=h[o],h[o]=n),s=a[r],i=0;i<r;)h[r]-=h[i]*s[i],++i;++r}for(r=c-1;r>=0;){for(s=a[r],i=r+1;i<c;)h[r]-=h[i]*s[i],++i;h[r]/=s[r],--r}return h},ge.LU=function(e){Math.abs;for(var t,r,i,o,s,n,a,c,h,l=[],u=0,d=e.length;u<d;){var v=u++;l.push(e[v].slice())}var f=(e=l).length,p=f-1,m=[];for(i=0;i<f;){for(a=i,n=e[i],h=Math.abs(n[i]),r=i+1;r<f;)h<(o=Math.abs(e[r][i]))&&(h=o,a=r),++r;for(m[i]=a,a!=i&&(e[i]=e[a],e[a]=n,n=e[i]),s=n[i],t=i+1;t<f;)e[t][i]/=s,++t;for(t=i+1;t<f;){for(c=e[t],r=i+1;r<p;)c[r]-=c[i]*n[r],c[++r]-=c[i]*n[r],++r;r==p&&(c[r]-=c[i]*n[r]),++t}++i}return new be(e,m)};var be=function(e,t){this.LU=e,this.P=t};i["verb.core._Mat.LUDecomp"]=be,be.__name__=["verb","core","_Mat","LUDecomp"],be.prototype={__class__:be};var ke=t.core.Mesh=function(){};i["verb.core.Mesh"]=ke,ke.__name__=["verb","core","Mesh"],ke.getTriangleNorm=function(e,t){var r=e[t[0]],i=e[t[1]],o=e[t[2]],s=Te.sub(i,r),n=Te.sub(o,r),a=Te.cross(s,n);return Te.mul(1/Te.norm(a),a)},ke.makeMeshAabb=function(e,t){for(var r=new j,i=0;i<t.length;){var o=t[i];++i,r.add(e.points[e.faces[o][0]]),r.add(e.points[e.faces[o][1]]),r.add(e.points[e.faces[o][2]])}return r},ke.sortTrianglesOnLongestAxis=function(e,t,r){for(var i=e.getLongestAxis(),o=[],s=0;s<r.length;){var n=r[s];++s;var a=ke.getMinCoordOnAxis(t.points,t.faces[n],i);o.push(new K(a,n))}o.sort(function(e,t){var r=e.item0,i=t.item0;return r==i?0:r>i?1:-1});for(var c=[],h=0,l=o.length;h<l;){var u=h++;c.push(o[u].item1)}return c},ke.getMinCoordOnAxis=function(e,t,r){for(var i=1/0,o=0;o<3;){var s=e[t[o++]][r];s<i&&(i=s)}return i},ke.getTriangleCentroid=function(e,t){for(var r=[0,0,0],i=0;i<3;)for(var o=i++,s=0;s<3;){var n=s++;r[n]+=e[t[o]][n]}for(var a=0;a<3;)r[a++]/=3;return r},ke.triangleUVFromPoint=function(e,t,r){var i=e.faces[t],o=e.points[i[0]],s=e.points[i[1]],n=e.points[i[2]],a=e.uvs[i[0]],c=e.uvs[i[1]],h=e.uvs[i[2]],l=Te.sub(o,r),u=Te.sub(s,r),d=Te.sub(n,r),v=Te.norm(Te.cross(Te.sub(o,s),Te.sub(o,n))),f=Te.norm(Te.cross(u,d))/v,p=Te.norm(Te.cross(d,l))/v,m=Te.norm(Te.cross(l,u))/v;return Te.add(Te.mul(f,a),Te.add(Te.mul(p,c),Te.mul(m,h)))};var _e=function(e,t){if(this._empty=!1,this._face=-1,null==t){for(var r=[],i=0,o=e.faces.length;i<o;){var s=i++;r.push(s)}t=r}if(this._boundingBox=ke.makeMeshAabb(e,t),t.length<1)this._empty=!0;else if(t.length<2)this._face=t[0];else{var n=ke.sortTrianglesOnLongestAxis(this._boundingBox,e,t),a=N.left(n),c=N.right(n);this._children=new K(new _e(e,a),new _e(e,c))}};i["verb.core.MeshBoundingBoxTree"]=_e,_e.__name__=["verb","core","MeshBoundingBoxTree"],_e.__interfaces__=[de],_e.prototype={split:function(){return this._children},boundingBox:function(){return this._boundingBox},yield:function(){return this._face},indivisible:function(e){return null==this._children},empty:function(){return this._empty},__class__:_e};var Pe=t.core.Minimizer=function(){};i["verb.core.Minimizer"]=Pe,Pe.__name__=["verb","core","Minimizer"],Pe.uncmin=function(e,t,r,i,o){null==r&&(r=1e-8),null==i&&(i=function(t){return Pe.numericalGradient(e,t)}),null==o&&(o=1e3);var s,n,a,c,h=(t=t.slice(0)).length,l=e(t),u=l;if(isNaN(l))throw new T("uncmin: f(x0) is a NaN!");r=Math.max(r,z.EPSILON);var d,v,f,p,m,g,b=ge.identity(h),k=0,_=[],P="";for(a=i(t);k<o;){if(!Te.all(Te.finite(a))){P="Gradient has Infinity or NaN";break}if(n=Te.neg(ge.dot(b,a)),!Te.all(Te.finite(n))){P="Search direction has Infinity or NaN";break}if((g=Te.norm(n))<r){P="Newton step smaller than tol";break}for(m=1,s=Te.dot(a,n),d=t;k<o&&!(m*g<r)&&(_=Te.mul(m,n),d=Te.add(t,_),(u=e(d))-l>=.1*m*s||isNaN(u));)m*=.5,++k;if(m*g<r){P="Line search step size smaller than tol";break}if(k==o){P="maxit reached during line search";break}c=i(d),v=Te.sub(c,a),p=Te.dot(v,_),f=ge.dot(b,v),b=ge.sub(ge.add(b,ge.mul((p+Te.dot(v,f))/(p*p),Pe.tensor(_,_))),ge.div(ge.add(Pe.tensor(f,_),Pe.tensor(_,f)),p)),t=d,l=u,a=c,++k}return new Ce(t,l,a,b,k,P)},Pe.numericalGradient=function(e,t){var r=t.length,i=e(t);if(NaN==i)throw new T("gradient: f(x) is a NaN!");for(var o,s,n,a,c,h,l,u,d=t.slice(0),v=[],f=0,p=0;p<r;)for(var m=p++,g=Math.max(1e-6*i,1e-8);;){if(++f>20)throw new T("Numerical gradient fails");if(d[m]=t[m]+g,o=e(d),d[m]=t[m]-g,s=e(d),d[m]=t[m],isNaN(o)||isNaN(s))g/=16;else{if(v[m]=(o-s)/(2*g),n=t[m]-g,a=t[m],c=t[m]+g,h=(o-i)/g,l=(i-s)/g,u=Te.max([Math.abs(v[m]),Math.abs(i),Math.abs(o),Math.abs(s),Math.abs(n),Math.abs(a),Math.abs(c),1e-8]),!(Math.min(Te.max([Math.abs(h-v[m]),Math.abs(l-v[m]),Math.abs(h-l)])/u,g/u)>.001))break;g/=16}}return v},Pe.tensor=function(e,t){for(var r,i,o=e.length,s=t.length,n=[],a=o-1;a>=0;){r=[],i=e[a];for(var c=s-1;c>=3;)r[c]=i*t[c],r[--c]=i*t[c],r[--c]=i*t[c],r[--c]=i*t[c],--c;for(;c>=0;)r[c]=i*t[c],--c;n[a]=r,a--}return n};var Ce=function(e,t,r,i,o,s){this.solution=e,this.value=t,this.gradient=r,this.invHessian=i,this.iterations=o,this.message=s};i["verb.core.MinimizationResult"]=Ce,Ce.__name__=["verb","core","MinimizationResult"],Ce.prototype={__class__:Ce};var ye=function(){};i["verb.core.ISerializable"]=ye,ye.__name__=["verb","core","ISerializable"],ye.prototype={__class__:ye};var xe=t.core.Deserializer=function(){};i["verb.core.Deserializer"]=xe,xe.__name__=["verb","core","Deserializer"],xe.deserialize=function(e){return new b(e).unserialize()};var we=t.core.Trig=function(){};i["verb.core.Trig"]=we,we.__name__=["verb","core","Trig"],we.isPointInPlane=function(e,t,r){return Math.abs(Te.dot(Te.sub(e,t.origin),t.normal))<r},we.distToSegment=function(e,t,r){var i=we.segmentClosestPoint(t,e,r,0,1);return Te.dist(t,i.pt)},we.rayClosestPoint=function(e,t,r){var i=Te.sub(e,t),o=Te.dot(i,r);return Te.add(t,Te.mul(o,r))},we.distToRay=function(e,t,r){var i=we.rayClosestPoint(e,t,r),o=Te.sub(i,e);return Te.norm(o)},we.threePointsAreFlat=function(e,t,r,i){var o=Te.sub(t,e),s=Te.sub(r,e),n=Te.cross(o,s);return Te.dot(n,n)<i},we.segmentClosestPoint=function(e,t,r,i,o){var s=Te.sub(r,t),n=Te.norm(s);if(n<z.EPSILON)return{u:i,pt:t};var a=t,c=Te.mul(1/n,s),h=Te.sub(e,a),l=Te.dot(h,c);return l<0?{u:i,pt:t}:l>n?{u:o,pt:r}:{u:i+(o-i)*l/n,pt:Te.add(a,Te.mul(l,c))}};var Te=t.core.Vec=function(){};i["verb.core.Vec"]=Te,Te.__name__=["verb","core","Vec"],Te.angleBetween=function(e,t){return Math.acos(Te.dot(e,t)/(Te.norm(e)*Te.norm(t)))},Te.positiveAngleBetween=function(e,t,r){var i=Te.cross(e,t),o=Te.norm(e)*Te.norm(t),s=Te.dot(e,t),n=Te.norm(i)/o,a=s/o,c=Math.atan2(n,a),h=Te.dot(r,i);return Math.abs(h)<z.EPSILON||h>0?c:-c},Te.signedAngleBetween=function(e,t,r){var i=Te.cross(e,t),o=Te.norm(e)*Te.norm(t),s=Te.dot(e,t),n=Te.norm(i)/o,a=s/o,c=Math.atan2(n,a);return Te.dot(r,i)>0?c:2*Math.PI-c},Te.angleBetweenNormalized2d=function(e,t){var r=e[0]*t[1]-e[1]*t[0];return Math.atan2(r,Te.dot(e,t))},Te.domain=function(e){return N.last(e)-N.first(e)},Te.range=function(e){for(var t=[],r=0,i=0;i<e;)i++,t.push(r),r+=1;return t},Te.span=function(e,t,r){if(null==r)return[];if(r<z.EPSILON)return[];if(e>t&&r>0)return[];if(t>e&&r<0)return[];for(var i=[],o=e;o<=t;)i.push(o),o+=r;return i},Te.neg=function(e){return e.map(function(e){return-e})},Te.min=function(e){return a.fold(e,function(e,t){return Math.min(e,t)},1/0)},Te.max=function(e){return a.fold(e,function(e,t){return Math.max(e,t)},-1/0)},Te.all=function(e){return a.fold(e,function(e,t){return t&&e},!0)},Te.finite=function(e){return e.map(function(e){return isFinite(e)})},Te.onRay=function(e,t,r){return Te.add(e,Te.mul(r,t))},Te.lerp=function(e,t,r){return Te.add(Te.mul(e,t),Te.mul(1-e,r))},Te.normalized=function(e){return Te.div(e,Te.norm(e))},Te.cross=function(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]},Te.dist=function(e,t){return Te.norm(Te.sub(e,t))},Te.distSquared=function(e,t){return Te.normSquared(Te.sub(e,t))},Te.sum=function(e){return a.fold(e,function(e,t){return t+e},0)},Te.addAll=function(e){var t=st(e)();if(!t.hasNext())return null;var r=t.next().length;return a.fold(e,function(e,t){return Te.add(t,e)},Te.rep(r,0))},Te.addAllMutate=function(e){for(var t=e[0],r=1,i=e.length;r<i;){var o=r++;Te.addMutate(t,e[o])}},Te.addMulMutate=function(e,t,r){for(var i=0,o=e.length;i<o;){var s=i++;e[s]=e[s]+t*r[s]}},Te.subMulMutate=function(e,t,r){for(var i=0,o=e.length;i<o;){var s=i++;e[s]=e[s]-t*r[s]}},Te.addMutate=function(e,t){for(var r=0,i=e.length;r<i;){var o=r++;e[o]=e[o]+t[o]}},Te.subMutate=function(e,t){for(var r=0,i=e.length;r<i;){var o=r++;e[o]=e[o]-t[o]}},Te.mulMutate=function(e,t){for(var r=0,i=t.length;r<i;){var o=r++;t[o]=t[o]*e}},Te.norm=function(e){var t=Te.normSquared(e);return 0!=t?Math.sqrt(t):t},Te.normSquared=function(e){return a.fold(e,function(e,t){return t+e*e},0)},Te.rep=function(e,t){for(var r=[],i=0;i<e;)i++,r.push(t);return r},Te.zeros1d=function(e){for(var t=[],r=0;r<e;)r++,t.push(0);return t},Te.zeros2d=function(e,t){for(var r=[],i=0;i<e;)i++,r.push(Te.zeros1d(t));return r},Te.zeros3d=function(e,t,r){for(var i=[],o=0;o<e;)o++,i.push(Te.zeros2d(t,r));return i},Te.dot=function(e,t){for(var r=0,i=0,o=e.length;i<o;){var s=i++;r+=e[s]*t[s]}return r},Te.add=function(e,t){for(var r=[],i=0,o=e.length;i<o;){var s=i++;r.push(e[s]+t[s])}return r},Te.mul=function(e,t){for(var r=[],i=0,o=t.length;i<o;){var s=i++;r.push(e*t[s])}return r},Te.div=function(e,t){for(var r=[],i=0,o=e.length;i<o;){var s=i++;r.push(e[s]/t)}return r},Te.sub=function(e,t){for(var r=[],i=0,o=e.length;i<o;){var s=i++;r.push(e[s]-t[s])}return r},Te.isZero=function(e){for(var t=0,r=e.length;t<r;){var i=t++;if(Math.abs(e[i])>z.TOLERANCE)return!1}return!0},Te.sortedSetUnion=function(e,t){for(var r=[],i=0,o=0;i<e.length||o<t.length;)if(i>=e.length)r.push(t[o]),o++;else if(o>=t.length)r.push(e[i]),i++;else{var s=e[i]-t[o];Math.abs(s)<z.EPSILON?(r.push(e[i]),i++,o++):s>0?(r.push(t[o]),o++):(r.push(e[i]),i++)}return r},Te.sortedSetSub=function(e,t){for(var r=[],i=0,o=0;i<e.length;)o>=t.length?(r.push(e[i]),i++):Math.abs(e[i]-t[o])<z.EPSILON?(i++,o++):(r.push(e[i]),i++);return r};var We=t.eval.Analyze=function(){};i["verb.eval.Analyze"]=We,We.__name__=["verb","eval","Analyze"],We.knotMultiplicities=function(e){for(var t=[new Se(e[0],0)],r=t[0],i=0;i<e.length;){var o=e[i];++i,Math.abs(o-r.knot)>z.EPSILON&&(r=new Se(o,0),t.push(r)),r.inc()}return t},We.isRationalSurfaceClosed=function(e,t){var r;null==t&&(t=!0);for(var i=0,o=(r=t?e.controlPoints:ge.transpose(e.controlPoints))[0].length;i<o;){var s=i++;if(!(Te.dist(N.first(r)[s],N.last(r)[s])<z.EPSILON))return!1}return!0},We.rationalSurfaceClosestPoint=function(e,t){var r=We.rationalSurfaceClosestParam(e,t);return Oe.rationalSurfacePoint(e,r[0],r[1])},We.rationalSurfaceClosestParam=function(e,t){for(var r,i,o,s=0,n=1e-4,a=5e-4,c=e.knotsU[0],h=N.last(e.knotsU),l=e.knotsV[0],u=N.last(e.knotsV),d=We.isRationalSurfaceClosed(e),v=We.isRationalSurfaceClosed(e,!1),f=Ie.rationalSurfaceAdaptive(e,new Re),p=1/0,m=0,g=f.points.length;m<g;){var b=m++,k=f.points[b],_=Te.normSquared(Te.sub(t,k));_<p&&(p=_,o=f.uvs[b])}for(var P=function(t){return Oe.rationalSurfaceDerivatives(e,t[0],t[1],2)},C=function(e,t,r){var i=t[1][0],o=t[0][1],s=t[2][0],n=t[0][2],a=t[1][1],c=t[1][1],h=[-Te.dot(i,r),-Te.dot(o,r)],l=[[Te.dot(i,i)+Te.dot(s,r),Te.dot(i,o)+Te.dot(a,r)],[Te.dot(i,o)+Te.dot(c,r),Te.dot(o,o)+Te.dot(n,r)]],u=ge.solve(l,h);return Te.add(u,e)};s<5;){r=P(o),i=Te.sub(r[0][0],t);var y=Te.norm(i),x=Te.dot(r[1][0],i),w=Te.norm(r[1][0])*y,T=Te.dot(r[0][1],i),W=Te.norm(r[0][1])*y;if(y<n&&x/w<a&&T/W<a)return o;var S=C(o,r,i);if(S[0]<c?S=d?[h-(S[0]-c),S[1]]:[c+z.EPSILON,S[1]]:S[0]>h&&(S=d?[c+(S[0]-h),S[1]]:[h-z.EPSILON,S[1]]),S[1]<l?S=v?[S[0],u-(S[1]-l)]:[S[0],l+z.EPSILON]:S[1]>u&&(S=v?[S[0],l+(S[0]-u)]:[S[0],u-z.EPSILON]),Te.norm(Te.mul(S[0]-o[0],r[1][0]))+Te.norm(Te.mul(S[1]-o[1],r[0][1]))<n)return o;o=S,s++}return o},We.rationalCurveClosestPoint=function(e,t){return Oe.rationalCurvePoint(e,We.rationalCurveClosestParam(e,t))},We.rationalCurveClosestParam=function(e,t){for(var r=1/0,i=0,o=Ie.rationalCurveRegularSample(e,e.controlPoints.length*e.degree,!0),s=0,n=o.length-1;s<n;){var a=s++,c=o[a][0],h=o[a+1][0],l=o[a].slice(1),u=o[a+1].slice(1),d=we.segmentClosestPoint(t,l,u,c,h),v=Te.norm(Te.sub(t,d.pt));v<r&&(r=v,i=d.u)}for(var f,p,m=0,g=1e-4,b=e.knots[0],k=N.last(e.knots),_=Te.normSquared(Te.sub(e.controlPoints[0],N.last(e.controlPoints)))<z.EPSILON,P=i,C=function(t){return Oe.rationalCurveDerivatives(e,t,2)},y=function(e,t,r){return e-Te.dot(t[1],r)/(Te.dot(t[2],r)+Te.dot(t[1],t[1]))};m<5;){f=C(P),p=Te.sub(f[0],t);var x=Te.norm(p),w=Te.dot(f[1],p)/(Te.norm(f[1])*x),T=x<g,W=Math.abs(w)<5e-4;if(T&&W)return P;var S=y(P,f,p);if(S<b?S=_?k-(S-b):b:S>k&&(S=_?b+(S-k):k),Te.norm(Te.mul(S-P,f[1]))<g)return P;P=S,m++}return P},We.rationalCurveParamAtArcLength=function(e,t,r,i,o){if(null==r&&(r=.001),t<z.EPSILON)return e.knots[0];var s,n,a=0,c=((s=null!=i?i:Fe.decomposeCurveIntoBeziers(e))[a],-z.EPSILON);for(n=null!=o?o:[];c<t&&a<s.length;){if(a<n.length?n[a]=n[a]:n[a]=We.rationalBezierCurveArcLength(e),t<(c+=n[a])+z.EPSILON)return We.rationalBezierCurveParamAtArcLength(e,t,r,n[a]);a++}return-1},We.rationalBezierCurveParamAtArcLength=function(e,t,r,i){if(t<0)return e.knots[0];var o;if(t>(o=null!=i?i:We.rationalBezierCurveArcLength(e)))return N.last(e.knots);var s,n=e.knots[0],a=0,c=N.last(e.knots),h=o,l=0,u=0;for(s=null!=r?r:2*z.TOLERANCE;h-a>s;)l=(n+c)/2,(u=We.rationalBezierCurveArcLength(e,l))>t?(c=l,h=u):(n=l,a=u);return(n+c)/2},We.rationalCurveArcLength=function(e,t,r){null==r&&(r=16),null==t&&(t=N.last(e.knots));for(var i=Fe.decomposeCurveIntoBeziers(e),o=0,s=i[0],n=0;o<i.length&&s.knots[0]+z.EPSILON<t;){var a=Math.min(N.last(s.knots),t);n+=We.rationalBezierCurveArcLength(s,a,r),s=i[++o]}return n},We.rationalBezierCurveArcLength=function(e,t,r){null==r&&(r=16);for(var i,o,s=((null==t?N.last(e.knots):t)-e.knots[0])/2,n=0,a=e.degree+r,c=0;c<a;){var h=c++;i=s*We.Tvalues[a][h]+s+e.knots[0],o=Oe.rationalCurveDerivatives(e,i,1),n+=We.Cvalues[a][h]*Te.norm(o[1])}return s*n};var Se=t.eval.KnotMultiplicity=function(e,t){this.knot=e,this.mult=t};i["verb.eval.KnotMultiplicity"]=Se,Se.__name__=["verb","eval","KnotMultiplicity"],Se.prototype={inc:function(){this.mult++},__class__:Se};var Me=t.eval.Check=function(){};i["verb.eval.Check"]=Me,Me.__name__=["verb","eval","Check"],Me.isValidKnotVector=function(e,t){if(0==e.length)return!1;if(e.length<2*(t+1))return!1;for(var r=N.first(e),i=0,o=t+1;i<o;){var s=i++;if(Math.abs(e[s]-r)>z.EPSILON)return!1}r=N.last(e);for(var n=e.length-t-1,a=e.length;n<a;){var c=n++;if(Math.abs(e[c]-r)>z.EPSILON)return!1}return Me.isNonDecreasing(e)},Me.isNonDecreasing=function(e){for(var t=N.first(e),r=0,i=e.length;r<i;){var o=r++;if(e[o]<t-z.EPSILON)return!1;t=e[o]}return!0},Me.isValidNurbsCurveData=function(e){if(null==e.controlPoints)throw new T("Control points array cannot be null!");if(null==e.degree)throw new T("Degree cannot be null!");if(e.degree<1)throw new T("Degree must be greater than 1!");if(null==e.knots)throw new T("Knots cannot be null!");if(e.knots.length!=e.controlPoints.length+e.degree+1)throw new T("controlPoints.length + degree + 1 must equal knots.length!");if(!Me.isValidKnotVector(e.knots,e.degree))throw new T("Invalid knot vector format!  Should begin with degree + 1 repeats and end with degree + 1 repeats!");return e},Me.isValidNurbsSurfaceData=function(e){if(null==e.controlPoints)throw new T("Control points array cannot be null!");if(null==e.degreeU)throw new T("DegreeU cannot be null!");if(null==e.degreeV)throw new T("DegreeV cannot be null!");if(e.degreeU<1)throw new T("DegreeU must be greater than 1!");if(e.degreeV<1)throw new T("DegreeV must be greater than 1!");if(null==e.knotsU)throw new T("KnotsU cannot be null!");if(null==e.knotsV)throw new T("KnotsV cannot be null!");if(e.knotsU.length!=e.controlPoints.length+e.degreeU+1)throw new T("controlPointsU.length + degreeU + 1 must equal knotsU.length!");if(e.knotsV.length!=e.controlPoints[0].length+e.degreeV+1)throw new T("controlPointsV.length + degreeV + 1 must equal knotsV.length!");if(!Me.isValidKnotVector(e.knotsU,e.degreeU)||!Me.isValidKnotVector(e.knotsV,e.degreeV))throw new T("Invalid knot vector format!  Should begin with degree + 1 repeats and end with degree + 1 repeats!");return e};var De=t.eval.Divide=function(){};i["verb.eval.Divide"]=De,De.__name__=["verb","eval","Divide"],De.surfaceSplit=function(e,t,r){var i,o,s,n;null==r&&(r=!1),r?(s=e.controlPoints,i=e.knotsV,o=e.degreeV):(s=ge.transpose(e.controlPoints),i=e.knotsU,o=e.degreeU);for(var a=[],c=0,h=o+1;c<h;)c++,a.push(t);n=a;for(var l=[],u=[],d=Oe.knotSpan(o,t,i),v=null,f=0;f<s.length;){var p=s[f];++f,v=Fe.curveKnotRefine(new G(o,i,p),n),l.push(v.controlPoints.slice(0,d+1)),u.push(v.controlPoints.slice(d+1))}var m=v.knots.slice(0,d+o+2),g=v.knots.slice(d+1);return r?[new Y(e.degreeU,o,e.knotsU.slice(),m,l),new Y(e.degreeU,o,e.knotsU.slice(),g,u)]:(l=ge.transpose(l),u=ge.transpose(u),[new Y(o,e.degreeV,m,e.knotsV.slice(),l),new Y(o,e.degreeV,g,e.knotsV.slice(),u)])},De.curveSplit=function(e,t){for(var r,i=e.degree,o=(e.controlPoints,e.knots),s=[],n=0,a=i+1;n<a;)n++,s.push(t);r=s;var c=Fe.curveKnotRefine(e,r),h=Oe.knotSpan(i,t,o),l=c.knots.slice(0,h+i+2),u=c.knots.slice(h+1),d=c.controlPoints.slice(0,h+1),v=c.controlPoints.slice(h+1);return[new G(i,l,d),new G(i,u,v)]},De.rationalCurveByEqualArcLength=function(e,t){var r=We.rationalCurveArcLength(e)/t;return De.rationalCurveByArcLength(e,r)},De.rationalCurveByArcLength=function(e,t){var r=Fe.decomposeCurveIntoBeziers(e),i=r.map(function(e){return We.rationalBezierCurveArcLength(e)}),o=Te.sum(i),s=[new Ee(e.knots[0],0)];if(t>o)return s;for(var n,a=t,c=0,h=a,l=0,u=0;c<r.length;){for(l+=i[c];h<l+z.EPSILON;)n=We.rationalBezierCurveParamAtArcLength(r[c],h-u,z.TOLERANCE,i[c]),s.push(new Ee(n,h)),h+=a;u+=i[c],c++}return s};var Ee=t.eval.CurveLengthSample=function(e,t){this.u=e,this.len=t};i["verb.eval.CurveLengthSample"]=Ee,Ee.__name__=["verb","eval","CurveLengthSample"],Ee.prototype={__class__:Ee};var Oe=t.eval.Eval=function(){};i["verb.eval.Eval"]=Oe,Oe.__name__=["verb","eval","Eval"],Oe.rationalCurveTangent=function(e,t){return Oe.rationalCurveDerivatives(e,t,1)[1]},Oe.rationalSurfaceNormal=function(e,t,r){var i=Oe.rationalSurfaceDerivatives(e,t,r,1);return Te.cross(i[1][0],i[0][1])},Oe.rationalSurfaceDerivatives=function(e,t,r,i){null==i&&(i=1);for(var o=Oe.surfaceDerivatives(e,t,r,i),s=Oe.rational2d(o),n=Oe.weight2d(o),a=[],c=s[0][0].length,h=0,l=i+1;h<l;){var u=h++;a.push([]);for(var d=0,v=i-u+1;d<v;){for(var f=d++,p=s[u][f],m=1,g=f+1;m<g;){var b=m++;Te.subMulMutate(p,U.get(f,b)*n[0][b],a[u][f-b])}for(var k=1,_=u+1;k<_;){var P=k++;Te.subMulMutate(p,U.get(u,P)*n[P][0],a[u-P][f]);for(var C=Te.zeros1d(c),y=1,x=f+1;y<x;){var w=y++;Te.addMulMutate(C,U.get(f,w)*n[P][w],a[u-P][f-w])}Te.subMulMutate(p,U.get(u,P),C)}Te.mulMutate(1/n[0][0],p),a[u].push(p)}}return a},Oe.rationalSurfacePoint=function(e,t,r){return Oe.dehomogenize(Oe.surfacePoint(e,t,r))},Oe.rationalCurveDerivatives=function(e,t,r){null==r&&(r=1);for(var i=Oe.curveDerivatives(e,t,r),o=Oe.rational1d(i),s=Oe.weight1d(i),n=[],a=0,c=r+1;a<c;){for(var h=a++,l=o[h],u=1,d=h+1;u<d;){var v=u++;Te.subMulMutate(l,U.get(h,v)*s[v],n[h-v])}Te.mulMutate(1/s[0],l),n.push(l)}return n},Oe.rationalCurvePoint=function(e,t){return Oe.dehomogenize(Oe.curvePoint(e,t))},Oe.surfaceDerivatives=function(e,t,r,i){var o=e.knotsU.length-e.degreeU-2,s=e.knotsV.length-e.degreeV-2;return Oe.surfaceDerivativesGivenNM(o,s,e,t,r,i)},Oe.surfaceDerivativesGivenNM=function(e,t,r,i,o,s){var n=r.degreeU,a=r.degreeV,c=r.controlPoints,h=r.knotsU,l=r.knotsV;if(!Oe.areValidRelations(n,c.length,h.length)||!Oe.areValidRelations(a,c[0].length,l.length))throw new T("Invalid relations between control points, knot vector, and n");var u,d,v=c[0][0].length;u=s<n?s:n,d=s<a?s:a;for(var f=Te.zeros3d(s+1,s+1,v),p=Oe.knotSpanGivenN(e,n,i,h),m=Oe.knotSpanGivenN(t,a,o,l),g=Oe.derivativeBasisFunctionsGivenNI(p,i,n,e,h),b=Oe.derivativeBasisFunctionsGivenNI(m,o,a,t,l),k=Te.zeros2d(a+1,v),_=0,P=u+1;_<P;){for(var C=_++,y=0,x=a+1;y<x;){var w=y++;k[w]=Te.zeros1d(v);for(var W=0,S=n+1;W<S;){var M=W++;Te.addMulMutate(k[w],g[C][M],c[p-n+M][m-a+w])}}for(var D=s-C,E=0,O=(D<d?D:d)+1;E<O;){var A=E++;f[C][A]=Te.zeros1d(v);for(var L=0,F=a+1;L<F;){var I=L++;Te.addMulMutate(f[C][A],b[A][I],k[I])}}}return f},Oe.surfacePoint=function(e,t,r){var i=e.knotsU.length-e.degreeU-2,o=e.knotsV.length-e.degreeV-2;return Oe.surfacePointGivenNM(i,o,e,t,r)},Oe.surfacePointGivenNM=function(e,t,r,i,o){var s=r.degreeU,n=r.degreeV,a=r.controlPoints,c=r.knotsU,h=r.knotsV;if(!Oe.areValidRelations(s,a.length,c.length)||!Oe.areValidRelations(n,a[0].length,h.length))throw new T("Invalid relations between control points, knot vector, and n");for(var l=a[0][0].length,u=Oe.knotSpanGivenN(e,s,i,c),d=Oe.knotSpanGivenN(t,n,o,h),v=Oe.basisFunctionsGivenKnotSpanIndex(u,i,s,c),f=Oe.basisFunctionsGivenKnotSpanIndex(d,o,n,h),p=u-s,m=d,g=Te.zeros1d(l),b=Te.zeros1d(l),k=0,_=n+1;k<_;){var P=k++;b=Te.zeros1d(l),m=d-n+P;for(var C=0,y=s+1;C<y;){var x=C++;Te.addMulMutate(b,v[x],a[p+x][m])}Te.addMulMutate(g,f[P],b)}return g},Oe.curveRegularSamplePoints=function(e,t){for(var r=Oe.curveDerivatives(e,e.knots[0],e.degree),i=1/t,o=i*i,s=r[0],n=Te.mul(i,r[1]),a=Te.mul(.5*o,r[2]),c=Te.mul(o*i*.5,r[3]),h=Te.add(a,a),l=Te.add(c,c),u=Te.mul(.3333333333333333,c),d=[],v=0,f=t+1;v<f;)v++,d.push(Oe.dehomogenize(s)),Te.addAllMutate([s,n,a,u]),Te.addAllMutate([n,h,c]),Te.addAllMutate([h,l]),Te.addAllMutate([a,c]);return d},Oe.curveRegularSamplePoints2=function(e,t){for(var r=Oe.curveDerivatives(e,e.knots[0],e.degree),i=1/t,o=i*i,s=r[0],n=Te.mul(i,r[1]),a=Te.mul(.5*o,r[2]),c=Te.mul(o*i*.5,r[3]),h=Te.add(a,a),l=Te.add(c,c),u=Te.mul(.3333333333333333,c),d=[],v=0,f=t+1;v<f;)v++,d.push(Oe.dehomogenize(s)),Te.addAllMutate([s,n,a,u]),Te.addAllMutate([n,h,c]),Te.addAllMutate([h,l]),Te.addAllMutate([a,c]);return d},Oe.rationalSurfaceRegularSampleDerivatives=function(e,t,r,i){for(var o=Oe.surfaceRegularSampleDerivatives(e,t,r,i),s=[],n=t+1,a=r+1,c=i+1,h=0;h<n;){var l=h++,u=[];s.push(u);for(var d=0;d<a;){for(var v=d++,f=o[l][v],p=Oe.rational2d(f),m=Oe.weight2d(f),g=[],b=p[0][0].length,k=0;k<c;){var _=k++;g.push([]);for(var P=0,C=c-_;P<C;){for(var y=P++,x=p[_][y],w=1,T=y+1;w<T;){var W=w++;Te.subMulMutate(x,U.get(y,W)*m[0][W],g[_][y-W])}for(var S=1,M=_+1;S<M;){var D=S++;Te.subMulMutate(x,U.get(_,D)*m[D][0],g[_-D][y]);for(var E=Te.zeros1d(b),O=1,A=y+1;O<A;){var L=O++;Te.addMulMutate(E,U.get(y,L)*m[D][L],g[_-D][y-L])}Te.subMulMutate(x,U.get(_,D),E)}Te.mulMutate(1/m[0][0],x),g[_].push(x)}}u.push(g)}}return s},Oe.surfaceRegularSampleDerivatives=function(e,t,r,i){for(var o=e.degreeU,s=e.degreeV,n=e.controlPoints,a=e.knotsU,c=e.knotsV,h=n[0][0].length,l=(N.last(a),a[0],N.last(c),c[0],Oe.regularlySpacedDerivativeBasisFunctions(o,a,t)),u=l.item0,d=l.item1,v=Oe.regularlySpacedDerivativeBasisFunctions(s,c,r),f=v.item0,p=v.item1,m=[],g=t+1,b=r+1,k=0;k<g;){var _=k++,P=[];m.push(P);for(var C=0;C<b;){var y=C++;P.push(Oe.surfaceDerivativesGivenBasesKnotSpans(o,s,n,u[_],f[y],d[_],p[y],h,i))}}return m},Oe.rationalSurfaceRegularSamplePoints=function(e,t,r){return Oe.dehomogenize2d(Oe.surfaceRegularSamplePoints(e,t,r))},Oe.surfaceRegularSamplePoints=function(e,t,r){for(var i=e.degreeU,o=e.degreeV,s=e.controlPoints,n=e.knotsU,a=e.knotsV,c=s[0][0].length,h=(N.last(n),n[0],N.last(a),a[0],Oe.regularlySpacedBasisFunctions(i,n,t)),l=h.item0,u=h.item1,d=Oe.regularlySpacedBasisFunctions(o,a,r),v=d.item0,f=d.item1,p=[],m=t+1,g=r+1,b=0;b<m;){var k=b++,_=[];p.push(_);for(var P=0;P<g;){var C=P++;_.push(Oe.surfacePointGivenBasesKnotSpans(i,o,s,l[k],v[C],u[k],f[C],c))}}return p},Oe.regularlySpacedBasisFunctions=function(e,t,r){for(var i=t.length-e-2,o=(N.last(t)-t[0])/r,s=[],n=[],a=t[0],c=Oe.knotSpanGivenN(i,e,a,t),h=r+1,l=0;l<h;){for(l++;a>=t[c+1];)c++;n.push(c),s.push(Oe.basisFunctionsGivenKnotSpanIndex(c,a,e,t)),a+=o}return new K(n,s)},Oe.regularlySpacedDerivativeBasisFunctions=function(e,t,r){for(var i=t.length-e-2,o=(N.last(t)-t[0])/r,s=[],n=[],a=t[0],c=Oe.knotSpanGivenN(i,e,a,t),h=r+1,l=0;l<h;){for(l++;a>=t[c+1];)c++;n.push(c),s.push(Oe.derivativeBasisFunctionsGivenNI(c,a,e,i,t)),a+=o}return new K(n,s)},Oe.surfacePointGivenBasesKnotSpans=function(e,t,r,i,o,s,n,a){for(var c,h=Te.zeros1d(a),l=i-e,u=o-t,d=0,v=t+1;d<v;){var f=d++;c=Te.zeros1d(a);for(var p=0,m=e+1;p<m;){var g=p++;Te.addMulMutate(c,s[g],r[l+g][u])}u++,Te.addMulMutate(h,n[f],c)}return h},Oe.surfaceDerivativesGivenBasesKnotSpans=function(e,t,r,i,o,s,n,a,c){var h,l,u=r[0][0].length;h=c<e?c:e,l=c<t?c:t;for(var d=Te.zeros3d(h+1,l+1,u),v=Te.zeros2d(t+1,u),f=0,p=h+1;f<p;){for(var m=f++,g=0,b=t+1;g<b;){var k=g++;v[k]=Te.zeros1d(u);for(var _=0,P=e+1;_<P;){var C=_++;Te.addMulMutate(v[k],s[m][C],r[i-e+C][o-t+k])}}for(var y=c-m,x=0,w=(y<l?y:l)+1;x<w;){var T=x++;d[m][T]=Te.zeros1d(u);for(var W=0,S=t+1;W<S;){var M=W++;Te.addMulMutate(d[m][T],n[T][M],v[M])}}}return d},Oe.curveDerivatives=function(e,t,r){var i=e.knots.length-e.degree-2;return Oe.curveDerivativesGivenN(i,e,t,r)},Oe.curveDerivativesGivenN=function(e,t,r,i){var o=t.degree,s=t.controlPoints,n=t.knots;if(!Oe.areValidRelations(o,s.length,n.length))throw new T("Invalid relations between control points, knot vector, and n");var a,c=s[0].length;a=i<o?i:o;for(var h=Te.zeros2d(i+1,c),l=Oe.knotSpanGivenN(e,o,r,n),u=Oe.derivativeBasisFunctionsGivenNI(l,r,o,a,n),d=0,v=a+1;d<v;)for(var f=d++,p=0,m=o+1;p<m;){var g=p++;Te.addMulMutate(h[f],u[f][g],s[l-o+g])}return h},Oe.curvePoint=function(e,t){var r=e.knots.length-e.degree-2;return Oe.curvePointGivenN(r,e,t)},Oe.areValidRelations=function(e,t,r){return t+e+1-r==0},Oe.curvePointGivenN=function(e,t,r){var i=t.degree,o=t.controlPoints,s=t.knots;if(!Oe.areValidRelations(i,o.length,s.length))throw new T("Invalid relations between control points, knot Array, and n");for(var n=Oe.knotSpanGivenN(e,i,r,s),a=Oe.basisFunctionsGivenKnotSpanIndex(n,r,i,s),c=Te.zeros1d(o[0].length),h=0,l=i+1;h<l;){var u=h++;Te.addMulMutate(c,a[u],o[n-i+u])}return c},Oe.volumePoint=function(e,t,r,i){var o=e.knotsU.length-e.degreeU-2,s=e.knotsV.length-e.degreeV-2,n=e.knotsW.length-e.degreeW-2;return Oe.volumePointGivenNML(e,o,s,n,t,r,i)},Oe.volumePointGivenNML=function(e,t,r,i,o,s,n){if(!Oe.areValidRelations(e.degreeU,e.controlPoints.length,e.knotsU.length)||!Oe.areValidRelations(e.degreeV,e.controlPoints[0].length,e.knotsV.length)||!Oe.areValidRelations(e.degreeW,e.controlPoints[0][0].length,e.knotsW.length))throw new T("Invalid relations between control points and knot vector");for(var a=e.controlPoints,c=e.degreeU,h=e.degreeV,l=e.degreeW,u=e.knotsU,d=e.knotsV,v=e.knotsW,f=a[0][0][0].length,p=Oe.knotSpanGivenN(t,c,o,u),m=Oe.knotSpanGivenN(r,h,s,d),g=Oe.knotSpanGivenN(i,l,n,v),b=Oe.basisFunctionsGivenKnotSpanIndex(p,o,c,u),k=Oe.basisFunctionsGivenKnotSpanIndex(m,s,h,d),_=Oe.basisFunctionsGivenKnotSpanIndex(g,n,l,v),P=p-c,C=Te.zeros1d(f),y=Te.zeros1d(f),x=Te.zeros1d(f),w=0,W=l+1;w<W;){var S=w++;x=Te.zeros1d(f);for(var M=g-l+S,D=0,E=h+1;D<E;){var O=D++;y=Te.zeros1d(f);for(var A=m-h+O,L=0,F=c+1;L<F;){var I=L++;Te.addMulMutate(y,b[I],a[P+I][A][M])}Te.addMulMutate(x,k[O],y)}Te.addMulMutate(C,_[S],x)}return C},Oe.derivativeBasisFunctions=function(e,t,r){var i=Oe.knotSpan(t,e,r),o=r.length-1-t-1;return Oe.derivativeBasisFunctionsGivenNI(i,e,t,o,r)},Oe.derivativeBasisFunctionsGivenNI=function(e,t,r,i,o){var s=Te.zeros2d(r+1,r+1),n=Te.zeros1d(r+1),a=Te.zeros1d(r+1),c=0,h=0;s[0][0]=1;for(var l=1,u=r+1;l<u;){var d=l++;n[d]=t-o[e+1-d],a[d]=o[e+d]-t,c=0;for(var v=0;v<d;){var f=v++;s[d][f]=a[f+1]+n[d-f],h=s[f][d-1]/s[d][f],s[f][d]=c+a[f+1]*h,c=n[d-f]*h}s[d][d]=c}for(var p=Te.zeros2d(i+1,r+1),m=Te.zeros2d(2,r+1),g=0,b=1,k=0,_=0,P=0,C=0,y=r+1;C<y;){var x=C++;p[0][x]=s[x][r]}for(var w=0,T=r+1;w<T;){var W=w++;g=0,b=1,m[0][0]=1;for(var S=1,M=i+1;S<M;){var D=S++;k=0,_=W-D,P=r-D,W>=D&&(m[b][0]=m[g][0]/s[P+1][_],k=m[b][0]*s[_][P]);for(var E=_>=-1?1:-_,O=1+(W-1<=P?D-1:r-W);E<O;){var A=E++;m[b][A]=(m[g][A]-m[g][A-1])/s[P+1][_+A],k+=m[b][A]*s[_+A][P]}W<=P&&(m[b][D]=-m[g][D-1]/s[P+1][W],k+=m[b][D]*s[W][P]),p[D][W]=k;var L=g;g=b,b=L}}for(var F=r,I=1,R=i+1;I<R;){for(var B=I++,N=0,U=r+1;N<U;){var j=N++;p[B][j]*=F}F*=r-B}return p},Oe.basisFunctions=function(e,t,r){var i=Oe.knotSpan(t,e,r);return Oe.basisFunctionsGivenKnotSpanIndex(i,e,t,r)},Oe.basisFunctionsGivenKnotSpanIndex=function(e,t,r,i){var o=Te.zeros1d(r+1),s=Te.zeros1d(r+1),n=Te.zeros1d(r+1),a=0,c=0;o[0]=1;for(var h=1,l=r+1;h<l;){var u=h++;s[u]=t-i[e+1-u],n[u]=i[e+u]-t,a=0;for(var d=0;d<u;){var v=d++;c=o[v]/(n[v+1]+s[u-v]),o[v]=a+n[v+1]*c,a=s[u-v]*c}o[u]=a}return o},Oe.knotSpan=function(e,t,r){return Oe.knotSpanGivenN(r.length-e-2,e,t,r)},Oe.knotSpanGivenN=function(e,t,r,i){if(r>i[e+1]-z.EPSILON)return e;if(r<i[t]+z.EPSILON)return t;for(var o=t,s=e+1,n=Math.floor((o+s)/2);r<i[n]||r>=i[n+1];)r<i[n]?s=n:o=n,n=Math.floor((o+s)/2);return n},Oe.dehomogenize=function(e){for(var t=[],r=e[e.length-1],i=e.length-1,o=0;o<i;){var s=o++;t.push(e[s]/r)}return t},Oe.rational1d=function(e){var t=e[0].length-1;return e.map(function(e){return e.slice(0,t)})},Oe.rational2d=function(e){return e.map(Oe.rational1d)},Oe.weight1d=function(e){var t=e[0].length-1;return e.map(function(e){return e[t]})},Oe.weight2d=function(e){return e.map(Oe.weight1d)},Oe.dehomogenize1d=function(e){return e.map(Oe.dehomogenize)},Oe.dehomogenize2d=function(e){return e.map(Oe.dehomogenize1d)},Oe.homogenize1d=function(e,t){var r,i=e.length,o=e[0].length,s=[],n=0,a=[];r=null!=t?t:Te.rep(e.length,1);for(var c=0;c<i;){var h=c++,l=[];a=e[h],n=r[h];for(var u=0;u<o;){var d=u++;l.push(a[d]*n)}l.push(n),s.push(l)}return s},Oe.homogenize2d=function(e,t){var r,i=e.length,o=[];if(null!=t)r=t;else{for(var s=[],n=0;n<i;)n++,s.push(Te.rep(e[0].length,1));r=s}for(var a=0;a<i;){var c=a++;o.push(Oe.homogenize1d(e[c],r[c]))}return o};var Ae=t.eval.Intersect=function(){};i["verb.eval.Intersect"]=Ae,Ae.__name__=["verb","eval","Intersect"],Ae.surfaces=function(e,t,r){var i=Ie.rationalSurfaceAdaptive(e),o=Ie.rationalSurfaceAdaptive(t);return Ae.meshes(i,o).map(function(i){return i.map(function(i){return Ae.surfacesAtPointWithEstimate(e,t,i.uv0,i.uv1,r)})}).map(function(e){return Le.rationalInterpCurve(e.map(function(e){return e.point}),3)})},Ae.surfacesAtPointWithEstimate=function(e,t,r,i,o){var s,n,a,c,h,l,u,d,v,f,p,m,g,b=0;do{if(n=(s=Oe.rationalSurfaceDerivatives(e,r[0],r[1],1))[0][0],c=s[1][0],h=s[0][1],a=Te.normalized(Te.cross(c,h)),l=Te.dot(a,n),d=(u=Oe.rationalSurfaceDerivatives(t,i[0],i[1],1))[0][0],f=u[1][0],p=u[0][1],v=Te.normalized(Te.cross(f,p)),m=Te.dot(v,d),(g=Te.distSquared(n,d))<o*o)break;var k=Te.normalized(Te.cross(a,v)),_=Te.dot(k,n),P=Ae.threePlanes(a,l,v,m,k,_);if(null==P)throw new T("panic!");var C=Te.sub(P,n),y=Te.sub(P,d),x=Te.cross(c,a),w=Te.cross(h,a),W=Te.cross(f,v),S=Te.cross(p,v),M=Te.dot(w,C)/Te.dot(w,c),D=Te.dot(x,C)/Te.dot(x,h),E=Te.dot(S,y)/Te.dot(S,f),O=Te.dot(W,y)/Te.dot(W,p);r=Te.add([M,D],r),i=Te.add([E,O],i),b++}while(b<5);return new ie(r,i,n,g)},Ae.meshes=function(e,t,r,i){null==r&&(r=new fe(e)),null==i&&(i=new fe(t));var o=Ae.boundingBoxTrees(r,i,0),s=N.unique(o.map(function(r){return Ae.triangles(e,r.item0,t,r.item1)}).filter(function(e){return null!=e}).filter(function(e){return Te.distSquared(e.min.point,e.max.point)>z.EPSILON}),function(e,t){var r=Te.sub(e.min.uv0,t.min.uv0),i=Te.dot(r,r),o=Te.sub(e.max.uv0,t.max.uv0),s=Te.dot(o,o),n=Te.sub(e.min.uv0,t.max.uv0),a=Te.dot(n,n),c=Te.sub(e.max.uv0,t.min.uv0),h=Te.dot(c,c);return i<z.EPSILON&&s<z.EPSILON||a<z.EPSILON&&h<z.EPSILON});return Ae.makeMeshIntersectionPolylines(s)},Ae.meshSlices=function(e,t,r,i){for(var o=new _e(e),s=o.boundingBox(),n=s.min[0],a=s.min[1],c=s.max[0],h=s.max[1],l=Te.span(t,r,i),u=[],d=0;d<l.length;){var v=l[d];++d;var f=new X([[0,1,2],[0,2,3]],[[n,a,v],[c,a,v],[c,h,v],[n,h,v]],null,[[0,0],[1,0],[1,1],[0,1]]);u.push(Ae.meshes(e,f,o))}return u},Ae.makeMeshIntersectionPolylines=function(e){if(0==e.length)return[];for(var t=0;t<e.length;){var r=e[t];++t,r.max.opp=r.min,r.min.opp=r.max}for(var i=Ae.kdTreeFromSegments(e),o=[],s=0;s<e.length;){var n=e[s];++s,o.push(n.min),o.push(n.max)}for(var a=0;a<o.length;){var c=o[a];if(++a,null==c.adj){var h=Ae.lookupAdjacentSegment(c,i,e.length);null!=h&&null==h.adj&&(c.adj=h,h.adj=c)}}var l=o.filter(function(e){return null==e.adj});0==l.length&&(l=o);for(var u=[],d=0,v=!1;0!=l.length;){var f=l.pop();if(!f.visited){for(var p=[],m=f;null!=m&&!m.visited&&(m.visited=!0,m.opp.visited=!0,p.push(m),d+=2,(m=m.opp.adj)!=f););p.length>0&&(p.push(p[p.length-1].opp),u.push(p))}if(0==l.length&&o.length>0&&(v||d<o.length)){v=!0;var g=o.pop();l.push(g)}}return u},Ae.kdTreeFromSegments=function(e){for(var t=[],r=0;r<e.length;){var i=e[r];++r,t.push(new le(i.min.point,i.min)),t.push(new le(i.max.point,i.max))}return new ce(t,Te.distSquared)},Ae.lookupAdjacentSegment=function(e,t,r){var i=t.nearest(e.point,r,z.EPSILON).filter(function(t){return e!=t.item0.obj}).map(function(e){return e.item0.obj});return 1==i.length?i[0]:null},Ae.curveAndSurface=function(e,t,r,i,o){null==r&&(r=.001),null!=i||(i=new ve(e)),null!=o||(o=new me(t));var s=Ae.boundingBoxTrees(i,o,r);return N.unique(s.map(function(e){var t=e.item0,i=e.item1,o=(N.first(t.knots)+N.last(t.knots))/2,s=[(N.first(i.knotsU)+N.last(i.knotsU))/2,(N.first(i.knotsV)+N.last(i.knotsV))/2];return Ae.curveAndSurfaceWithEstimate(t,i,[o].concat(s),r)}).filter(function(e){return Te.distSquared(e.curvePoint,e.surfacePoint)<r*r}),function(e,t){return Math.abs(e.u-t.u)<.5*r})},Ae.curveAndSurfaceWithEstimate=function(e,t,r,i){null==i&&(i=.001);var o=Pe.uncmin(function(r){var i=Oe.rationalCurvePoint(e,r[0]),o=Oe.rationalSurfacePoint(t,r[1],r[2]),s=Te.sub(i,o);return Te.dot(s,s)},r,i*i,function(r){var i=Oe.rationalCurveDerivatives(e,r[0],1),o=Oe.rationalSurfaceDerivatives(t,r[1],r[2],1),s=Te.sub(o[0][0],i[0]),n=Te.mul(-1,i[1]),a=o[1][0],c=o[0][1];return[2*Te.dot(n,s),2*Te.dot(a,s),2*Te.dot(c,s)]}).solution;return new ee(o[0],[o[1],o[2]],Oe.rationalCurvePoint(e,o[0]),Oe.rationalSurfacePoint(t,o[1],o[2]))},Ae.polylineAndMesh=function(e,t,r){for(var i=Ae.boundingBoxTrees(new pe(e),new fe(t),r),o=[],s=0;s<i.length;){var n=i[s];++s;var a=n.item0,c=n.item1,h=Ae.segmentWithTriangle(e.points[a],e.points[a+1],t.points,t.faces[c]);if(null!=h){var l=h.point,u=Te.lerp(h.p,[e.params[a]],[e.params[a+1]])[0],d=ke.triangleUVFromPoint(t,c,l);o.push(new re(l,u,d,a,c))}}return o},Ae.boundingBoxTrees=function(e,t,r){null==r&&(r=1e-9);var i=[],o=[];i.push(e),o.push(t);for(var s=[];i.length>0;){var n=i.pop(),a=o.pop();if(!n.empty()&&!a.empty()&&n.boundingBox().intersects(a.boundingBox(),r)){var c=n.indivisible(r),h=a.indivisible(r);if(c&&h)s.push(new K(n.yield(),a.yield()));else if(!c||h)if(c||!h){var l=n.split(),u=a.split();i.push(l.item1),o.push(u.item1),i.push(l.item1),o.push(u.item0),i.push(l.item0),o.push(u.item1),i.push(l.item0),o.push(u.item0)}else{var d=n.split();i.push(d.item1),o.push(a),i.push(d.item0),o.push(a)}else{var v=a.split();i.push(n),o.push(v.item1),i.push(n),o.push(v.item0)}}}return s},Ae.curves=function(e,t,r){var i=Ae.boundingBoxTrees(new ve(e),new ve(t),0);return N.unique(i.map(function(i){return Ae.curvesWithEstimate(e,t,N.first(i.item0.knots),N.first(i.item1.knots),r)}).filter(function(e){return Te.distSquared(e.point0,e.point1)<r}),function(e,t){return Math.abs(e.u0-t.u0)<5*r})},Ae.curvesWithEstimate=function(e,t,r,i,o){var s=Pe.uncmin(function(r){var i=Oe.rationalCurvePoint(e,r[0]),o=Oe.rationalCurvePoint(t,r[1]),s=Te.sub(i,o);return Te.dot(s,s)},[r,i],o*o,function(r){var i=Oe.rationalCurveDerivatives(e,r[0],1),o=Oe.rationalCurveDerivatives(t,r[1],1),s=Te.sub(i[0],o[0]),n=i[1],a=Te.mul(-1,o[1]);return[2*Te.dot(n,s),2*Te.dot(a,s)]}),n=s.solution[0],a=s.solution[1],c=Oe.rationalCurvePoint(e,n),h=Oe.rationalCurvePoint(t,a);return new Q(c,h,n,a)},Ae.triangles=function(e,t,r,i){var o=e.faces[t],s=r.faces[i],n=ke.getTriangleNorm(e.points,o),a=ke.getTriangleNorm(r.points,s),c=e.points[o[0]],h=r.points[s[0]],l=Ae.planes(c,n,h,a);if(null==l)return null;var u=Ae.clipRayInCoplanarTriangle(l,e,t);if(null==u)return null;var d=Ae.clipRayInCoplanarTriangle(l,r,i);if(null==d)return null;var v=Ae.mergeTriangleClipIntervals(u,d,e,t,r,i);return null==v?null:new J(new te(v.min.uv0,v.min.uv1,v.min.point,t,i),new te(v.max.uv0,v.max.uv1,v.max.point,t,i))},Ae.clipRayInCoplanarTriangle=function(e,t,r){for(var i=t.faces[r],o=[t.points[i[0]],t.points[i[1]],t.points[i[2]]],s=[t.uvs[i[0]],t.uvs[i[1]],t.uvs[i[2]]],n=[Te.sub(s[1],s[0]),Te.sub(s[2],s[1]),Te.sub(s[0],s[2])],a=[Te.sub(o[1],o[0]),Te.sub(o[2],o[1]),Te.sub(o[0],o[2])],c=a.map(Te.normalized),h=a.map(Te.norm),l=null,u=null,d=0;d<3;){var v=d++,f=o[v],p=c[v],m=Ae.rays(f,p,e.origin,e.dir);if(null!=m){var g=m.u0,b=m.u1;g<-z.EPSILON||g>h[v]+z.EPSILON||((null==l||b<l.u)&&(l=new se(b,Te.onRay(e.origin,e.dir,b),Te.onRay(s[v],n[v],g/h[v]))),(null==u||b>u.u)&&(u=new se(b,Te.onRay(e.origin,e.dir,b),Te.onRay(s[v],n[v],g/h[v]))))}}return null==u||null==l?null:new J(l,u)},Ae.mergeTriangleClipIntervals=function(e,t,r,i,o,s){if(t.min.u>e.max.u+z.EPSILON||e.min.u>t.max.u+z.EPSILON)return null;var n,a;n=e.min.u>t.min.u?new K(e.min,0):new K(t.min,1),a=e.max.u<t.max.u?new K(e.max,0):new K(t.max,1);var c=new J(new te(null,null,n.item0.point,i,s),new te(null,null,a.item0.point,i,s));return 0==n.item1?(c.min.uv0=n.item0.uv,c.min.uv1=ke.triangleUVFromPoint(o,s,n.item0.point)):(c.min.uv0=ke.triangleUVFromPoint(r,i,n.item0.point),c.min.uv1=n.item0.uv),0==a.item1?(c.max.uv0=a.item0.uv,c.max.uv1=ke.triangleUVFromPoint(o,s,a.item0.point)):(c.max.uv0=ke.triangleUVFromPoint(r,i,a.item0.point),c.max.uv1=a.item0.uv),c},Ae.planes=function(e,t,r,i){var o=Te.cross(t,i);if(Te.dot(o,o)<z.EPSILON)return null;var s,n,a,c,h=0,l=Math.abs(o[0]),u=Math.abs(o[1]),d=Math.abs(o[2]);u>l&&(h=1,l=u),d>l&&(h=2,l=d),0==h?(s=t[1],n=t[2],a=i[1],c=i[2]):1==h?(s=t[0],n=t[2],a=i[0],c=i[2]):(s=t[0],n=t[1],a=i[0],c=i[1]);var v=-Te.dot(e,t),f=-Te.dot(r,i),p=s*c-n*a,m=(n*f-v*c)/p,g=(v*a-s*f)/p;return new q(0==h?[0,m,g]:1==h?[m,0,g]:[m,g,0],Te.normalized(o))},Ae.threePlanes=function(e,t,r,i,o,s){var n=Te.cross(r,o),a=Te.dot(e,n);if(Math.abs(a)<z.EPSILON)return null;var c=Te.sub(Te.mul(s,r),Te.mul(i,o)),h=Te.add(Te.mul(t,n),Te.cross(e,c));return Te.mul(1/a,h)},Ae.polylines=function(e,t,r){for(var i=Ae.boundingBoxTrees(new pe(e),new pe(t),r),o=[],s=0;s<i.length;){var n=i[s];++s;var a=n.item0,c=n.item1,h=Ae.segments(e.points[a],e.points[a+1],t.points[c],t.points[c+1],r);null!=h&&(h.u0=Te.lerp(h.u0,[e.params[a]],[e.params[a+1]])[0],h.u1=Te.lerp(h.u1,[t.params[c]],[t.params[c+1]])[0],o.push(h))}return o},Ae.segments=function(e,t,r,i,o){var s=Te.sub(t,e),n=Math.sqrt(Te.dot(s,s)),a=Te.mul(1/n,s),c=Te.sub(i,r),h=Math.sqrt(Te.dot(c,c)),l=Te.mul(1/h,c),u=Ae.rays(e,a,r,l);if(null!=u){var d=Math.min(Math.max(0,u.u0/n),1),v=Math.min(Math.max(0,u.u1/h),1),f=Te.onRay(e,s,d),p=Te.onRay(r,c,v);if(Te.distSquared(f,p)<o*o)return new Q(f,p,d,v)}return null},Ae.rays=function(e,t,r,i){var o=Te.dot(t,i),s=Te.dot(t,r),n=Te.dot(t,e),a=Te.dot(i,r),c=Te.dot(i,e),h=Te.dot(t,t),l=h*Te.dot(i,i)-o*o;if(Math.abs(l)<z.EPSILON)return null;var u=(o*(s-n)-h*(a-c))/l,d=(s-n+u*o)/h,v=Te.onRay(e,t,d),f=Te.onRay(r,i,u);return new Q(v,f,d,u)},Ae.segmentWithTriangle=function(e,t,r,i){var o=r[i[0]],s=r[i[1]],n=r[i[2]],a=Te.sub(s,o),c=Te.sub(n,o),h=Te.cross(a,c),l=Te.sub(t,e),u=Te.sub(e,o),d=-Te.dot(h,u),v=Te.dot(h,l);if(Math.abs(v)<z.EPSILON)return null;var f=d/v;if(f<0||f>1)return null;var p=Te.add(e,Te.mul(f,l)),m=Te.dot(a,c),g=Te.dot(a,a),b=Te.dot(c,c),k=Te.sub(p,o),_=Te.dot(k,a),P=Te.dot(k,c),C=m*m-g*b;if(Math.abs(C)<z.EPSILON)return null;var y=(m*P-b*_)/C,x=(m*_-g*P)/C;return y>1+z.EPSILON||x>1+z.EPSILON||x<-z.EPSILON||y<-z.EPSILON||y+x>1+z.EPSILON?null:new oe(p,y,x,f)},Ae.segmentAndPlane=function(e,t,r,i){var o=Te.dot(i,Te.sub(t,e));if(Math.abs(o)<z.EPSILON)return null;var s=Te.dot(i,Te.sub(r,e))/o;return s>1+z.EPSILON||s<-z.EPSILON?null:{p:s}};var Le=t.eval.Make=function(){};i["verb.eval.Make"]=Le,Le.__name__=["verb","eval","Make"],Le.rationalTranslationalSurface=function(e,t){for(var r=Oe.rationalCurvePoint(t,N.first(t.knots)),i=N.first(t.knots),o=N.last(t.knots),s=2*t.controlPoints.length,n=(o-i)/(s-1),a=[],c=0;c<s;){var h=c++,l=Te.sub(Oe.rationalCurvePoint(t,i+h*n),r),u=Fe.rationalCurveTransform(e,[[1,0,0,l[0]],[0,1,0,l[1]],[0,0,1,l[2]],[0,0,0,1]]);a.push(u)}return Le.loftedSurface(a)},Le.surfaceBoundaryCurves=function(e){return[Le.surfaceIsocurve(e,N.first(e.knotsU),!1),Le.surfaceIsocurve(e,N.last(e.knotsU),!1),Le.surfaceIsocurve(e,N.first(e.knotsV),!0),Le.surfaceIsocurve(e,N.last(e.knotsV),!0)]},Le.surfaceIsocurve=function(e,t,r){var i,o;null==r&&(r=!1),i=r?e.knotsV:e.knotsU,o=r?e.degreeV:e.degreeU;for(var s=We.knotMultiplicities(i),n=-1,a=0,c=s.length;a<c;){var h=a++;if(Math.abs(t-s[h].knot)<z.EPSILON){n=h;break}}var l,u=o+1;n>=0&&(u-=s[n].mult),l=u>0?Fe.surfaceKnotRefine(e,Te.rep(u,t),r):e;var d=Oe.knotSpan(o,t,i);return Math.abs(t-N.first(i))<z.EPSILON?d=0:Math.abs(t-N.last(i))<z.EPSILON&&(d=(r?l.controlPoints[0].length:l.controlPoints.length)-1),r?new G(l.degreeU,l.knotsU,function(){for(var e=[],t=0,r=l.controlPoints;t<r.length;){var i=r[t];++t,e.push(i[d])}return e}()):new G(l.degreeV,l.knotsV,l.controlPoints[d])},Le.loftedSurface=function(e,t){var r=(e=Fe.unifyCurveKnotVectors(e))[0].degree;null==t&&(t=3),t>e.length-1&&(t=e.length-1);for(var i=e[0].knots,o=[],s=[],n=0,a=e[0].controlPoints.length;n<a;){var c=[n++],h=e.map(function(e){return function(t){return t.controlPoints[e[0]]}}(c)),l=Le.rationalInterpCurve(h,t,!0);s.push(l.controlPoints),o=l.knots}return new Y(r,t,i,o,s)},Le.clonedCurve=function(e){return new G(e.degree,e.knots.slice(),e.controlPoints.map(function(e){return e.slice()}))},Le.rationalBezierCurve=function(e,t){for(var r=e.length-1,i=[],o=0,s=r+1;o<s;)o++,i.push(0);for(var n=0,a=r+1;n<a;)n++,i.push(1);return null==t&&(t=Te.rep(e.length,1)),new G(r,i,Oe.homogenize1d(e,t))},Le.fourPointSurface=function(e,t,r,i,o){null==o&&(o=3);for(var s=o,n=[],a=0,c=o+1;a<c;){for(var h=a++,l=[],u=0,d=o+1;u<d;){var v=u++,f=1-h/s,p=Te.lerp(f,e,t),m=Te.lerp(f,i,r),g=Te.lerp(1-v/s,p,m);g.push(1),l.push(g)}n.push(l)}var b=Te.rep(o+1,0),k=Te.rep(o+1,1);return new Y(o,o,b.concat(k),b.concat(k),n)},Le.ellipseArc=function(e,t,r,i,o){var s=Te.norm(t),n=Te.norm(r);t=Te.normalized(t),r=Te.normalized(r),o<i&&(o=2*Math.PI+i);var a,c=o-i,h=c/(a=c<=Math.PI/2?1:c<=Math.PI?2:c<=3*Math.PI/2?3:4),l=Math.cos(h/2),u=Te.add(e,Te.add(Te.mul(s*Math.cos(i),t),Te.mul(n*Math.sin(i),r))),d=Te.sub(Te.mul(Math.cos(i),r),Te.mul(Math.sin(i),t)),v=[],f=Te.zeros1d(2*a+3),p=0,m=i,g=Te.zeros1d(2*a);v[0]=u,g[0]=1;for(var b=1,k=a+1;b<k;){var _=b++;m+=h;var P=Te.add(e,Te.add(Te.mul(s*Math.cos(m),t),Te.mul(n*Math.sin(m),r)));g[p+2]=1,v[p+2]=P;var C=Te.sub(Te.mul(Math.cos(m),r),Te.mul(Math.sin(m),t)),y=Ae.rays(u,Te.mul(1/Te.norm(d),d),P,Te.mul(1/Te.norm(C),C)),x=Te.add(u,Te.mul(y.u0,d));g[p+1]=l,v[p+1]=x,p+=2,_<a&&(u=P,d=C)}for(var w=2*a+1,T=0;T<3;){var W=T++;f[W]=0,f[W+w]=1}switch(a){case 2:f[3]=f[4]=.5;break;case 3:f[3]=f[4]=.3333333333333333,f[5]=f[6]=.6666666666666666;break;case 4:f[3]=f[4]=.25,f[5]=f[6]=.5,f[7]=f[8]=.75}return new G(2,f,Oe.homogenize1d(v,g))},Le.arc=function(e,t,r,i,o,s){return Le.ellipseArc(e,Te.mul(i,Te.normalized(t)),Te.mul(i,Te.normalized(r)),o,s)},Le.polyline=function(e){for(var t,r=[0,0],i=0,o=0,s=e.length-1;o<s;){var n=o++;i+=Te.dist(e[n],e[n+1]),r.push(i)}r.push(i),r=Te.mul(1/i,r);for(var a=[],c=0,h=e.length;c<h;)c++,a.push(1);return t=a,new G(1,r,Oe.homogenize1d(e.slice(0),t))},Le.extrudedSurface=function(e,t,r){for(var i=[[],[],[]],o=[[],[],[]],s=Oe.dehomogenize1d(r.controlPoints),n=Oe.weight1d(r.controlPoints),a=Te.mul(t,e),c=Te.mul(.5*t,e),h=0,l=s.length;h<l;){var u=h++;i[2][u]=s[u],i[1][u]=Te.add(c,s[u]),i[0][u]=Te.add(a,s[u]),o[0][u]=n[u],o[1][u]=n[u],o[2][u]=n[u]}return new Y(2,r.degree,[0,0,0,1,1,1],r.knots,Oe.homogenize2d(i,o))},Le.cylindricalSurface=function(e,t,r,i,o){var s=Te.cross(e,t),n=(Math.PI,Le.arc(r,t,s,o,0,2*Math.PI));return Le.extrudedSurface(e,i,n)},Le.revolvedSurface=function(e,t,r,i){var o,s,n=Oe.dehomogenize1d(e.controlPoints),a=Oe.weight1d(e.controlPoints);i<=Math.PI/2?(o=1,s=Te.zeros1d(6+2*(o-1))):i<=Math.PI?(o=2,(s=Te.zeros1d(6+2*(o-1)))[3]=s[4]=.5):i<=3*Math.PI/2?(o=3,(s=Te.zeros1d(6+2*(o-1)))[3]=s[4]=.3333333333333333,s[5]=s[6]=.6666666666666666):(o=4,(s=Te.zeros1d(6+2*(o-1)))[3]=s[4]=.25,s[5]=s[6]=.5,s[7]=s[8]=.75);for(var c=i/o,h=3+2*(o-1),l=0;l<3;){var u=l++;s[u]=0,s[h+u]=1}for(var d=Math.cos(c/2),v=0,f=Te.zeros1d(o+1),p=Te.zeros1d(o+1),m=Te.zeros3d(2*o+1,n.length,3),g=Te.zeros2d(2*o+1,n.length),b=1,k=o+1;b<k;){var _=b++;v+=c,p[_]=Math.cos(v),f[_]=Math.sin(v)}for(var P=0,C=n.length;P<C;){var y=P++,x=we.rayClosestPoint(n[y],t,r),w=Te.sub(n[y],x),T=Te.norm(w),W=Te.cross(r,w);T>z.EPSILON&&(w=Te.mul(1/T,w),W=Te.mul(1/T,W)),m[0][y]=n[y];var S=n[y];g[0][y]=a[y];for(var M=W,D=0,E=1,O=o+1;E<O;){var A,L=E++;A=0==T?x:Te.add(x,Te.add(Te.mul(T*p[L],w),Te.mul(T*f[L],W))),m[D+2][y]=A,g[D+2][y]=a[y];var F=Te.sub(Te.mul(p[L],W),Te.mul(f[L],w));if(0==T)m[D+1][y]=x;else{var I=Ae.rays(S,Te.mul(1/Te.norm(M),M),A,Te.mul(1/Te.norm(F),F)),R=Te.add(S,Te.mul(I.u0,M));m[D+1][y]=R}g[D+1][y]=d*a[y],D+=2,L<o&&(S=A,M=F)}}return new Y(2,e.degree,s,e.knots,Oe.homogenize2d(m,g))},Le.sphericalSurface=function(e,t,r,i){var o=Le.arc(e,Te.mul(-1,t),r,i,0,Math.PI);return Le.revolvedSurface(o,e,t,2*Math.PI)},Le.conicalSurface=function(e,t,r,i,o){var s=2*Math.PI,n=[Te.add(r,Te.mul(i,e)),Te.add(r,Te.mul(o,t))],a=new G(1,[0,0,1,1],Oe.homogenize1d(n,[1,1]));return Le.revolvedSurface(a,r,e,s)},Le.rationalInterpCurve=function(e,t,r,i,o){if(null==r&&(r=!1),null==t&&(t=3),e.length<t+1)throw new T("You need to supply at least degree + 1 points! You only supplied "+e.length+" points.");for(var s=[0],n=1,a=e.length;n<a;){var c=n++,h=Te.norm(Te.sub(e[c],e[c-1])),l=s[s.length-1];s.push(l+h)}for(var u=s[s.length-1],d=0,v=s.length;d<v;){var f=d++;s[f]=s[f]/u}var p,m,g=Te.rep(t+1,0),b=null!=i&&null!=o;p=b?0:1,m=b?s.length-t+1:s.length-t;for(var k=p;k<m;){for(var _=k++,P=0,C=0;C<t;)P+=s[_+C++];g.push(1/t*P)}var y,x,w=g.concat(Te.rep(t+1,1)),W=[];y=b?e.length+1:e.length-1,x=b?e.length-(t-1):e.length-(t+1);for(var S=0;S<s.length;){var M=s[S];++S;var D=Oe.knotSpanGivenN(y,t,M,w),E=Oe.basisFunctionsGivenKnotSpanIndex(D,M,t,w),O=D-t,A=Te.zeros1d(O),L=Te.zeros1d(x-O);W.push(A.concat(E).concat(L))}if(b){var F=W[0].length-2,I=[-1,1].concat(Te.zeros1d(F)),R=Te.zeros1d(F).concat([-1,1]);N.spliceAndInsert(W,1,0,I),N.spliceAndInsert(W,W.length-1,0,R)}for(var B=e[0].length,U=[],j=(1-w[w.length-t-2])/t,z=w[t+1]/t,V=0;V<B;){var H,q=[V++];if(b){(H=[e[0][q[0]]]).push(z*i[q[0]]);for(var Y=1,X=e.length-1;Y<X;){var Z=Y++;H.push(e[Z][q[0]])}H.push(j*o[q[0]]),H.push(N.last(e)[q[0]])}else H=e.map(function(e){return function(t){return t[e[0]]}}(q));var $=ge.solve(W,H);U.push($)}var K=ge.transpose(U);if(!r){var J=Te.rep(K.length,1);K=Oe.homogenize1d(K,J)}return new G(t,w,K)};var Fe=t.eval.Modify=function(){};i["verb.eval.Modify"]=Fe,Fe.__name__=["verb","eval","Modify"],Fe.curveReverse=function(e){return new G(e.degree,Fe.knotsReverse(e.knots),N.reversed(e.controlPoints))},Fe.surfaceReverse=function(e,t){return null==t&&(t=!1),t?new Y(e.degreeU,e.degreeV,e.knotsU,Fe.knotsReverse(e.knotsV),function(){for(var t=[],r=0,i=e.controlPoints;r<i.length;){var o=i[r];++r,t.push(N.reversed(o))}return t}()):new Y(e.degreeU,e.degreeV,Fe.knotsReverse(e.knotsU),e.knotsV,N.reversed(e.controlPoints))},Fe.knotsReverse=function(e){for(var t=N.first(e),r=(N.last(e),[t]),i=e.length,o=1;o<i;){var s=o++;r.push(r[s-1]+(e[i-s]-e[i-s-1]))}return r},Fe.unifyCurveKnotVectors=function(e){e=e.map(Le.clonedCurve);for(var t,r=a.fold(e,function(e,t){return Fe.imax(e.degree,t)},0),i=0,o=e.length;i<o;){var s=i++;e[s].degree<r&&(e[s]=Fe.curveElevateDegree(e[s],r))}for(var n=[],c=0;c<e.length;){var h=e[c];++c,n.push(new J(N.first(h.knots),N.last(h.knots)))}t=n;for(var l=0,u=e.length;l<u;){var d=l++,v=[t[d].min];e[d].knots=e[d].knots.map(function(e){return function(t){return t-e[0]}}(v))}for(var f=t.map(function(e){return e.max-e.min}),p=a.fold(f,function(e,t){return Math.max(e,t)},0),m=0,g=e.length;m<g;){var b=m++,k=[p/f[b]];e[b].knots=e[b].knots.map(function(e){return function(t){return t*e[0]}}(k))}for(var _=a.fold(e,function(e,t){return Te.sortedSetUnion(e.knots,t)},[]),P=0,C=e.length;P<C;){var y=P++,x=Te.sortedSetSub(_,e[y].knots);0==x.length&&(e[y]=e[y]),e[y]=Fe.curveKnotRefine(e[y],x)}return e},Fe.imin=function(e,t){return e<t?e:t},Fe.imax=function(e,t){return e>t?e:t},Fe.curveElevateDegree=function(e,t){if(t<=e.degree)return e;var r=e.knots.length-e.degree-2,i=e.degree,o=e.knots,s=e.controlPoints,n=t-e.degree,a=e.controlPoints[0].length,c=Te.zeros2d(i+n+1,i+1),h=[],l=[],u=[],d=r+i+1,v=t,f=Math.floor(v/2),p=[],m=[];c[0][0]=1,c[v][i]=1;for(var g=1,b=f+1;g<b;)for(var k=g++,_=1/U.get(v,k),P=Fe.imin(i,k),C=Fe.imax(0,k-n),y=P+1;C<y;){var x=C++;c[k][x]=_*U.get(i,x)*U.get(n,k-x)}for(var w=f+1;w<v;)for(var T=w++,W=Fe.imin(i,T),S=Fe.imax(0,T-n),M=W+1;S<M;){var D=S++;c[T][D]=c[v-T][i-D]}var E=v+1,O=-1,A=i,L=i+1,F=1,I=o[0];p[0]=s[0];for(var R=0,B=v+1;R<B;)m[R++]=I;for(var N=0,j=i+1;N<j;){var z=N++;h[z]=s[z]}for(;L<d;){for(var V=L;L<d&&o[L]==o[L+1];)L+=1;var H,q,Y=L-V+1,X=o[L],Z=O;if(O=i-Y,H=Z>0?Math.floor((Z+2)/2):1,q=O>0?Math.floor(v-(O+1)/2):v,O>0){for(var $=X-I,K=[],J=i;J>Y;)K[J-Y-1]=$/(o[A+J]-I),J--;for(var Q=1,ee=O+1;Q<ee;){for(var te=Q++,re=O-te,ie=Y+te,oe=i;oe>=ie;)h[oe]=Te.add(Te.mul(K[oe-ie],h[oe]),Te.mul(1-K[oe-ie],h[oe-1])),oe--;u[re]=h[i]}}for(var se=H,ne=v+1;se<ne;){var ae=se++;l[ae]=Te.zeros1d(a);for(var ce=Fe.imin(i,ae),he=Fe.imax(0,ae-n),le=ce+1;he<le;){var ue=he++;l[ae]=Te.add(l[ae],Te.mul(c[ae][ue],h[ue]))}}if(Z>1)for(var de=E-2,ve=E,fe=X-I,pe=(X-m[E-1])/fe,me=1;me<Z;){for(var ge=me++,be=de,ke=ve,_e=ke-E+1;ke-be>ge;){if(be<F){var Pe=(X-m[be])/(I-m[be]);p[be]=Te.lerp(Pe,p[be],p[be-1])}if(ke>=H){if(ke-ge<=E-v+Z){var Ce=(X-m[ke-ge])/fe;l[_e]=Te.lerp(Ce,l[_e],l[_e+1])}}else l[_e]=Te.lerp(pe,l[_e],l[_e+1]);be+=1,ke-=1,_e-=1}de-=1,ve+=1}if(A!=i)for(var ye=0,xe=v-Z;ye<xe;)ye++,m[E]=I,E+=1;for(var we=H,We=q+1;we<We;){var Se=we++;p[F]=l[Se],F+=1}if(L<d){for(var Me=0;Me<O;){var De=Me++;h[De]=u[De]}for(var Ee=O,Oe=i+1;Ee<Oe;){var Ae=Ee++;h[Ae]=s[L-i+Ae]}A=L,L+=1,I=X}else for(var Le=0,Ie=v+1;Le<Ie;)m[E+Le++]=X}return new G(t,m,p)},Fe.rationalSurfaceTransform=function(e,t){for(var r=Oe.dehomogenize2d(e.controlPoints),i=0,o=r.length;i<o;)for(var s=i++,n=0,a=r[s].length;n<a;){var c=n++,h=r[s][c];h.push(1),r[s][c]=ge.dot(t,h).slice(0,h.length-1)}return new Y(e.degreeU,e.degreeV,e.knotsU.slice(),e.knotsV.slice(),Oe.homogenize2d(r,Oe.weight2d(e.controlPoints)))},Fe.rationalCurveTransform=function(e,t){for(var r=Oe.dehomogenize1d(e.controlPoints),i=0,o=r.length;i<o;){var s=i++,n=r[s];n.push(1),r[s]=ge.dot(t,n).slice(0,n.length-1)}return new G(e.degree,e.knots.slice(),Oe.homogenize1d(r,Oe.weight1d(e.controlPoints)))},Fe.surfaceKnotRefine=function(e,t,r){var i,o,s,n=[];r?(s=e.controlPoints,i=e.knotsV,o=e.degreeV):(s=ge.transpose(e.controlPoints),i=e.knotsU,o=e.degreeU);for(var a=null,c=0;c<s.length;){var h=s[c];++c,a=Fe.curveKnotRefine(new G(o,i,h),t),n.push(a.controlPoints)}var l=a.knots;return r?new Y(e.degreeU,e.degreeV,e.knotsU.slice(),l,n):(n=ge.transpose(n),new Y(e.degreeU,e.degreeV,l,e.knotsV.slice(),n))},Fe.decomposeCurveIntoBeziers=function(e){for(var t=e.degree,r=e.controlPoints,i=e.knots,o=We.knotMultiplicities(i),s=t+1,n=0;n<o.length;){var a=o[n];if(++n,a.mult<s){var c=Te.rep(s-a.mult,a.knot),h=Fe.curveKnotRefine(new G(t,i,r),c);i=h.knots,r=h.controlPoints}}i.length;for(var l=2*s,u=[],d=0;d<r.length;){var v=i.slice(d,d+l),f=r.slice(d,d+s);u.push(new G(t,v,f)),d+=s}return u},Fe.curveKnotRefine=function(e,t){if(0==t.length)return Le.clonedCurve(e);for(var r=e.degree,i=e.controlPoints,o=e.knots,s=i.length-1,n=s+r+1,a=t.length-1,c=Oe.knotSpan(r,t[0],o),h=Oe.knotSpan(r,t[a],o),l=[],u=[],d=0,v=c-r+1;d<v;){var f=d++;l[f]=i[f]}for(var p=h-1,m=s+1;p<m;){var g=p++;l[g+a+1]=i[g]}for(var b=0,k=c+1;b<k;){var _=b++;u[_]=o[_]}for(var P=h+r,C=n+1;P<C;){var y=P++;u[y+a+1]=o[y]}for(var x=h+r-1,w=h+r+a,T=a;T>=0;){for(;t[T]<=o[x]&&x>c;)l[w-r-1]=i[x-r-1],u[w]=o[x],w-=1,x-=1;l[w-r-1]=l[w-r];for(var W=1,S=r+1;W<S;){var M=W++,D=w-r+M,E=u[w+M]-t[T];Math.abs(E)<z.EPSILON?l[D-1]=l[D]:(E/=u[w+M]-o[x-r+M],l[D-1]=Te.add(Te.mul(E,l[D-1]),Te.mul(1-E,l[D])))}u[w]=t[T],w-=1,T--}return new G(r,u,l)},Fe.curveKnotInsert=function(e,t,r){for(var i=e.degree,o=e.controlPoints,s=e.knots,n=o.length,a=Oe.knotSpan(i,t,s),c=[],h=[],l=[],u=1,d=a+1;u<d;){var v=u++;h[v]=s[v]}for(var f=1,p=r+1;f<p;)h[a+f++]=t;for(var m=a+1,g=s.length;m<g;){var b=m++;h[b+r]=s[b]}for(var k=0,_=a-i+1;k<_;){var P=k++;l[P]=o[P]}for(var C=a-0;C<n;){var y=C++;l[y+r]=o[y]}for(var x=0,w=i-0+1;x<w;){var T=x++;c[T]=o[a-i+T]}for(var W=0,S=0,M=1,D=r+1;M<D;){var E=M++;W=a-i+E;for(var O=0,A=i-E-0+1;O<A;){var L=O++;S=(t-s[W+L])/(s[L+a+1]-s[W+L]),c[L]=Te.add(Te.mul(S,c[L+1]),Te.mul(1-S,c[L]))}l[W]=c[0],l[a+r-E-0]=c[i-E-0]}for(var F=W+1,I=a-0;F<I;){var R=F++;l[R]=c[R-W]}return new G(i,h,l)};var Ie=t.eval.Tess=function(){};i["verb.eval.Tess"]=Ie,Ie.__name__=["verb","eval","Tess"],Ie.rationalCurveRegularSample=function(e,t,r){return Ie.rationalCurveRegularSampleRange(e,e.knots[0],N.last(e.knots),t,r)},Ie.rationalCurveRegularSampleRange=function(e,t,r,i,o){i<1&&(i=2);for(var s=[],n=(r-t)/(i-1),a=0,c=0;c<i;)a=t+n*c++,o?s.push([a].concat(Oe.rationalCurvePoint(e,a))):s.push(Oe.rationalCurvePoint(e,a));return s},Ie.rationalCurveAdaptiveSample=function(e,t,r){if(null==r&&(r=!1),null==t&&(t=1e-6),1==e.degree){if(r){for(var i=[],o=0,s=e.controlPoints.length;o<s;){var n=o++;i.push([e.knots[n+1]].concat(Oe.dehomogenize(e.controlPoints[n])))}return i}return e.controlPoints.map(Oe.dehomogenize)}return Ie.rationalCurveAdaptiveSampleRange(e,e.knots[0],N.last(e.knots),t,r)},Ie.rationalCurveAdaptiveSampleRange=function(e,t,r,i,o){var s=Oe.rationalCurvePoint(e,t),n=Oe.rationalCurvePoint(e,r),a=t+(r-t)*(.5+.2*Math.random()),c=Oe.rationalCurvePoint(e,a),h=Te.sub(s,n),l=Te.sub(s,c);if(Te.dot(h,h)<i&&Te.dot(l,l)>i||!we.threePointsAreFlat(s,c,n,i)){var u=t+.5*(r-t),d=Ie.rationalCurveAdaptiveSampleRange(e,t,u,i,o),v=Ie.rationalCurveAdaptiveSampleRange(e,u,r,i,o);return d.slice(0,-1).concat(v)}return o?[[t].concat(s),[r].concat(n)]:[s,n]},Ie.rationalSurfaceNaive=function(e,t,r){t<1&&(t=1),r<1&&(r=1),e.degreeU,e.degreeV,e.controlPoints;for(var i=e.knotsU,o=e.knotsV,s=(N.last(i)-i[0])/t,n=(N.last(o)-o[0])/r,a=[],c=[],h=[],l=0,u=t+1;l<u;)for(var d=l++,v=0,f=r+1;v<f;){var p=d*s,m=v++*n;c.push([p,m]);var g=Oe.rationalSurfaceDerivatives(e,p,m,1),b=g[0][0];a.push(b);var k=Te.normalized(Te.cross(g[1][0],g[0][1]));h.push(k)}for(var _=[],P=0;P<t;)for(var C=P++,y=0;y<r;){var x=y++,w=C*(r+1)+x,T=(C+1)*(r+1)+x,W=T+1,S=[w,T,W],M=[w,W,w+1];_.push(S),_.push(M)}return new X(_,a,h,c)},Ie.divideRationalSurfaceAdaptive=function(e,t){null==t&&(t=new Re),null!=t.minDivsU?t.minDivsU=t.minDivsU:t.minDivsU=1,null!=t.minDivsV?t.minDivsU=t.minDivsV:t.minDivsU=1,null!=t.refine?t.refine=t.refine:t.refine=!0;var r,i,o=2*(e.controlPoints.length-1),s=2*(e.controlPoints[0].length-1);r=t.minDivsU>o?t.minDivsU=t.minDivsU:t.minDivsU=o,i=t.minDivsV>s?t.minDivsV=t.minDivsV:t.minDivsV=s;for(var n=N.last(e.knotsU),a=e.knotsU[0],c=N.last(e.knotsV),h=e.knotsV[0],l=(n-a)/r,u=(c-h)/i,d=[],v=[],f=0,p=i+1;f<p;){for(var m=f++,g=[],b=0,k=r+1;b<k;){var _=a+l*b++,P=h+u*m,C=Oe.rationalSurfaceDerivatives(e,_,P,1),y=Te.normalized(Te.cross(C[0][1],C[1][0]));g.push(new ne(C[0][0],y,[_,P],-1,Te.isZero(y)))}v.push(g)}for(var x=0;x<i;)for(var w=x++,T=0;T<r;){var W=T++,S=[v[i-w-1][W],v[i-w-1][W+1],v[i-w][W+1],v[i-w][W]];d.push(new Be(e,S))}if(!t.refine)return d;for(var M=0;M<i;)for(var D=M++,E=0;E<r;){var O=E++,A=D*r+O,L=Ie.north(A,D,O,r,i,d),F=Ie.east(A,D,O,r,i,d),I=Ie.south(A,D,O,r,i,d),R=Ie.west(A,D,O,r,i,d);d[A].neighbors=[I,F,L,R],d[A].divide(t)}return d},Ie.north=function(e,t,r,i,o,s){return 0==t?null:s[e-i]},Ie.south=function(e,t,r,i,o,s){return t==o-1?null:s[e+i]},Ie.east=function(e,t,r,i,o,s){return r==i-1?null:s[e+1]},Ie.west=function(e,t,r,i,o,s){return 0==r?null:s[e-1]},Ie.triangulateAdaptiveRefinementNodeTree=function(e){for(var t=X.empty(),r=0;r<e.length;){var i=e[r];++r,i.triangulate(t)}return t},Ie.rationalSurfaceAdaptive=function(e,t){null!=t||(t=new Re);var r=Ie.divideRationalSurfaceAdaptive(e,t);return Ie.triangulateAdaptiveRefinementNodeTree(r)};var Re=t.core.AdaptiveRefinementOptions=function(){this.minDivsV=1,this.minDivsU=1,this.refine=!0,this.maxDepth=10,this.minDepth=0,this.normTol=.025};i["verb.eval.AdaptiveRefinementOptions"]=Re,Re.__name__=["verb","eval","AdaptiveRefinementOptions"],Re.prototype={__class__:Re};var Be=t.core.AdaptiveRefinementNode=function(e,t,r){if(this.srf=e,this.neighbors=null==r?[null,null,null,null]:r,this.corners=t,null==this.corners){var i=e.knotsU[0],o=N.last(e.knotsU),s=e.knotsV[0],n=N.last(e.knotsV);this.corners=[ne.fromUv(i,s),ne.fromUv(o,s),ne.fromUv(o,n),ne.fromUv(i,n)]}};i["verb.eval.AdaptiveRefinementNode"]=Be,Be.__name__=["verb","eval","AdaptiveRefinementNode"],Be.prototype={isLeaf:function(){return null==this.children},center:function(){return null!=this.centerPoint?this.centerPoint:this.evalSrf(this.u05,this.v05)},evalCorners:function(){this.u05=(this.corners[0].uv[0]+this.corners[2].uv[0])/2,this.v05=(this.corners[0].uv[1]+this.corners[2].uv[1])/2;for(var e=0;e<4;){var t=e++;if(null==this.corners[t].point){var r=this.corners[t];this.evalSrf(r.uv[0],r.uv[1],r)}}},evalSrf:function(e,t,r){var i=Oe.rationalSurfaceDerivatives(this.srf,e,t,1),o=i[0][0],s=Te.cross(i[0][1],i[1][0]),n=Te.isZero(s);return n||(s=Te.normalized(s)),null!=r?(r.degen=n,r.point=o,r.normal=s,r):new ne(o,s,[e,t],-1,n)},getEdgeCorners:function(e){if(this.isLeaf())return[this.corners[e]];if(this.horizontal)switch(e){case 0:return this.children[0].getEdgeCorners(0);case 1:return this.children[0].getEdgeCorners(1).concat(this.children[1].getEdgeCorners(1));case 2:return this.children[1].getEdgeCorners(2);case 3:return this.children[1].getEdgeCorners(3).concat(this.children[0].getEdgeCorners(3))}switch(e){case 0:return this.children[0].getEdgeCorners(0).concat(this.children[1].getEdgeCorners(0));case 1:return this.children[1].getEdgeCorners(1);case 2:return this.children[1].getEdgeCorners(2).concat(this.children[0].getEdgeCorners(2));case 3:return this.children[0].getEdgeCorners(3)}return null},getAllCorners:function(e){var t=[this.corners[e]];if(null==this.neighbors[e])return t;var r=this.neighbors[e].getEdgeCorners((e+2)%4),i=e%2,o=z.EPSILON,s=this,n=[function(e){return e.uv[0]>s.corners[0].uv[0]+o&&e.uv[0]<s.corners[2].uv[0]-o},function(e){return e.uv[1]>s.corners[0].uv[1]+o&&e.uv[1]<s.corners[2].uv[1]-o}],a=r.filter(n[i]);return a.reverse(),t.concat(a)},midpoint:function(e){if(null==this.midPoints&&(this.midPoints=[null,null,null,null]),null!=this.midPoints[e])return this.midPoints[e];switch(e){case 0:this.midPoints[0]=this.evalSrf(this.u05,this.corners[0].uv[1]);break;case 1:this.midPoints[1]=this.evalSrf(this.corners[1].uv[0],this.v05);break;case 2:this.midPoints[2]=this.evalSrf(this.u05,this.corners[2].uv[1]);break;case 3:this.midPoints[3]=this.evalSrf(this.corners[0].uv[0],this.v05)}return this.midPoints[e]},hasBadNormals:function(){return this.corners[0].degen||this.corners[1].degen||this.corners[2].degen||this.corners[3].degen},fixNormals:function(){for(var e=this.corners.length,t=0;t<e;){var r=t++;if(this.corners[r],this.corners[r].degen){var i=this.corners[(r+1)%e],o=this.corners[(r+3)%e];i.degen?this.corners[r].normal=o.normal:this.corners[r].normal=i.normal}}},shouldDivide:function(e,t){if(t<e.minDepth)return!0;if(t>=e.maxDepth)return!1;if(this.hasBadNormals())return this.fixNormals(),!1;if(this.splitVert=Te.normSquared(Te.sub(this.corners[0].normal,this.corners[1].normal))>e.normTol||Te.normSquared(Te.sub(this.corners[2].normal,this.corners[3].normal))>e.normTol,this.splitHoriz=Te.normSquared(Te.sub(this.corners[1].normal,this.corners[2].normal))>e.normTol||Te.normSquared(Te.sub(this.corners[3].normal,this.corners[0].normal))>e.normTol,this.splitVert||this.splitHoriz)return!0;var r=this.center();return Te.normSquared(Te.sub(r.normal,this.corners[0].normal))>e.normTol||Te.normSquared(Te.sub(r.normal,this.corners[1].normal))>e.normTol||Te.normSquared(Te.sub(r.normal,this.corners[2].normal))>e.normTol||Te.normSquared(Te.sub(r.normal,this.corners[3].normal))>e.normTol},divide:function(e){null==e&&(e=new Re),null==e.normTol&&(e.normTol=.085),null==e.minDepth&&(e.minDepth=0),null==e.maxDepth&&(e.maxDepth=10),this._divide(e,0,!0)},_divide:function(e,t,r){if(this.evalCorners(),this.shouldDivide(e,t)){if(t++,this.splitVert&&!this.splitHoriz?r=!1:!this.splitVert&&this.splitHoriz&&(r=!0),this.horizontal=r,this.horizontal){var i=[this.corners[0],this.corners[1],this.midpoint(1),this.midpoint(3)],o=[this.midpoint(3),this.midpoint(1),this.corners[2],this.corners[3]];this.children=[new Be(this.srf,i),new Be(this.srf,o)],this.children[0].neighbors=[this.neighbors[0],this.neighbors[1],this.children[1],this.neighbors[3]],this.children[1].neighbors=[this.children[0],this.neighbors[1],this.neighbors[2],this.neighbors[3]]}else{var s=[this.corners[0],this.midpoint(0),this.midpoint(2),this.corners[3]],n=[this.midpoint(0),this.corners[1],this.corners[2],this.midpoint(2)];this.children=[new Be(this.srf,s),new Be(this.srf,n)],this.children[0].neighbors=[this.neighbors[0],this.children[1],this.neighbors[2],this.neighbors[3]],this.children[1].neighbors=[this.neighbors[0],this.neighbors[1],this.neighbors[2],this.children[0]]}for(var a=0,c=this.children;a<c.length;){var h=c[a];++a,h._divide(e,t,!r)}}},triangulate:function(e){if(null==e&&(e=X.empty()),this.isLeaf())return this.triangulateLeaf(e);for(var t=0,r=this.children;t<r.length;){var i=r[t];if(++t,null==i)break;i.triangulate(e)}return e},triangulateLeaf:function(e){for(var t=e.points.length,r=[],i=[],o=0,s=0;s<4;){var n=s++,a=this.getAllCorners(n);2==a.length&&(o=n+1);for(var c=0,h=a.length;c<h;){var l=c++;r.push(a[l])}}for(var u=0;u<r.length;){var d=r[u];++u,-1==d.id?(e.uvs.push(d.uv),e.points.push(d.point),e.normals.push(d.normal),d.id=t,i.push(t),t++):i.push(d.id)}if(4==r.length)return e.faces.push([i[0],i[3],i[1]]),e.faces.push([i[3],i[2],i[1]]),e;if(5==r.length){var v=i.length;return e.faces.push([i[o],i[(o+2)%v],i[(o+1)%v]]),e.faces.push([i[(o+4)%v],i[(o+3)%v],i[o]]),e.faces.push([i[o],i[(o+3)%v],i[(o+2)%v]]),e}var f=this.center();e.uvs.push(f.uv),e.points.push(f.point),e.normals.push(f.normal);for(var p=e.points.length-1,m=0,g=r.length-1;m<r.length;)e.faces.push([p,i[m],i[g]]),g=m++;return e},__class__:Be};var Ne=t.exe.Dispatcher=function(){};i["verb.exe.Dispatcher"]=Ne,Ne.__name__=["verb","exe","Dispatcher"],Ne.init=function(){Ne._init||(Ne._workerPool=new Ue(Ne.THREADS),Ne._init=!0)},Ne.dispatchMethod=function(e,t,r){Ne.init();var i=new O;return Ne._workerPool.addWork(f.getClassName(e),t,r,function(e){i.resolve(e)}),new A(i)};var Ue=t.exe.WorkerPool=function(e,t){null==t&&(t="verb.js"),null==e&&(e=1),this._callbacks=new k,this._working=new k,this._pool=[],this._queue=[];for(var r=0;r<e;){var i;r++;try{i=new Worker(Ue.basePath+t)}catch(e){e instanceof T&&(e=e.val),i=new Worker(Ue.basePath+t.substring(0,-3)+".min.js")}this._pool.push(i)}};i["verb.exe.WorkerPool"]=Ue,Ue.__name__=["verb","exe","WorkerPool"],Ue.prototype={addWork:function(e,t,r,i){var o=new je(e,t,r);this._callbacks.set(o.id,i),this._queue.push(o),this.processQueue()},processQueue:function(){for(var t=this;this._queue.length>0&&this._pool.length>0;){var r=this._queue.shift(),i=[r.id],o=[this._pool.shift()];this._working.h[i[0]]=o[0],o[0].onmessage=function(r,i){return function(o){t._working.remove(i[0]),t._pool.push(r[0]);try{t._callbacks.h.hasOwnProperty(i[0])&&(t._callbacks.h[i[0]](o.data.result),t._callbacks.remove(i[0]))}catch(t){t instanceof T&&(t=t.val),e.log(t)}t.processQueue()}}(o,i),o[0].postMessage(r)}},__class__:Ue};var je=function(e,t,r){this.className=e,this.methodName=t,this.args=r,this.id=je.uuid++};i["verb.exe._WorkerPool.Work"]=je,je.__name__=["verb","exe","_WorkerPool","Work"],je.prototype={__class__:je};var ze=function(){};i["verb.geom.ICurve"]=ze,ze.__name__=["verb","geom","ICurve"],ze.__interfaces__=[ye],ze.prototype={__class__:ze};var Ve=t.geom.NurbsCurve=function(e){this._data=Me.isValidNurbsCurveData(e)};i["verb.geom.NurbsCurve"]=Ve,Ve.__name__=["verb","geom","NurbsCurve"],Ve.__interfaces__=[ze],Ve.byKnotsControlPointsWeights=function(e,t,r,i){return new Ve(new G(e,t.slice(),Oe.homogenize1d(r,i)))},Ve.byPoints=function(e,t){return null==t&&(t=3),new Ve(Le.rationalInterpCurve(e,t))},Ve.__super__=V,Ve.prototype=s(V.prototype,{degree:function(){return this._data.degree},knots:function(){return this._data.knots.slice(0)},controlPoints:function(){return Oe.dehomogenize1d(this._data.controlPoints)},weights:function(){return Oe.weight1d(this._data.controlPoints)},asNurbs:function(){return new G(this.degree(),this.knots(),Oe.homogenize1d(this.controlPoints(),this.weights()))},clone:function(){return new Ve(this._data)},domain:function(){return new J(N.first(this._data.knots),N.last(this._data.knots))},transform:function(e){return new Ve(Fe.rationalCurveTransform(this._data,e))},transformAsync:function(e){return Ne.dispatchMethod(Fe,"rationalCurveTransform",[this._data,e]).then(function(e){return new Ve(e)})},point:function(e){return Oe.rationalCurvePoint(this._data,e)},pointAsync:function(e){return Ne.dispatchMethod(Oe,"rationalCurvePoint",[this._data,e])},tangent:function(e){return Oe.rationalCurveTangent(this._data,e)},tangentAsync:function(e){return Ne.dispatchMethod(Oe,"rationalCurveTangent",[this._data,e])},derivatives:function(e,t){return null==t&&(t=1),Oe.rationalCurveDerivatives(this._data,e,t)},derivativesAsync:function(e,t){return null==t&&(t=1),Ne.dispatchMethod(Oe,"rationalCurveDerivatives",[this._data,e,t])},closestPoint:function(e){return We.rationalCurveClosestPoint(this._data,e)},closestPointAsync:function(e){return Ne.dispatchMethod(We,"rationalCurveClosestPoint",[this._data,e])},closestParam:function(e){return We.rationalCurveClosestParam(this._data,e)},closestParamAsync:function(e){return Ne.dispatchMethod(We,"rationalCurveClosestParam",[this._data,e])},length:function(){return We.rationalCurveArcLength(this._data)},lengthAsync:function(){return Ne.dispatchMethod(We,"rationalCurveArcLength",[this._data])},lengthAtParam:function(e){return We.rationalCurveArcLength(this._data,e)},lengthAtParamAsync:function(){return Ne.dispatchMethod(We,"rationalCurveArcLength",[this._data])},paramAtLength:function(e,t){return We.rationalCurveParamAtArcLength(this._data,e,t)},paramAtLengthAsync:function(e,t){return Ne.dispatchMethod(We,"rationalCurveParamAtArcLength",[this._data,e,t])},divideByEqualArcLength:function(e){return De.rationalCurveByEqualArcLength(this._data,e)},divideByEqualArcLengthAsync:function(e){return Ne.dispatchMethod(De,"rationalCurveByEqualArcLength",[this._data,e])},divideByArcLength:function(e){return De.rationalCurveByArcLength(this._data,e)},divideByArcLengthAsync:function(e){return Ne.dispatchMethod(De,"rationalCurveByArcLength",[this._data,e])},split:function(e){return De.curveSplit(this._data,e).map(function(e){return new Ve(e)})},splitAsync:function(e){return Ne.dispatchMethod(De,"curveSplit",[this._data,e]).then(function(e){return e.map(function(e){return new Ve(e)})})},reverse:function(){return new Ve(Fe.curveReverse(this._data))},reverseAsync:function(){return Ne.dispatchMethod(Fe,"curveReverse",[this._data]).then(function(e){return new Ve(e)})},tessellate:function(e){return Ie.rationalCurveAdaptiveSample(this._data,e,!1)},tessellateAsync:function(e){return Ne.dispatchMethod(Ie,"rationalCurveAdaptiveSample",[this._data,e,!1])},__class__:Ve});var He=t.geom.Arc=function(e,t,r,i,o,s){Ve.call(this,Le.arc(e,t,r,i,o,s)),this._center=e,this._xaxis=t,this._yaxis=r,this._radius=i,this._minAngle=o,this._maxAngle=s};i["verb.geom.Arc"]=He,He.__name__=["verb","geom","Arc"],He.__super__=Ve,He.prototype=s(Ve.prototype,{center:function(){return this._center},xaxis:function(){return this._xaxis},yaxis:function(){return this._yaxis},radius:function(){return this._radius},minAngle:function(){return this._minAngle},maxAngle:function(){return this._maxAngle},__class__:He});var qe=t.geom.BezierCurve=function(e,t){Ve.call(this,Le.rationalBezierCurve(e,t))};i["verb.geom.BezierCurve"]=qe,qe.__name__=["verb","geom","BezierCurve"],qe.__super__=Ve,qe.prototype=s(Ve.prototype,{__class__:qe});var Ge=t.geom.Circle=function(e,t,r,i){He.call(this,e,t,r,i,0,2*Math.PI)};i["verb.geom.Circle"]=Ge,Ge.__name__=["verb","geom","Circle"],Ge.__super__=He,Ge.prototype=s(He.prototype,{__class__:Ge});var Ye=function(){};i["verb.geom.ISurface"]=Ye,Ye.__name__=["verb","geom","ISurface"],Ye.__interfaces__=[ye],Ye.prototype={__class__:Ye};var Xe=t.geom.NurbsSurface=function(e){this._data=Me.isValidNurbsSurfaceData(e)};i["verb.geom.NurbsSurface"]=Xe,Xe.__name__=["verb","geom","NurbsSurface"],Xe.__interfaces__=[Ye],Xe.byKnotsControlPointsWeights=function(e,t,r,i,o,s){return new Xe(new Y(e,t,r,i,Oe.homogenize2d(o,s)))},Xe.byCorners=function(e,t,r,i){return new Xe(Le.fourPointSurface(e,t,r,i))},Xe.byLoftingCurves=function(e,t){return new Xe(Le.loftedSurface(function(){for(var t=[],r=0;r<e.length;){var i=e[r];++r,t.push(i.asNurbs())}return t}(),t))},Xe.__super__=V,Xe.prototype=s(V.prototype,{degreeU:function(){return this._data.degreeU},degreeV:function(){return this._data.degreeV},knotsU:function(){return this._data.knotsU.slice(0)},knotsV:function(){return this._data.knotsV.slice(0)},controlPoints:function(){return Oe.dehomogenize2d(this._data.controlPoints)},weights:function(){return Oe.weight2d(this._data.controlPoints)},asNurbs:function(){return new Y(this.degreeU(),this.degreeV(),this.knotsU(),this.knotsV(),Oe.homogenize2d(this.controlPoints(),this.weights()))},clone:function(){return new Xe(this.asNurbs())},domainU:function(){return new J(N.first(this._data.knotsU),N.last(this._data.knotsU))},domainV:function(){return new J(N.first(this._data.knotsV),N.last(this._data.knotsV))},point:function(e,t){return Oe.rationalSurfacePoint(this._data,e,t)},pointAsync:function(e,t){return Ne.dispatchMethod(Oe,"rationalSurfacePoint",[this._data,e,t])},normal:function(e,t){return Oe.rationalSurfaceNormal(this._data,e,t)},normalAsync:function(e,t){return Ne.dispatchMethod(Oe,"rationalSurfaceNormal",[this._data,e,t])},derivatives:function(e,t,r){return null==r&&(r=1),Oe.rationalSurfaceDerivatives(this._data,e,t,r)},derivativesAsync:function(e,t,r){return null==r&&(r=1),Ne.dispatchMethod(Oe,"rationalSurfaceDerivatives",[this._data,e,t,r])},closestParam:function(e){return We.rationalSurfaceClosestParam(this._data,e)},closestParamAsync:function(e){return Ne.dispatchMethod(We,"rationalSurfaceClosestParam",[this._data,e])},closestPoint:function(e){return We.rationalSurfaceClosestPoint(this._data,e)},closestPointAsync:function(e){return Ne.dispatchMethod(We,"rationalSurfaceClosestPoint",[this._data,e])},split:function(e,t){return null==t&&(t=!1),De.surfaceSplit(this._data,e,t).map(function(e){return new Xe(e)})},splitAsync:function(e,t){return null==t&&(t=!1),Ne.dispatchMethod(De,"surfaceSplit",[this._data,e,t]).then(function(e){return e.map(function(e){return new Xe(e)})})},reverse:function(e){return null==e&&(e=!1),new Xe(Fe.surfaceReverse(this._data,e))},reverseAsync:function(e){return null==e&&(e=!1),Ne.dispatchMethod(Fe,"surfaceReverse",[this._data,e]).then(function(e){return new Xe(e)})},isocurve:function(e,t){return null==t&&(t=!1),new Ve(Le.surfaceIsocurve(this._data,e,t))},isocurveAsync:function(e,t){return null==t&&(t=!1),Ne.dispatchMethod(Le,"surfaceIsocurve",[this._data,e,t]).then(function(e){return new Ve(e)})},boundaries:function(e){return Le.surfaceBoundaryCurves(this._data).map(function(e){return new Ve(e)})},boundariesAsync:function(e){return Ne.dispatchMethod(Le,"surfaceBoundaryCurves",[this._data]).then(function(e){return e.map(function(e){return new Ve(e)})})},tessellate:function(e){return Ie.rationalSurfaceAdaptive(this._data,e)},tessellateAsync:function(e){return Ne.dispatchMethod(Ie,"rationalSurfaceAdaptive",[this._data,e])},transform:function(e){return new Xe(Fe.rationalSurfaceTransform(this._data,e))},transformAsync:function(e){return Ne.dispatchMethod(Fe,"rationalSurfaceTransform",[this._data,e]).then(function(e){return new Xe(e)})},__class__:Xe});var Ze=t.geom.ConicalSurface=function(e,t,r,i,o){Xe.call(this,Le.conicalSurface(e,t,r,i,o)),this._axis=e,this._xaxis=t,this._base=r,this._height=i,this._radius=o};i["verb.geom.ConicalSurface"]=Ze,Ze.__name__=["verb","geom","ConicalSurface"],Ze.__super__=Xe,Ze.prototype=s(Xe.prototype,{axis:function(){return this._axis},xaxis:function(){return this._xaxis},base:function(){return this._base},height:function(){return this._height},radius:function(){return this._radius},__class__:Ze});var $e=t.geom.CylindricalSurface=function(e,t,r,i,o){Xe.call(this,Le.cylindricalSurface(e,t,r,i,o)),this._axis=e,this._xaxis=t,this._base=r,this._height=i,this._radius=o};i["verb.geom.CylindricalSurface"]=$e,$e.__name__=["verb","geom","CylindricalSurface"],$e.__super__=Xe,$e.prototype=s(Xe.prototype,{axis:function(){return this._axis},xaxis:function(){return this._xaxis},base:function(){return this._base},height:function(){return this._height},radius:function(){return this._radius},__class__:$e});var Ke=t.geom.EllipseArc=function(e,t,r,i,o){Ve.call(this,Le.ellipseArc(e,t,r,i,o)),this._center=e,this._xaxis=t,this._yaxis=r,this._minAngle=i,this._maxAngle=o};i["verb.geom.EllipseArc"]=Ke,Ke.__name__=["verb","geom","EllipseArc"],Ke.__super__=Ve,Ke.prototype=s(Ve.prototype,{center:function(){return this._center},xaxis:function(){return this._xaxis},yaxis:function(){return this._yaxis},minAngle:function(){return this._minAngle},maxAngle:function(){return this._maxAngle},__class__:Ke});var Je=t.geom.Ellipse=function(e,t,r){Ke.call(this,e,t,r,0,2*Math.PI)};i["verb.geom.Ellipse"]=Je,Je.__name__=["verb","geom","Ellipse"],Je.__super__=Ke,Je.prototype=s(Ke.prototype,{__class__:Je});var Qe=t.geom.ExtrudedSurface=function(e,t){Xe.call(this,Le.extrudedSurface(Te.normalized(t),Te.norm(t),e.asNurbs())),this._profile=e,this._direction=t};i["verb.geom.ExtrudedSurface"]=Qe,Qe.__name__=["verb","geom","ExtrudedSurface"],Qe.__super__=Xe,Qe.prototype=s(Xe.prototype,{profile:function(){return this._profile},direction:function(){return this._direction},__class__:Qe});var et=t.geom.Intersect=function(){};i["verb.geom.Intersect"]=et,et.__name__=["verb","geom","Intersect"],et.curves=function(e,t,r){return null==r&&(r=.001),Ae.curves(e.asNurbs(),t.asNurbs(),r)},et.curvesAsync=function(e,t,r){return null==r&&(r=.001),Ne.dispatchMethod(Ae,"curves",[e.asNurbs(),t.asNurbs(),r])},et.curveAndSurface=function(e,t,r){return null==r&&(r=.001),Ae.curveAndSurface(e.asNurbs(),t.asNurbs(),r)},et.curveAndSurfaceAsync=function(e,t,r){return null==r&&(r=.001),Ne.dispatchMethod(Ae,"curveAndSurface",[e.asNurbs(),t.asNurbs(),r])},et.surfaces=function(e,t,r){return null==r&&(r=.001),Ae.surfaces(e.asNurbs(),t.asNurbs(),r).map(function(e){return new Ve(e)})},et.surfacesAsync=function(e,t,r){return null==r&&(r=.001),Ne.dispatchMethod(Ae,"surfaces",[e.asNurbs(),t.asNurbs(),r]).then(function(e){return e.map(function(e){return new Ve(e)})})};var tt=t.geom.Line=function(e,t){Ve.call(this,Le.polyline([e,t])),this._start=e,this._end=t};i["verb.geom.Line"]=tt,tt.__name__=["verb","geom","Line"],tt.__super__=Ve,tt.prototype=s(Ve.prototype,{start:function(){return this._start},end:function(){return this._end},__class__:tt});var rt=t.geom.RevolvedSurface=function(e,t,r,i){Xe.call(this,Le.revolvedSurface(e.asNurbs(),t,r,i)),this._profile=e,this._center=t,this._axis=r,this._angle=i};i["verb.geom.RevolvedSurface"]=rt,rt.__name__=["verb","geom","RevolvedSurface"],rt.__super__=Xe,rt.prototype=s(Xe.prototype,{profile:function(){return this._profile},center:function(){return this._center},axis:function(){return this._center},angle:function(){return this._angle},__class__:rt});var it=t.geom.SphericalSurface=function(e,t){Xe.call(this,Le.sphericalSurface(e,[0,0,1],[1,0,0],t)),this._center=e,this._radius=t};i["verb.geom.SphericalSurface"]=it,it.__name__=["verb","geom","SphericalSurface"],it.__super__=Xe,it.prototype=s(Xe.prototype,{center:function(){return this._center},radius:function(){return this._radius},__class__:it});var ot=t.geom.SweptSurface=function(e,t){Xe.call(this,Le.rationalTranslationalSurface(e.asNurbs(),t.asNurbs())),this._profile=e,this._rail=t};function st(e){return e instanceof Array?function(){return n.iter(e)}:"function"==typeof e.iterator?ct(e,e.iterator):e.iterator}i["verb.geom.SweptSurface"]=ot,ot.__name__=["verb","geom","SweptSurface"],ot.__super__=Xe,ot.prototype=s(Xe.prototype,{profile:function(){return this._profile},rail:function(){return this._rail},__class__:ot});var nt,at=0;function ct(e,t){return null==t?null:(null==t.__id__&&(t.__id__=at++),null==e.hx__closures__?e.hx__closures__={}:r=e.hx__closures__[t.__id__],null==r&&(r=function(){return r.method.apply(r.scope,arguments)},r.scope=e,r.method=t,e.hx__closures__[t.__id__]=r),r);var r}i.Math=Math,String.prototype.__class__=i.String=String,String.__name__=["String"],i.Array=Array,Array.__name__=["Array"],Date.prototype.__class__=i.Date=Date,Date.__name__=["Date"];var ht=i.Int={__name__:["Int"]},lt=i.Dynamic={__name__:["Dynamic"]},ut=i.Float=Number;ut.__name__=["Float"];var dt=i.Bool=Boolean;dt.__ename__=["Bool"];var vt=i.Class={__name__:["Class"]},ft={};null==Array.prototype.map&&(Array.prototype.map=function(e){for(var t=[],r=0,i=this.length;r<i;){var o=r++;t[o]=e(this[o])}return t}),null==Array.prototype.filter&&(Array.prototype.filter=function(e){for(var t=[],r=0,i=this.length;r<i;){var o=this[r++];e(o)&&t.push(o)}return t});var pt={},mt=r.ArrayBuffer||S;null==mt.prototype.slice&&(mt.prototype.slice=S.sliceImpl),r.DataView;var gt=r.Uint8Array||D._new;!function(e,t){if(!e.setImmediate){var r,i=1,o={},s=!1,n=e.document,a=Object.getPrototypeOf&&Object.getPrototypeOf(e);a=a&&a.setTimeout?a:e,"[object process]"==={}.toString.call(e.process)?r=function(){var e=d(arguments);return process.nextTick(v(f,e)),e}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(l="setImmediate$"+Math.random()+"$",u=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(l)&&f(+t.data.slice(l.length))},e.addEventListener?e.addEventListener("message",u,!1):e.attachEvent("onmessage",u),r=function(){var t=d(arguments);return e.postMessage(l+t,"*"),t}):e.MessageChannel?((h=new MessageChannel).port1.onmessage=function(e){f(e.data)},r=function(){var e=d(arguments);return h.port2.postMessage(e),e}):n&&"onreadystatechange"in n.createElement("script")?(c=n.documentElement,r=function(){var e=d(arguments),t=n.createElement("script");return t.onreadystatechange=function(){f(e),t.onreadystatechange=null,c.removeChild(t),t=null},c.appendChild(t),e}):r=function(){var e=d(arguments);return setTimeout(v(f,e),0),e},a.setImmediate=r,a.clearImmediate=p}var c,h,l,u;function d(e){return o[i]=v.apply(t,e),i++}function v(e){var r=[].slice.call(arguments,1);return function(){"function"==typeof e?e.apply(t,r):new Function(""+e)()}}function f(e){if(s)setTimeout(v(f,e),0);else{var t=o[e];if(t){s=!0;try{t()}finally{p(e),s=!1}}}}function p(e){delete o[e]}}(new Function("return this")()),g.USE_CACHE=!1,g.USE_ENUM_INDEX=!1,g.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",b.DEFAULT_RESOLVER=f,b.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",_.count=0,w.i64tmp=new m(0,0),W.__toStr={}.toString,D.BYTES_PER_ELEMENT=1,I.queue=new c,U.memo=new k,z.TOLERANCE=1e-6,z.EPSILON=1e-10,z.VERSION="2.0.0",We.Tvalues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],We.Cvalues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],Ne.THREADS=1,Ne._init=!1,Ue.basePath="",je.uuid=0,B.main()}("undefined"!=typeof console?console:{log:function(){}},e,void 0!==o?o:void 0!==t?t:"undefined"!=typeof self?self:this),e}()}},s={};function n(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}};return o[e](r,r.exports,n),r.exports}n.m=o,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"==typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"==typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(o,s),o},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>e+".bitbybit-runner-core.js",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},i="bitbybitRunner:",n.l=(e,t,o,s)=>{if(r[e])r[e].push(t);else{var a,c;if(void 0!==o)for(var h=document.getElementsByTagName("script"),l=0;l<h.length;l++){var u=h[l];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==i+o){a=u;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",i+o),a.src=e),r[e]=[t];var d=(t,i)=>{a.onerror=a.onload=null,clearTimeout(v);var o=r[e];if(delete r[e],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach(e=>e(i)),t)return t(i)},v=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),c&&document.head.appendChild(a)}},n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=r[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((r,o)=>i=e[t]=[r,o]);r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,o,[s,a,c]=r,h=0;if(s.some(t=>0!==e[t])){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);c&&c(n)}for(t&&t(r);h<s.length;h++)o=s[h],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=this.webpackChunkbitbybitRunner=this.webpackChunkbitbybitRunner||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var a={};return(()=>{"use strict";n.r(a),n.d(a,{Runner:()=>_i,getRunnerInstance:()=>ki});var e={};n.r(e),n.d(e,{Asset:()=>bt,Base:()=>xt,CSV:()=>kt,Color:()=>xe,Dates:()=>Ae,IO:()=>Re,JSCAD:()=>wt,JSON:()=>_t,Line:()=>Le,Lists:()=>we,Logic:()=>Te,Manifold:()=>Tt,Math:()=>We,Mesh:()=>Ie,OCCT:()=>ot,Point:()=>Se,Polyline:()=>Fe,Tag:()=>Pt,Text:()=>Me,Time:()=>Ct,Transforms:()=>Ee,Vector:()=>De,Verb:()=>yt});var t={};n.r(t),n.d(t,{VectorCharData:()=>ei,VectorTextData:()=>ti});var r={};n.r(r),n.d(r,{HexGridData:()=>ri});var i={};n.r(i),n.d(i,{ObjectDefinition:()=>oi,ShapeWithId:()=>ii,TextWiresCharShapePart:()=>ni,TextWiresDataDto:()=>si});var o={};n.r(o),n.d(o,{OCCT:()=>i,Point:()=>r,Text:()=>t});var s=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class c{constructor(e){this.occWorkerManager=e}createPart(e){return s(this,void 0,void 0,function*(){return this.occWorkerManager.genericCallToWorkerPromise("assembly.manager.createPart",e)})}createAssemblyNode(e){return s(this,void 0,void 0,function*(){return this.occWorkerManager.genericCallToWorkerPromise("assembly.manager.createAssemblyNode",e)})}createInstanceNode(e){return s(this,void 0,void 0,function*(){return this.occWorkerManager.genericCallToWorkerPromise("assembly.manager.createInstanceNode",e)})}createPartUpdate(e){return s(this,void 0,void 0,function*(){return this.occWorkerManager.genericCallToWorkerPromise("assembly.manager.createPartUpdate",e)})}combineStructure(e){return s(this,void 0,void 0,function*(){return this.occWorkerManager.genericCallToWorkerPromise("assembly.manager.combineStructure",e)})}buildAssemblyDocument(e){return s(this,void 0,void 0,function*(){return this.occWorkerManager.genericCallToWorkerPromise("assembly.manager.buildAssemblyDocument",e)})}loadStepToDoc(e){return s(this,void 0,void 0,function*(){const t=yield this.occWorkerManager.prepareStepData(e.stepData),r=Object.assign(Object.assign({},e),{stepData:t});return this.occWorkerManager.genericCallToWorkerPromise("assembly.manager.loadStepToDoc",r)})}setDocLabelColor(e){return s(this,void 0,void 0,function*(){return this.occWorkerManager.genericCallToWorkerPromise("assembly.manager.setDocLabelColor",e)})}setDocLabelName(e){return s(this,void 0,void 0,function*(){return this.occWorkerManager.genericCallToWorkerPromise("assembly.manager.setDocLabelName",e)})}exportDocumentToStep(e){return s(this,void 0,void 0,function*(){return this.occWorkerManager.genericCallToWorkerPromise("assembly.manager.exportDocumentToStep",e).then(t=>{if(e.tryDownload&&"undefined"!=typeof document){const r=new Blob([t.buffer],{type:"application/step"}),i=URL.createObjectURL(r),o=e.fileName||(e.compress?"assembly.stpZ":"assembly.step"),s=document.createElement("a");s.href=i,s.target="_self",s.download=o,s.click(),s.remove()}return t})})}exportDocumentToGltf(e){return s(this,void 0,void 0,function*(){return this.occWorkerManager.genericCallToWorkerPromise("assembly.manager.exportDocumentToGltf",e).then(t=>{if(e.tryDownload&&"undefined"!=typeof document){const r=new Blob([t.buffer],{type:"model/gltf-binary"}),i=URL.createObjectURL(r),o=e.fileName||"assembly.glb",s=document.createElement("a");s.href=i,s.target="_self",s.download=o,s.click(),s.remove()}return t})})}deleteDocument(e){return s(this,void 0,void 0,function*(){return this.occWorkerManager.genericCallToWorkerPromise("assembly.manager.deleteDocument",e)})}}var h=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class l{constructor(e){this.occWorkerManager=e}getDocumentParts(e){return h(this,void 0,void 0,function*(){return this.occWorkerManager.genericCallToWorkerPromise("assembly.query.getDocumentParts",e)})}getShapeFromLabel(e){return h(this,void 0,void 0,function*(){return this.occWorkerManager.genericCallToWorkerPromise("assembly.query.getShapeFromLabel",e)})}getLabelColor(e){return h(this,void 0,void 0,function*(){return this.occWorkerManager.genericCallToWorkerPromise("assembly.query.getLabelColor",e)})}getLabelTransform(e){return h(this,void 0,void 0,function*(){return this.occWorkerManager.genericCallToWorkerPromise("assembly.query.getLabelTransform",e)})}getLabelInfo(e){return h(this,void 0,void 0,function*(){return this.occWorkerManager.genericCallToWorkerPromise("assembly.query.getLabelInfo",e)})}getAssemblyHierarchy(e){return h(this,void 0,void 0,function*(){return this.occWorkerManager.genericCallToWorkerPromise("assembly.query.getAssemblyHierarchy",e)})}}class u{constructor(e){this.manager=new c(e),this.query=new l(e)}}class d{constructor(e){this.occWorkerManager=e}makeCompound(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.compound.makeCompound",e)}getShapesOfCompound(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.compound.getShapesOfCompound",e)}}class v{constructor(e){this.occWorkerManager=e}fromBaseLine(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.fromBaseLine",e)}fromBaseLines(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.fromBaseLines",e)}fromBaseSegment(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.fromBaseSegment",e)}fromBaseSegments(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.fromBaseSegments",e)}fromPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.fromPoints",e)}fromBasePolyline(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.fromBasePolyline",e)}fromBaseTriangle(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.fromBaseTriangle",e)}fromBaseMesh(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.fromBaseMesh",e)}line(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.line",e)}arcThroughThreePoints(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.arcThroughThreePoints",e)}arcThroughTwoPointsAndTangent(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.arcThroughTwoPointsAndTangent",e)}arcFromCircleAndTwoPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.arcFromCircleAndTwoPoints",e)}arcFromCircleAndTwoAngles(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.arcFromCircleAndTwoAngles",e)}arcFromCirclePointAndAngle(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.arcFromCirclePointAndAngle",e)}createCircleEdge(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.createCircleEdge",e)}createEllipseEdge(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.createEllipseEdge",e)}removeInternalEdges(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.removeInternalEdges",e)}makeEdgeFromGeom2dCurveAndSurface(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.makeEdgeFromGeom2dCurveAndSurface",e)}getEdge(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.getEdge",e)}getEdges(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.getEdges",e)}getEdgesAlongWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.getEdgesAlongWire",e)}getCircularEdgesAlongWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.getCircularEdgesAlongWire",e)}getLinearEdgesAlongWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.getLinearEdgesAlongWire",e)}getCornerPointsOfEdgesForShape(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.getCornerPointsOfEdgesForShape",e)}getEdgeLength(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.getEdgeLength",e)}getEdgeLengthsOfShape(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.getEdgeLengthsOfShape",e)}getEdgesLengths(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.getEdgesLengths",e)}getEdgeCenterOfMass(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.getEdgeCenterOfMass",e)}getEdgesCentersOfMass(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.getEdgesCentersOfMass",e)}getCircularEdgeCenterPoint(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.getCircularEdgeCenterPoint",e)}getCircularEdgeRadius(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.getCircularEdgeRadius",e)}getCircularEdgePlaneDirection(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.getCircularEdgePlaneDirection",e)}pointOnEdgeAtParam(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.pointOnEdgeAtParam",e)}pointsOnEdgesAtParam(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.pointsOnEdgesAtParam",e)}edgesToPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.edgesToPoints",e)}reversedEdge(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.reversedEdge",e)}tangentOnEdgeAtParam(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.tangentOnEdgeAtParam",e)}tangentsOnEdgesAtParam(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.tangentsOnEdgesAtParam",e)}pointOnEdgeAtLength(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.pointOnEdgeAtLength",e)}pointsOnEdgesAtLength(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.pointsOnEdgesAtLength",e)}tangentOnEdgeAtLength(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.tangentOnEdgeAtLength",e)}tangentsOnEdgesAtLength(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.tangentsOnEdgesAtLength",e)}startPointOnEdge(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.startPointOnEdge",e)}startPointsOnEdges(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.startPointsOnEdges",e)}endPointOnEdge(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.endPointOnEdge",e)}endPointsOnEdges(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.endPointsOnEdges",e)}divideEdgeByParamsToPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.divideEdgeByParamsToPoints",e)}divideEdgesByParamsToPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.divideEdgesByParamsToPoints",e)}divideEdgeByEqualDistanceToPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.divideEdgeByEqualDistanceToPoints",e)}divideEdgesByEqualDistanceToPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.divideEdgesByEqualDistanceToPoints",e)}constraintTanLinesFromTwoPtsToCircle(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.constraintTanLinesFromTwoPtsToCircle",e)}constraintTanLinesFromPtToCircle(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.constraintTanLinesFromPtToCircle",e)}constraintTanLinesOnTwoCircles(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.constraintTanLinesOnTwoCircles",e)}constraintTanCirclesOnTwoCircles(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.constraintTanCirclesOnTwoCircles",e)}constraintTanCirclesOnCircleAndPnt(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.constraintTanCirclesOnCircleAndPnt",e)}isEdgeLinear(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.isEdgeLinear",e)}isEdgeCircular(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.edge.isEdgeCircular",e)}}class f{constructor(e){this.occWorkerManager=e}fromBaseTriangle(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.fromBaseTriangle",e)}fromBaseMesh(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.fromBaseMesh",e)}createFacesFromWiresOnFace(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.createFacesFromWiresOnFace",e)}createFaceFromWireOnFace(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.createFaceFromWireOnFace",e)}createFaceFromWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.createFaceFromWire",e)}createFaceFromWires(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.createFaceFromWires",e)}createFaceFromWiresOnFace(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.createFaceFromWiresOnFace",e)}createFacesFromWires(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.createFacesFromWires",e)}createFaceFromMultipleCircleTanWires(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.createFaceFromMultipleCircleTanWires",e)}createFaceFromMultipleCircleTanWireCollections(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.createFaceFromMultipleCircleTanWireCollections",e)}faceFromSurface(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.faceFromSurface",e)}faceFromSurfaceAndWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.faceFromSurfaceAndWire",e)}createPolygonFace(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.createPolygonFace",e)}createCircleFace(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.createCircleFace",e)}hexagonsInGrid(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.hexagonsInGrid",e)}createEllipseFace(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.createEllipseFace",e)}createSquareFace(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.createSquareFace",e)}createRectangleFace(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.createRectangleFace",e)}createLPolygonFace(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.createLPolygonFace",e)}createStarFace(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.createStarFace",e)}createChristmasTreeFace(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.createChristmasTreeFace",e)}createParallelogramFace(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.createParallelogramFace",e)}createHeartFace(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.createHeartFace",e)}createNGonFace(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.createNGonFace",e)}createIBeamProfileFace(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.createIBeamProfileFace",e)}createHBeamProfileFace(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.createHBeamProfileFace",e)}createTBeamProfileFace(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.createTBeamProfileFace",e)}createUBeamProfileFace(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.createUBeamProfileFace",e)}getFace(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.getFace",e)}getFaces(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.getFaces",e)}reversedFace(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.reversedFace",e)}subdivideToPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.subdivideToPoints",e)}subdivideToWires(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.subdivideToWires",e)}subdivideToRectangleWires(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.subdivideToRectangleWires",e)}subdivideToRectangleHoles(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.subdivideToRectangleHoles",e)}subdivideToHexagonWires(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.subdivideToHexagonWires",e)}subdivideToHexagonHoles(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.subdivideToHexagonHoles",e)}subdivideToPointsControlled(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.subdivideToPointsControlled",e)}subdivideToNormals(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.subdivideToNormals",e)}subdivideToUV(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.subdivideToUV",e)}pointOnUV(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.pointOnUV",e)}normalOnUV(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.normalOnUV",e)}pointsOnUVs(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.pointsOnUVs",e)}normalsOnUVs(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.normalsOnUVs",e)}subdivideToPointsOnParam(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.subdivideToPointsOnParam",e)}wireAlongParam(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.wireAlongParam",e)}wiresAlongParams(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.wiresAlongParams",e)}getUMinBound(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.getUMinBound",e)}getUMaxBound(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.getUMaxBound",e)}getVMinBound(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.getVMinBound",e)}getVMaxBound(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.getVMaxBound",e)}getFaceArea(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.getFaceArea",e)}getFacesAreas(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.getFacesAreas",e)}getFaceCenterOfMass(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.getFaceCenterOfMass",e)}getFacesCentersOfMass(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.getFacesCentersOfMass",e)}filterFacePoints(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.filterFacePoints",e)}filterFacesPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.face.filterFacesPoints",e)}}class p{constructor(e){this.occWorkerManager=e}fromClosedShell(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.fromClosedShell",e)}createBox(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.createBox",e)}createCube(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.createCube",e)}createBoxFromCorner(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.createBoxFromCorner",e)}createCylinder(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.createCylinder",e)}createCylindersOnLines(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.createCylindersOnLines",e)}createSphere(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.createSphere",e)}createCone(e){return e.angle=e.angle*(Math.PI/180),this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.createCone",e)}createTorus(e){return e.angle=e.angle*(Math.PI/180),this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.createTorus",e)}createStarSolid(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.createStarSolid",e)}createNGonSolid(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.createNGonSolid",e)}createParallelogramSolid(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.createParallelogramSolid",e)}createHeartSolid(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.createHeartSolid",e)}createChristmasTreeSolid(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.createChristmasTreeSolid",e)}createLPolygonSolid(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.createLPolygonSolid",e)}createIBeamProfileSolid(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.createIBeamProfileSolid",e)}createHBeamProfileSolid(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.createHBeamProfileSolid",e)}createTBeamProfileSolid(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.createTBeamProfileSolid",e)}createUBeamProfileSolid(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.createUBeamProfileSolid",e)}getSolidSurfaceArea(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.getSolidSurfaceArea",e)}getSolidVolume(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.getSolidVolume",e)}getSolidsVolumes(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.getSolidsVolumes",e)}getSolidCenterOfMass(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.getSolidCenterOfMass",e)}getSolidsCentersOfMass(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.getSolidsCentersOfMass",e)}getSolids(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.getSolids",e)}filterSolidPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.solid.filterSolidPoints",e)}}class m{static parse(e,t){var r;const i=[e],o=new Set;for(;i.length>0;){const e=i.pop();if("object"==typeof e&&null!==e&&!o.has(e))if(o.add(e),Array.isArray(e))for(let t=0;t<e.length;t++)i.push(e[t]);else{if(Object.keys(e).includes("shapes")){const i=e.shapes;if("object"==typeof i&&null!==i)for(const o in i)e.shapes[o]&&(e.shapes[o]=null===(r=t.find(t=>t.id===e.shapes[o]))||void 0===r?void 0:r.shape)}for(const t in e)i.push(e[t])}}return e}}class g{constructor(e){this.occWorkerManager=e}fromBaseLine(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.fromBaseLine",e)}fromBaseLines(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.fromBaseLines",e)}fromBaseSegment(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.fromBaseSegment",e)}fromBaseSegments(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.fromBaseSegments",e)}fromPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.fromPoints",e)}fromBasePolyline(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.fromBasePolyline",e)}fromBaseTriangle(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.fromBaseTriangle",e)}fromBaseMesh(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.fromBaseMesh",e)}createPolygonWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createPolygonWire",e)}createPolygons(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createPolygons",e)}createLineWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createLineWire",e)}createLineWireWithExtensions(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createLineWireWithExtensions",e)}createLines(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createLines",e)}splitOnPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.splitOnPoints",e)}wiresToPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.wiresToPoints",e)}createPolylineWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createPolylineWire",e)}createZigZagBetweenTwoWires(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createZigZagBetweenTwoWires",e)}createWireFromTwoCirclesTan(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createWireFromTwoCirclesTan",e)}createPolylines(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createPolylines",e)}createBezier(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createBezier",e)}createBezierWeights(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createBezierWeights",e)}createBezierWires(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createBezierWires",e)}interpolatePoints(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.interpolatePoints",e)}interpolateWires(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.interpolateWires",e)}createBSpline(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createBSpline",e)}createBSplines(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createBSplines",e)}combineEdgesAndWiresIntoAWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.combineEdgesAndWiresIntoAWire",e)}createWireFromEdge(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createWireFromEdge",e)}addEdgesAndWiresToWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.addEdgesAndWiresToWire",e)}divideWireByParamsToPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.divideWireByParamsToPoints",e)}divideWiresByParamsToPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.divideWiresByParamsToPoints",e)}divideWireByEqualDistanceToPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.divideWireByEqualDistanceToPoints",e)}divideWiresByEqualDistanceToPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.divideWiresByEqualDistanceToPoints",e)}pointOnWireAtParam(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.pointOnWireAtParam",e)}pointOnWireAtLength(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.pointOnWireAtLength",e)}pointsOnWireAtLengths(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.pointsOnWireAtLengths",e)}pointsOnWireAtEqualLength(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.pointsOnWireAtEqualLength",e)}pointsOnWireAtPatternOfLengths(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.pointsOnWireAtPatternOfLengths",e)}tangentOnWireAtParam(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.tangentOnWireAtParam",e)}tangentOnWireAtLength(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.tangentOnWireAtLength",e)}derivativesOnWireAtLength(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.derivativesOnWireAtLength",e)}derivativesOnWireAtParam(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.derivativesOnWireAtParam",e)}startPointOnWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.startPointOnWire",e)}midPointOnWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.midPointOnWire",e)}endPointOnWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.endPointOnWire",e)}createCircleWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createCircleWire",e)}hexagonsInGrid(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.hexagonsInGrid",e)}createSquareWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createSquareWire",e)}createStarWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createStarWire",e)}createChristmasTreeWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createChristmasTreeWire",e)}createNGonWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createNGonWire",e)}createParallelogramWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createParallelogramWire",e)}createHeartWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createHeartWire",e)}createRectangleWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createRectangleWire",e)}createLPolygonWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createLPolygonWire",e)}createIBeamProfileWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createIBeamProfileWire",e)}createHBeamProfileWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createHBeamProfileWire",e)}createTBeamProfileWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createTBeamProfileWire",e)}createUBeamProfileWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createUBeamProfileWire",e)}createEllipseWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createEllipseWire",e)}createHelixWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createHelixWire",e)}createHelixWireByTurns(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createHelixWireByTurns",e)}createTaperedHelixWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createTaperedHelixWire",e)}createFlatSpiralWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.createFlatSpiralWire",e)}textWires(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.textWires",e)}textWiresWithData(e){return t=this,r=void 0,o=function*(){const t=yield this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.textWiresWithData",e),r=m.parse(t.data,t.shapes);return Object.assign(Object.assign({},r),{type:t.data.type,name:t.data.name,shapes:t.shapes,compound:t.compound})},new((i=void 0)||(i=Promise))(function(e,s){function n(e){try{c(o.next(e))}catch(e){s(e)}}function a(e){try{c(o.throw(e))}catch(e){s(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i(function(e){e(r)})).then(n,a)}c((o=o.apply(t,r||[])).next())});var t,r,i,o}getWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.getWire",e)}getWires(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.getWires",e)}getWireCenterOfMass(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.getWireCenterOfMass",e)}getWiresCentersOfMass(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.getWiresCentersOfMass",e)}reversedWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.reversedWire",e)}reversedWireFromReversedEdges(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.reversedWireFromReversedEdges",e)}isWireClosed(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.isWireClosed",e)}getWireLength(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.getWireLength",e)}getWiresLengths(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.getWiresLengths",e)}placeWireOnFace(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.placeWireOnFace",e)}placeWiresOnFace(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.placeWiresOnFace",e)}closeOpenWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.closeOpenWire",e)}project(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.project",e)}projectWires(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.wire.projectWires",e)}}class b{constructor(e){this.occWorkerManager=e}sewFaces(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.shell.sewFaces",e)}getShellSurfaceArea(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.shell.getShellSurfaceArea",e)}}class k{constructor(e){this.occWorkerManager=e}purgeInternalEdges(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.shape.purgeInternalEdges",e)}unifySameDomain(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.shape.unifySameDomain",e)}isClosed(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.shape.isClosed",e)}isConvex(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.shape.isConvex",e)}isChecked(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.shape.isChecked",e)}isFree(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.shape.isFree",e)}isInfinite(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.shape.isInfinite",e)}isModified(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.shape.isModified",e)}isLocked(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.shape.isLocked",e)}isNull(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.shape.isNull",e)}isEqual(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.shape.isEqual",e)}isNotEqual(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.shape.isNotEqual",e)}isPartner(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.shape.isPartner",e)}isSame(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.shape.isSame",e)}getOrientation(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.shape.getOrientation",e)}getShapeType(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.shape.getShapeType",e)}}class _{constructor(e){this.occWorkerManager=e}vertexFromXYZ(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.vertex.vertexFromXYZ",e)}vertexFromPoint(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.vertex.vertexFromPoint",e)}verticesFromPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.vertex.verticesFromPoints",e)}verticesCompoundFromPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.vertex.verticesCompoundFromPoints",e)}getVertices(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.vertex.getVertices",e)}getVerticesAsPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.vertex.getVerticesAsPoints",e)}verticesToPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.vertex.verticesToPoints",e)}vertexToPoint(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.vertex.vertexToPoint",e)}projectPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("shapes.vertex.projectPoints",e)}}class P{constructor(e){this.vertex=new _(e),this.edge=new v(e),this.wire=new g(e),this.face=new f(e),this.shell=new b(e),this.solid=new p(e),this.compound=new d(e),this.shape=new k(e)}}var C=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class y{constructor(e){this.occWorkerManager=e}saveShapeSTEP(e){return C(this,void 0,void 0,function*(){this.saveSTEP(e)})}saveShapeSTEPAndReturn(e){return C(this,void 0,void 0,function*(){return this.saveSTEP(e)})}saveShapeStl(e){return C(this,void 0,void 0,function*(){this.saveStl(e)})}saveShapeStlAndReturn(e){return C(this,void 0,void 0,function*(){return this.saveStl(e)})}saveSTEP(e){return this.occWorkerManager.genericCallToWorkerPromise("io.saveShapeSTEP",e).then(t=>{if(e.tryDownload&&document){const r=new Blob([t],{type:"text/plain"}),i=URL.createObjectURL(r);let o=e.fileName?e.fileName:"bitbybit-dev.step";o.toLowerCase().includes(".step")||(o+=".step");const s=document.createElement("a");s.href=i,s.target="_self",s.download=o,s.click(),s.remove()}return t})}saveStl(e){return this.occWorkerManager.genericCallToWorkerPromise("io.saveShapeStl",e).then(t=>{if(e.tryDownload&&document){const r=new Blob([t],{type:"application/stl"}),i=URL.createObjectURL(r),o=e.fileName?e.fileName:"bitbybit-dev.stl",s=document.createElement("a");s.href=i,s.target="_self",s.download=o,s.click(),s.remove()}return t})}shapeToDxfPaths(e){return this.occWorkerManager.genericCallToWorkerPromise("io.shapeToDxfPaths",e)}dxfPathsWithLayer(e){return this.occWorkerManager.genericCallToWorkerPromise("io.dxfPathsWithLayer",e)}dxfCreate(e){return this.occWorkerManager.genericCallToWorkerPromise("io.dxfCreate",e).then(t=>{if(e.tryDownload&&document){const r=new Blob([t],{type:"application/stl"}),i=URL.createObjectURL(r),o=e.fileName?e.fileName:"bitbybit-dev.dxf",s=document.createElement("a");s.href=i,s.target="_self",s.download=o,s.click(),s.remove()}return t})}convertStepToGltf(e){return C(this,void 0,void 0,function*(){const t=yield this.occWorkerManager.prepareStepData(e.stepData),r=Object.assign(Object.assign({},e),{stepData:t});return this.occWorkerManager.genericCallToWorkerPromise("io.convertStepToGltf",r)})}convertStepToGltfAdvanced(e){return C(this,void 0,void 0,function*(){const t=yield this.occWorkerManager.prepareStepData(e.stepData),r=Object.assign(Object.assign({},e),{stepData:t});return this.occWorkerManager.genericCallToWorkerPromise("io.convertStepToGltfAdvanced",r)})}parseStepToJson(e){return C(this,void 0,void 0,function*(){const t=yield this.occWorkerManager.prepareStepData(e.stepData),r=Object.assign(Object.assign({},e),{stepData:t});return this.occWorkerManager.genericCallToWorkerPromise("io.parseStepToJson",r)})}}class x{constructor(e){this.occWorkerManager=e}transform(e){return this.occWorkerManager.genericCallToWorkerPromise("transforms.transform",e)}rotate(e){return this.occWorkerManager.genericCallToWorkerPromise("transforms.rotate",e)}rotateAroundCenter(e){return this.occWorkerManager.genericCallToWorkerPromise("transforms.rotateAroundCenter",e)}align(e){return this.occWorkerManager.genericCallToWorkerPromise("transforms.align",e)}alignNormAndAxis(e){return this.occWorkerManager.genericCallToWorkerPromise("transforms.alignNormAndAxis",e)}alignAndTranslate(e){return this.occWorkerManager.genericCallToWorkerPromise("transforms.alignAndTranslate",e)}translate(e){return this.occWorkerManager.genericCallToWorkerPromise("transforms.translate",e)}scale(e){return this.occWorkerManager.genericCallToWorkerPromise("transforms.scale",e)}scale3d(e){return this.occWorkerManager.genericCallToWorkerPromise("transforms.scale3d",e)}mirror(e){return this.occWorkerManager.genericCallToWorkerPromise("transforms.mirror",e)}mirrorAlongNormal(e){return this.occWorkerManager.genericCallToWorkerPromise("transforms.mirrorAlongNormal",e)}transformShapes(e){return this.occWorkerManager.genericCallToWorkerPromise("transforms.transformShapes",e)}rotateShapes(e){return this.occWorkerManager.genericCallToWorkerPromise("transforms.rotateShapes",e)}rotateAroundCenterShapes(e){return this.occWorkerManager.genericCallToWorkerPromise("transforms.rotateAroundCenterShapes",e)}alignShapes(e){return this.occWorkerManager.genericCallToWorkerPromise("transforms.alignShapes",e)}alignAndTranslateShapes(e){return this.occWorkerManager.genericCallToWorkerPromise("transforms.alignAndTranslateShapes",e)}translateShapes(e){return this.occWorkerManager.genericCallToWorkerPromise("transforms.translateShapes",e)}scaleShapes(e){return this.occWorkerManager.genericCallToWorkerPromise("transforms.scaleShapes",e)}scale3dShapes(e){return this.occWorkerManager.genericCallToWorkerPromise("transforms.scale3dShapes",e)}mirrorShapes(e){return this.occWorkerManager.genericCallToWorkerPromise("transforms.mirrorShapes",e)}mirrorAlongNormalShapes(e){return this.occWorkerManager.genericCallToWorkerPromise("transforms.mirrorAlongNormalShapes",e)}}class w{constructor(e){this.occWorkerManager=e}loft(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.loft",e)}loftAdvanced(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.loftAdvanced",e)}closestPointsBetweenTwoShapes(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.closestPointsBetweenTwoShapes",e)}closestPointsOnShapeFromPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.closestPointsOnShapeFromPoints",e)}closestPointsOnShapesFromPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.closestPointsOnShapesFromPoints",e)}distancesToShapeFromPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.distancesToShapeFromPoints",e)}boundingBoxOfShape(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.boundingBoxOfShape",e)}boundingBoxMinOfShape(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.boundingBoxMinOfShape",e)}boundingBoxMaxOfShape(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.boundingBoxMaxOfShape",e)}boundingBoxCenterOfShape(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.boundingBoxCenterOfShape",e)}boundingBoxSizeOfShape(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.boundingBoxSizeOfShape",e)}boundingBoxShapeOfShape(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.boundingBoxShapeOfShape",e)}boundingSphereOfShape(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.boundingSphereOfShape",e)}boundingSphereCenterOfShape(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.boundingSphereCenterOfShape",e)}boundingSphereRadiusOfShape(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.boundingSphereRadiusOfShape",e)}boundingSphereShapeOfShape(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.boundingSphereShapeOfShape",e)}extrude(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.extrude",e)}extrudeShapes(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.extrudeShapes",e)}splitShapeWithShapes(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.splitShapeWithShapes",e)}revolve(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.revolve",e)}rotatedExtrude(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.rotatedExtrude",e)}pipe(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.pipe",e)}pipePolylineWireNGon(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.pipePolylineWireNGon",e)}pipeWiresCylindrical(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.pipeWiresCylindrical",e)}pipeWireCylindrical(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.pipeWireCylindrical",e)}offset(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.offset",e)}offsetAdv(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.offsetAdv",e)}makeThickSolidSimple(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.makeThickSolidSimple",e)}makeThickSolidByJoin(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.makeThickSolidByJoin",e)}slice(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.slice",e)}sliceInStepPattern(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.sliceInStepPattern",e)}offset3DWire(e){return this.occWorkerManager.genericCallToWorkerPromise("operations.offset3DWire",e)}}class T{constructor(e){this.occWorkerManager=e}union(e){return this.occWorkerManager.genericCallToWorkerPromise("booleans.union",e)}difference(e){return this.occWorkerManager.genericCallToWorkerPromise("booleans.difference",e)}intersection(e){return this.occWorkerManager.genericCallToWorkerPromise("booleans.intersection",e)}meshMeshIntersectionWires(e){return this.occWorkerManager.genericCallToWorkerPromise("booleans.meshMeshIntersectionWires",e)}meshMeshIntersectionPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("booleans.meshMeshIntersectionPoints",e)}meshMeshIntersectionOfShapesWires(e){return this.occWorkerManager.genericCallToWorkerPromise("booleans.meshMeshIntersectionOfShapesWires",e)}meshMeshIntersectionOfShapesPoints(e){return this.occWorkerManager.genericCallToWorkerPromise("booleans.meshMeshIntersectionOfShapesPoints",e)}}class W{constructor(e){this.occWorkerManager=e}geom2dEllipse(e){return this.occWorkerManager.genericCallToWorkerPromise("geom.curves.geom2dEllipse",e)}geom2dTrimmedCurve(e){return this.occWorkerManager.genericCallToWorkerPromise("geom.curves.geom2dTrimmedCurve",e)}geom2dSegment(e){return this.occWorkerManager.genericCallToWorkerPromise("geom.curves.geom2dSegment",e)}get2dPointFrom2dCurveOnParam(e){return this.occWorkerManager.genericCallToWorkerPromise("geom.curves.get2dPointFrom2dCurveOnParam",e)}geomCircleCurve(e){return this.occWorkerManager.genericCallToWorkerPromise("geom.curves.geomCircleCurve",e)}geomEllipseCurve(e){return this.occWorkerManager.genericCallToWorkerPromise("geom.curves.geomEllipseCurve",e)}}class S{constructor(e){this.occWorkerManager=e}cylindricalSurface(e){return this.occWorkerManager.genericCallToWorkerPromise("geom.surfaces.cylindricalSurface",e)}surfaceFromFace(e){return this.occWorkerManager.genericCallToWorkerPromise("geom.surfaces.surfaceFromFace",e)}}class M{constructor(e){this.curves=new W(e),this.surfaces=new S(e)}}class D{constructor(e){this.occWorkerManager=e}filletEdges(e){return this.occWorkerManager.genericCallToWorkerPromise("fillets.filletEdges",e)}filletEdgesList(e){return this.occWorkerManager.genericCallToWorkerPromise("fillets.filletEdgesList",e)}filletEdgesListOneRadius(e){return this.occWorkerManager.genericCallToWorkerPromise("fillets.filletEdgesListOneRadius",e)}filletEdgeVariableRadius(e){return this.occWorkerManager.genericCallToWorkerPromise("fillets.filletEdgeVariableRadius",e)}filletEdgesSameVariableRadius(e){return this.occWorkerManager.genericCallToWorkerPromise("fillets.filletEdgesSameVariableRadius",e)}filletEdgesVariableRadius(e){return this.occWorkerManager.genericCallToWorkerPromise("fillets.filletEdgesVariableRadius",e)}fillet3DWire(e){return this.occWorkerManager.genericCallToWorkerPromise("fillets.fillet3DWire",e)}fillet3DWires(e){return this.occWorkerManager.genericCallToWorkerPromise("fillets.fillet3DWires",e)}chamferEdges(e){return this.occWorkerManager.genericCallToWorkerPromise("fillets.chamferEdges",e)}chamferEdgesList(e){return this.occWorkerManager.genericCallToWorkerPromise("fillets.chamferEdgesList",e)}chamferEdgeTwoDistances(e){return this.occWorkerManager.genericCallToWorkerPromise("fillets.chamferEdgeTwoDistances",e)}chamferEdgesTwoDistances(e){return this.occWorkerManager.genericCallToWorkerPromise("fillets.chamferEdgesTwoDistances",e)}chamferEdgesTwoDistancesLists(e){return this.occWorkerManager.genericCallToWorkerPromise("fillets.chamferEdgesTwoDistancesLists",e)}chamferEdgeDistAngle(e){return this.occWorkerManager.genericCallToWorkerPromise("fillets.chamferEdgeDistAngle",e)}chamferEdgesDistAngle(e){return this.occWorkerManager.genericCallToWorkerPromise("fillets.chamferEdgesDistAngle",e)}chamferEdgesDistsAngles(e){return this.occWorkerManager.genericCallToWorkerPromise("fillets.chamferEdgesDistsAngles",e)}fillet2d(e){return this.occWorkerManager.genericCallToWorkerPromise("fillets.fillet2d",e)}fillet2dShapes(e){return this.occWorkerManager.genericCallToWorkerPromise("fillets.fillet2dShapes",e)}filletTwoEdgesInPlaneIntoAWire(e){return this.occWorkerManager.genericCallToWorkerPromise("fillets.filletTwoEdgesInPlaneIntoAWire",e)}}class E{constructor(e){this.occWorkerManager=e}basicShapeRepair(e){return this.occWorkerManager.genericCallToWorkerPromise("shapeFix.basicShapeRepair",e)}fixSmallEdgeOnWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapeFix.fixSmallEdgeOnWire",e)}fixEdgeOrientationsAlongWire(e){return this.occWorkerManager.genericCallToWorkerPromise("shapeFix.fixEdgeOrientationsAlongWire",e)}}class O{constructor(e){this.occWorkerManager=e}simpleLinearLengthDimension(e){return this.occWorkerManager.genericCallToWorkerPromise("dimensions.simpleLinearLengthDimension",e)}simpleAngularDimension(e){return this.occWorkerManager.genericCallToWorkerPromise("dimensions.simpleAngularDimension",e)}pinWithLabel(e){return this.occWorkerManager.genericCallToWorkerPromise("dimensions.pinWithLabel",e)}}var A=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class L{constructor(e){this.occWorkerManager=e,this.shapes=new P(e),this.geom=new M(e),this.transforms=new x(e),this.operations=new w(e),this.booleans=new T(e),this.fillets=new D(e),this.shapeFix=new E(e),this.dimensions=new O(e),this.assembly=new u(e),this.io=new y(e)}shapeFacesToPolygonPoints(e){return A(this,void 0,void 0,function*(){return yield this.occWorkerManager.genericCallToWorkerPromise("shapeFacesToPolygonPoints",e)})}shapeToMesh(e){return A(this,void 0,void 0,function*(){return yield this.occWorkerManager.genericCallToWorkerPromise("shapeToMesh",e)})}shapesToMeshes(e){return A(this,void 0,void 0,function*(){return yield this.occWorkerManager.genericCallToWorkerPromise("shapesToMeshes",e)})}deleteShape(e){return A(this,void 0,void 0,function*(){return yield this.occWorkerManager.genericCallToWorkerPromise("deleteShape",e)})}deleteShapes(e){return A(this,void 0,void 0,function*(){return yield this.occWorkerManager.genericCallToWorkerPromise("deleteShapes",e)})}cleanAllCache(){return A(this,void 0,void 0,function*(){return yield this.occWorkerManager.genericCallToWorkerPromise("cleanAllCache",{})})}}var F=function(e,t){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},F(e,t)};function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}F(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function R(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function B(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,o,s=r.call(e),n=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)n.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return n}function N(e,t,r){if(r||2===arguments.length)for(var i,o=0,s=t.length;o<s;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))}function U(e){return"function"==typeof e}function j(e){var t=e(function(e){Error.call(e),e.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var z=j(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function V(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var H=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,r,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var n=R(s),a=n.next();!a.done;a=n.next())a.value.remove(this)}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}else s.remove(this);var c=this.initialTeardown;if(U(c))try{c()}catch(e){o=e instanceof z?e.errors:[e]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var l=R(h),u=l.next();!u.done;u=l.next()){var d=u.value;try{Y(d)}catch(e){o=null!=o?o:[],e instanceof z?o=N(N([],B(o)),B(e.errors)):o.push(e)}}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}if(o)throw new z(o)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)Y(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&V(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&V(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e;var t}(),q=H.EMPTY;function G(e){return e instanceof H||e&&"closed"in e&&U(e.remove)&&U(e.add)&&U(e.unsubscribe)}function Y(e){U(e)?e():e.unsubscribe()}var X=null,Z=null,$=void 0,K=!1,J=!1,Q={setTimeout:function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=Q.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,N([e,t],B(r))):setTimeout.apply(void 0,N([e,t],B(r)))},clearTimeout:function(e){var t=Q.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function ee(){}var te=re("C",void 0,void 0);function re(e,t,r){return{kind:e,value:t,error:r}}var ie=null;function oe(e){if(K){var t=!ie;if(t&&(ie={errorThrown:!1,error:null}),e(),t){var r=ie,i=r.errorThrown,o=r.error;if(ie=null,i)throw o}}else e()}var se=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,G(t)&&t.add(r)):r.destination=de,r}return I(t,e),t.create=function(e,t,r){return new he(e,t,r)},t.prototype.next=function(e){this.isStopped?ue(function(e){return re("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?ue(re("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?ue(te,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(H),ne=Function.prototype.bind;function ae(e,t){return ne.call(e,t)}var ce=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){le(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){le(e)}else le(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){le(e)}},e}(),he=function(e){function t(t,r,i){var o,s,n=e.call(this)||this;return U(t)||!t?o={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=i?i:void 0}:n&&J?((s=Object.create(t)).unsubscribe=function(){return n.unsubscribe()},o={next:t.next&&ae(t.next,s),error:t.error&&ae(t.error,s),complete:t.complete&&ae(t.complete,s)}):o=t,n.destination=new ce(o),n}return I(t,e),t}(se);function le(e){var t;K?(t=e,K&&ie&&(ie.errorThrown=!0,ie.error=t)):function(e){Q.setTimeout(function(){if(!X)throw e;X(e)})}(e)}function ue(e,t){var r=Z;r&&Q.setTimeout(function(){return r(e,t)})}var de={closed:!0,next:ee,error:function(e){throw e},complete:ee},ve="function"==typeof Symbol&&Symbol.observable||"@@observable";function fe(e){return e}var pe=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var i,o=this,s=(i=e)&&i instanceof se||function(e){return e&&U(e.next)&&U(e.error)&&U(e.complete)}(i)&&G(i)?e:new he(e,t,r);return oe(function(){var e=o,t=e.operator,r=e.source;s.add(t?t.call(s,r):r?o._subscribe(s):o._trySubscribe(s))}),s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=me(t))(function(t,i){var o=new he({next:function(t){try{e(t)}catch(e){i(e),o.unsubscribe()}},error:i,complete:t});r.subscribe(o)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[ve]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===(r=e).length?fe:1===r.length?r[0]:function(e){return r.reduce(function(e,t){return t(e)},e)})(this);var r},e.prototype.toPromise=function(e){var t=this;return new(e=me(e))(function(e,r){var i;t.subscribe(function(e){return i=e},function(e){return r(e)},function(){return e(i)})})},e.create=function(t){return new e(t)},e}();function me(e){var t;return null!==(t=null!=e?e:$)&&void 0!==t?t:Promise}var ge,be,ke=j(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),_e=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return I(t,e),t.prototype.lift=function(e){var t=new Pe(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new ke},t.prototype.next=function(e){var t=this;oe(function(){var r,i;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var o=R(t.currentObservers),s=o.next();!s.done;s=o.next())s.value.next(e)}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}}})},t.prototype.error=function(e){var t=this;oe(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}})},t.prototype.complete=function(){var e=this;oe(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this,i=r.hasError,o=r.isStopped,s=r.observers;return i||o?q:(this.currentObservers=null,s.push(e),new H(function(){t.currentObservers=null,V(s,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this,r=t.hasError,i=t.thrownError,o=t.isStopped;r?e.error(i):o&&e.complete()},t.prototype.asObservable=function(){var e=new pe;return e.source=this,e},t.create=function(e,t){return new Pe(e,t)},t}(pe),Pe=function(e){function t(t,r){var i=e.call(this)||this;return i.destination=t,i.source=r,i}return I(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:q},t}(_e);(be=ge||(ge={})).loading="loading",be.loaded="loaded",be.initialised="initialised",be.computing="computing";class Ce{constructor(){this.occWorkerState$=new _e,this.promisesMade=[]}occWorkerAlreadyInitialised(){return!!this.occWorker}prepareStepData(e){return t=this,r=void 0,o=function*(){return"undefined"!=typeof File&&e instanceof File||"undefined"!=typeof Blob&&e instanceof Blob?new Uint8Array(yield e.arrayBuffer()):e instanceof ArrayBuffer?new Uint8Array(e):e},new((i=void 0)||(i=Promise))(function(e,s){function n(e){try{c(o.next(e))}catch(e){s(e)}}function a(e){try{c(o.throw(e))}catch(e){s(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i(function(e){e(r)})).then(n,a)}c((o=o.apply(t,r||[])).next())});var t,r,i,o}setOccWorker(e){this.occWorker=e,this.occWorker.onmessage=({data:e})=>{if("occ-initialised"===e)this.occWorkerState$.next({state:ge.initialised});else if("busy"===e)this.occWorkerState$.next({state:ge.computing});else{const t=this.promisesMade.find(t=>t.uid===e.uid);t&&void 0!==e.result&&!e.error?t.resolve(e.result):e.error&&(this.errorCallback&&this.errorCallback(e.error),t.reject(e.error)),this.promisesMade=this.promisesMade.filter(t=>t.uid!==e.uid),0===this.promisesMade.length?this.occWorkerState$.next({state:ge.loaded}):this.occWorkerState$.next({state:ge.computing})}}}cleanPromisesMade(){this.promisesMade=[]}genericCallToWorkerPromise(e,t){const r=`call${Math.random()}${Date.now()}`,i={uid:r},o=new Promise((e,t)=>{i.resolve=e,i.reject=t});return i.promise=o,this.promisesMade.push(i),this.occWorker.postMessage({action:{functionName:e,inputs:t},uid:r}),o}startedTheRun(){return this.genericCallToWorkerPromise("startedTheRun",{})}cleanAllCache(){return this.genericCallToWorkerPromise("cleanAllCache",{})}}new Set(["shapeToMesh","shapesToMeshes","deleteShape","deleteShapes","startedTheRun","cleanAllCache","addOc","saveShapeSTEP"]);class ye{constructor(e){this.math=e}hexColor(e){return e.color}rgb255Color(e){return e.colorRgb}rgb1Color(e){return e.colorRgb}rgba255Color(e){return e.colorRgba}rgba1Color(e){return e.colorRgba}rgbAtomic255Color(e){return Object.assign({},e)}rgbAtomic1Color(e){return Object.assign({},e)}hexToRgb(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e.color);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:void 0}rgbToHex(e){let t=e.r,r=e.g,i=e.b;return 255!==e.max&&(t=Math.round(this.math.remap({number:t,fromLow:e.min,fromHigh:e.max,toLow:0,toHigh:255})),r=Math.round(this.math.remap({number:r,fromLow:e.min,fromHigh:e.max,toLow:0,toHigh:255})),i=Math.round(this.math.remap({number:i,fromLow:e.min,fromHigh:e.max,toLow:0,toHigh:255}))),`#${Number(16777216+65536*t+256*r+i).toString(16).substring(1,7)}`}rgbObjToHex(e){return this.rgbToHex({r:e.rgb.r,g:e.rgb.g,b:e.rgb.b,min:e.min,max:e.max})}hexToRgbMapped(e){const t=this.hexToRgb(e);return{r:this.math.remap({number:t.r,fromLow:0,fromHigh:255,toLow:e.from,toHigh:e.to}),g:this.math.remap({number:t.g,fromLow:0,fromHigh:255,toLow:e.from,toHigh:e.to}),b:this.math.remap({number:t.b,fromLow:0,fromHigh:255,toLow:e.from,toHigh:e.to})}}getRedParam(e){return this.hexToRgbMapped(e).r}getGreenParam(e){return this.hexToRgbMapped(e).g}getBlueParam(e){return this.hexToRgbMapped(e).b}rgbToRed(e){return e.rgb.r}rgbToGreen(e){return e.rgb.g}rgbToBlue(e){return e.rgb.b}invert(e){const{r:t,g:r,b:i}=this.hexToRgbMapped({color:e.color,from:0,to:255});if(e.blackAndWhite)return.299*t+.587*r+.114*i>186?"#000000":"#ffffff";const o=255-t,s=255-r,n=255-i;return this.rgbToHex({r:o,g:s,b:n,min:0,max:255})}}var xe,we,Te,We,Se,Me,De,Ee,Oe,Ae,Le,Fe,Ie,Re,Be,Ne,Ue,je,ze,Ve;!function(e){e.HexDto=class{constructor(e){this.color="#0000ff",void 0!==e&&(this.color=e)}},e.Rgb255Dto=class{constructor(e){this.colorRgb={r:0,g:0,b:255},void 0!==e&&(this.colorRgb=e)}},e.Rgb1Dto=class{constructor(e){this.colorRgb={r:0,g:0,b:1},void 0!==e&&(this.colorRgb=e)}},e.Rgba255Dto=class{constructor(e){this.colorRgba={r:0,g:0,b:255,a:1},void 0!==e&&(this.colorRgba=e)}},e.Rgba1Dto=class{constructor(e){this.colorRgba={r:0,g:0,b:1,a:1},void 0!==e&&(this.colorRgba=e)}},e.RgbAttomic255Dto=class{constructor(e,t,r){this.r=0,this.g=0,this.b=255,void 0!==e&&(this.r=e),void 0!==t&&(this.g=t),void 0!==r&&(this.b=r)}},e.RgbaAttomic255Dto=class{constructor(e,t,r,i){this.r=0,this.g=0,this.b=255,this.a=1,void 0!==e&&(this.r=e),void 0!==t&&(this.g=t),void 0!==r&&(this.b=r),void 0!==i&&(this.a=i)}},e.RgbAttomic1Dto=class{constructor(e,t,r){this.r=0,this.g=0,this.b=1,void 0!==e&&(this.r=e),void 0!==t&&(this.g=t),void 0!==r&&(this.b=r)}},e.RgbaAttomic1Dto=class{constructor(e,t,r,i){this.r=0,this.g=0,this.b=1,this.a=1,void 0!==e&&(this.r=e),void 0!==t&&(this.g=t),void 0!==r&&(this.b=r),void 0!==i&&(this.a=i)}},e.InvertHexDto=class{constructor(e){this.color="#0000ff",this.blackAndWhite=!1,void 0!==e&&(this.color=e)}},e.HexDtoMapped=class{constructor(e,t,r){this.color="#0000ff",this.from=0,this.to=255,void 0!==e&&(this.color=e),void 0!==t&&(this.from=t),void 0!==r&&(this.to=r)}},e.RGBObjectMaxDto=class{constructor(e,t){this.min=0,this.max=255,void 0!==e&&(this.rgb=e),void 0!==t&&(this.max=t)}},e.RGBMinMaxDto=class{constructor(e,t,r,i,o){this.r=255,this.g=255,this.b=255,this.min=0,this.max=255,void 0!==e&&(this.r=e),void 0!==t&&(this.g=t),void 0!==r&&(this.b=r),void 0!==i&&(this.min=i),void 0!==o&&(this.max=o)}},e.RGBObjectDto=class{constructor(e){void 0!==e&&(this.rgb=e)}}}(xe||(xe={})),function(e){let t;!function(e){e.first="first",e.last="last"}(t=e.firstLastEnum||(e.firstLastEnum={})),e.ListItemDto=class{constructor(e,t,r){this.index=0,this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.index=t),void 0!==r&&(this.clone=r)}},e.SubListDto=class{constructor(e,t,r,i){this.indexStart=0,this.indexEnd=1,this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.indexStart=t),void 0!==r&&(this.indexEnd=r),void 0!==i&&(this.clone=i)}},e.ListCloneDto=class{constructor(e,t){this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.clone=t)}},e.RepeatInPatternDto=class{constructor(e){this.clone=!0,this.lengthLimit=100,void 0!==e&&(this.list=e)}},e.SortDto=class{constructor(e,t,r){this.clone=!0,this.orderAsc=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.clone=t),void 0!==r&&(this.orderAsc=r)}},e.SortJsonDto=class{constructor(e,t,r){this.clone=!0,this.orderAsc=!0,this.property="propName",void 0!==e&&(this.list=e),void 0!==t&&(this.clone=t),void 0!==r&&(this.orderAsc=r)}},e.ListDto=class{constructor(e){void 0!==e&&(this.list=e)}},e.GroupListDto=class{constructor(e,t,r){this.nrElements=2,this.keepRemainder=!1,void 0!==e&&(this.list=e),void 0!==t&&(this.nrElements=t),void 0!==r&&(this.keepRemainder=r)}},e.MultiplyItemDto=class{constructor(e,t){void 0!==e&&(this.item=e),void 0!==t&&(this.times=t)}},e.AddItemAtIndexDto=class{constructor(e,t,r,i){this.index=0,this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.item=t),void 0!==r&&(this.index=r),void 0!==i&&(this.clone=i)}},e.AddItemAtIndexesDto=class{constructor(e,t,r,i){this.indexes=[0],this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.item=t),void 0!==r&&(this.indexes=r),void 0!==i&&(this.clone=i)}},e.AddItemsAtIndexesDto=class{constructor(e,t,r,i){this.indexes=[0],this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.items=t),void 0!==r&&(this.indexes=r),void 0!==i&&(this.clone=i)}},e.RemoveItemAtIndexDto=class{constructor(e,t,r){this.index=0,this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.index=t),void 0!==r&&(this.clone=r)}},e.RemoveItemsAtIndexesDto=class{constructor(e,t,r){this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.indexes=t),void 0!==r&&(this.clone=r)}},e.RemoveNthItemDto=class{constructor(e,t,r,i){this.nth=2,this.offset=0,this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.nth=t),void 0!==r&&(this.offset=r),void 0!==i&&(this.clone=i)}},e.RandomThresholdDto=class{constructor(e,t,r){this.threshold=1,this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.threshold=t),void 0!==r&&(this.clone=r)}},e.RemoveDuplicatesDto=class{constructor(e,t){this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.clone=t)}},e.RemoveDuplicatesToleranceDto=class{constructor(e,t,r){this.tolerance=1e-7,this.clone=!0,void 0!==e&&(this.list=e),void 0!==r&&(this.tolerance=r),void 0!==t&&(this.clone=t)}},e.GetByPatternDto=class{constructor(e,t){this.pattern=[!0,!0,!1],void 0!==e&&(this.list=e),void 0!==t&&(this.pattern=t)}},e.GetNthItemDto=class{constructor(e,t,r,i){this.nth=2,this.offset=0,this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.nth=t),void 0!==r&&(this.offset=r),void 0!==i&&(this.clone=i)}},e.GetLongestListLength=class{constructor(e){void 0!==e&&(this.lists=e)}},e.MergeElementsOfLists=class{constructor(e,t){this.level=0,void 0!==e&&(this.lists=e),void 0!==t&&(this.level=t)}},e.AddItemDto=class{constructor(e,t,r){this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.item=t),void 0!==r&&(this.clone=r)}},e.AddItemFirstLastDto=class{constructor(e,r,i,o){this.position=t.last,this.clone=!0,void 0!==e&&(this.list=e),void 0!==r&&(this.item=r),void 0!==i&&(this.position=i),void 0!==o&&(this.clone=o)}},e.ConcatenateDto=class{constructor(e,t){this.clone=!0,void 0!==e&&(this.lists=e),void 0!==t&&(this.clone=t)}},e.IncludesDto=class{constructor(e,t){void 0!==e&&(this.list=e),void 0!==t&&(this.item=t)}},e.InterleaveDto=class{constructor(e,t){this.clone=!0,void 0!==e&&(this.lists=e),void 0!==t&&(this.clone=t)}}}(we||(we={})),function(e){let t;!function(e){e.less="<",e.lessOrEqual="<=",e.greater=">",e.greaterOrEqual=">=",e.tripleEqual="===",e.tripleNotEqual="!==",e.equal="==",e.notEqual="!="}(t=e.BooleanOperatorsEnum||(e.BooleanOperatorsEnum={})),e.ComparisonDto=class{constructor(e,t,r){void 0!==e&&(this.first=e),void 0!==t&&(this.second=t),void 0!==r&&(this.operator=r)}},e.BooleanDto=class{constructor(e){this.boolean=!1,void 0!==e&&(this.boolean=e)}},e.BooleanListDto=class{constructor(e){void 0!==e&&(this.booleans=e)}},e.ValueGateDto=class{constructor(e,t){this.boolean=!1,void 0!==e&&(this.value=e),void 0!==t&&(this.boolean=t)}},e.TwoValueGateDto=class{constructor(e,t){void 0!==e&&(this.value1=e),void 0!==t&&(this.value2=t)}},e.RandomBooleansDto=class{constructor(e){this.length=10,this.trueThreshold=.5,void 0!==e&&(this.length=e)}},e.TwoThresholdRandomGradientDto=class{},e.ThresholdBooleanListDto=class{},e.ThresholdGapsBooleanListDto=class{}}(Te||(Te={})),function(e){let t,r,i;!function(e){e.add="add",e.subtract="subtract",e.multiply="multiply",e.divide="divide",e.power="power",e.modulus="modulus"}(t=e.mathTwoNrOperatorEnum||(e.mathTwoNrOperatorEnum={})),function(e){e.absolute="absolute",e.negate="negate",e.ln="ln",e.log10="log10",e.tenPow="tenPow",e.round="round",e.floor="floor",e.ceil="ceil",e.sqrt="sqrt",e.sin="sin",e.cos="cos",e.tan="tan",e.asin="asin",e.acos="acos",e.atan="atan",e.log="log",e.exp="exp",e.radToDeg="radToDeg",e.degToRad="degToRad"}(r=e.mathOneNrOperatorEnum||(e.mathOneNrOperatorEnum={})),function(e){e.easeInSine="easeInSine",e.easeOutSine="easeOutSine",e.easeInOutSine="easeInOutSine",e.easeInQuad="easeInQuad",e.easeOutQuad="easeOutQuad",e.easeInOutQuad="easeInOutQuad",e.easeInCubic="easeInCubic",e.easeOutCubic="easeOutCubic",e.easeInOutCubic="easeInOutCubic",e.easeInQuart="easeInQuart",e.easeOutQuart="easeOutQuart",e.easeInOutQuart="easeInOutQuart",e.easeInQuint="easeInQuint",e.easeOutQuint="easeOutQuint",e.easeInOutQuint="easeInOutQuint",e.easeInExpo="easeInExpo",e.easeOutExpo="easeOutExpo",e.easeInOutExpo="easeInOutExpo",e.easeInCirc="easeInCirc",e.easeOutCirc="easeOutCirc",e.easeInOutCirc="easeInOutCirc",e.easeInElastic="easeInElastic",e.easeOutElastic="easeOutElastic",e.easeInOutElastic="easeInOutElastic",e.easeInBack="easeInBack",e.easeOutBack="easeOutBack",e.easeInOutBack="easeInOutBack",e.easeInBounce="easeInBounce",e.easeOutBounce="easeOutBounce",e.easeInOutBounce="easeInOutBounce"}(i=e.easeEnum||(e.easeEnum={})),e.ModulusDto=class{constructor(e,t){this.number=1,this.modulus=2,void 0!==e&&(this.number=e),void 0!==t&&(this.modulus=t)}},e.NumberDto=class{constructor(e){this.number=1,void 0!==e&&(this.number=e)}},e.EaseDto=class{constructor(e){this.x=.5,this.min=0,this.max=1,void 0!==e&&(this.x=e)}},e.RoundToDecimalsDto=class{constructor(e,t){this.number=1.123456,this.decimalPlaces=2,void 0!==e&&(this.number=e),void 0!==t&&(this.decimalPlaces=t)}},e.ActionOnTwoNumbersDto=class{constructor(e,t,r){this.first=1,this.second=1,void 0!==e&&(this.first=e),void 0!==t&&(this.second=t),void 0!==r&&(this.operation=r)}},e.TwoNumbersDto=class{constructor(e,t){this.first=1,this.second=2,void 0!==e&&(this.first=e),void 0!==t&&(this.second=t)}},e.ActionOnOneNumberDto=class{constructor(e,t){this.number=1,void 0!==e&&(this.number=e),void 0!==t&&(this.operation=t)}},e.RemapNumberDto=class{constructor(e,t,r,i,o){this.number=.5,this.fromLow=0,this.fromHigh=1,this.toLow=1,this.toHigh=2,void 0!==e&&(this.number=e),void 0!==t&&(this.fromLow=t),void 0!==r&&(this.fromHigh=r),void 0!==i&&(this.toLow=i),void 0!==o&&(this.toHigh=o)}},e.RandomNumberDto=class{constructor(e,t){this.low=0,this.high=1,void 0!==e&&(this.low=e),void 0!==t&&(this.high=t)}},e.RandomNumbersDto=class{constructor(e,t,r){this.low=0,this.high=1,this.count=10,void 0!==e&&(this.low=e),void 0!==t&&(this.high=t),void 0!==r&&(this.count=r)}},e.ToFixedDto=class{constructor(e,t){this.decimalPlaces=2,void 0!==e&&(this.number=e),void 0!==t&&(this.decimalPlaces=t)}},e.ClampDto=class{constructor(e,t,r){this.number=.5,this.min=0,this.max=1,void 0!==e&&(this.number=e),void 0!==t&&(this.min=t),void 0!==r&&(this.max=r)}},e.LerpDto=class{constructor(e,t,r){this.start=0,this.end=1,this.t=.5,void 0!==e&&(this.start=e),void 0!==t&&(this.end=t),void 0!==r&&(this.t=r)}},e.InverseLerpDto=class{constructor(e,t,r){this.start=0,this.end=1,this.value=.5,void 0!==e&&(this.start=e),void 0!==t&&(this.end=t),void 0!==r&&(this.value=r)}},e.WrapDto=class{constructor(e,t,r){this.number=1.5,this.min=0,this.max=1,void 0!==e&&(this.number=e),void 0!==t&&(this.min=t),void 0!==r&&(this.max=r)}},e.PingPongDto=class{constructor(e,t){this.t=.5,this.length=1,void 0!==e&&(this.t=e),void 0!==t&&(this.length=t)}},e.MoveTowardsDto=class{constructor(e,t,r){this.current=0,this.target=1,this.maxDelta=.1,void 0!==e&&(this.current=e),void 0!==t&&(this.target=t),void 0!==r&&(this.maxDelta=r)}}}(We||(We={})),(Ve=Se||(Se={})).PointDto=class{constructor(e){void 0!==e&&(this.point=e)}},Ve.PointXYZDto=class{constructor(e,t,r){this.x=0,this.y=0,this.z=0,void 0!==e&&(this.x=e),void 0!==t&&(this.y=t),void 0!==r&&(this.z=r)}},Ve.PointXYDto=class{constructor(e,t){this.x=0,this.y=0,void 0!==e&&(this.x=e),void 0!==t&&(this.y=t)}},Ve.PointsDto=class{constructor(e){void 0!==e&&(this.points=e)}},Ve.TwoPointsDto=class{constructor(e,t){void 0!==e&&(this.point1=e),void 0!==t&&(this.point2=t)}},Ve.DrawPointDto=class{constructor(e,t,r,i,o,s){this.opacity=1,this.size=3,this.colours="#444444",this.updatable=!1,void 0!==e&&(this.point=e),void 0!==t&&(this.opacity=t),void 0!==r&&(this.size=r),void 0!==i&&(this.colours=i),void 0!==o&&(this.updatable=o),void 0!==s&&(this.pointMesh=s)}},Ve.DrawPointsDto=class{constructor(e,t,r,i,o,s){this.opacity=1,this.size=.1,this.colours="#444444",this.updatable=!1,void 0!==e&&(this.points=e),void 0!==t&&(this.opacity=t),void 0!==r&&(this.size=r),void 0!==i&&(this.colours=i),void 0!==o&&(this.updatable=o),void 0!==s&&(this.pointsMesh=s)}},Ve.TransformPointDto=class{constructor(e,t){void 0!==e&&(this.point=e),void 0!==t&&(this.transformation=t)}},Ve.TransformPointsDto=class{constructor(e,t){void 0!==e&&(this.points=e),void 0!==t&&(this.transformation=t)}},Ve.TranslatePointsWithVectorsDto=class{constructor(e,t){void 0!==e&&(this.points=e),void 0!==t&&(this.translations=t)}},Ve.TranslatePointsDto=class{constructor(e,t){void 0!==e&&(this.points=e),void 0!==t&&(this.translation=t)}},Ve.TranslateXYZPointsDto=class{constructor(e,t,r,i){this.x=0,this.y=1,this.z=0,void 0!==e&&(this.points=e),void 0!==t&&(this.x=t),void 0!==r&&(this.y=r),void 0!==i&&(this.z=i)}},Ve.ScalePointsCenterXYZDto=class{constructor(e,t,r){this.center=[0,0,0],this.scaleXyz=[1,1,1],void 0!==e&&(this.points=e),void 0!==t&&(this.center=t),void 0!==r&&(this.scaleXyz=r)}},Ve.StretchPointsDirFromCenterDto=class{constructor(e,t,r,i){this.center=[0,0,0],this.direction=[0,0,1],this.scale=2,void 0!==e&&(this.points=e),void 0!==t&&(this.center=t),void 0!==r&&(this.direction=r),void 0!==i&&(this.scale=i)}},Ve.RotatePointsCenterAxisDto=class{constructor(e,t,r,i){this.angle=90,this.axis=[0,1,0],this.center=[0,0,0],void 0!==e&&(this.points=e),void 0!==t&&(this.angle=t),void 0!==r&&(this.axis=r),void 0!==i&&(this.center=i)}},Ve.TransformsForPointsDto=class{constructor(e,t){void 0!==e&&(this.points=e),void 0!==t&&(this.transformation=t)}},Ve.ThreePointsNormalDto=class{constructor(e,t,r,i){this.reverseNormal=!1,void 0!==e&&(this.point1=e),void 0!==t&&(this.point2=t),void 0!==r&&(this.point3=r),void 0!==i&&(this.reverseNormal=i)}},Ve.ThreePointsToleranceDto=class{constructor(e,t,r,i){this.tolerance=1e-7,void 0!==e&&(this.start=e),void 0!==t&&(this.center=t),void 0!==r&&(this.end=r),void 0!==i&&(this.tolerance=i)}},Ve.PointsMaxFilletsHalfLineDto=class{constructor(e,t,r){this.checkLastWithFirst=!1,this.tolerance=1e-7,void 0!==e&&(this.points=e),void 0!==t&&(this.checkLastWithFirst=t),void 0!==r&&(this.tolerance=r)}},Ve.RemoveConsecutiveDuplicatesDto=class{constructor(e,t,r){this.tolerance=1e-7,this.checkFirstAndLast=!1,void 0!==e&&(this.points=e),void 0!==t&&(this.tolerance=t),void 0!==r&&(this.checkFirstAndLast=r)}},Ve.ClosestPointFromPointsDto=class{constructor(e,t){void 0!==e&&(this.points=e),void 0!==t&&(this.point=t)}},Ve.TwoPointsToleranceDto=class{constructor(e,t,r){this.tolerance=1e-7,void 0!==e&&(this.point1=e),void 0!==t&&(this.point2=t),void 0!==r&&(this.tolerance=r)}},Ve.StartEndPointsDto=class{constructor(e,t){void 0!==e&&(this.startPoint=e),void 0!==t&&(this.endPoint=t)}},Ve.StartEndPointsListDto=class{constructor(e,t){void 0!==e&&(this.startPoint=e),void 0!==t&&(this.endPoints=t)}},Ve.MultiplyPointDto=class{constructor(e,t){void 0!==e&&(this.point=e),void 0!==t&&(this.amountOfPoints=t)}},Ve.SpiralDto=class{constructor(e,t,r,i,o){this.phi=.9,this.numberPoints=200,this.widening=3,this.radius=6,this.factor=1,void 0!==e&&(this.radius=e),void 0!==t&&(this.numberPoints=t),void 0!==r&&(this.widening=r),void 0!==i&&(this.factor=i),void 0!==o&&(this.phi=o)}},Ve.HexGridScaledToFitDto=class{constructor(e,t,r,i,o,s){this.width=10,this.height=10,this.nrHexagonsInWidth=10,this.nrHexagonsInHeight=10,this.flatTop=!1,this.extendTop=!1,this.extendBottom=!1,this.extendLeft=!1,this.extendRight=!1,this.centerGrid=!1,this.pointsOnGround=!1,void 0!==e&&(this.width=e),void 0!==t&&(this.height=t),void 0!==r&&(this.nrHexagonsInHeight=r),void 0!==i&&(this.nrHexagonsInWidth=i),void 0!==o&&(this.centerGrid=o),void 0!==s&&(this.pointsOnGround=s)}},Ve.HexGridCentersDto=class{constructor(e,t,r,i,o){this.nrHexagonsY=21,this.nrHexagonsX=21,this.orientOnCenter=!1,this.pointsOnGround=!1,void 0!==e&&(this.nrHexagonsX=e),void 0!==t&&(this.nrHexagonsY=t),void 0!==r&&(this.radiusHexagon=r),void 0!==i&&(this.orientOnCenter=i),void 0!==o&&(this.pointsOnGround=o)}},function(e){e.TextDto=class{constructor(e){this.text="Hello World",void 0!==e&&(this.text=e)}},e.TextSplitDto=class{constructor(e,t){this.text="a,b,c",this.separator=",",void 0!==e&&(this.text=e),void 0!==t&&(this.separator=t)}},e.TextReplaceDto=class{constructor(e,t,r){this.text="a-c",this.search="-",this.replaceWith="b",void 0!==e&&(this.text=e),void 0!==t&&(this.search=t),void 0!==r&&(this.replaceWith=r)}},e.TextJoinDto=class{constructor(e,t){this.separator=",",void 0!==e&&(this.list=e),void 0!==t&&(this.separator=t)}},e.ToStringDto=class{constructor(e){void 0!==e&&(this.item=e)}},e.ToStringEachDto=class{constructor(e){void 0!==e&&(this.list=e)}},e.TextFormatDto=class{constructor(e,t){this.text="Hello {0}",this.values=["World"],void 0!==e&&(this.text=e),void 0!==t&&(this.values=t)}},e.TextSearchDto=class{constructor(e,t){this.text="hello world",this.search="world",void 0!==e&&(this.text=e),void 0!==t&&(this.search=t)}},e.TextSubstringDto=class{constructor(e,t,r){this.text="hello world",this.start=0,this.end=5,void 0!==e&&(this.text=e),void 0!==t&&(this.start=t),void 0!==r&&(this.end=r)}},e.TextIndexDto=class{constructor(e,t){this.text="hello",this.index=0,void 0!==e&&(this.text=e),void 0!==t&&(this.index=t)}},e.TextPadDto=class{constructor(e,t,r){this.text="x",this.length=3,this.padString="a",void 0!==e&&(this.text=e),void 0!==t&&(this.length=t),void 0!==r&&(this.padString=r)}},e.TextRepeatDto=class{constructor(e,t){this.text="ha",this.count=3,void 0!==e&&(this.text=e),void 0!==t&&(this.count=t)}},e.TextConcatDto=class{constructor(e){this.texts=["hello"," ","world"],void 0!==e&&(this.texts=e)}},e.TextRegexDto=class{constructor(e,t,r){this.text="hello123world",this.pattern="[0-9]+",this.flags="g",void 0!==e&&(this.text=e),void 0!==t&&(this.pattern=t),void 0!==r&&(this.flags=r)}},e.TextRegexReplaceDto=class{constructor(e,t,r,i){this.text="hello123world456",this.pattern="[0-9]+",this.flags="g",this.replaceWith="X",void 0!==e&&(this.text=e),void 0!==t&&(this.pattern=t),void 0!==r&&(this.flags=r),void 0!==i&&(this.replaceWith=i)}},e.VectorCharDto=class{constructor(e,t,r,i,o){this.char="A",this.xOffset=0,this.yOffset=0,this.height=1,this.extrudeOffset=0,void 0!==e&&(this.char=e),void 0!==t&&(this.xOffset=t),void 0!==r&&(this.yOffset=r),void 0!==i&&(this.height=i),void 0!==o&&(this.extrudeOffset=o)}},e.VectorTextDto=class{constructor(e,t,r,i,o,s,n,a,c){this.xOffset=0,this.yOffset=0,this.height=1,this.lineSpacing=1.4,this.letterSpacing=0,this.extrudeOffset=0,this.centerOnOrigin=!1,void 0!==e&&(this.text=e),void 0!==t&&(this.xOffset=t),void 0!==r&&(this.yOffset=r),void 0!==i&&(this.height=i),void 0!==o&&(this.lineSpacing=o),void 0!==s&&(this.letterSpacing=s),void 0!==n&&(this.align=n),void 0!==a&&(this.extrudeOffset=a),void 0!==c&&(this.centerOnOrigin=c)}}}(Me||(Me={})),(ze=De||(De={})).TwoVectorsDto=class{constructor(e,t){void 0!==e&&(this.first=e),void 0!==t&&(this.second=t)}},ze.VectorBoolDto=class{constructor(e){void 0!==e&&(this.vector=e)}},ze.RemoveAllDuplicateVectorsDto=class{constructor(e,t){this.tolerance=1e-7,void 0!==e&&(this.vectors=e),void 0!==t&&(this.tolerance=t)}},ze.RemoveConsecutiveDuplicateVectorsDto=class{constructor(e,t,r){this.checkFirstAndLast=!1,this.tolerance=1e-7,void 0!==e&&(this.vectors=e),void 0!==t&&(this.checkFirstAndLast=t),void 0!==r&&(this.tolerance=r)}},ze.VectorsTheSameDto=class{constructor(e,t,r){this.tolerance=1e-7,void 0!==e&&(this.vec1=e),void 0!==t&&(this.vec2=t),void 0!==r&&(this.tolerance=r)}},ze.VectorDto=class{constructor(e){void 0!==e&&(this.vector=e)}},ze.VectorStringDto=class{constructor(e){void 0!==e&&(this.vector=e)}},ze.Vector3Dto=class{constructor(e){void 0!==e&&(this.vector=e)}},ze.RangeMaxDto=class{constructor(e){void 0!==e&&(this.max=e)}},ze.VectorXYZDto=class{constructor(e,t,r){void 0!==e&&(this.x=e),void 0!==t&&(this.y=t),void 0!==r&&(this.z=r)}},ze.VectorXYDto=class{constructor(e,t){void 0!==e&&(this.x=e),void 0!==t&&(this.y=t)}},ze.SpanDto=class{constructor(e,t,r){this.step=.1,this.min=0,this.max=1,void 0!==e&&(this.step=e),void 0!==t&&(this.min=t),void 0!==r&&(this.max=r)}},ze.SpanEaseItemsDto=class{constructor(e,t,r,i){this.nrItems=100,this.min=0,this.max=1,this.ease=We.easeEnum.easeInSine,this.intervals=!1,void 0!==e&&(this.nrItems=e),void 0!==t&&(this.min=t),void 0!==r&&(this.max=r),void 0!==i&&(this.ease=i)}},ze.SpanLinearItemsDto=class{constructor(e,t,r){this.nrItems=100,this.min=0,this.max=1,void 0!==e&&(this.nrItems=e),void 0!==t&&(this.min=t),void 0!==r&&(this.max=r)}},ze.RayPointDto=class{constructor(e,t,r){void 0!==e&&(this.point=e),void 0!==t&&(this.distance=t),void 0!==r&&(this.vector=r)}},ze.VectorsDto=class{constructor(e){void 0!==e&&(this.vectors=e)}},ze.FractionTwoVectorsDto=class{constructor(e,t,r){this.fraction=.5,void 0!==e&&(this.fraction=e),void 0!==t&&(this.first=t),void 0!==r&&(this.second=r)}},ze.VectorScalarDto=class{constructor(e,t){void 0!==e&&(this.scalar=e),void 0!==t&&(this.vector=t)}},ze.TwoVectorsReferenceDto=class{constructor(e,t,r){void 0!==e&&(this.reference=e),void 0!==t&&(this.first=t),void 0!==r&&(this.second=r)}},(je=Ee||(Ee={})).RotationCenterAxisDto=class{constructor(e,t,r){this.angle=90,this.axis=[0,1,0],this.center=[0,0,0],void 0!==e&&(this.angle=e),void 0!==t&&(this.axis=t),void 0!==r&&(this.center=r)}},je.RotationCenterDto=class{constructor(e,t){this.angle=90,this.center=[0,0,0],void 0!==e&&(this.angle=e),void 0!==t&&(this.center=t)}},je.RotationCenterYawPitchRollDto=class{constructor(e,t,r,i){this.yaw=0,this.pitch=0,this.roll=0,this.center=[0,0,0],void 0!==e&&(this.yaw=e),void 0!==t&&(this.pitch=t),void 0!==r&&(this.roll=r),void 0!==i&&(this.center=i)}},je.ScaleXYZDto=class{constructor(e){this.scaleXyz=[1,1,1],void 0!==e&&(this.scaleXyz=e)}},je.StretchDirCenterDto=class{constructor(e,t,r){this.center=[0,0,0],this.direction=[0,0,1],this.scale=2,void 0!==e&&(this.scale=e),void 0!==t&&(this.center=t),void 0!==r&&(this.direction=r)}},je.ScaleCenterXYZDto=class{constructor(e,t){this.center=[0,0,0],this.scaleXyz=[1,1,1],void 0!==e&&(this.center=e),void 0!==t&&(this.scaleXyz=t)}},je.UniformScaleDto=class{constructor(e){this.scale=1,void 0!==e&&(this.scale=e)}},je.UniformScaleFromCenterDto=class{constructor(e,t){this.scale=1,this.center=[0,0,0],void 0!==e&&(this.scale=e),void 0!==t&&(this.center=t)}},je.TranslationXYZDto=class{constructor(e){this.translation=[0,0,0],void 0!==e&&(this.translation=e)}},je.TranslationsXYZDto=class{constructor(e){void 0!==e&&(this.translations=e)}},function(e){let t,r,i,o;!function(e){e.left="left",e.center="center",e.right="right"}(t=e.horizontalAlignEnum||(e.horizontalAlignEnum={})),function(e){e.top="top",e.middle="middle",e.bottom="bottom"}(r=e.verticalAlignmentEnum||(e.verticalAlignmentEnum={})),function(e){e.top="top",e.bottom="bottom"}(i=e.topBottomEnum||(e.topBottomEnum={})),function(e){e.topLeft="topLeft",e.topMid="topMid",e.topRight="topRight",e.midLeft="midLeft",e.midMid="midMid",e.midRight="midRight",e.bottomLeft="bottomLeft",e.bottomMid="bottomMid",e.bottomRight="bottomRight"}(o=e.basicAlignmentEnum||(e.basicAlignmentEnum={}))}(Oe||(Oe={})),function(e){e.DateDto=class{constructor(e){void 0!==e&&(this.date=e)}},e.DateStringDto=class{constructor(e){void 0!==e&&(this.dateString=e)}},e.DateSecondsDto=class{constructor(e,t){this.seconds=30,void 0!==e&&(this.date=e),void 0!==t&&(this.seconds=t)}},e.DateDayDto=class{constructor(e,t){this.day=1,void 0!==e&&(this.date=e),void 0!==t&&(this.day=t)}},e.DateYearDto=class{constructor(e,t){this.year=1,void 0!==e&&(this.date=e),void 0!==t&&(this.year=t)}},e.DateMonthDto=class{constructor(e,t){this.month=1,void 0!==e&&(this.date=e),void 0!==t&&(this.month=t)}},e.DateHoursDto=class{constructor(e,t){this.hours=1,void 0!==e&&(this.date=e),void 0!==t&&(this.hours=t)}},e.DateMinutesDto=class{constructor(e,t){this.minutes=1,void 0!==e&&(this.date=e),void 0!==t&&(this.minutes=t)}},e.DateMillisecondsDto=class{constructor(e,t){this.milliseconds=1,void 0!==e&&(this.date=e),void 0!==t&&(this.milliseconds=t)}},e.DateTimeDto=class{constructor(e,t){this.time=1,void 0!==e&&(this.date=e),void 0!==t&&(this.time=t)}},e.CreateFromUnixTimeStampDto=class{constructor(e){this.unixTimeStamp=1,void 0!==e&&(this.unixTimeStamp=e)}},e.CreateDateDto=class{constructor(e,t,r,i,o,s,n){this.year=1,this.month=1,this.day=1,this.hours=1,this.minutes=1,this.seconds=1,this.milliseconds=1,void 0!==e&&(this.year=e),void 0!==t&&(this.month=t),void 0!==r&&(this.day=r),void 0!==i&&(this.hours=i),void 0!==o&&(this.minutes=o),void 0!==s&&(this.seconds=s),void 0!==n&&(this.milliseconds=n)}}}(Ae||(Ae={})),(Ue=Le||(Le={})).LinePointsDto=class{constructor(e,t){void 0!==e&&(this.start=e),void 0!==t&&(this.end=t)}},Ue.LineStartEndPointsDto=class{constructor(e,t){void 0!==e&&(this.startPoints=e),void 0!==t&&(this.endPoints=t)}},Ue.DrawLineDto=class{constructor(e,t,r,i,o,s){this.opacity=1,this.colours="#444444",this.size=3,this.updatable=!1,void 0!==e&&(this.line=e),void 0!==t&&(this.opacity=t),void 0!==r&&(this.colours=r),void 0!==i&&(this.size=i),void 0!==o&&(this.updatable=o),void 0!==s&&(this.lineMesh=s)}},Ue.DrawLinesDto=class{constructor(e,t,r,i,o,s){this.opacity=1,this.colours="#444444",this.size=3,this.updatable=!1,void 0!==e&&(this.lines=e),void 0!==t&&(this.opacity=t),void 0!==r&&(this.colours=r),void 0!==i&&(this.size=i),void 0!==o&&(this.updatable=o),void 0!==s&&(this.linesMesh=s)}},Ue.PointsLinesDto=class{constructor(e){void 0!==e&&(this.points=e)}},Ue.LineDto=class{constructor(e){void 0!==e&&(this.line=e)}},Ue.SegmentDto=class{constructor(e){void 0!==e&&(this.segment=e)}},Ue.SegmentsDto=class{constructor(e){void 0!==e&&(this.segments=e)}},Ue.LinesDto=class{constructor(e){void 0!==e&&(this.lines=e)}},Ue.LineLineIntersectionDto=class{constructor(e,t,r){this.checkSegmentsOnly=!0,void 0!==e&&(this.line1=e),void 0!==t&&(this.line2=t),void 0!==r&&(this.tolerance=r)}},Ue.PointOnLineDto=class{constructor(e,t){this.param=.5,void 0!==e&&(this.line=e),void 0!==t&&(this.param=t)}},Ue.TransformLineDto=class{constructor(e,t){void 0!==e&&(this.line=e),void 0!==t&&(this.transformation=t)}},Ue.TransformsLinesDto=class{constructor(e,t){void 0!==e&&(this.lines=e),void 0!==t&&(this.transformation=t)}},Ue.TransformLinesDto=class{constructor(e,t){void 0!==e&&(this.lines=e),void 0!==t&&(this.transformation=t)}},(Ne=Fe||(Fe={})).PolylineCreateDto=class{constructor(e,t){this.isClosed=!1,void 0!==e&&(this.points=e),void 0!==t&&(this.isClosed=t)}},Ne.PolylinePropertiesDto=class{constructor(e,t){this.isClosed=!1,void 0!==e&&(this.points=e),void 0!==t&&(this.isClosed=t)}},Ne.PolylineDto=class{constructor(e){void 0!==e&&(this.polyline=e)}},Ne.PolylinesDto=class{constructor(e){void 0!==e&&(this.polylines=e)}},Ne.TransformPolylineDto=class{constructor(e,t){void 0!==e&&(this.polyline=e),void 0!==t&&(this.transformation=t)}},Ne.DrawPolylineDto=class{constructor(e,t,r,i,o,s){this.opacity=1,this.colours="#444444",this.size=3,this.updatable=!1,void 0!==e&&(this.polyline=e),void 0!==t&&(this.opacity=t),void 0!==r&&(this.colours=r),void 0!==i&&(this.size=i),void 0!==o&&(this.updatable=o),void 0!==s&&(this.polylineMesh=s)}},Ne.DrawPolylinesDto=class{constructor(e,t,r,i,o,s){this.opacity=1,this.colours="#444444",this.size=3,this.updatable=!1,void 0!==e&&(this.polylines=e),void 0!==t&&(this.opacity=t),void 0!==r&&(this.colours=r),void 0!==i&&(this.size=i),void 0!==o&&(this.updatable=o),void 0!==s&&(this.polylinesMesh=s)}},Ne.SegmentsToleranceDto=class{constructor(e){this.tolerance=1e-5,void 0!==e&&(this.segments=e)}},Ne.PolylineToleranceDto=class{constructor(e,t){this.tolerance=1e-5,void 0!==e&&(this.polyline=e),void 0!==t&&(this.tolerance=t)}},Ne.TwoPolylinesToleranceDto=class{constructor(e,t,r){this.tolerance=1e-5,void 0!==e&&(this.polyline1=e),void 0!==t&&(this.polyline2=t),void 0!==r&&(this.tolerance=r)}},(Be=Ie||(Ie={})).SignedDistanceFromPlaneToPointDto=class{constructor(e,t){void 0!==e&&(this.point=e),void 0!==t&&(this.plane=t)}},Be.TriangleDto=class{constructor(e){void 0!==e&&(this.triangle=e)}},Be.TriangleToleranceDto=class{constructor(e){this.tolerance=1e-7,void 0!==e&&(this.triangle=e)}},Be.TriangleTriangleToleranceDto=class{constructor(e,t,r){this.tolerance=1e-7,void 0!==e&&(this.triangle1=e),void 0!==t&&(this.triangle2=t),void 0!==r&&(this.tolerance=r)}},Be.MeshMeshToleranceDto=class{constructor(e,t,r){this.tolerance=1e-7,void 0!==e&&(this.mesh1=e),void 0!==t&&(this.mesh2=t),void 0!==r&&(this.tolerance=r)}},function(e){e.DxfLineSegmentDto=class{constructor(e,t){void 0!==e&&(this.start=e),void 0!==t&&(this.end=t)}},e.DxfArcSegmentDto=class{constructor(e,t,r,i){void 0!==e&&(this.center=e),void 0!==t&&(this.radius=t),void 0!==r&&(this.startAngle=r),void 0!==i&&(this.endAngle=i)}},e.DxfCircleSegmentDto=class{constructor(e,t){void 0!==e&&(this.center=e),void 0!==t&&(this.radius=t)}},e.DxfPolylineSegmentDto=class{constructor(e,t,r){this.closed=!1,void 0!==e&&(this.points=e),void 0!==t&&(this.closed=t),void 0!==r&&(this.bulges=r)}},e.DxfSplineSegmentDto=class{constructor(e,t,r){this.degree=3,this.closed=!1,void 0!==e&&(this.controlPoints=e),void 0!==t&&(this.degree=t),void 0!==r&&(this.closed=r)}},e.DxfPathDto=class{constructor(e){void 0!==e&&(this.segments=e)}},e.DxfPathsPartDto=class{constructor(e,t,r){this.layer="Default",this.color="#000000",void 0!==e&&(this.layer=e),void 0!==t&&(this.color=t),void 0!==r&&(this.paths=r)}},e.DxfModelDto=class{constructor(e,t,r){this.colorFormat="aci",this.acadVersion="AC1009",void 0!==e&&(this.dxfPathsParts=e),void 0!==t&&(this.colorFormat=t),void 0!==r&&(this.acadVersion=r)}}}(Re||(Re={}));class He{getItem(e){if(e.index<0||e.index>=e.list.length)throw new Error("Index out of bounds");let t;return t=e.clone?structuredClone(e.list[e.index]):e.list[e.index],t}getFirstItem(e){if(0===e.list.length)throw new Error("List is empty");let t;return t=e.clone?structuredClone(e.list[0]):e.list[0],t}getLastItem(e){if(0===e.list.length)throw new Error("List is empty");let t;return t=e.clone?structuredClone(e.list[e.list.length-1]):e.list[e.list.length-1],t}randomGetThreshold(e){let t=e.list;e.clone&&(t=structuredClone(e.list));const r=[];for(let i=0;i<e.list.length;i++)Math.random()<e.threshold&&r.push(t[i]);return r}getSubList(e){let t;return t=e.clone?structuredClone(e.list.slice(e.indexStart,e.indexEnd)):e.list.slice(e.indexStart,e.indexEnd),t}getNthItem(e){let t=e.list;e.clone&&(t=structuredClone(e.list));const r=[];for(let i=0;i<t.length;i++)(i+e.offset)%e.nth===0&&r.push(t[i]);return r}getByPattern(e){const{list:t,pattern:r}=e;if(!r||0===r.length)throw new Error("Pattern is empty or does not exist");const i=r.length,o=t.length,s=[];if(i>=o)t.forEach((e,t)=>{!0===r[t]&&s.push(e)});else{const e=[],n=Math.ceil(o/i);for(let t=0;t<n;t++)e.push(...r);t.forEach((t,r)=>{!0===e[r]&&s.push(t)})}return s}mergeElementsOfLists(e){const t=e.lists,r=e.level,i=[],o=[];t.forEach(e=>{const t=e.flat(r);i.push(t)});const s=this.getLongestListLength({lists:i});for(let e=0;e<s;e++){const t=[];for(let r=0;r<i.length;r++){const o=i[r][e];void 0!==o&&t.push(o)}t.length>0&&o.push(t)}let n=[];if(r>0)for(let e=0;e<r;e++)e===r-1&&0!==e?n[e-1].push(o):e===r-1?n.push(o):n.push([]);else n=o;return n}getLongestListLength(e){let t=0;return e.lists?(e.lists.forEach(e=>{e.length>t&&(t=e.length)}),t):void 0}reverse(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),t.reverse()}shuffle(e){let t=e.list;e.clone&&(t=structuredClone(e.list));for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t}flipLists(e){if(e.list.length>0){const t=e.list[0].length;let r=!0;if(e.list.forEach(e=>{e.length!==t&&(r=!1)}),r){const r=[];for(let i=0;i<t;i++){const t=[];e.list.forEach(e=>{t.push(e[i])}),r.push(t)}return r}throw new Error("Lists are not of the same length")}throw new Error("List is empty")}groupNth(e){return(e=>{const{nrElements:t,list:r,keepRemainder:i}=e,o=t,s=[];let n=[];return r.forEach((e,t)=>{n.push(e),(t+1)%o===0&&(s.push(n),n=[]),n.length>0&&i&&t===r.length-1&&s.push(n)}),s})(e)}includes(e){return e.list.includes(e.item)}findIndex(e){return e.list.indexOf(e.item)}getListDepth(e){let t=0,r=!0,i=e.list;for(;r;){let e=!1;for(let t=0;t<i.length;t++)Array.isArray(i[t])&&(e=!0);i=i.flat(),e?t++:(t++,r=!1)}return t}listLength(e){return e.list.length}addItemAtIndex(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),e.index>=0&&e.index<=t.length&&t.splice(e.index,0,e.item),t}addItemAtIndexes(e){let t=e.list;e.clone&&(t=structuredClone(e.list));let r=[...e.indexes];return r=r.filter(e=>e>=0&&e<=t.length),r.sort((e,t)=>e-t),r.forEach((r,i)=>{r>=0&&r+i<=t.length&&t.splice(r+i,0,e.item)}),t}addItemsAtIndexes(e){if(e.items.length!==e.indexes.length)throw new Error("Items and indexes must have the same length");for(let t=0;t<e.indexes.length;t++)if(t>0&&e.indexes[t-1]>e.indexes[t])throw new Error("Indexes must be in ascending order");let t=e.list;return e.clone&&(t=structuredClone(e.list)),[...e.indexes].forEach((r,i)=>{r>=0&&r+i<=t.length&&t.splice(r+i,0,e.items[i])}),t}removeItemAtIndex(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),e.index>=0&&e.index<=t.length&&t.splice(e.index,1),t}removeFirstItem(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),t.length>0&&t.shift(),t}removeLastItem(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),t.length>0&&t.pop(),t}removeItemAtIndexFromEnd(e){let t=e.list;if(e.clone&&(t=structuredClone(e.list)),e.index>=0&&e.index<t.length){const r=t.length-1-e.index;t.splice(r,1)}return t}removeItemsAtIndexes(e){let t=e.list;e.clone&&(t=structuredClone(e.list));const r=[...e.indexes];return r.sort((e,t)=>t-e),r.forEach(e=>{e>=0&&e<t.length&&t.splice(e,1)}),t}removeAllItems(e){return e.list.length=0,e.list}removeNthItem(e){let t=e.list;e.clone&&(t=structuredClone(e.list));const r=[];for(let i=0;i<t.length;i++)(i+e.offset)%e.nth!==0&&r.push(t[i]);return r}randomRemoveThreshold(e){let t=e.list;e.clone&&(t=structuredClone(e.list));const r=[];for(let i=0;i<e.list.length;i++)Math.random()>e.threshold&&r.push(t[i]);return r}removeDuplicateNumbers(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),t.filter((e,t,r)=>r.indexOf(e)===t)}removeDuplicateNumbersTolerance(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),t.filter((t,r,i)=>i.findIndex(r=>Math.abs(r-t)<e.tolerance)===r)}removeDuplicates(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),t.filter((e,t,r)=>r.indexOf(e)===t)}addItem(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),t.push(e.item),t}prependItem(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),t.unshift(e.item),t}addItemFirstLast(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),e.position===we.firstLastEnum.first?t.unshift(e.item):t.push(e.item),t}concatenate(e){let t=[];return e.clone?e.lists.forEach(e=>{t=t.concat(structuredClone(e))}):e.lists.forEach(e=>{t=t.concat(e)}),t}createEmptyList(){return[]}repeat(e){const t=[];for(let r=0;r<e.times;r++)t.push(e.item);return t}repeatInPattern(e){let t=e.list;e.clone&&(t=structuredClone(e.list));const r=[];let i=0,o=0;for(;i<e.lengthLimit;)r.push(t[o]),o++,o===t.length&&(o=0),i++;return r}sortNumber(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),e.orderAsc?t.sort((e,t)=>e-t):t.sort((e,t)=>t-e)}sortTexts(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),e.orderAsc?t.sort():t.sort().reverse()}sortByPropValue(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),e.orderAsc?t.sort((t,r)=>t[e.property]-r[e.property]):t.sort((t,r)=>r[e.property]-t[e.property])}interleave(e){const t=e.clone?structuredClone(e.lists):e.lists;if(!t||0===t.length)throw new Error("Lists array is empty or does not exist");const r=[],i=Math.max(...t.map(e=>e.length));for(let e=0;e<i;e++)for(const i of t)e<i.length&&r.push(i[e]);return r}}class qe{boolean(e){return e.boolean}randomBooleans(e){const t=[];for(let r=0;r<e.length;r++)t.push(Math.random()<e.trueThreshold);return t}twoThresholdRandomGradient(e){const t=[];return e.numbers.forEach(r=>{if(r<e.thresholdTotalTrue)t.push(!0);else if(r>e.thresholdTotalFalse)t.push(!1);else{const i=r-e.thresholdTotalTrue,o=(e.thresholdTotalFalse-e.thresholdTotalTrue)/e.nrLevels,s=Math.ceil(i/o)/e.nrLevels;Math.random()>s?t.push(!0):t.push(!1)}}),t}thresholdBooleanList(e){const t=[];return e.numbers.forEach(r=>{r<e.threshold?t.push(!0):t.push(!1)}),e.inverse?t.map(e=>!e):t}thresholdGapsBooleanList(e){const t=[];return e.numbers.forEach(r=>{let i=!1;e.gapThresholds.forEach(e=>{const o=e[0],s=e[1];r>=o&&r<=s&&(t.push(!0),i=!0)}),i||t.push(!1)}),e.inverse?t.map(e=>!e):t}not(e){return!e.boolean}notList(e){return e.booleans.map(e=>!e)}compare(e){switch(e.operator){case"==":return e.first==e.second;case"!=":return e.first!=e.second;case"===":return e.first===e.second;case"!==":return e.first!==e.second;case"<":return e.first<e.second;case"<=":return e.first<=e.second;case">":return e.first>e.second;case">=":return e.first>=e.second;default:return!1}}valueGate(e){return e.boolean?e.value:void 0}firstDefinedValueGate(e){let t;return t=void 0!==e.value1?e.value1:void 0!==e.value2?e.value2:void 0,t}}class Ge{number(e){return e.number}twoNrOperation(e){let t;switch(e.operation){case We.mathTwoNrOperatorEnum.add:t=e.first+e.second;break;case We.mathTwoNrOperatorEnum.subtract:t=e.first-e.second;break;case We.mathTwoNrOperatorEnum.multiply:t=e.first*e.second;break;case We.mathTwoNrOperatorEnum.divide:t=e.first/e.second;break;case We.mathTwoNrOperatorEnum.power:t=Math.pow(e.first,e.second);break;case We.mathTwoNrOperatorEnum.modulus:t=e.first%e.second}return t}modulus(e){return this.twoNrOperation({first:e.number,second:e.modulus,operation:We.mathTwoNrOperatorEnum.modulus})}roundToDecimals(e){return Math.round(e.number*Math.pow(10,e.decimalPlaces))/Math.pow(10,e.decimalPlaces)}roundAndRemoveTrailingZeros(e){const t=Math.round(e.number*Math.pow(10,e.decimalPlaces))/Math.pow(10,e.decimalPlaces);return parseFloat(t.toFixed(e.decimalPlaces))}oneNrOperation(e){let t;switch(e.operation){case We.mathOneNrOperatorEnum.absolute:t=Math.abs(e.number);break;case We.mathOneNrOperatorEnum.negate:t=-e.number;break;case We.mathOneNrOperatorEnum.ln:t=Math.log(e.number);break;case We.mathOneNrOperatorEnum.log10:t=Math.log10(e.number);break;case We.mathOneNrOperatorEnum.tenPow:t=Math.pow(10,e.number);break;case We.mathOneNrOperatorEnum.round:t=Math.round(e.number);break;case We.mathOneNrOperatorEnum.floor:t=Math.floor(e.number);break;case We.mathOneNrOperatorEnum.ceil:t=Math.ceil(e.number);break;case We.mathOneNrOperatorEnum.sqrt:t=Math.sqrt(e.number);break;case We.mathOneNrOperatorEnum.sin:t=Math.sin(e.number);break;case We.mathOneNrOperatorEnum.cos:t=Math.cos(e.number);break;case We.mathOneNrOperatorEnum.tan:t=Math.tan(e.number);break;case We.mathOneNrOperatorEnum.asin:t=Math.asin(e.number);break;case We.mathOneNrOperatorEnum.acos:t=Math.acos(e.number);break;case We.mathOneNrOperatorEnum.atan:t=Math.atan(e.number);break;case We.mathOneNrOperatorEnum.log:t=Math.log(e.number);break;case We.mathOneNrOperatorEnum.exp:t=Math.exp(e.number);break;case We.mathOneNrOperatorEnum.degToRad:t=e.number*Math.PI/180;break;case We.mathOneNrOperatorEnum.radToDeg:t=180*e.number/Math.PI}return t}remap(e){return(e.number-e.fromLow)*(e.toHigh-e.toLow)/(e.fromHigh-e.fromLow)+e.toLow}random(){return Math.random()}randomNumber(e){return Math.random()*(e.high-e.low)+e.low}randomNumbers(e){const t=[];for(let r=0;r<e.count;r++)t.push(this.randomNumber(e));return t}pi(){return Math.PI}toFixed(e){return e.number.toFixed(e.decimalPlaces)}add(e){return e.first+e.second}subtract(e){return e.first-e.second}multiply(e){return e.first*e.second}divide(e){return e.first/e.second}power(e){return Math.pow(e.first,e.second)}sqrt(e){return Math.sqrt(e.number)}abs(e){return Math.abs(e.number)}round(e){return Math.round(e.number)}floor(e){return Math.floor(e.number)}ceil(e){return Math.ceil(e.number)}negate(e){return-e.number}ln(e){return Math.log(e.number)}log10(e){return Math.log10(e.number)}tenPow(e){return Math.pow(10,e.number)}sin(e){return Math.sin(e.number)}cos(e){return Math.cos(e.number)}tan(e){return Math.tan(e.number)}asin(e){return Math.asin(e.number)}acos(e){return Math.acos(e.number)}atan(e){return Math.atan(e.number)}exp(e){return Math.exp(e.number)}degToRad(e){return e.number*Math.PI/180}radToDeg(e){return 180*e.number/Math.PI}ease(e){const t=e.x,r=e.min,i=e.max,o=this[e.ease](t);return this.remap({number:o,fromLow:0,fromHigh:1,toLow:r,toHigh:i})}clamp(e){return Math.max(e.min,Math.min(e.max,e.number))}lerp(e){return e.start+(e.end-e.start)*e.t}inverseLerp(e){return e.start===e.end?0:(e.value-e.start)/(e.end-e.start)}smoothstep(e){const t=Math.max(0,Math.min(1,e.number));return t*t*(3-2*t)}sign(e){return Math.sign(e.number)}fract(e){return e.number-Math.floor(e.number)}wrap(e){const t=e.max-e.min;if(0===t)return e.min;const r=(e.number-e.min)%t;return r<0?r+e.max:r+e.min}pingPong(e){const t=Math.abs(e.t)%(2*e.length);return t>e.length?2*e.length-t:t}moveTowards(e){const t=e.target-e.current;return Math.abs(t)<=e.maxDelta?e.target:e.current+Math.sign(t)*e.maxDelta}easeInSine(e){return 1-Math.cos(e*Math.PI/2)}easeOutSine(e){return Math.sin(e*Math.PI/2)}easeInOutSine(e){return-(Math.cos(Math.PI*e)-1)/2}easeInQuad(e){return e*e}easeOutQuad(e){return 1-(1-e)*(1-e)}easeInOutQuad(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2}easeInCubic(e){return e*e*e}easeOutCubic(e){return 1-Math.pow(1-e,3)}easeInOutCubic(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}easeInQuart(e){return e*e*e*e}easeOutQuart(e){return 1-Math.pow(1-e,4)}easeInOutQuart(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2}easeInQuint(e){return e*e*e*e*e}easeOutQuint(e){return 1-Math.pow(1-e,5)}easeInOutQuint(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}easeInExpo(e){return 0===e?0:Math.pow(2,10*e-10)}easeOutExpo(e){return 1===e?1:1-Math.pow(2,-10*e)}easeInOutExpo(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}easeInCirc(e){return 1-Math.sqrt(1-e*e)}easeOutCirc(e){return Math.sqrt(1-Math.pow(e-1,2))}easeInOutCirc(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}easeInBack(e){return 2.70158*e*e*e-1.70158*e*e}easeOutBack(e){return 1+2.70158*Math.pow(e-1,3)+1.70158*Math.pow(e-1,2)}easeInOutBack(e){const t=2.5949095;return e<.5?Math.pow(2*e,2)*(7.189819*e-t)/2:(Math.pow(2*e-2,2)*((t+1)*(2*e-2)+t)+2)/2}easeInElastic(e){const t=2*Math.PI/3;return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*t)}easeOutElastic(e){const t=2*Math.PI/3;return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*t)+1}easeInOutElastic(e){const t=2*Math.PI/4.5;return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*t)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*t)/2+1}easeInBounce(e){return 1-this.easeOutBounce(1-e)}easeOutBounce(e){const t=7.5625,r=2.75;return e<1/r?t*e*e:e<2/r?t*(e-=1.5/r)*e+.75:e<2.5/r?t*(e-=2.25/r)*e+.9375:t*(e-=2.625/r)*e+.984375}easeInOutBounce(e){return e<.5?(1-this.easeOutBounce(1-2*e))/2:(1+this.easeOutBounce(2*e-1))/2}}class Ye{constructor(e,t,r,i){this.geometryHelper=e,this.transforms=t,this.vector=r,this.lists=i}transformPoint(e){const t=e.transformation;let r=[e.point];return r=this.geometryHelper.transformControlPoints(t,r),r[0]}transformPoints(e){return this.geometryHelper.transformControlPoints(e.transformation,e.points)}transformsForPoints(e){if(e.points.length!==e.transformation.length)throw new Error("You must provide equal nr of points and transformations");return e.points.map((t,r)=>this.geometryHelper.transformControlPoints(e.transformation[r],[t])[0])}translatePoints(e){const t=this.transforms.translationXYZ({translation:e.translation});return this.geometryHelper.transformControlPoints(t,e.points)}translatePointsWithVectors(e){if(e.points.length!==e.translations.length)throw new Error("You must provide equal nr of points and translations");const t=this.transforms.translationsXYZ({translations:e.translations});return e.points.map((e,r)=>this.geometryHelper.transformControlPoints(t[r],[e])[0])}translateXYZPoints(e){const t=this.transforms.translationXYZ({translation:[e.x,e.y,e.z]});return this.geometryHelper.transformControlPoints(t,e.points)}scalePointsCenterXYZ(e){const t=this.transforms.scaleCenterXYZ({center:e.center,scaleXyz:e.scaleXyz});return this.geometryHelper.transformControlPoints(t,e.points)}stretchPointsDirFromCenter(e){const t=this.transforms.stretchDirFromCenter({center:e.center,scale:e.scale,direction:e.direction});return this.geometryHelper.transformControlPoints(t,e.points)}rotatePointsCenterAxis(e){const t=this.transforms.rotationCenterAxis({center:e.center,axis:e.axis,angle:e.angle});return this.geometryHelper.transformControlPoints(t,e.points)}boundingBoxOfPoints(e){const t=[],r=[],i=[];e.points.forEach(e=>{t.push(e[0]),r.push(e[1]),i.push(e[2])});const o=[Math.min(...t),Math.min(...r),Math.min(...i)],s=[Math.max(...t),Math.max(...r),Math.max(...i)];return{min:o,max:s,center:[(o[0]+s[0])/2,(o[1]+s[1])/2,(o[2]+s[2])/2],width:s[0]-o[0],height:s[1]-o[1],length:s[2]-o[2]}}closestPointFromPointsDistance(e){return this.closestPointFromPointData(e).distance}closestPointFromPointsIndex(e){return this.closestPointFromPointData(e).index}closestPointFromPoints(e){return this.closestPointFromPointData(e).point}distance(e){const t=e.endPoint[0]-e.startPoint[0],r=e.endPoint[1]-e.startPoint[1],i=e.endPoint[2]-e.startPoint[2];return Math.sqrt(t*t+r*r+i*i)}distancesToPoints(e){return e.endPoints.map(t=>this.distance({startPoint:e.startPoint,endPoint:t}))}multiplyPoint(e){const t=[];for(let r=0;r<e.amountOfPoints;r++)t.push([e.point[0],e.point[1],e.point[2]]);return t}getX(e){return e.point[0]}getY(e){return e.point[1]}getZ(e){return e.point[2]}averagePoint(e){const t=[],r=[],i=[];return e.points.forEach(e=>{t.push(e[0]),r.push(e[1]),i.push(e[2])}),[t.reduce((e,t)=>e+t,0)/e.points.length,r.reduce((e,t)=>e+t,0)/e.points.length,i.reduce((e,t)=>e+t,0)/e.points.length]}pointXYZ(e){return[e.x,e.y,e.z]}pointXY(e){return[e.x,e.y]}spiral(e){const t=e.phi,r=Math.log(t)/(Math.PI/e.widening),i=[],o=e.radius/e.numberPoints;for(let t=0;t<e.radius;t+=o){const o=Math.log(t/e.factor)/r,s=t*Math.cos(o),n=t*Math.sin(o);i.push([s||0,n||0,0])}return i}hexGrid(e){const t=Math.sqrt(Math.pow(e.radiusHexagon,2)-Math.pow(e.radiusHexagon/2,2)),r=[];for(let i=0;i<e.nrHexagonsX;i++){const o=i*t*2;for(let i=0;i<e.nrHexagonsY;i++){const s=(e.radiusHexagon+e.radiusHexagon/2)*i,n=o+(i%2==0?0:t);r.push([n,s,0])}}if(e.orientOnCenter){const e=r[r.length-1][0]/2,t=r[r.length-1][1]/2;r.forEach((i,o)=>{r[o]=[i[0]-e,i[1]-t,0]})}return e.pointsOnGround&&r.forEach((e,t)=>{r[t]=[e[0],0,e[1]]}),r}hexGridScaledToFit(e){var t,r,i,o;let s=e.width,n=e.height,a=e.nrHexagonsInHeight,c=e.nrHexagonsInWidth,h=null!==(t=e.extendTop)&&void 0!==t&&t,l=null!==(r=e.extendBottom)&&void 0!==r&&r,u=null!==(i=e.extendLeft)&&void 0!==i&&i,d=null!==(o=e.extendRight)&&void 0!==o&&o;const{flatTop:v=!1,centerGrid:f=!1,pointsOnGround:p=!1}=e;if(v){const t=s;s=e.height,n=t;const r=c;c=a,a=r;const i=h,o=l;h=u,l=d,u=o,d=i}if(s<=0||n<=0||c<1||a<1)return console.warn("Hex grid dimensions and counts must be positive."),{centers:[],hexagons:[],shortestDistEdge:void 0,longestDistEdge:void 0,maxFilletRadius:void 0};const m=this.hexGrid({radiusHexagon:1,nrHexagonsX:c,nrHexagonsY:a,orientOnCenter:!1,pointsOnGround:!1});if(0===m.length)return{centers:[],hexagons:[],shortestDistEdge:void 0,longestDistEdge:void 0,maxFilletRadius:void 0};const g=m.map(e=>this.getRegularHexagonVertices(e,1));let b=1/0,k=-1/0,_=1/0,P=-1/0;for(const e of g)for(const t of e)t[0]<b&&(b=t[0]),t[0]>k&&(k=t[0]),t[1]<_&&(_=t[1]),t[1]>P&&(P=t[1]);const C=k-b,y=P-_,x=C>1e-9?s/C:1,w=y>1e-9?n/y:1;let T=m.map(e=>[(e[0]-b)*x,(e[1]-_)*w,0]),W=g.map(e=>e.map(e=>[(e[0]-b)*x,(e[1]-_)*w,0])),S=1/0,M=-1/0,D=0;if(0!==W.length){const e=W[0];if(D=this.safestPointsMaxFilletHalfLine({points:e,checkLastWithFirst:!0,tolerance:1e-7}),e.forEach((t,r)=>{const i=e[(r+1)%e.length],o=this.distance({startPoint:t,endPoint:i});o<S&&(S=o),o>M&&(M=o)}),h||l||u||d){const t=e[0],r=e[1],i=t[1]-r[1],o=r[0]-t[0];if(h&&!l){const e={center:[0,0,0],direction:[0,1,0],scale:n/(n-i)};W=W.map(t=>(e.points=t,this.stretchPointsDirFromCenter(e))),e.points=T,T=this.stretchPointsDirFromCenter(e)}if(l&&!h){const e={center:[0,n,0],direction:[0,-1,0],scale:n/(n-i)};W=W.map(t=>(e.points=t,this.stretchPointsDirFromCenter(e))),e.points=T,T=this.stretchPointsDirFromCenter(e)}if(h&&l){const e={center:[0,n/2,0],direction:[0,1,0],scale:n/(n-2*i)};W=W.map(t=>(e.points=t,this.stretchPointsDirFromCenter(e))),e.points=T,T=this.stretchPointsDirFromCenter(e)}if(u&&!d){const e={center:[s,0,0],direction:[1,0,0],scale:s/(s-o)};W=W.map(t=>(e.points=t,this.stretchPointsDirFromCenter(e))),e.points=T,T=this.stretchPointsDirFromCenter(e)}if(d&&!u){const e={center:[0,0,0],direction:[1,0,0],scale:s/(s-o)};W=W.map(t=>(e.points=t,this.stretchPointsDirFromCenter(e))),e.points=T,T=this.stretchPointsDirFromCenter(e)}if(u&&d){const e={center:[s/2,0,0],direction:[1,0,0],scale:s/(s-2*o)};W=W.map(t=>(e.points=t,this.stretchPointsDirFromCenter(e))),e.points=T,T=this.stretchPointsDirFromCenter(e)}}}if(v){T=this.rotatePointsCenterAxis({points:T,center:[s/2,n/2,0],axis:[0,0,1],angle:90}),W=W.map(e=>this.rotatePointsCenterAxis({points:e,center:[s/2,n/2,0],axis:[0,0,1],angle:90}));const e=this.vector.sub({first:[n/2,s/2,0],second:[s/2,n/2,0]});T=this.translatePoints({points:T,translation:e}),W=W.map(t=>this.translatePoints({points:t,translation:e}))}if(f){let e=s/2,t=n/2;v&&(e=n/2,t=s/2);for(let r=0;r<T.length;r++)T[r][0]-=e,T[r][1]-=t;for(let r=0;r<W.length;r++)for(let i=0;i<W[r].length;i++)W[r][i][0]-=e,W[r][i][1]-=t}if(p){for(let e=0;e<T.length;e++)T[e]=[T[e][0],0,T[e][1]];for(let e=0;e<W.length;e++)for(let t=0;t<W[e].length;t++)W[e][t]=[W[e][t][0],0,W[e][t][1]]}if(v){const t=this.lists.groupNth({list:W.reverse(),nrElements:e.nrHexagonsInWidth,keepRemainder:!0}),r=this.lists.flipLists({list:t});r.forEach(e=>e.reverse()),W=r.flat();const i=this.lists.groupNth({list:T.reverse(),nrElements:e.nrHexagonsInWidth,keepRemainder:!0}),o=this.lists.flipLists({list:i});o.forEach(e=>e.reverse()),T=o.flat()}return{centers:T,hexagons:W,shortestDistEdge:S,longestDistEdge:M,maxFilletRadius:D}}maxFilletRadius(e){const{start:t,center:r,end:i,tolerance:o=1e-7}=e,s=this.vector.sub({first:t,second:i}),n=this.vector.sub({first:r,second:i}),a=this.vector.length({vector:s}),c=this.vector.length({vector:n});if(a<o||c<o)return 0;const h=this.vector.normalized({vector:s}),l=this.vector.normalized({vector:n});if(!h||!l)return 0;const u=Math.max(-1,Math.min(1,this.vector.dot({first:h,second:l})));if(u>1-o)return 0;if(u<-1+o)return 0;const d=Math.acos(u),v=Math.tan(d/2);return v<o?0:Math.min(a,c)*v}maxFilletRadiusHalfLine(e){const{start:t,center:r,end:i,tolerance:o=1e-7}=e,s=this.vector.sub({first:t,second:i}),n=this.vector.sub({first:r,second:i}),a=this.vector.length({vector:s}),c=this.vector.length({vector:n});if(a<o||c<o)return 0;const h=this.vector.normalized({vector:s}),l=this.vector.normalized({vector:n});if(!h||!l)return 0;const u=Math.max(-1,Math.min(1,this.vector.dot({first:h,second:l})));if(u>1-o||u<-1+o)return 0;const d=Math.acos(u),v=Math.tan(d/2);return v<o?0:Math.min(a/2,c/2)*v}maxFilletsHalfLine(e){const{points:t,checkLastWithFirst:r=!1,tolerance:i=1e-7}=e,o=t.length,s=[];if(o<3)return s;for(let e=1;e<o-1;e++){const r=t[e-1],o=t[e],n={start:r,center:t[e+1],end:o,tolerance:i};s.push(this.maxFilletRadiusHalfLine(n))}if(r&&o>=3){const e=t[o-1],r=t[0],n={start:e,center:t[1],end:r,tolerance:i};s.push(this.maxFilletRadiusHalfLine(n));const a=t[o-2],c=t[o-1],h={start:a,center:t[0],end:c,tolerance:i};s.push(this.maxFilletRadiusHalfLine(h))}return s}safestPointsMaxFilletHalfLine(e){const t=this.maxFilletsHalfLine(e);if(0===t.length)return 0;const r=Math.min(...t);return Math.max(0,r)}removeConsecutiveDuplicates(e){return this.geometryHelper.removeConsecutivePointDuplicates(e.points,e.checkFirstAndLast,e.tolerance)}normalFromThreePoints(e){const t=e.point1,r=e.point2,i=e.point3;if(!t||!r||!i||3!==t.length||3!==r.length||3!==i.length)throw new Error("All points must be arrays of 3 numbers [x, y, z]");const o=r[0]-t[0],s=r[1]-t[1],n=r[2]-t[2],a=i[0]-t[0],c=i[1]-t[1],h=i[2]-t[2];let l=s*h-n*c,u=n*a-o*h,d=o*c-s*a;if(0!==l||0!==u||0!==d)return e.reverseNormal&&(l=-l,u=-u,d=-d),this.vector.normalized({vector:[l,u,d]});console.warn("Points are collinear or coincident; cannot calculate a unique normal.")}closestPointFromPointData(e){let t,r,i=Number.MAX_SAFE_INTEGER;for(let o=0;o<e.points.length;o++){const s=e.points[o],n=this.distance({startPoint:e.point,endPoint:s});n<i&&(i=n,t=o,r=s)}return{index:t+1,distance:i,point:r}}twoPointsAlmostEqual(e){const t=e.point1,r=e.point2;return this.distance({startPoint:t,endPoint:r})<e.tolerance}sortPoints(e){return[...e.points].sort((e,t)=>e[0]!==t[0]?e[0]-t[0]:e[1]!==t[1]?e[1]-t[1]:e[2]-t[2])}getRegularHexagonVertices(e,t){const r=[],i=e[0],o=e[1],s=e[2],n=Math.PI/3;for(let e=0;e<6;e++){const a=n*e;r.push([i+t*Math.sin(a),o+t*Math.cos(a),s])}return r}}const Xe={xOffset:0,yOffset:0,input:"?",align:"left",font:{height:21,32:[16],33:[10,5,21,5,7,void 0,5,2,4,1,5,0,6,1,5,2],34:[16,4,21,4,14,void 0,12,21,12,14],35:[21,11,25,4,-7,void 0,17,25,10,-7,void 0,4,12,18,12,void 0,3,6,17,6],36:[20,8,25,8,-4,void 0,12,25,12,-4,void 0,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],37:[24,21,21,3,0,void 0,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,void 0,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7],38:[26,23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2],39:[10,5,19,4,20,5,21,6,20,6,18,5,16,4,15],40:[14,11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7],41:[14,3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7],42:[16,8,21,8,9,void 0,3,18,13,12,void 0,13,18,3,12],43:[26,13,18,13,0,void 0,4,9,22,9],44:[10,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],45:[26,4,9,22,9],46:[10,5,2,4,1,5,0,6,1,5,2],47:[22,20,25,2,-7],48:[20,9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21],49:[20,6,17,8,18,11,21,11,0],50:[20,4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0],51:[20,5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],52:[20,13,21,3,7,18,7,void 0,13,21,13,0],53:[20,15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],54:[20,16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7],55:[20,17,21,7,0,void 0,3,21,17,21],56:[20,8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21],57:[20,16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3],58:[10,5,14,4,13,5,12,6,13,5,14,void 0,5,2,4,1,5,0,6,1,5,2],59:[10,5,14,4,13,5,12,6,13,5,14,void 0,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],60:[24,20,18,4,9,20,0],61:[26,4,12,22,12,void 0,4,6,22,6],62:[24,4,18,20,9,4,0],63:[18,3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,void 0,9,2,8,1,9,0,10,1,9,2],64:[27,18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,void 0,12,16,10,14,9,11,9,8,10,6,11,5,void 0,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,void 0,19,16,18,8,18,6,19,5],65:[18,9,21,1,0,void 0,9,21,17,0,void 0,4,7,14,7],66:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,void 0,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0],67:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5],68:[21,4,21,4,0,void 0,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0],69:[19,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11,void 0,4,0,17,0],70:[18,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11],71:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,void 0,13,8,18,8],72:[22,4,21,4,0,void 0,18,21,18,0,void 0,4,11,18,11],73:[8,4,21,4,0],74:[16,12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7],75:[21,4,21,4,0,void 0,18,21,4,7,void 0,9,12,18,0],76:[17,4,21,4,0,void 0,4,0,16,0],77:[24,4,21,4,0,void 0,4,21,12,0,void 0,20,21,12,0,void 0,20,21,20,0],78:[22,4,21,4,0,void 0,4,21,18,0,void 0,18,21,18,0],79:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21],80:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10],81:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,void 0,12,4,18,-2],82:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,void 0,11,11,18,0],83:[20,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],84:[16,8,21,8,0,void 0,1,21,15,21],85:[22,4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21],86:[18,1,21,9,0,void 0,17,21,9,0],87:[24,2,21,7,0,void 0,12,21,7,0,void 0,12,21,17,0,void 0,22,21,17,0],88:[20,3,21,17,0,void 0,17,21,3,0],89:[18,1,21,9,11,9,0,void 0,17,21,9,11],90:[20,17,21,3,0,void 0,3,21,17,21,void 0,3,0,17,0],91:[14,4,25,4,-7,void 0,5,25,5,-7,void 0,4,25,11,25,void 0,4,-7,11,-7],92:[14,0,21,14,-3],93:[14,9,25,9,-7,void 0,10,25,10,-7,void 0,3,25,10,25,void 0,3,-7,10,-7],94:[16,6,15,8,18,10,15,void 0,3,12,8,17,13,12,void 0,8,17,8,0],95:[16,0,-2,16,-2],96:[10,6,21,5,20,4,18,4,16,5,15,6,16,5,17],97:[19,15,14,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],98:[19,4,21,4,0,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],99:[18,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],100:[19,15,21,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],101:[18,3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],102:[12,10,21,8,21,6,20,5,17,5,0,void 0,2,14,9,14],103:[19,15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],104:[19,4,21,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],105:[8,3,21,4,20,5,21,4,22,3,21,void 0,4,14,4,0],106:[10,5,21,6,20,7,21,6,22,5,21,void 0,6,14,6,-3,5,-6,3,-7,1,-7],107:[17,4,21,4,0,void 0,14,14,4,4,void 0,8,8,15,0],108:[8,4,21,4,0],109:[30,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0,void 0,15,10,18,13,20,14,23,14,25,13,26,10,26,0],110:[19,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],111:[19,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14],112:[19,4,14,4,-7,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],113:[19,15,14,15,-7,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],114:[13,4,14,4,0,void 0,4,8,5,11,7,13,9,14,12,14],115:[17,14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3],116:[12,5,21,5,4,6,1,8,0,10,0,void 0,2,14,9,14],117:[19,4,14,4,4,5,1,7,0,10,0,12,1,15,4,void 0,15,14,15,0],118:[16,2,14,8,0,void 0,14,14,8,0],119:[22,3,14,7,0,void 0,11,14,7,0,void 0,11,14,15,0,void 0,19,14,15,0],120:[17,3,14,14,0,void 0,14,14,3,0],121:[16,2,14,8,0,void 0,14,14,8,0,6,-4,4,-6,2,-7,1,-7],122:[17,14,14,3,0,void 0,3,14,14,14,void 0,3,0,14,0],123:[14,9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,void 0,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,void 0,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7],124:[8,4,25,4,-7],125:[14,5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,void 0,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,void 0,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7],126:[24,3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,void 0,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12],176:[14,7,21,5,20,4,18,4,16,5,14,7,13,9,14,10,16,10,18,9,20,7,21],178:[14,5,17,5,18,6,19,7,20,9,21,10,21,11,20,12,19,12,18,11,17,10,16,6,14,12,14],179:[14,5,21,11,21,8,18,9,18,10,17,11,16,11,15,10,14,8,14,6,15,5,16],181:[19,4,14,4,-7,void 0,4,14,4,4,5,1,7,0,10,0,12,1,15,4,void 0,15,14,15,0],185:[14,7,19,8,20,10,21,10,14],188:[26,4,19,5,20,7,21,7,14,void 0,6,0,18,21,void 0,16,11,16,7,22,7,void 0,18,11,18,0,void 0,16,0,22,0],189:[26,4,19,5,20,7,21,7,14,void 0,6,0,18,21,void 0,15,4,15,5,16,6,17,7,19,7,20,6,20,5,19,4,17,2,15,0,21,0],190:[26,4,21,10,21,8,18,9,18,10,17,11,16,11,15,10,14,8,14,6,15,5,16,void 0,6,0,18,21,void 0,16,11,16,7,22,7,void 0,18,11,18,0,void 0,16,0,22,0],215:[18,3,15,15,3,void 0,15,15,3,3],247:[22,4,9,18,9,void 0,11,15,10,14,11,13,12,14,11,15,void 0,11,5,10,4,11,3,12,4,11,5],177:[26,13,18,13,6,void 0,4,12,22,12,void 0,4,3,22,3],8304:[14,8,21,7,20,6,19,5,17,5,15,6,14,8,14,9,14,11,15,12,17,12,19,11,20,9,21,8,21],8308:[14,10,21,6,17,12,17,void 0,10,21,10,14],8309:[14,11,21,6,21,5,17,6,17,7,18,9,18,10,17,11,16,11,15,10,14,8,14,6,15,5,16],8310:[14,11,19,10,20,9,21,7,21,6,20,5,18,5,15,6,14,8,14,9,14,10,15,11,16,11,17,10,18,9,18,8,17,7,16,6,15],8311:[14,11,21,7,14,void 0,5,21,11,21],8312:[14,8,21,7,20,6,19,6,18,7,17,8,17,9,18,10,19,10,20,9,21,8,21,7,20,void 0,8,17,7,16,6,15,6,14,7,13,8,13,9,14,10,15,10,16,9,17],8313:[14,10,17,9,16,8,16,7,17,6,18,6,19,7,20,8,20,9,19,10,18,10,15,9,14,7,14,6,15,5,16],8320:[14,8,7,7,6,6,5,5,3,5,1,6,0,8,0,9,0,11,1,12,3,12,5,11,6,9,7,8,7],8321:[14,7,5,8,6,10,7,10,0],8322:[14,5,4,5,5,6,6,7,7,9,7,10,6,11,5,11,4,10,3,9,2,6,0,12,0],8323:[14,5,7,11,7,8,4,10,4,11,3,12,2,12,1,11,0,9,0,7,1,6,2,5,3],8324:[14,10,7,6,3,12,3,void 0,10,7,10,0],8776:[24,3,11,4,13,6,14,8,14,10,13,14,10,16,9,18,9,20,10,21,12,void 0,3,5,4,7,6,8,8,8,10,7,14,4,16,3,18,3,20,4,21,6],8730:[20,4,12,6,8,8,0,void 0,8,0,10,21,void 0,10,21,20,21],8731:[24,2,21,5,21,4,19,5,18,6,17,6,16,5,15,3,15,2,16,void 0,8,12,10,8,12,0,void 0,12,0,14,21,void 0,14,21,24,21],8732:[24,5,21,3,18,6,18,void 0,5,21,5,15,void 0,8,12,10,8,12,0,void 0,12,0,14,21,void 0,14,21,24,21],8960:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,void 0,6,3,16,18]},height:21,lineSpacing:2.142857142857143,letterSpacing:1,extrudeOffset:0};class Ze{constructor(e){this.point=e}create(e){return e.text}split(e){return e.text.split(e.separator)}replaceAll(e){return e.text.split(e.search).join(e.replaceWith)}join(e){return e.list.join(e.separator)}toString(e){return e.item.toString()}toStringEach(e){return e.list.map(e=>e.toString())}format(e){return e.text.replace(/{(\d+)}/g,(t,r)=>void 0!==e.values[r]?e.values[r]:t)}includes(e){return e.text.includes(e.search)}startsWith(e){return e.text.startsWith(e.search)}endsWith(e){return e.text.endsWith(e.search)}indexOf(e){return e.text.indexOf(e.search)}lastIndexOf(e){return e.text.lastIndexOf(e.search)}substring(e){return e.text.substring(e.start,e.end)}slice(e){return e.text.slice(e.start,e.end)}charAt(e){return e.text.charAt(e.index)}trim(e){return e.text.trim()}trimStart(e){return e.text.trimStart()}trimEnd(e){return e.text.trimEnd()}padStart(e){return e.text.padStart(e.length,e.padString)}padEnd(e){return e.text.padEnd(e.length,e.padString)}toUpperCase(e){return e.text.toUpperCase()}toLowerCase(e){return e.text.toLowerCase()}toUpperCaseFirst(e){return e.text?e.text.charAt(0).toUpperCase()+e.text.slice(1):e.text}toLowerCaseFirst(e){return e.text?e.text.charAt(0).toLowerCase()+e.text.slice(1):e.text}repeat(e){return e.text.repeat(e.count)}reverse(e){return e.text.split("").reverse().join("")}length(e){return e.text.length}isEmpty(e){return!e.text||0===e.text.trim().length}concat(e){return e.texts.join("")}regexTest(e){return new RegExp(e.pattern,e.flags).test(e.text)}regexMatch(e){const t=new RegExp(e.pattern,e.flags),r=e.text.match(t);return r?Array.from(r):null}regexReplace(e){const t=new RegExp(e.pattern,e.flags);return e.text.replace(t,e.replaceWith)}regexSearch(e){const t=new RegExp(e.pattern,e.flags);return e.text.search(t)}regexSplit(e){const t=new RegExp(e.pattern,e.flags);return e.text.split(t)}vectorChar(e){const{xOffset:t,yOffset:r,font:i,input:o,height:s,extrudeOffset:n}=this.vectorParamsChar(e);let a=o.charCodeAt(0);a&&i[a]||(a=63);const c=[].concat(i[a]),h=(s-n)/i.height,l=n/2,u=c.shift()*h,d=[];let v=[];for(let e=0,i=c.length;e<i;e+=2){const i=h*c[e]+t,o=h*c[e+1]+r+l;void 0===c[e]?(d.push(v),v=[],e--):v.push([i,0,o])}return v.length&&d.push(v),{width:u,height:s,paths:d}}vectorText(e){const{xOffset:t,yOffset:r,height:i,align:o,extrudeOffset:s,lineSpacing:n,letterSpacing:a}=Object.assign({},Xe,e),c=e.text;if("string"!=typeof c)throw new Error("text must be a string");const h=i*a;let l=0,u={width:0,height:0,chars:[]},d=[];const v=()=>{l=Math.max(l,u.width),u.chars.length&&d.push(u),u={width:0,height:0,chars:[]}};let f,p=t,m=r;const g=c.length;for(let e=0;e<g;e++){const r=c[e];if("\n"===r){v(),p=t,m-=i*n;continue}f=this.vectorChar({xOffset:p,yOffset:m,height:i,extrudeOffset:s,char:r});const o=f.width+h;p+=o,u.width+=o,u.height=Math.max(u.height,f.height)," "!==r&&(u.chars=u.chars.concat(f))}if(u.chars.length&&v(),d=d.map(e=>{const t=l-e.width;return o===Oe.horizontalAlignEnum.right?this.translateLine({x:t},e):o===Oe.horizontalAlignEnum.center?this.translateLine({x:t/2},e):e}),e.centerOnOrigin){const e=[];d.forEach(t=>{t.chars.forEach(t=>{t.paths.forEach(t=>{e.push(...t)})})});const t=this.point.boundingBoxOfPoints({points:e});d.forEach(e=>{e.chars.forEach(e=>(e.paths=e.paths.map(e=>this.point.translatePoints({points:e,translation:[-t.center[0],-t.center[1],-t.center[2]]})),e))})}return d}vectorParamsChar(e){const t=Object.assign({},Xe,e);return t.input=e.char||t.char,t}translateLine(e,t){const{x:r,y:i}=Object.assign({x:0,y:0},e);return t.chars=t.chars.map(e=>(e.paths=e.paths.map(e=>this.point.translatePoints({points:e,translation:[r,0,i]})),e)),t}}class $e{toDateString(e){return e.date.toDateString()}toISOString(e){return e.date.toISOString()}toJSON(e){return e.date.toJSON()}toString(e){return e.date.toString()}toTimeString(e){return e.date.toTimeString()}toUTCString(e){return e.date.toUTCString()}now(){return new Date(Date.now())}createDate(e){return new Date(e.year,e.month,e.day,e.hours,e.minutes,e.seconds,e.milliseconds)}createDateUTC(e){return new Date(Date.UTC(e.year,e.month,e.day,e.hours,e.minutes,e.seconds,e.milliseconds))}createFromUnixTimeStamp(e){return new Date(e.unixTimeStamp)}parseDate(e){return Date.parse(e.dateString)}getDayOfMonth(e){return e.date.getDate()}getWeekday(e){return e.date.getDay()}getYear(e){return e.date.getFullYear()}getMonth(e){return e.date.getMonth()}getHours(e){return e.date.getHours()}getMinutes(e){return e.date.getMinutes()}getSeconds(e){return e.date.getSeconds()}getMilliseconds(e){return e.date.getMilliseconds()}getTime(e){return e.date.getTime()}getUTCYear(e){return e.date.getUTCFullYear()}getUTCMonth(e){return e.date.getUTCMonth()}getUTCDay(e){return e.date.getUTCDate()}getUTCHours(e){return e.date.getUTCHours()}getUTCMinutes(e){return e.date.getUTCMinutes()}getUTCSeconds(e){return e.date.getUTCSeconds()}getUTCMilliseconds(e){return e.date.getUTCMilliseconds()}setYear(e){const t=new Date(e.date.getTime());return t.setFullYear(e.year),t}setMonth(e){const t=new Date(e.date.getTime());return t.setMonth(e.month),t}setDayOfMonth(e){const t=new Date(e.date.getTime());return t.setDate(e.day),t}setHours(e){const t=new Date(e.date.getTime());return t.setHours(e.hours),t}setMinutes(e){const t=new Date(e.date.getTime());return t.setMinutes(e.minutes),t}setSeconds(e){const t=new Date(e.date.getTime());return t.setSeconds(e.seconds),t}setMilliseconds(e){const t=new Date(e.date.getTime());return t.setMilliseconds(e.milliseconds),t}setTime(e){const t=new Date(e.date.getTime());return t.setTime(e.time),t}setUTCYear(e){const t=new Date(e.date.getTime());return t.setUTCFullYear(e.year),t}setUTCMonth(e){const t=new Date(e.date.getTime());return t.setUTCMonth(e.month),t}setUTCDay(e){const t=new Date(e.date.getTime());return t.setUTCDate(e.day),t}setUTCHours(e){const t=new Date(e.date.getTime());return t.setUTCHours(e.hours),t}setUTCMinutes(e){const t=new Date(e.date.getTime());return t.setUTCMinutes(e.minutes),t}setUTCSeconds(e){const t=new Date(e.date.getTime());return t.setUTCSeconds(e.seconds),t}setUTCMilliseconds(e){const t=new Date(e.date.getTime());return t.setUTCMilliseconds(e.milliseconds),t}}class Ke{constructor(e,t){this.math=e,this.geometryHelper=t}removeAllDuplicateVectors(e){return this.geometryHelper.removeAllDuplicateVectors(e.vectors,e.tolerance)}removeConsecutiveDuplicateVectors(e){return this.geometryHelper.removeConsecutiveVectorDuplicates(e.vectors,e.checkFirstAndLast,e.tolerance)}vectorsTheSame(e){return this.geometryHelper.vectorsTheSame(e.vec1,e.vec2,e.tolerance)}angleBetween(e){return this.math.radToDeg({number:Math.acos(this.dot({first:e.first,second:e.second})/(this.norm({vector:e.first})*this.norm({vector:e.second})))})}angleBetweenNormalized2d(e){const t=e.first[0]*e.second[1]-e.first[1]*e.second[0];return this.math.radToDeg({number:Math.atan2(t,this.dot({first:e.first,second:e.second}))})}positiveAngleBetween(e){const t=this.signedAngleBetween(e);return t<0?360+t:t}addAll(e){const t=[];for(let r=0;r<e.vectors[0].length;r++){let i=0;for(const t of e.vectors)i+=t[r];t.push(i)}return t}add(e){const t=[];for(let r=0;r<e.first.length;r++)t.push(e.first[r]+e.second[r]);return t}all(e){return e.vector.every(e=>e)}cross(e){const t=[];return t.push(e.first[1]*e.second[2]-e.first[2]*e.second[1]),t.push(e.first[2]*e.second[0]-e.first[0]*e.second[2]),t.push(e.first[0]*e.second[1]-e.first[1]*e.second[0]),t}distSquared(e){let t=0;for(let r=0;r<e.first.length;r++)t+=Math.pow(e.first[r]-e.second[r],2);return t}dist(e){return Math.sqrt(this.distSquared(e))}div(e){const t=[];for(let r=0;r<e.vector.length;r++)t.push(e.vector[r]/e.scalar);return t}domain(e){return e.vector[e.vector.length-1]-e.vector[0]}dot(e){let t=0;for(let r=0;r<e.first.length;r++)t+=e.first[r]*e.second[r];return t}finite(e){return e.vector.map(e=>isFinite(e))}isZero(e){return 0===this.norm({vector:e.vector})}lerp(e){return this.add({first:this.mul({vector:e.first,scalar:e.fraction}),second:this.mul({vector:e.second,scalar:1-e.fraction})})}max(e){return Math.max(...e.vector)}min(e){return Math.min(...e.vector)}mul(e){const t=[];for(let r=0;r<e.vector.length;r++)t.push(e.vector[r]*e.scalar);return t}neg(e){const t=[];for(let r=0;r<e.vector.length;r++)t.push(-e.vector[r]);return t}normSquared(e){return this.dot({first:e.vector,second:e.vector})}norm(e){const t=this.normSquared(e);return 0!==t?Math.sqrt(t):t}normalized(e){if(!(this.length({vector:e.vector})<=1e-8))return this.div({scalar:this.norm(e),vector:e.vector})}onRay(e){return this.add({first:e.point,second:this.mul({vector:e.vector,scalar:e.distance})})}vectorXYZ(e){return[e.x,e.y,e.z]}vectorXY(e){return[e.x,e.y]}range(e){const t=[];for(let r=0;r<e.max;r++)t.push(r);return t}signedAngleBetween(e){const t=this.cross({first:e.first,second:e.second}),r=this.norm({vector:e.first})*this.norm({vector:e.second}),i=this.dot({first:e.first,second:e.second}),o=this.norm({vector:t})/r,s=i/r,n=Math.atan2(o,s),a=this.dot({first:e.reference,second:t})>0?n:2*Math.PI-n;return this.math.radToDeg({number:a})}span(e){const t=[];for(let r=e.min;r<=e.max;r+=e.step)t.push(r);return t}spanEaseItems(e){const t=[];for(let r=0;r<e.nrItems;r++){const i=1*r/(e.nrItems-1);t.push(this.math.ease({x:i,ease:e.ease,min:e.min,max:e.max}))}return e.intervals?t.map((e,t,r)=>0===t?e:e-r[t-1]):t}spanLinearItems(e){const t=[],r=e.max-e.min;for(let i=0;i<e.nrItems;i++){const o=r*i/(e.nrItems-1);t.push(o+e.min)}return t}sub(e){const t=[];for(let r=0;r<e.first.length;r++)t.push(e.first[r]-e.second[r]);return t}sum(e){return e.vector.reduce((e,t)=>e+t,0)}lengthSq(e){const t=e.vector;return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]}length(e){return Math.sqrt(this.lengthSq(e))}parseNumbers(e){return e.vector.map(e=>parseFloat(e))}}class Je{constructor(e,t){this.vector=e,this.math=t}rotationCenterAxis(e){return[this.translation(-e.center[0],-e.center[1],-e.center[2]),this.rotationAxis(e.axis,this.math.degToRad({number:e.angle})),this.translation(e.center[0],e.center[1],e.center[2])]}rotationCenterX(e){return[this.translation(-e.center[0],-e.center[1],-e.center[2]),this.rotationX(this.math.degToRad({number:e.angle})),this.translation(e.center[0],e.center[1],e.center[2])]}rotationCenterY(e){return[this.translation(-e.center[0],-e.center[1],-e.center[2]),this.rotationY(this.math.degToRad({number:e.angle})),this.translation(e.center[0],e.center[1],e.center[2])]}rotationCenterZ(e){return[this.translation(-e.center[0],-e.center[1],-e.center[2]),this.rotationZ(this.math.degToRad({number:e.angle})),this.translation(e.center[0],e.center[1],e.center[2])]}rotationCenterYawPitchRoll(e){return[this.translation(-e.center[0],-e.center[1],-e.center[2]),this.rotationYawPitchRoll(this.math.degToRad({number:e.yaw}),this.math.degToRad({number:e.pitch}),this.math.degToRad({number:e.roll})),this.translation(e.center[0],e.center[1],e.center[2])]}scaleCenterXYZ(e){return[this.translation(-e.center[0],-e.center[1],-e.center[2]),this.scaling(e.scaleXyz[0],e.scaleXyz[1],e.scaleXyz[2]),this.translation(e.center[0],e.center[1],e.center[2])]}scaleXYZ(e){return[this.scaling(e.scaleXyz[0],e.scaleXyz[1],e.scaleXyz[2])]}stretchDirFromCenter(e){return[this.translation(-e.center[0],-e.center[1],-e.center[2]),this.stretchDirection(e.direction,e.scale),this.translation(e.center[0],e.center[1],e.center[2])]}uniformScale(e){return[this.scaling(e.scale,e.scale,e.scale)]}uniformScaleFromCenter(e){return[this.translation(-e.center[0],-e.center[1],-e.center[2]),this.scaling(e.scale,e.scale,e.scale),this.translation(e.center[0],e.center[1],e.center[2])]}translationXYZ(e){return[this.translation(e.translation[0],e.translation[1],e.translation[2])]}translationsXYZ(e){return e.translations.map(e=>[this.translation(e[0],e[1],e[2])])}identity(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}translation(e,t,r){return[1,0,0,0,0,1,0,0,0,0,1,0,e,t,r,1]}scaling(e,t,r){return[e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1]}rotationAxis(e,t){const r=Math.sin(-t),i=Math.cos(-t),o=1-i,s=this.vector.normalized({vector:e}),n=s[0],a=s[1],c=s[2],h=this.identity();return h[0]=n*n*o+i,h[1]=n*a*o-c*r,h[2]=n*c*o+a*r,h[3]=0,h[4]=a*n*o+c*r,h[5]=a*a*o+i,h[6]=a*c*o-n*r,h[7]=0,h[8]=c*n*o-a*r,h[9]=c*a*o+n*r,h[10]=c*c*o+i,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}rotationX(e){const t=Math.sin(e),r=Math.cos(e);return[1,0,0,0,0,r,t,0,0,-t,r,0,0,0,0,1]}rotationY(e){const t=Math.sin(e),r=Math.cos(e);return[r,0,-t,0,0,1,0,0,t,0,r,0,0,0,0,1]}rotationZ(e){const t=Math.sin(e),r=Math.cos(e);return[r,t,0,0,-t,r,0,0,0,0,1,0,0,0,0,1]}rotationYawPitchRoll(e,t,r){const i=.5*r,o=.5*t,s=.5*e,n=Math.sin(i),a=Math.cos(i),c=Math.sin(o),h=Math.cos(o),l=Math.sin(s),u=Math.cos(s),d=u*c*a+l*h*n,v=l*h*a-u*c*n,f=u*h*n-l*c*a,p=u*h*a+l*c*n;return this.rotationMatrixFromQuat(d,v,f,p)}rotationMatrixFromQuat(e,t,r,i){const o=e*e,s=t*t,n=r*r,a=e*t,c=r*i,h=r*e,l=t*i,u=t*r,d=e*i,v=this.identity();return v[0]=1-2*(s+n),v[1]=2*(a+c),v[2]=2*(h-l),v[3]=0,v[4]=2*(a-c),v[5]=1-2*(n+o),v[6]=2*(u+d),v[7]=0,v[8]=2*(h+l),v[9]=2*(u-d),v[10]=1-2*(s+o),v[11]=0,v[12]=0,v[13]=0,v[14]=0,v[15]=1,v}stretchDirection(e,t){const r=this.vector.normalized({vector:e}),[i,o,s]=r;if(isNaN(i)||0===i&&0===o&&0===s)return console.warn("Stretch direction vector is zero or invalid. Returning identity matrix."),this.identity();const n=t-1;return[1+n*i*i,n*o*i,n*s*i,0,n*i*o,1+n*o*o,n*s*o,0,n*i*s,n*o*s,1+n*s*s,0,0,0,0,1]}}class Qe{constructor(){this.getArrayDepth=e=>Array.isArray(e)?1+Math.max(...e.map(this.getArrayDepth)):0}transformControlPoints(e,t){return this.getFlatTransformations(e).forEach(e=>{t=this.transformPointsByMatrixArray(t,e)}),t}getFlatTransformations(e){let t=[];return 3===this.getArrayDepth(e)?e.forEach(e=>{t.push(...e)}):t=e,t}transformPointsByMatrixArray(e,t){return this.transformPointsCoordinates(e,t)}transformPointsCoordinates(e,t){const r=[];for(const i of e){const e=this.transformCoordinates(i[0],i[1],i[2],t);r.push(e)}return r}removeAllDuplicateVectors(e,t=1e-7){const r=[];return e.forEach(e=>{r.some(r=>this.vectorsTheSame(e,r,t))||r.push(e)}),r}removeConsecutiveVectorDuplicates(e,t=!0,r=1e-7){const i=[];if(e.length>1){for(let t=1;t<e.length;t++){const o=e[t],s=e[t-1];this.vectorsTheSame(o,s,r)||i.push(s),t===e.length-1&&i.push(o)}if(t){const e=i[0],t=i[i.length-1];this.vectorsTheSame(e,t,r)&&i.pop()}}else 1===e.length&&i.push(...e);return i}vectorsTheSame(e,t,r){let i=!1;if(e.length!==t.length)return i;i=!0;for(let o=0;o<e.length;o++)if(!this.approxEq(e[o],t[o],r)){i=!1;break}return i}approxEq(e,t,r){return Math.abs(e-t)<r}removeConsecutivePointDuplicates(e,t=!0,r=1e-7){const i=[];if(e.length>1){for(let t=1;t<e.length;t++){const o=e[t],s=e[t-1];this.arePointsTheSame(o,s,r)||i.push(s),t===e.length-1&&i.push(o)}if(t){const e=i[0],t=i[i.length-1];this.arePointsTheSame(e,t,r)&&i.pop()}}else 1===e.length&&i.push(...e);return i}arePointsTheSame(e,t,r){let i=!1;return 2===e.length&&2===t.length?this.approxEq(e[0],t[0],r)&&this.approxEq(e[1],t[1],r)&&(i=!0):3===e.length&&3===t.length&&this.approxEq(e[0],t[0],r)&&this.approxEq(e[1],t[1],r)&&this.approxEq(e[2],t[2],r)&&(i=!0),i}transformCoordinates(e,t,r,i){const o=i,s=e*o[0]+t*o[4]+r*o[8]+o[12],n=e*o[1]+t*o[5]+r*o[9]+o[13],a=e*o[2]+t*o[6]+r*o[10]+o[14],c=1/(e*o[3]+t*o[7]+r*o[11]+o[15]);return[s*c,n*c,a*c]}}class et{constructor(e,t,r){this.vector=e,this.point=t,this.geometryHelper=r}getStartPoint(e){return e.line.start}getEndPoint(e){return e.line.end}length(e){return this.point.distance({startPoint:e.line.start,endPoint:e.line.end})}reverse(e){return{start:e.line.end,end:e.line.start}}transformLine(e){const t=e.transformation;let r=[e.line.start,e.line.end];return r=this.geometryHelper.transformControlPoints(t,r),{start:r[0],end:r[1]}}transformsForLines(e){return e.lines.map((t,r)=>{const i=e.transformation[r];let o=[t.start,t.end];return o=this.geometryHelper.transformControlPoints(i,o),{start:o[0],end:o[1]}})}create(e){return{start:e.start,end:e.end}}createSegment(e){return[e.start,e.end]}getPointOnLine(e){const t=e.line.start,r=e.line.end,i=e.param,o=[r[0]-t[0],r[1]-t[1],r[2]-t[2]];return[t[0]+i*o[0],t[1]+i*o[1],t[2]+i*o[2]]}linesBetweenPoints(e){const t=[];for(let r=1;r<e.points.length;r++){const i=e.points[r-1],o=e.points[r];t.push({start:i,end:o})}return t}linesBetweenStartAndEndPoints(e){return e.startPoints.map((t,r)=>({start:t,end:e.endPoints[r]})).filter(e=>0!==this.point.distance({startPoint:e.start,endPoint:e.end}))}lineToSegment(e){return[e.line.start,e.line.end]}linesToSegments(e){return e.lines.map(e=>[e.start,e.end])}segmentToLine(e){return{start:e.segment[0],end:e.segment[1]}}segmentsToLines(e){return e.segments.map(e=>({start:e[0],end:e[1]}))}lineLineIntersection(e){const t=e.tolerance||1e-6,r=e.checkSegmentsOnly,i=e.line1,o=e.line2;if(!((null==i?void 0:i.start)&&i.end&&(null==o?void 0:o.start)&&o.end&&3===i.start.length&&3===i.end.length&&3===o.start.length&&3===o.end.length))return void console.error("Invalid line input to lineLineIntersection");const s=i.start,n=this.vector.sub({first:i.end,second:i.start}),a=o.start,c=this.vector.sub({first:o.end,second:o.start}),h=this.vector.sub({first:a,second:s}),l=this.vector.lengthSq({vector:n}),u=this.vector.lengthSq({vector:c});if(l<t*t||u<t*t)return;const d=this.vector.cross({first:n,second:c});if(this.vector.lengthSq({vector:d})<t*t){const e=this.vector.cross({first:h,second:n}),i=t*t*l;if(this.vector.lengthSq({vector:e})<i){if(r){const e=l<t*t?1:l,r=this.vector.dot({first:n,second:h})/e,i=this.vector.sub({first:o.end,second:s}),a=this.vector.dot({first:n,second:i})/e,c=[Math.min(r,a),Math.max(r,a)],u=[0,1];return Math.max(u[0],c[0]),void Math.min(u[1],c[1])}return s}return}const v=this.vector.dot({first:h,second:d}),f=t*t*t;if(Math.abs(v)>f)return;const p=l,m=u,g=this.vector.dot({first:n,second:c}),b=this.vector.dot({first:n,second:h}),k=this.vector.dot({first:c,second:h}),_=p*m-g*g;if(Math.abs(_)<t*t)return void console.error("Internal error: Denominator near zero after non-parallel check.");const P=(m*b-g*k)/_,C=(g*b-p*k)/_;if(r&&(P<-t||P>1+t||C<-t||C>1+t))return;const y=this.getPointOnLine({param:P,line:i});return[Math.abs(y[0])<t?0:y[0],Math.abs(y[1])<t?0:y[1],Math.abs(y[2])<t?0:y[2]]}}class tt{constructor(e,t,r,i){this.vector=e,this.point=t,this.line=r,this.geometryHelper=i}length(e){let t=0;for(let r=1;r<e.polyline.points.length;r++){const i=e.polyline.points[r-1],o=e.polyline.points[r];t+=this.point.distance({startPoint:i,endPoint:o})}return t}countPoints(e){return e.polyline.points.length}getPoints(e){return e.polyline.points}reverse(e){return{points:e.polyline.points.reverse()}}transformPolyline(e){const t=e.transformation;let r=e.polyline.points;return r=this.geometryHelper.transformControlPoints(t,r),{points:r}}create(e){var t;return{points:e.points,isClosed:null!==(t=e.isClosed)&&void 0!==t&&t}}polylineToLines(e){return this.polylineToSegments(e).map(e=>({start:e[0],end:e[1]}))}polylineToSegments(e){const t=e.polyline,r=[],i=t.points,o=i.length;if(o<2)return r;for(let e=0;e<o-1;e++)r.push([i[e],i[e+1]]);return t.isClosed&&o>=2&&(this.point.twoPointsAlmostEqual({point1:i[o-1],point2:i[0],tolerance:1e-9})||r.push([i[o-1],i[0]])),r}polylineSelfIntersection(e){const{polyline:t,tolerance:r}=e,i=this.polylineToLines({polyline:t}),o=i.length;if(o<3)return[];const s=[],n=null!=r?r:1e-6;for(let e=0;e<o;e++)for(let r=e+1;r<o;r++){let a=r===e+1;if(!a&&t.isClosed&&0===e&&r===o-1&&(a=!0),a)continue;const c=this.line.lineLineIntersection({line1:i[e],line2:i[r],checkSegmentsOnly:!0,tolerance:n});if(c){let e=!1;for(const t of s)if(this.point.twoPointsAlmostEqual({point1:c,point2:t,tolerance:n})){e=!0;break}e||s.push(c)}}return s}twoPolylineIntersection(e){const{polyline1:t,polyline2:r,tolerance:i}=e,o=this.polylineToLines({polyline:t}),s=this.polylineToLines({polyline:r}),n=[],a=null!=i?i:1e-6;for(const e of o)for(const t of s){const r=this.line.lineLineIntersection({line1:e,line2:t,checkSegmentsOnly:!0,tolerance:a});if(r){let e=!1;for(const t of n)if(this.point.twoPointsAlmostEqual({point1:r,point2:t,tolerance:a})){e=!0;break}e||n.push(r)}}return n}sortSegmentsIntoPolylines(e){var t;const r=null!==(t=e.tolerance)&&void 0!==t?t:1e-5,i=e.segments;if(!i||0===i.length)return[];const o=r*r,s=i.length,n=new Array(s).fill(!1),a=[],c=new Map,h=1/r,l=e=>`${Math.round(e[0]*h)},${Math.round(e[1]*h)},${Math.round(e[2]*h)}`;for(let e=0;e<s;e++){const t=i[e];if(this.point.twoPointsAlmostEqual({point1:t[0],point2:t[1],tolerance:r})){n[e]=!0;continue}const o=l(t[0]),s=l(t[1]),a={segmentIndex:e,endpointIndex:0,coords:t[0]},h={segmentIndex:e,endpointIndex:1,coords:t[1]};c.has(o)||c.set(o,[]),c.get(o).push(a),s!==o?(c.has(s)||c.set(s,[]),c.get(s).push(h)):c.get(o).push(h)}const u=e=>{const t=[],i=Math.round(e[0]*h),s=Math.round(e[1]*h),a=Math.round(e[2]*h);for(let e=-1;e<=1;e++)for(let r=-1;r<=1;r++)for(let o=-1;o<=1;o++)t.push(`${i+e},${s+r},${a+o}`);let l,u=o;for(const i of t){const t=c.get(i);if(t)for(const i of t)if(!n[i.segmentIndex]){const t=this.vector.sub({first:i.coords,second:e}),o=this.vector.lengthSq({vector:t});o<u&&this.point.twoPointsAlmostEqual({point1:i.coords,point2:e,tolerance:r})&&(l=i,u=o)}}if(l&&!n[l.segmentIndex])return l};for(let e=0;e<s;e++){if(n[e])continue;n[e]=!0;const t=i[e],o=[t[0],t[1]];let c=t[0],h=t[1],l=!1,d=0;for(;d++<s;){const e=u(h);if(!e)break;const t=i[e.segmentIndex],s=0===e.endpointIndex?t[1]:t[0];if(this.point.twoPointsAlmostEqual({point1:s,point2:c,tolerance:r})){l=!0,n[e.segmentIndex]=!0;break}n[e.segmentIndex]=!0,o.push(s),h=s}if(d=0,!l)for(;d++<s;){const e=u(c);if(!e)break;const t=i[e.segmentIndex],s=0===e.endpointIndex?t[1]:t[0];if(this.point.twoPointsAlmostEqual({point1:s,point2:h,tolerance:r})){l=!0,n[e.segmentIndex]=!0;break}n[e.segmentIndex]=!0,o.unshift(s),c=s}!l&&o.length>=2&&(l=this.point.twoPointsAlmostEqual({point1:c,point2:h,tolerance:r})),l&&o.length>2&&this.point.twoPointsAlmostEqual({point1:o[o.length-1],point2:o[0],tolerance:r})&&o.pop(),a.push({points:o,isClosed:l})}return a}maxFilletsHalfLine(e){return this.point.maxFilletsHalfLine({points:e.polyline.points,checkLastWithFirst:e.polyline.isClosed,tolerance:e.tolerance})}safestFilletRadius(e){const t=this.maxFilletsHalfLine(e);if(0===t.length)return 0;const r=Math.min(...t);return Math.max(0,r)}}class rt{constructor(e,t){this.vector=e,this.polyline=t}signedDistanceToPlane(e){return this.vector.dot({first:e.plane.normal,second:e.point})-e.plane.d}calculateTrianglePlane(e){const t=Math.pow(e.tolerance||1e-7,2),r=this.vector.sub({first:e.triangle[1],second:e.triangle[0]}),i=this.vector.sub({first:e.triangle[2],second:e.triangle[0]}),o=this.vector.cross({first:r,second:i});if(this.vector.lengthSq({vector:o})<t)return;const s=this.vector.normalized({vector:o});return{normal:s,d:this.vector.dot({first:s,second:e.triangle[0]})}}triangleTriangleIntersection(e){const t=e.triangle1,r=e.triangle2,i=e.tolerance||1e-7,o=t[0],s=t[1],n=t[2],a=r[0],c=r[1],h=r[2],l=this.calculateTrianglePlane({triangle:t,tolerance:i}),u=this.calculateTrianglePlane({triangle:r,tolerance:i});if(!l||!u)return;const d=[this.signedDistanceToPlane({point:a,plane:l}),this.signedDistanceToPlane({point:c,plane:l}),this.signedDistanceToPlane({point:h,plane:l})];if(d[0]>i&&d[1]>i&&d[2]>i||d[0]<-i&&d[1]<-i&&d[2]<-i)return;const v=[this.signedDistanceToPlane({point:o,plane:u}),this.signedDistanceToPlane({point:s,plane:u}),this.signedDistanceToPlane({point:n,plane:u})];if(v[0]>i&&v[1]>i&&v[2]>i||v[0]<-i&&v[1]<-i&&v[2]<-i)return;const f=v.every(e=>Math.abs(e)<i),p=d.every(e=>Math.abs(e)<i);if(f&&p)return;const m=this.vector.cross({first:l.normal,second:u.normal}),g=this.vector.dot({first:m,second:m});if(g<i*i)return;const b=[],k=[],_=[[o,s],[s,n],[n,o]],P=v;for(let e=0;e<3;++e){const t=_[e][0],r=_[e][1],o=P[e],s=P[(e+1)%3];if(Math.abs(o)<i&&b.push(t),o*s<0&&Math.abs(o-s)>i){const e=o/(o-s);b.push(this.computeIntersectionPoint(t,r,e))}}const C=[[a,c],[c,h],[h,a]],y=d;for(let e=0;e<3;++e){const t=C[e][0],r=C[e][1],o=y[e],s=y[(e+1)%3];if(Math.abs(o)<i&&k.push(t),o*s<0&&Math.abs(o-s)>i){const e=o/(o-s);k.push(this.computeIntersectionPoint(t,r,e))}}if(b.length<2||k.length<2)return;const x=l.normal,w=u.normal,T=l.d,W=u.d,S=this.vector.mul({vector:w,scalar:T}),M=this.vector.mul({vector:x,scalar:W}),D=this.vector.sub({first:S,second:M}),E=this.vector.cross({first:D,second:m}),O=this.vector.mul({vector:E,scalar:1/g}),A=b.map(e=>this.vector.dot({first:this.vector.sub({first:e,second:O}),second:m})),L=k.map(e=>this.vector.dot({first:this.vector.sub({first:e,second:O}),second:m})),F=[Math.min(...A),Math.max(...A)],I=[Math.min(...L),Math.max(...L)],R=Math.max(F[0],I[0]),B=Math.min(F[1],I[1]);if(R<B-i*g){const e=this.vector.add({first:O,second:this.vector.mul({vector:m,scalar:R/g})}),t=this.vector.add({first:O,second:this.vector.mul({vector:m,scalar:B/g})}),r=this.vector.sub({first:e,second:t});return this.vector.lengthSq({vector:r})>i*i?[e,t]:void 0}}meshMeshIntersectionSegments(e){const t=e.mesh1,r=e.mesh2,i=[];for(let o=0;o<t.length;++o)for(let s=0;s<r.length;++s){const n=t[o],a=r[s],c=this.triangleTriangleIntersection({triangle1:n,triangle2:a,tolerance:e.tolerance});c&&i.push(c)}return i}meshMeshIntersectionPolylines(e){const t=this.meshMeshIntersectionSegments(e);return this.polyline.sortSegmentsIntoPolylines({segments:t,tolerance:e.tolerance})}meshMeshIntersectionPoints(e){return this.meshMeshIntersectionPolylines(e).map(e=>e.isClosed?[...e.points,e.points[0]]:e.points)}computeIntersectionPoint(e,t,r){return this.vector.add({first:e,second:this.vector.mul({vector:this.vector.sub({first:t,second:e}),scalar:r})})}}class it{}var ot;it.BITBYBIT_CDN_URL="https://git-cdn.bitbybit.dev/v1.0.0-rc.1",function(e){let t,r,i,o,s,n,a,c,h,l,u,d,v,f,p,m,g,b,k,_,P,C,y;!function(e){e.arc="arc",e.intersection="intersection",e.tangent="tangent"}(t=e.joinTypeEnum||(e.joinTypeEnum={})),function(e){e.skin="skin",e.pipe="pipe",e.rectoVerso="rectoVerso"}(r=e.bRepOffsetModeEnum||(e.bRepOffsetModeEnum={})),function(e){e.approxChordLength="approxChordLength",e.approxCentripetal="approxCentripetal",e.approxIsoParametric="approxIsoParametric"}(i=e.approxParametrizationTypeEnum||(e.approxParametrizationTypeEnum={})),function(e){e.outside="outside",e.inside="inside",e.middle="middle"}(o=e.directionEnum||(e.directionEnum={})),function(e){e.iges="iges",e.step="step"}(s=e.fileTypeEnum||(e.fileTypeEnum={})),function(e){e.forward="forward",e.reversed="reversed",e.internal="internal",e.external="external"}(n=e.topAbsOrientationEnum||(e.topAbsOrientationEnum={})),function(e){e.in="in",e.out="out",e.on="on",e.unknown="unknown"}(a=e.topAbsStateEnum||(e.topAbsStateEnum={})),function(e){e.unknown="unknown",e.vertex="vertex",e.edge="edge",e.wire="wire",e.face="face",e.shell="shell",e.solid="solid",e.compSolid="compSolid",e.compound="compound",e.shape="shape"}(c=e.shapeTypeEnum||(e.shapeTypeEnum={})),function(e){e.unqualified="unqualified",e.enclosing="enclosing",e.enclosed="enclosed",e.outside="outside",e.noqualifier="noqualifier"}(h=e.gccEntPositionEnum||(e.gccEntPositionEnum={})),function(e){e.keepSide1="keepSide1",e.keepSide2="keepSide2",e.all="all"}(l=e.positionResultEnum||(e.positionResultEnum={})),function(e){e.none="none",e.keepSide1="keepSide1",e.keepSide2="keepSide2"}(u=e.circleInclusionEnum||(e.circleInclusionEnum={})),function(e){e.none="none",e.outside="outside",e.inside="inside",e.outsideInside="outsideInside",e.insideOutside="insideOutside"}(d=e.twoCircleInclusionEnum||(e.twoCircleInclusionEnum={})),function(e){e.outside="outside",e.inside="inside",e.outsideInside="outsideInside",e.insideOutside="insideOutside"}(v=e.fourSidesStrictEnum||(e.fourSidesStrictEnum={})),function(e){e.outside="outside",e.inside="inside"}(f=e.twoSidesStrictEnum||(e.twoSidesStrictEnum={})),function(e){e.allWithAll="allWithAll",e.inOrder="inOrder",e.inOrderClosed="inOrderClosed"}(p=e.combinationCirclesForFaceEnum||(e.combinationCirclesForFaceEnum={})),function(e){e[e.curve=0]="curve",e[e.edge=1]="edge",e[e.wire=2]="wire",e[e.face=3]="face"}(m=e.typeSpecificityEnum||(e.typeSpecificityEnum={})),function(e){e.all="all",e.closest="closest",e.furthest="furthest",e.closestAndFurthest="closestAndFurthest"}(g=e.pointProjectionTypeEnum||(e.pointProjectionTypeEnum={})),function(e){e.isCorrectedFrenet="isCorrectedFrenet",e.isFixed="isFixed",e.isFrenet="isFrenet",e.isConstantNormal="isConstantNormal",e.isDarboux="isDarboux",e.isGuideAC="isGuideAC",e.isGuidePlan="isGuidePlan",e.isGuideACWithContact="isGuideACWithContact",e.isGuidePlanWithContact="isGuidePlanWithContact",e.isDiscreteTrihedron="isDiscreteTrihedron"}(b=e.geomFillTrihedronEnum||(e.geomFillTrihedronEnum={})),function(e){e.aci="aci",e.truecolor="truecolor"}(k=e.dxfColorFormatEnum||(e.dxfColorFormatEnum={})),function(e){e.AC1009="AC1009",e.AC1015="AC1015"}(_=e.dxfAcadVersionEnum||(e.dxfAcadVersionEnum={})),function(e){e.none="none",e.arrow="arrow"}(P=e.dimensionEndTypeEnum||(e.dimensionEndTypeEnum={})),e.DecomposedMeshDto=class{constructor(e,t){void 0!==e&&(this.faceList=e),void 0!==t&&(this.edgeList=t)}},e.DecomposedFaceDto=class{},e.DecomposedEdgeDto=class{},e.ShapesDto=class{constructor(e){void 0!==e&&(this.shapes=e)}},e.PointDto=class{constructor(e){this.point=[0,0,0],void 0!==e&&(this.point=e)}},e.XYZDto=class{constructor(e,t,r){void 0!==e&&(this.x=e),void 0!==t&&(this.y=t),void 0!==r&&(this.z=r)}},e.PointsDto=class{constructor(e){void 0!==e&&(this.points=e)}},e.ConstraintTanLinesFromPtToCircleDto=class{constructor(e,t,r,i,o){this.tolerance=1e-7,this.positionResult=l.all,this.circleRemainder=u.none,void 0!==e&&(this.circle=e),void 0!==t&&(this.point=t),void 0!==r&&(this.tolerance=r),void 0!==i&&(this.positionResult=i),void 0!==o&&(this.circleRemainder=o)}},e.ConstraintTanLinesFromTwoPtsToCircleDto=class{constructor(e,t,r,i,o,s){this.tolerance=1e-7,this.positionResult=l.all,this.circleRemainder=u.none,void 0!==e&&(this.circle=e),void 0!==t&&(this.point1=t),void 0!==r&&(this.point1=r),void 0!==i&&(this.tolerance=i),void 0!==o&&(this.positionResult=o),void 0!==s&&(this.circleRemainder=s)}},e.ConstraintTanLinesOnTwoCirclesDto=class{constructor(e,t,r,i,o){this.tolerance=1e-7,this.positionResult=l.all,this.circleRemainders=d.none,void 0!==e&&(this.circle1=e),void 0!==t&&(this.circle2=t),void 0!==r&&(this.tolerance=r),void 0!==i&&(this.positionResult=i),void 0!==o&&(this.circleRemainders=o)}},e.ConstraintTanCirclesOnTwoCirclesDto=class{constructor(e,t,r,i){this.tolerance=1e-7,this.radius=.3,void 0!==e&&(this.circle1=e),void 0!==t&&(this.circle2=t),void 0!==r&&(this.tolerance=r),void 0!==i&&(this.radius=i)}},e.ConstraintTanCirclesOnCircleAndPntDto=class{constructor(e,t,r,i){this.tolerance=1e-7,this.radius=.3,void 0!==e&&(this.circle=e),void 0!==t&&(this.point=t),void 0!==r&&(this.tolerance=r),void 0!==i&&(this.radius=i)}},e.CurveAndSurfaceDto=class{constructor(e,t){void 0!==e&&(this.curve=e),void 0!==t&&(this.surface=t)}},e.FilletTwoEdgesInPlaneDto=class{constructor(e,t,r,i,o,s){this.planeOrigin=[0,0,0],this.planeDirection=[0,1,0],this.radius=.3,this.solution=-1,void 0!==e&&(this.edge1=e),void 0!==t&&(this.edge2=t),void 0!==r&&(this.planeOrigin=r),void 0!==i&&(this.planeDirection=i),void 0!==o&&(this.radius=o),void 0!==s&&(this.solution=s)}},e.ClosestPointsOnShapeFromPointsDto=class{constructor(e,t){void 0!==e&&(this.shape=e),void 0!==t&&(this.points=t)}},e.BoundingBoxDto=class{constructor(e){void 0!==e&&(this.bbox=e)}},e.BoundingBoxPropsDto=class{constructor(e,t,r,i){this.min=[0,0,0],this.max=[0,0,0],this.center=[0,0,0],this.size=[0,0,0],void 0!==e&&(this.min=e),void 0!==t&&(this.max=t),void 0!==r&&(this.center=r),void 0!==i&&(this.size=i)}},e.BoundingSpherePropsDto=class{constructor(e,t){this.center=[0,0,0],this.radius=0,void 0!==e&&(this.center=e),void 0!==t&&(this.radius=t)}},e.SplitWireOnPointsDto=class{constructor(e,t){void 0!==e&&(this.shape=e),void 0!==t&&(this.points=t)}},e.ClosestPointsOnShapesFromPointsDto=class{constructor(e,t){void 0!==e&&(this.shapes=e),void 0!==t&&(this.points=t)}},e.ClosestPointsBetweenTwoShapesDto=class{constructor(e,t){void 0!==e&&(this.shape1=e),void 0!==t&&(this.shape2=t)}},e.FaceFromSurfaceAndWireDto=class{constructor(e,t,r){this.inside=!0,void 0!==e&&(this.surface=e),void 0!==t&&(this.wire=t),void 0!==r&&(this.inside=r)}},e.WireOnFaceDto=class{constructor(e,t){void 0!==e&&(this.wire=e),void 0!==t&&(this.face=t)}},e.DrawShapeDto=class{constructor(e,t,r,i,o,s,n,a,c,h,l,u,d,v,f,p,m,g,b,k,_,P){this.faceOpacity=1,this.edgeOpacity=1,this.edgeColour="#ffffff",this.faceColour="#ff0000",this.edgeWidth=2,this.drawEdges=!0,this.drawFaces=!0,this.drawVertices=!1,this.vertexColour="#ffaaff",this.vertexSize=.03,this.precision=.01,this.drawEdgeIndexes=!1,this.edgeIndexHeight=.06,this.edgeIndexColour="#ff00ff",this.drawFaceIndexes=!1,this.faceIndexHeight=.06,this.faceIndexColour="#0000ff",this.drawTwoSided=!0,this.backFaceColour="#0000ff",this.backFaceOpacity=1,void 0!==e&&(this.shape=e),void 0!==t&&(this.faceOpacity=t),void 0!==r&&(this.edgeOpacity=r),void 0!==i&&(this.edgeColour=i),void 0!==o&&(this.faceMaterial=o),void 0!==s&&(this.faceColour=s),void 0!==l&&(this.vertexColour=l),void 0!==u&&(this.vertexSize=u),void 0!==n&&(this.edgeWidth=n),void 0!==a&&(this.drawEdges=a),void 0!==c&&(this.drawFaces=c),void 0!==h&&(this.drawVertices=h),void 0!==d&&(this.precision=d),void 0!==v&&(this.drawEdgeIndexes=v),void 0!==f&&(this.edgeIndexHeight=f),void 0!==p&&(this.edgeIndexColour=p),void 0!==m&&(this.drawFaceIndexes=m),void 0!==g&&(this.faceIndexHeight=g),void 0!==b&&(this.faceIndexColour=b),void 0!==k&&(this.drawTwoSided=k),void 0!==_&&(this.backFaceColour=_),void 0!==P&&(this.backFaceOpacity=P)}},e.DrawShapesDto=class{constructor(e,t,r,i,o,s,n,a,c,h,l,u,d,v,f,p,m,g,b,k,_,P){this.faceOpacity=1,this.edgeOpacity=1,this.edgeColour="#ffffff",this.faceColour="#ff0000",this.edgeWidth=2,this.drawEdges=!0,this.drawFaces=!0,this.drawVertices=!1,this.vertexColour="#ffaaff",this.vertexSize=.03,this.precision=.01,this.drawEdgeIndexes=!1,this.edgeIndexHeight=.06,this.edgeIndexColour="#ff00ff",this.drawFaceIndexes=!1,this.faceIndexHeight=.06,this.faceIndexColour="#0000ff",this.drawTwoSided=!0,this.backFaceColour="#0000ff",this.backFaceOpacity=1,void 0!==e&&(this.shapes=e),void 0!==t&&(this.faceOpacity=t),void 0!==r&&(this.edgeOpacity=r),void 0!==i&&(this.edgeColour=i),void 0!==o&&(this.faceMaterial=o),void 0!==s&&(this.faceColour=s),void 0!==l&&(this.vertexColour=l),void 0!==u&&(this.vertexSize=u),void 0!==n&&(this.edgeWidth=n),void 0!==a&&(this.drawEdges=a),void 0!==c&&(this.drawFaces=c),void 0!==h&&(this.drawVertices=h),void 0!==d&&(this.precision=d),void 0!==v&&(this.drawEdgeIndexes=v),void 0!==f&&(this.edgeIndexHeight=f),void 0!==p&&(this.edgeIndexColour=p),void 0!==m&&(this.drawFaceIndexes=m),void 0!==g&&(this.faceIndexHeight=g),void 0!==b&&(this.faceIndexColour=b),void 0!==k&&(this.drawTwoSided=k),void 0!==_&&(this.backFaceColour=_),void 0!==P&&(this.backFaceOpacity=P)}},e.FaceSubdivisionDto=class{constructor(e,t,r,i,o,s,n,a,c){this.nrDivisionsU=10,this.nrDivisionsV=10,this.shiftHalfStepU=!1,this.removeStartEdgeU=!1,this.removeEndEdgeU=!1,this.shiftHalfStepV=!1,this.removeStartEdgeV=!1,this.removeEndEdgeV=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.nrDivisionsU=t),void 0!==r&&(this.nrDivisionsV=r),void 0!==i&&(this.shiftHalfStepU=i),void 0!==o&&(this.removeStartEdgeU=o),void 0!==s&&(this.removeEndEdgeU=s),void 0!==n&&(this.shiftHalfStepV=n),void 0!==a&&(this.removeStartEdgeV=a),void 0!==c&&(this.removeEndEdgeV=c)}},e.FaceSubdivisionToWiresDto=class{constructor(e,t,r,i,o,s){this.nrDivisions=10,this.isU=!0,this.shiftHalfStep=!1,this.removeStart=!1,this.removeEnd=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.nrDivisions=t),void 0!==r&&(this.isU=r),void 0!==i&&(this.shiftHalfStep=i),void 0!==o&&(this.removeStart=o),void 0!==s&&(this.removeEnd=s)}},e.FaceSubdivideToRectangleWiresDto=class{constructor(e,t,r,i,o,s,n,a,c){this.nrRectanglesU=10,this.nrRectanglesV=10,this.offsetFromBorderU=0,this.offsetFromBorderV=0,void 0!==e&&(this.shape=e),void 0!==t&&(this.nrRectanglesU=t),void 0!==r&&(this.nrRectanglesU=r),void 0!==i&&(this.scalePatternU=i),void 0!==o&&(this.scalePatternV=o),void 0!==s&&(this.filletPattern=s),void 0!==n&&(this.inclusionPattern=n),void 0!==a&&(this.offsetFromBorderU=a),void 0!==c&&(this.offsetFromBorderV=c)}},e.FaceSubdivideToHexagonWiresDto=class{constructor(e,t,r,i,o,s,n,a,c,h,l,u,d,v){this.nrHexagonsU=10,this.nrHexagonsV=10,this.flatU=!1,this.offsetFromBorderU=0,this.offsetFromBorderV=0,this.extendUUp=!1,this.extendUBottom=!1,this.extendVUp=!1,this.extendVBottom=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.nrHexagonsU=t),void 0!==r&&(this.nrHexagonsU=r),void 0!==i&&(this.flatU=i),void 0!==o&&(this.scalePatternU=o),void 0!==s&&(this.scalePatternV=s),void 0!==n&&(this.filletPattern=n),void 0!==a&&(this.inclusionPattern=a),void 0!==c&&(this.offsetFromBorderU=c),void 0!==h&&(this.offsetFromBorderV=h),void 0!==l&&(this.extendUUp=l),void 0!==u&&(this.extendUBottom=u),void 0!==d&&(this.extendVUp=d),void 0!==v&&(this.extendVBottom=v)}},e.FaceSubdivideToHexagonHolesDto=class{constructor(e,t,r,i,o,s,n,a,c,h,l){this.nrHexagonsU=10,this.nrHexagonsV=10,this.flatU=!1,this.holesToFaces=!1,this.offsetFromBorderU=0,this.offsetFromBorderV=0,void 0!==e&&(this.shape=e),void 0!==t&&(this.nrHexagonsU=t),void 0!==r&&(this.nrHexagonsU=r),void 0!==i&&(this.flatU=i),void 0!==o&&(this.holesToFaces=o),void 0!==s&&(this.scalePatternU=s),void 0!==n&&(this.scalePatternV=n),void 0!==a&&(this.filletPattern=a),void 0!==c&&(this.inclusionPattern=c),void 0!==h&&(this.offsetFromBorderU=h),void 0!==l&&(this.offsetFromBorderV=l)}},e.FaceSubdivideToRectangleHolesDto=class{constructor(e,t,r,i,o,s,n,a,c,h){this.nrRectanglesU=10,this.nrRectanglesV=10,this.holesToFaces=!1,this.offsetFromBorderU=0,this.offsetFromBorderV=0,void 0!==e&&(this.shape=e),void 0!==t&&(this.nrRectanglesU=t),void 0!==r&&(this.nrRectanglesU=r),void 0!==i&&(this.scalePatternU=i),void 0!==o&&(this.scalePatternV=o),void 0!==s&&(this.filletPattern=s),void 0!==n&&(this.inclusionPattern=n),void 0!==a&&(this.holesToFaces=a),void 0!==c&&(this.offsetFromBorderU=c),void 0!==h&&(this.offsetFromBorderV=h)}},e.FaceSubdivisionControlledDto=class{constructor(e,t,r,i,o,s,n,a,c,h,l,u,d,v,f){this.nrDivisionsU=10,this.nrDivisionsV=10,this.shiftHalfStepNthU=0,this.shiftHalfStepUOffsetN=0,this.removeStartEdgeNthU=0,this.removeStartEdgeUOffsetN=0,this.removeEndEdgeNthU=0,this.removeEndEdgeUOffsetN=0,this.shiftHalfStepNthV=0,this.shiftHalfStepVOffsetN=0,this.removeStartEdgeNthV=0,this.removeStartEdgeVOffsetN=0,this.removeEndEdgeNthV=0,this.removeEndEdgeVOffsetN=0,void 0!==e&&(this.shape=e),void 0!==t&&(this.nrDivisionsU=t),void 0!==r&&(this.nrDivisionsV=r),void 0!==i&&(this.shiftHalfStepNthU=i),void 0!==o&&(this.shiftHalfStepUOffsetN=o),void 0!==s&&(this.removeStartEdgeNthU=s),void 0!==n&&(this.removeStartEdgeUOffsetN=n),void 0!==a&&(this.removeEndEdgeNthU=a),void 0!==c&&(this.removeEndEdgeUOffsetN=c),void 0!==h&&(this.shiftHalfStepNthV=h),void 0!==l&&(this.shiftHalfStepVOffsetN=l),void 0!==u&&(this.removeStartEdgeNthV=u),void 0!==d&&(this.removeStartEdgeVOffsetN=d),void 0!==v&&(this.removeEndEdgeNthV=v),void 0!==f&&(this.removeEndEdgeVOffsetN=f)}},e.FaceLinearSubdivisionDto=class{constructor(e,t,r,i,o,s,n){this.isU=!0,this.param=.5,this.nrPoints=10,this.shiftHalfStep=!1,this.removeStartPoint=!1,this.removeEndPoint=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.isU=t),void 0!==r&&(this.param=r),void 0!==i&&(this.nrPoints=i),void 0!==o&&(this.shiftHalfStep=o),void 0!==s&&(this.removeStartPoint=s),void 0!==n&&(this.removeEndPoint=n)}},e.WireAlongParamDto=class{constructor(e,t,r){this.isU=!0,this.param=.5,void 0!==e&&(this.shape=e),void 0!==t&&(this.isU=t),void 0!==r&&(this.param=r)}},e.WiresAlongParamsDto=class{constructor(e,t,r){this.isU=!0,void 0!==e&&(this.shape=e),void 0!==t&&(this.isU=t),void 0!==r&&(this.params=r)}},e.DataOnUVDto=class{constructor(e,t,r){this.paramU=.5,this.paramV=.5,void 0!==e&&(this.shape=e),void 0!==t&&(this.paramU=t),void 0!==r&&(this.paramV=r)}},e.DataOnUVsDto=class{constructor(e,t){this.paramsUV=[[.5,.5]],void 0!==e&&(this.shape=e),void 0!==t&&(this.paramsUV=t)}},e.PolygonDto=class{constructor(e){void 0!==e&&(this.points=e)}},e.PolygonsDto=class{constructor(e,t){this.returnCompound=!1,void 0!==e&&(this.polygons=e),void 0!==t&&(this.returnCompound=t)}},e.PolylineDto=class{constructor(e){void 0!==e&&(this.points=e)}},e.PolylineBaseDto=class{constructor(e){void 0!==e&&(this.polyline=e)}},e.PolylinesBaseDto=class{constructor(e){void 0!==e&&(this.polylines=e)}},e.LineBaseDto=class{constructor(e){void 0!==e&&(this.line=e)}},e.LinesBaseDto=class{constructor(e){void 0!==e&&(this.lines=e)}},e.SegmentBaseDto=class{constructor(e){void 0!==e&&(this.segment=e)}},e.SegmentsBaseDto=class{constructor(e){void 0!==e&&(this.segments=e)}},e.TriangleBaseDto=class{constructor(e){void 0!==e&&(this.triangle=e)}},e.MeshBaseDto=class{constructor(e){void 0!==e&&(this.mesh=e)}},e.PolylinesDto=class{constructor(e,t){this.returnCompound=!1,void 0!==e&&(this.polylines=e),void 0!==t&&(this.returnCompound=t)}},e.SquareDto=class{constructor(e,t,r){this.size=1,this.center=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.size=e),void 0!==t&&(this.center=t),void 0!==r&&(this.direction=r)}},e.RectangleDto=class{constructor(e,t,r,i){this.width=1,this.length=2,this.center=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.width=e),void 0!==t&&(this.length=t),void 0!==r&&(this.center=r),void 0!==i&&(this.direction=i)}};class x{constructor(e,t,r,i,s,n,a,c){this.widthFirst=1,this.lengthFirst=2,this.widthSecond=.5,this.lengthSecond=2,this.align=o.outside,this.rotation=0,this.center=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.widthFirst=e),void 0!==t&&(this.lengthFirst=t),void 0!==r&&(this.widthSecond=r),void 0!==i&&(this.lengthSecond=i),void 0!==s&&(this.align=s),void 0!==n&&(this.rotation=n),void 0!==a&&(this.center=a),void 0!==c&&(this.direction=c)}}e.LPolygonDto=x;class w{constructor(e,t,r,i,o,s,n,a){this.width=2,this.height=3,this.webThickness=.2,this.flangeThickness=.3,this.alignment=Oe.basicAlignmentEnum.midMid,this.rotation=0,this.center=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.width=e),void 0!==t&&(this.height=t),void 0!==r&&(this.webThickness=r),void 0!==i&&(this.flangeThickness=i),void 0!==o&&(this.alignment=o),void 0!==s&&(this.rotation=s),void 0!==n&&(this.center=n),void 0!==a&&(this.direction=a)}}e.IBeamProfileDto=w;class T{constructor(e,t,r,i,o,s,n,a){this.width=2,this.height=3,this.webThickness=.2,this.flangeThickness=.3,this.alignment=Oe.basicAlignmentEnum.midMid,this.rotation=0,this.center=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.width=e),void 0!==t&&(this.height=t),void 0!==r&&(this.webThickness=r),void 0!==i&&(this.flangeThickness=i),void 0!==o&&(this.alignment=o),void 0!==s&&(this.rotation=s),void 0!==n&&(this.center=n),void 0!==a&&(this.direction=a)}}e.HBeamProfileDto=T;class W{constructor(e,t,r,i,o,s,n,a){this.width=2,this.height=2,this.webThickness=.2,this.flangeThickness=.3,this.alignment=Oe.basicAlignmentEnum.midMid,this.rotation=0,this.center=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.width=e),void 0!==t&&(this.height=t),void 0!==r&&(this.webThickness=r),void 0!==i&&(this.flangeThickness=i),void 0!==o&&(this.alignment=o),void 0!==s&&(this.rotation=s),void 0!==n&&(this.center=n),void 0!==a&&(this.direction=a)}}e.TBeamProfileDto=W;class S{constructor(e,t,r,i,o,s,n,a,c){this.width=2,this.height=3,this.webThickness=.2,this.flangeThickness=.3,this.flangeWidth=.5,this.alignment=Oe.basicAlignmentEnum.midMid,this.rotation=0,this.center=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.width=e),void 0!==t&&(this.height=t),void 0!==r&&(this.webThickness=r),void 0!==i&&(this.flangeThickness=i),void 0!==o&&(this.flangeWidth=o),void 0!==s&&(this.alignment=s),void 0!==n&&(this.rotation=n),void 0!==a&&(this.center=a),void 0!==c&&(this.direction=c)}}e.UBeamProfileDto=S,e.ExtrudedSolidDto=class{constructor(e,t,r,i){this.extrusionLengthFront=1,this.extrusionLengthBack=0,this.center=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.extrusionLengthFront=e),void 0!==t&&(this.extrusionLengthBack=t),void 0!==r&&(this.center=r),void 0!==i&&(this.direction=i)}},e.IBeamProfileSolidDto=class extends w{constructor(e,t,r,i,o,s,n,a,c,h){super(e,t,r,i,o,s,n,a),this.extrusionLengthFront=1,this.extrusionLengthBack=0,void 0!==c&&(this.extrusionLengthFront=c),void 0!==h&&(this.extrusionLengthBack=h)}},e.HBeamProfileSolidDto=class extends T{constructor(e,t,r,i,o,s,n,a,c,h){super(e,t,r,i,o,s,n,a),this.extrusionLengthFront=1,this.extrusionLengthBack=0,void 0!==c&&(this.extrusionLengthFront=c),void 0!==h&&(this.extrusionLengthBack=h)}},e.TBeamProfileSolidDto=class extends W{constructor(e,t,r,i,o,s,n,a,c,h){super(e,t,r,i,o,s,n,a),this.extrusionLengthFront=1,this.extrusionLengthBack=0,void 0!==c&&(this.extrusionLengthFront=c),void 0!==h&&(this.extrusionLengthBack=h)}},e.UBeamProfileSolidDto=class extends S{constructor(e,t,r,i,o,s,n,a,c,h,l){super(e,t,r,i,o,s,n,a,c),this.extrusionLengthFront=1,this.extrusionLengthBack=0,void 0!==h&&(this.extrusionLengthFront=h),void 0!==l&&(this.extrusionLengthBack=l)}},e.BoxDto=class{constructor(e,t,r,i,o){this.width=1,this.length=2,this.height=3,this.center=[0,0,0],this.originOnCenter=!0,void 0!==e&&(this.width=e),void 0!==t&&(this.length=t),void 0!==r&&(this.height=r),void 0!==i&&(this.center=i),void 0!==o&&(this.originOnCenter=o)}},e.CubeDto=class{constructor(e,t,r){this.size=1,this.center=[0,0,0],this.originOnCenter=!0,void 0!==e&&(this.size=e),void 0!==t&&(this.center=t),void 0!==r&&(this.originOnCenter=r)}},e.BoxFromCornerDto=class{constructor(e,t,r,i){this.width=1,this.length=2,this.height=3,this.corner=[0,0,0],void 0!==e&&(this.width=e),void 0!==t&&(this.length=t),void 0!==r&&(this.height=r),void 0!==i&&(this.corner=i)}},e.SphereDto=class{constructor(e,t){this.radius=1,this.center=[0,0,0],void 0!==e&&(this.radius=e),void 0!==t&&(this.center=t)}},e.ConeDto=class{constructor(e,t,r,i,o,s){this.radius1=2,this.radius2=1,this.height=2,this.angle=360,this.center=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.radius1=e),void 0!==t&&(this.radius2=t),void 0!==r&&(this.height=r),void 0!==i&&(this.angle=i),void 0!==o&&(this.center=o),void 0!==s&&(this.direction=s)}},e.TorusDto=class{constructor(e,t,r,i,o){this.majorRadius=2,this.minorRadius=.5,this.center=[0,0,0],this.direction=[0,1,0],this.angle=360,void 0!==e&&(this.majorRadius=e),void 0!==t&&(this.minorRadius=t),void 0!==r&&(this.center=r),void 0!==i&&(this.direction=i),void 0!==o&&(this.angle=o)}},e.LineDto=class{constructor(e,t){this.start=[0,0,0],this.end=[0,1,0],void 0!==e&&(this.start=e),void 0!==t&&(this.end=t)}},e.LineWithExtensionsDto=class{constructor(e,t,r,i){this.start=[0,0,0],this.end=[0,1,0],this.extensionStart=.1,this.extensionEnd=.1,void 0!==e&&(this.start=e),void 0!==t&&(this.end=t),void 0!==r&&(this.extensionStart=r),void 0!==i&&(this.extensionEnd=i)}},e.LinesDto=class{constructor(e,t){this.returnCompound=!1,void 0!==e&&(this.lines=e),void 0!==t&&(this.returnCompound=t)}},e.ArcEdgeTwoPointsTangentDto=class{constructor(e,t,r){this.start=[0,0,0],this.tangentVec=[0,1,0],this.end=[0,0,1],void 0!==e&&(this.start=e),void 0!==t&&(this.tangentVec=t),void 0!==r&&(this.end=r)}},e.ArcEdgeCircleTwoPointsDto=class{constructor(e,t,r,i){this.start=[0,0,0],this.end=[0,0,1],this.sense=!0,void 0!==e&&(this.circle=e),void 0!==t&&(this.start=t),void 0!==r&&(this.end=r),void 0!==i&&(this.sense=i)}},e.ArcEdgeCircleTwoAnglesDto=class{constructor(e,t,r,i){this.alphaAngle1=0,this.alphaAngle2=90,this.sense=!0,void 0!==e&&(this.circle=e),void 0!==t&&(this.alphaAngle1=t),void 0!==r&&(this.alphaAngle2=r),void 0!==i&&(this.sense=i)}},e.ArcEdgeCirclePointAngleDto=class{constructor(e,t,r,i){this.alphaAngle=90,this.sense=!0,void 0!==e&&(this.circle=e),void 0!==t&&(this.alphaAngle=t),void 0!==i&&(this.sense=i)}},e.ArcEdgeThreePointsDto=class{constructor(e,t,r){this.start=[0,0,0],this.middle=[0,1,0],this.end=[0,0,1],void 0!==e&&(this.start=e),void 0!==t&&(this.middle=t),void 0!==r&&(this.end=r)}},e.CylinderDto=class{constructor(e,t,r,i,o,s){this.radius=1,this.height=2,this.center=[0,0,0],this.direction=[0,1,0],this.angle=360,this.originOnCenter=!1,void 0!==e&&(this.radius=e),void 0!==t&&(this.height=t),void 0!==r&&(this.center=r),void 0!==i&&(this.direction=i),void 0!==o&&(this.angle=o),void 0!==s&&(this.originOnCenter=s)}},e.CylindersOnLinesDto=class{constructor(e,t){void 0!==e&&(this.radius=e),void 0!==t&&(this.lines=t)}},e.FilletDto=class{constructor(e,t,r,i){this.radius=.1,void 0!==e&&(this.shape=e),void 0!==t&&(this.radius=t),void 0!==r&&(this.radiusList=r),void 0!==i&&(this.indexes=i)}},e.FilletShapesDto=class{constructor(e,t,r,i){this.radius=.1,void 0!==e&&(this.shapes=e),void 0!==t&&(this.radius=t),void 0!==r&&(this.radiusList=r),void 0!==i&&(this.indexes=i)}},e.FilletEdgesListDto=class{constructor(e,t,r){void 0!==e&&(this.shape=e),void 0!==t&&(this.edges=t),void 0!==r&&(this.radiusList=r)}},e.FilletEdgesListOneRadiusDto=class{constructor(e,t,r){this.radius=.1,void 0!==e&&(this.shape=e),void 0!==t&&(this.edges=t),void 0!==r&&(this.radius=r)}},e.FilletEdgeVariableRadiusDto=class{constructor(e,t,r,i){void 0!==e&&(this.shape=e),void 0!==t&&(this.edge=t),void 0!==r&&(this.radiusList=r),void 0!==i&&(this.paramsU=i)}},e.FilletEdgesVariableRadiusDto=class{constructor(e,t,r,i){void 0!==e&&(this.shape=e),void 0!==t&&(this.edges=t),void 0!==r&&(this.radiusLists=r),void 0!==i&&(this.paramsULists=i)}},e.FilletEdgesSameVariableRadiusDto=class{constructor(e,t,r,i){void 0!==e&&(this.shape=e),void 0!==t&&(this.edges=t),void 0!==r&&(this.radiusList=r),void 0!==i&&(this.paramsU=i)}},e.Fillet3DWiresDto=class{constructor(e,t,r,i,o){this.radius=.1,this.direction=[0,1,0],void 0!==e&&(this.shapes=e),void 0!==t&&(this.radius=t),void 0!==r&&(this.direction=r),void 0!==i&&(this.radiusList=i),void 0!==o&&(this.indexes=o)}},e.Fillet3DWireDto=class{constructor(e,t,r,i,o){this.radius=.1,this.direction=[0,1,0],void 0!==e&&(this.shape=e),void 0!==t&&(this.radius=t),void 0!==r&&(this.direction=r),void 0!==i&&(this.radiusList=i),void 0!==o&&(this.indexes=o)}},e.ChamferDto=class{constructor(e,t,r,i){this.distance=.1,void 0!==e&&(this.shape=e),void 0!==t&&(this.distance=t),void 0!==r&&(this.distanceList=r),void 0!==i&&(this.indexes=i)}},e.ChamferEdgesListDto=class{constructor(e,t,r){void 0!==e&&(this.shape=e),void 0!==t&&(this.edges=t),void 0!==r&&(this.distanceList=r)}},e.ChamferEdgeDistAngleDto=class{constructor(e,t,r,i,o){this.distance=.1,this.angle=45,void 0!==e&&(this.shape=e),void 0!==t&&(this.edge=t),void 0!==r&&(this.face=r),void 0!==i&&(this.distance=i),void 0!==o&&(this.angle=o)}},e.ChamferEdgeTwoDistancesDto=class{constructor(e,t,r,i,o){this.distance1=.1,this.distance2=.2,void 0!==e&&(this.shape=e),void 0!==t&&(this.edge=t),void 0!==r&&(this.face=r),void 0!==i&&(this.distance1=i),void 0!==o&&(this.distance2=o)}},e.ChamferEdgesTwoDistancesListsDto=class{constructor(e,t,r,i,o){void 0!==e&&(this.shape=e),void 0!==t&&(this.edges=t),void 0!==r&&(this.faces=r),void 0!==i&&(this.distances1=i),void 0!==o&&(this.distances2=o)}},e.ChamferEdgesTwoDistancesDto=class{constructor(e,t,r,i,o){this.distance1=.1,this.distance2=.2,void 0!==e&&(this.shape=e),void 0!==t&&(this.edges=t),void 0!==r&&(this.faces=r),void 0!==i&&(this.distance1=i),void 0!==o&&(this.distance2=o)}},e.ChamferEdgesDistsAnglesDto=class{constructor(e,t,r,i,o){void 0!==e&&(this.shape=e),void 0!==t&&(this.edges=t),void 0!==r&&(this.faces=r),void 0!==i&&(this.distances=i),void 0!==o&&(this.angles=o)}},e.ChamferEdgesDistAngleDto=class{constructor(e,t,r,i,o){this.distance=.1,this.angle=45,void 0!==e&&(this.shape=e),void 0!==t&&(this.edges=t),void 0!==r&&(this.faces=r),void 0!==i&&(this.distance=i),void 0!==o&&(this.angle=o)}},e.BSplineDto=class{constructor(e,t){this.closed=!1,void 0!==e&&(this.points=e),void 0!==t&&(this.closed=t)}},e.BSplinesDto=class{constructor(e,t){this.returnCompound=!1,void 0!==e&&(this.bSplines=e),void 0!==t&&(this.returnCompound=t)}},e.WireFromTwoCirclesTanDto=class{constructor(e,t,r,i,o){this.keepLines=f.outside,this.circleRemainders=v.outside,this.tolerance=1e-7,void 0!==e&&(this.circle1=e),void 0!==t&&(this.circle2=t),void 0!==r&&(this.keepLines=r),void 0!==i&&(this.circleRemainders=i),void 0!==o&&(this.tolerance=o)}},e.FaceFromMultipleCircleTanWiresDto=class{constructor(e,t,r,i){this.combination=p.allWithAll,this.unify=!0,this.tolerance=1e-7,void 0!==e&&(this.circles=e),void 0!==t&&(this.combination=t),void 0!==r&&(this.unify=r),void 0!==i&&(this.tolerance=i)}},e.FaceFromMultipleCircleTanWireCollectionsDto=class{constructor(e,t,r,i){this.combination=p.allWithAll,this.unify=!0,this.tolerance=1e-7,void 0!==e&&(this.listsOfCircles=e),void 0!==t&&(this.combination=t),void 0!==r&&(this.unify=r),void 0!==i&&(this.tolerance=i)}},e.ZigZagBetweenTwoWiresDto=class{constructor(e,t,r,i,o,s){this.nrZigZags=20,this.divideByEqualDistance=!1,this.zigZagsPerEdge=!0,void 0!==e&&(this.wire1=e),void 0!==t&&(this.wire2=t),void 0!==r&&(this.nrZigZags=r),void 0!==i&&(this.inverse=i),void 0!==o&&(this.divideByEqualDistance=o),void 0!==s&&(this.zigZagsPerEdge=s)}},e.InterpolationDto=class{constructor(e,t,r){this.periodic=!1,this.tolerance=1e-7,void 0!==e&&(this.points=e),void 0!==t&&(this.periodic=t),void 0!==r&&(this.tolerance=r)}},e.InterpolateWiresDto=class{constructor(e,t){this.returnCompound=!1,void 0!==e&&(this.interpolations=e),void 0!==t&&(this.returnCompound=t)}},e.BezierDto=class{constructor(e,t){this.closed=!1,void 0!==e&&(this.points=e),void 0!==t&&(this.closed=t)}},e.BezierWeightsDto=class{constructor(e,t,r){this.closed=!1,void 0!==e&&(this.points=e),void 0!==t&&(this.weights=t),void 0!==r&&(this.closed=r)}},e.BezierWiresDto=class{constructor(e,t){this.returnCompound=!1,void 0!==e&&(this.bezierWires=e),void 0!==t&&(this.returnCompound=t)}},e.DivideDto=class{constructor(e,t,r,i){this.nrOfDivisions=10,this.removeStartPoint=!1,this.removeEndPoint=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.nrOfDivisions=t),void 0!==r&&(this.removeStartPoint=r),void 0!==i&&(this.removeEndPoint=i)}},e.ProjectWireDto=class{constructor(e,t,r){this.direction=[0,1,0],void 0!==e&&(this.wire=e),void 0!==t&&(this.shape=t),void 0!==r&&(this.direction=r)}},e.ProjectPointsOnShapeDto=class{constructor(e,t,r,i){this.direction=[0,10,0],void 0!==e&&(this.points=e),void 0!==t&&(this.shape=t),void 0!==r&&(this.direction=r),void 0!==i&&(this.projectionType=i)}},e.WiresToPointsDto=class{constructor(e,t,r,i,o,s){this.angularDeflection=.1,this.curvatureDeflection=.1,this.minimumOfPoints=2,this.uTolerance=1e-9,this.minimumLength=1e-7,void 0!==e&&(this.shape=e),void 0!==t&&(this.angularDeflection=t),void 0!==r&&(this.curvatureDeflection=r),void 0!==i&&(this.minimumOfPoints=i),void 0!==o&&(this.uTolerance=o),void 0!==s&&(this.minimumLength=s)}},e.EdgesToPointsDto=class{constructor(e,t,r,i,o,s){this.angularDeflection=.1,this.curvatureDeflection=.1,this.minimumOfPoints=2,this.uTolerance=1e-9,this.minimumLength=1e-7,void 0!==e&&(this.shape=e),void 0!==t&&(this.angularDeflection=t),void 0!==r&&(this.curvatureDeflection=r),void 0!==i&&(this.minimumOfPoints=i),void 0!==o&&(this.uTolerance=o),void 0!==s&&(this.minimumLength=s)}},e.ProjectWiresDto=class{constructor(e,t,r){this.direction=[0,1,0],void 0!==e&&(this.wires=e),void 0!==t&&(this.shape=t),void 0!==r&&(this.direction=r)}},e.DivideShapesDto=class{constructor(e,t,r,i){this.nrOfDivisions=10,this.removeStartPoint=!1,this.removeEndPoint=!1,void 0!==e&&(this.shapes=e),void 0!==t&&(this.nrOfDivisions=t),void 0!==r&&(this.removeStartPoint=r),void 0!==i&&(this.removeEndPoint=i)}},e.DataOnGeometryAtParamDto=class{constructor(e,t){this.param=.5,void 0!==e&&(this.shape=e),void 0!==t&&(this.param=t)}},e.DataOnGeometryesAtParamDto=class{constructor(e,t){this.param=.5,void 0!==e&&(this.shapes=e),void 0!==t&&(this.param=t)}},e.PointInFaceDto=class{constructor(e,t,r,i){this.tEdgeParam=.5,this.distance2DParam=.5,void 0!==e&&(this.face=e),void 0!==t&&(this.edge=t),void 0!==r&&(this.tEdgeParam=r),void 0!==i&&(this.distance2DParam=i)}},e.PointsOnWireAtEqualLengthDto=class{constructor(e,t,r,i,o){this.length=.5,this.tryNext=!1,this.includeFirst=!1,this.includeLast=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.length=t),void 0!==r&&(this.tryNext=r),void 0!==i&&(this.includeFirst=i),void 0!==o&&(this.includeLast=o)}},e.PointsOnWireAtPatternOfLengthsDto=class{constructor(e,t,r,i,o){this.tryNext=!1,this.includeFirst=!1,this.includeLast=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.lengths=t),void 0!==r&&(this.tryNext=r),void 0!==i&&(this.includeLast=i),void 0!==o&&(this.includeLast=o)}},e.DataOnGeometryAtLengthDto=class{constructor(e,t){this.length=.5,void 0!==e&&(this.shape=e),void 0!==t&&(this.length=t)}},e.DataOnGeometryesAtLengthDto=class{constructor(e,t){this.length=.5,void 0!==e&&(this.shapes=e),void 0!==t&&(this.length=t)}},e.DataOnGeometryAtLengthsDto=class{constructor(e,t){void 0!==e&&(this.shape=e),void 0!==t&&(this.lengths=t)}},e.CircleDto=class{constructor(e,t,r){this.radius=1,this.center=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.radius=e),void 0!==t&&(this.center=t),void 0!==r&&(this.direction=r)}},e.HexagonsInGridDto=class{constructor(e,t,r,i,o,s,n,a,c,h,l,u,d){this.width=10,this.height=10,this.nrHexagonsInWidth=10,this.nrHexagonsInHeight=10,this.flatTop=!1,this.extendTop=!1,this.extendBottom=!1,this.extendLeft=!1,this.extendRight=!1,void 0!==e&&(this.width=e),void 0!==t&&(this.height=t),void 0!==r&&(this.nrHexagonsInHeight=r),void 0!==i&&(this.nrHexagonsInWidth=i),void 0!==o&&(this.flatTop=o),void 0!==s&&(this.extendTop=s),void 0!==n&&(this.extendBottom=n),void 0!==a&&(this.extendLeft=a),void 0!==c&&(this.extendRight=c),void 0!==h&&(this.scalePatternWidth=h),void 0!==l&&(this.scalePatternHeight=l),void 0!==u&&(this.filletPattern=u),void 0!==d&&(this.inclusionPattern=d)}},e.LoftDto=class{constructor(e,t){this.makeSolid=!1,void 0!==e&&(this.shapes=e),void 0!==t&&(this.makeSolid=t)}},e.LoftAdvancedDto=class{constructor(e,t,r,o,s,n,a,c,h,l,u,d){this.makeSolid=!1,this.closed=!1,this.periodic=!1,this.straight=!1,this.nrPeriodicSections=10,this.useSmoothing=!1,this.maxUDegree=3,this.tolerance=1e-7,this.parType=i.approxCentripetal,void 0!==e&&(this.shapes=e),void 0!==t&&(this.makeSolid=t),void 0!==r&&(this.closed=r),void 0!==o&&(this.periodic=o),void 0!==s&&(this.straight=s),void 0!==n&&(this.nrPeriodicSections=n),void 0!==a&&(this.useSmoothing=a),void 0!==c&&(this.maxUDegree=c),void 0!==h&&(this.tolerance=h),void 0!==l&&(this.parType=l),void 0!==u&&(this.startVertex=u),void 0!==d&&(this.endVertex=d)}},e.OffsetDto=class{constructor(e,t,r,i){this.distance=.2,this.tolerance=.1,void 0!==e&&(this.shape=e),void 0!==t&&(this.face=t),void 0!==r&&(this.distance=r),void 0!==i&&(this.tolerance=i)}},e.OffsetAdvancedDto=class{constructor(e,r,i,o,s,n){this.distance=.2,this.tolerance=.1,this.joinType=t.arc,this.removeIntEdges=!1,void 0!==e&&(this.shape=e),void 0!==r&&(this.face=r),void 0!==i&&(this.distance=i),void 0!==o&&(this.tolerance=o),void 0!==s&&(this.joinType=s),void 0!==n&&(this.removeIntEdges=n)}},e.RevolveDto=class{constructor(e,t,r,i){this.angle=360,this.direction=[0,1,0],this.copy=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.angle=t),void 0!==r&&(this.direction=r),void 0!==i&&(this.copy=i)}},e.ShapeShapesDto=class{constructor(e,t){void 0!==e&&(this.shape=e),void 0!==t&&(this.shapes=t)}},e.WiresOnFaceDto=class{constructor(e,t){void 0!==e&&(this.wires=e),void 0!==t&&(this.face=t)}},e.PipeWiresCylindricalDto=class{constructor(e,t,r,i,o){this.radius=.1,this.makeSolid=!0,this.trihedronEnum=b.isConstantNormal,this.forceApproxC1=!1,void 0!==e&&(this.shapes=e),void 0!==t&&(this.radius=t),void 0!==r&&(this.makeSolid=r),void 0!==i&&(this.trihedronEnum=i),void 0!==o&&(this.forceApproxC1=o)}},e.PipeWireCylindricalDto=class{constructor(e,t,r,i,o){this.radius=.1,this.makeSolid=!0,this.trihedronEnum=b.isConstantNormal,this.forceApproxC1=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.radius=t),void 0!==r&&(this.makeSolid=r),void 0!==i&&(this.trihedronEnum=i),void 0!==o&&(this.forceApproxC1=o)}},e.PipePolygonWireNGonDto=class{constructor(e,t,r,i,o,s){this.radius=.1,this.nrCorners=6,this.makeSolid=!0,this.trihedronEnum=b.isConstantNormal,this.forceApproxC1=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.radius=t),void 0!==r&&(this.nrCorners=r),void 0!==i&&(this.makeSolid=i),void 0!==o&&(this.trihedronEnum=o),void 0!==s&&(this.forceApproxC1=s)}},e.ExtrudeDto=class{constructor(e,t){this.direction=[0,1,0],void 0!==e&&(this.shape=e),void 0!==t&&(this.direction=t)}},e.ExtrudeShapesDto=class{constructor(e,t){this.direction=[0,1,0],void 0!==e&&(this.shapes=e),void 0!==t&&(this.direction=t)}},e.SplitDto=class{constructor(e,t){this.localFuzzyTolerance=1e-4,this.nonDestructive=!0,void 0!==e&&(this.shape=e),void 0!==t&&(this.shapes=t)}},e.UnionDto=class{constructor(e,t){this.keepEdges=!1,void 0!==e&&(this.shapes=e),void 0!==t&&(this.keepEdges=t)}},e.DifferenceDto=class{constructor(e,t,r){this.keepEdges=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.shapes=t),void 0!==r&&(this.keepEdges=r)}},e.IntersectionDto=class{constructor(e,t){this.keepEdges=!1,void 0!==e&&(this.shapes=e),void 0!==t&&(this.keepEdges=t)}},e.ShapeDto=class{constructor(e){void 0!==e&&(this.shape=e)}},e.MeshMeshIntersectionTwoShapesDto=class{constructor(e,t,r,i){this.precision1=.01,this.precision2=.01,void 0!==e&&(this.shape1=e),void 0!==t&&(this.shape2=t),void 0!==r&&(this.precision1=r),void 0!==i&&(this.precision2=i)}},e.MeshMeshesIntersectionOfShapesDto=class{constructor(e,t,r,i){this.precision=.01,void 0!==e&&(this.shape=e),void 0!==t&&(this.shapes=t),void 0!==r&&(this.precision=r),void 0!==i&&(this.precisionShapes=i)}},e.CompareShapesDto=class{constructor(e,t){void 0!==e&&(this.shape=e),void 0!==t&&(this.otherShape=t)}},e.FixSmallEdgesInWireDto=class{constructor(e,t,r){this.lockvtx=!1,this.precsmall=0,void 0!==e&&(this.shape=e),void 0!==t&&(this.lockvtx=t),void 0!==r&&(this.precsmall=r)}},e.BasicShapeRepairDto=class{constructor(e,t,r,i){this.precision=.001,this.maxTolerance=.01,this.minTolerance=1e-4,void 0!==e&&(this.shape=e),void 0!==t&&(this.precision=t),void 0!==r&&(this.maxTolerance=r),void 0!==i&&(this.minTolerance=i)}},e.FixClosedDto=class{constructor(e,t){this.precision=-.1,void 0!==e&&(this.shape=e),void 0!==t&&(this.precision=t)}},e.ShapesWithToleranceDto=class{constructor(e,t){this.tolerance=1e-7,void 0!==e&&(this.shapes=e),void 0!==t&&(this.tolerance=t)}},e.ShapeWithToleranceDto=class{constructor(e,t){this.tolerance=1e-7,void 0!==e&&(this.shape=e),void 0!==t&&(this.tolerance=t)}},e.ShapeIndexDto=class{constructor(e,t){this.index=0,void 0!==e&&(this.shape=e),void 0!==t&&(this.index=t)}},e.EdgeIndexDto=class{constructor(e,t){this.index=0,void 0!==e&&(this.shape=e),void 0!==t&&(this.index=t)}},e.RotationExtrudeDto=class{constructor(e,t,r,i){this.height=1,this.angle=360,this.makeSolid=!0,void 0!==e&&(this.shape=e),void 0!==t&&(this.height=t),void 0!==r&&(this.angle=r),void 0!==i&&(this.makeSolid=i)}},e.ThickSolidByJoinDto=class{constructor(e,r,i,o,s,n,a,c){this.offset=1,this.tolerance=.001,this.intersection=!1,this.selfIntersection=!1,this.joinType=t.arc,this.removeIntEdges=!1,void 0!==e&&(this.shape=e),void 0!==r&&(this.shapes=r),void 0!==i&&(this.offset=i),void 0!==o&&(this.tolerance=o),void 0!==s&&(this.intersection=s),void 0!==n&&(this.selfIntersection=n),void 0!==a&&(this.joinType=a),void 0!==c&&(this.removeIntEdges=c)}},e.TransformDto=class{constructor(e,t,r,i,o){this.translation=[0,0,0],this.rotationAxis=[0,1,0],this.rotationAngle=0,this.scaleFactor=1,void 0!==e&&(this.shape=e),void 0!==t&&(this.translation=t),void 0!==r&&(this.rotationAxis=r),void 0!==i&&(this.rotationAngle=i),void 0!==o&&(this.scaleFactor=o)}},e.TransformShapesDto=class{constructor(e,t,r,i,o){this.translations=[[0,0,0]],this.rotationAxes=[[0,1,0]],this.rotationAngles=[0],this.scaleFactors=[1],void 0!==e&&(this.shapes=e),void 0!==t&&(this.translations=t),void 0!==r&&(this.rotationAxes=r),void 0!==i&&(this.rotationAngles=i),void 0!==o&&(this.scaleFactors=o)}},e.TranslateDto=class{constructor(e,t){this.translation=[0,0,0],void 0!==e&&(this.shape=e),void 0!==t&&(this.translation=t)}},e.TranslateShapesDto=class{constructor(e,t){this.translations=[[0,0,0]],void 0!==e&&(this.shapes=e),void 0!==t&&(this.translations=t)}},e.AlignNormAndAxisDto=class{constructor(e,t,r,i,o,s,n){this.fromOrigin=[0,0,0],this.fromNorm=[1,0,0],this.fromAx=[0,0,1],this.toOrigin=[0,1,0],this.toNorm=[0,1,0],this.toAx=[0,1,0],void 0!==e&&(this.shape=e),void 0!==t&&(this.fromOrigin=t),void 0!==r&&(this.fromNorm=r),void 0!==i&&(this.fromAx=i),void 0!==o&&(this.toOrigin=o),void 0!==s&&(this.toNorm=s),void 0!==n&&(this.toAx=n)}},e.AlignDto=class{constructor(e,t,r,i,o){this.fromOrigin=[0,0,0],this.fromDirection=[0,0,1],this.toOrigin=[0,1,0],this.toDirection=[0,1,0],void 0!==e&&(this.shape=e),void 0!==t&&(this.fromOrigin=t),void 0!==r&&(this.fromDirection=r),void 0!==i&&(this.toOrigin=i),void 0!==o&&(this.toDirection=o)}},e.AlignShapesDto=class{constructor(e,t,r,i,o){this.fromOrigins=[[0,0,0]],this.fromDirections=[[0,0,1]],this.toOrigins=[[0,1,0]],this.toDirections=[[0,1,0]],void 0!==e&&(this.shapes=e),void 0!==t&&(this.fromOrigins=t),void 0!==r&&(this.fromDirections=r),void 0!==i&&(this.toOrigins=i),void 0!==o&&(this.toDirections=o)}},e.MirrorDto=class{constructor(e,t,r){this.origin=[0,0,0],this.direction=[0,0,1],void 0!==e&&(this.shape=e),void 0!==t&&(this.origin=t),void 0!==r&&(this.direction=r)}},e.MirrorShapesDto=class{constructor(e,t,r){this.origins=[[0,0,0]],this.directions=[[0,0,1]],void 0!==e&&(this.shapes=e),void 0!==t&&(this.origins=t),void 0!==r&&(this.directions=r)}},e.MirrorAlongNormalDto=class{constructor(e,t,r){this.origin=[0,0,0],this.normal=[0,0,1],void 0!==e&&(this.shape=e),void 0!==t&&(this.origin=t),void 0!==r&&(this.normal=r)}},e.MirrorAlongNormalShapesDto=class{constructor(e,t,r){this.origins=[[0,0,0]],this.normals=[[0,0,1]],void 0!==e&&(this.shapes=e),void 0!==t&&(this.origins=t),void 0!==r&&(this.normals=r)}},e.AlignAndTranslateDto=class{constructor(e,t,r){this.direction=[0,1,0],this.center=[0,0,0],void 0!==e&&(this.shape=e),void 0!==t&&(this.direction=t),void 0!==r&&(this.center=r)}},e.UnifySameDomainDto=class{constructor(e,t,r,i){this.unifyEdges=!0,this.unifyFaces=!0,this.concatBSplines=!0,void 0!==e&&(this.shape=e),void 0!==t&&(this.unifyEdges=t),void 0!==r&&(this.unifyFaces=r),void 0!==i&&(this.concatBSplines=i)}},e.FilterFacesPointsDto=class{constructor(e,t,r,i,o,s,n,a,c,h){this.tolerance=1e-4,this.useBndBox=!1,this.gapTolerance=.1,this.keepIn=!0,this.keepOn=!0,this.keepOut=!1,this.keepUnknown=!1,this.flatPointsArray=!0,void 0!==e&&(this.shapes=e),void 0!==t&&(this.points=t),void 0!==r&&(this.tolerance=r),void 0!==i&&(this.useBndBox=i),void 0!==o&&(this.gapTolerance=o),void 0!==s&&(this.keepIn=s),void 0!==n&&(this.keepOn=n),void 0!==a&&(this.keepOut=a),void 0!==c&&(this.keepUnknown=c),void 0!==h&&(this.flatPointsArray=h)}},e.FilterFacePointsDto=class{constructor(e,t,r,i,o,s,n,a,c){this.tolerance=1e-4,this.useBndBox=!1,this.gapTolerance=.1,this.keepIn=!0,this.keepOn=!0,this.keepOut=!1,this.keepUnknown=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.points=t),void 0!==r&&(this.tolerance=r),void 0!==i&&(this.useBndBox=i),void 0!==o&&(this.gapTolerance=o),void 0!==s&&(this.keepIn=s),void 0!==n&&(this.keepOn=n),void 0!==a&&(this.keepOut=a),void 0!==c&&(this.keepUnknown=c)}},e.FilterSolidPointsDto=class{constructor(e,t,r,i,o,s,n){this.tolerance=1e-4,this.keepIn=!0,this.keepOn=!0,this.keepOut=!1,this.keepUnknown=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.points=t),void 0!==r&&(this.tolerance=r),void 0!==i&&(this.keepIn=i),void 0!==o&&(this.keepOn=o),void 0!==s&&(this.keepOut=s),void 0!==n&&(this.keepUnknown=n)}},e.AlignAndTranslateShapesDto=class{constructor(e,t,r){this.directions=[[0,1,0]],this.centers=[[0,0,0]],void 0!==e&&(this.shapes=e),void 0!==t&&(this.directions=t),void 0!==r&&(this.centers=r)}},e.RotateDto=class{constructor(e,t,r){this.axis=[0,0,1],this.angle=0,void 0!==e&&(this.shape=e),void 0!==t&&(this.axis=t),void 0!==r&&(this.angle=r)}},e.RotateAroundCenterDto=class{constructor(e,t,r,i){this.angle=0,this.center=[0,0,0],this.axis=[0,0,1],void 0!==e&&(this.shape=e),void 0!==t&&(this.angle=t),void 0!==r&&(this.center=r),void 0!==i&&(this.axis=i)}},e.RotateShapesDto=class{constructor(e,t,r){this.angles=[0],void 0!==e&&(this.shapes=e),void 0!==t&&(this.axes=t),void 0!==r&&(this.angles=r)}},e.RotateAroundCenterShapesDto=class{constructor(e,t,r,i){this.angles=[0],this.centers=[[0,0,0]],this.axes=[[0,0,1]],void 0!==e&&(this.shapes=e),void 0!==t&&(this.angles=t),void 0!==r&&(this.centers=r),void 0!==i&&(this.axes=i)}},e.ScaleDto=class{constructor(e,t){this.factor=1,void 0!==e&&(this.shape=e),void 0!==t&&(this.factor=t)}},e.ScaleShapesDto=class{constructor(e,t){this.factors=[1],void 0!==e&&(this.shapes=e),void 0!==t&&(this.factors=t)}},e.Scale3DDto=class{constructor(e,t,r){this.scale=[1,1,1],this.center=[0,0,0],void 0!==e&&(this.shape=e),void 0!==t&&(this.scale=t),void 0!==r&&(this.center=r)}},e.Scale3DShapesDto=class{constructor(e,t,r){this.scales=[[1,1,1]],this.centers=[[0,0,0]],void 0!==e&&(this.shapes=e),void 0!==t&&(this.scales=t),void 0!==r&&(this.centers=r)}},e.ShapeToMeshDto=class{constructor(e,t,r){this.precision=.01,this.adjustYtoZ=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.precision=t),void 0!==r&&(this.adjustYtoZ=r)}},e.ShapeFacesToPolygonPointsDto=class{constructor(e,t,r,i){this.precision=.01,this.adjustYtoZ=!1,this.reversedPoints=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.precision=t),void 0!==r&&(this.adjustYtoZ=r),void 0!==i&&(this.reversedPoints=i)}},e.ShapesToMeshesDto=class{constructor(e,t,r){this.precision=.01,this.adjustYtoZ=!1,void 0!==e&&(this.shapes=e),void 0!==t&&(this.precision=t),void 0!==r&&(this.adjustYtoZ=r)}},e.SaveStepDto=class{constructor(e,t,r,i){this.fileName="shape.step",this.adjustYtoZ=!1,this.fromRightHanded=!1,this.tryDownload=!0,void 0!==e&&(this.shape=e),void 0!==t&&(this.fileName=t),void 0!==r&&(this.adjustYtoZ=r),void 0!==i&&(this.tryDownload=i)}},e.SaveStlDto=class{constructor(e,t,r,i,o,s){this.fileName="shape.stl",this.precision=.01,this.adjustYtoZ=!1,this.tryDownload=!0,this.binary=!0,void 0!==e&&(this.shape=e),void 0!==t&&(this.fileName=t),void 0!==r&&(this.precision=r),void 0!==i&&(this.adjustYtoZ=i),void 0!==o&&(this.tryDownload=o),void 0!==s&&(this.binary=s)}},e.ShapeToDxfPathsDto=class{constructor(e,t,r,i,o,s){this.angularDeflection=.1,this.curvatureDeflection=.1,this.minimumOfPoints=2,this.uTolerance=1e-9,this.minimumLength=1e-7,void 0!==e&&(this.shape=e),void 0!==t&&(this.angularDeflection=t),void 0!==r&&(this.curvatureDeflection=r),void 0!==i&&(this.minimumOfPoints=i),void 0!==o&&(this.uTolerance=o),void 0!==s&&(this.minimumLength=s)}},e.DxfPathsWithLayerDto=class{constructor(e,t,r){this.layer="Default",this.color="#000000",void 0!==e&&(this.paths=e),void 0!==t&&(this.layer=t),void 0!==r&&(this.color=r)}},e.DxfPathsPartsListDto=class{constructor(e,t,r,i){this.colorFormat=k.aci,this.acadVersion=_.AC1009,this.fileName="bitbybit-dev.dxf",this.tryDownload=!0,void 0!==e&&(this.pathsParts=e),void 0!==t&&(this.colorFormat=t),void 0!==r&&(this.acadVersion=r),void 0!==i&&(this.tryDownload=i)}},e.SaveDxfDto=class{constructor(e,t,r,i,o,s,n,a){this.fileName="shape.dxf",this.tryDownload=!0,this.angularDeflection=.1,this.curvatureDeflection=.1,this.minimumOfPoints=2,this.uTolerance=1e-9,this.minimumLength=1e-7,void 0!==e&&(this.shape=e),void 0!==t&&(this.fileName=t),void 0!==r&&(this.tryDownload=r),void 0!==i&&(this.angularDeflection=i),void 0!==o&&(this.curvatureDeflection=o),void 0!==s&&(this.minimumOfPoints=s),void 0!==n&&(this.uTolerance=n),void 0!==a&&(this.minimumLength=a)}},e.ImportStepIgesFromTextDto=class{constructor(e,t,r){this.fileType=s.step,this.adjustZtoY=!0,void 0!==e&&(this.text=e),void 0!==t&&(this.fileType=t),void 0!==r&&(this.adjustZtoY=r)}},e.ImportStepIgesDto=class{constructor(e,t){this.adjustZtoY=!0,void 0!==e&&(this.assetFile=e),void 0!==t&&(this.adjustZtoY=t)}},e.LoadStepOrIgesDto=class{constructor(e,t,r){this.fileName="shape.step",this.adjustZtoY=!0,void 0!==e&&(this.filetext=e),void 0!==t&&(this.fileName=t),void 0!==r&&(this.adjustZtoY=r)}},e.ParseStepAssemblyToJsonDto=class{constructor(e){void 0!==e&&(this.stepData=e)}},e.ConvertStepToGltfDto=class{constructor(e){this.meshPrecision=.1,void 0!==e&&(this.stepData=e)}},function(e){e.empty="empty",e.product="product",e.instance="instance",e.instanceOrProduct="instanceOrProduct",e.productOrInstance="productOrInstance",e.productAndInstance="productAndInstance",e.productAndInstanceAndOcaf="productAndInstanceAndOcaf"}(C=e.gltfNameFormatEnum||(e.gltfNameFormatEnum={})),function(e){e.compact="compact",e.mat4="mat4",e.trs="trs"}(y=e.gltfTransformFormatEnum||(e.gltfTransformFormatEnum={})),e.ConvertStepToGltfAdvancedDto=class{constructor(e){this.readColors=!0,this.readNames=!0,this.readMaterials=!0,this.readLayers=!1,this.readProps=!1,this.meshDeflection=.1,this.meshAngle=.5,this.meshParallel=!0,this.faceCountThreshold=5e4,this.mergeFaces=!0,this.splitIndices16=!0,this.parallelWrite=!0,this.embedTextures=!0,this.forceUVExport=!1,this.nodeNameFormat=C.instance,this.meshNameFormat=C.instance,this.transformFormat=y.compact,this.adjustZtoY=!0,this.scale=1,void 0!==e&&(this.stepData=e)}},e.BuildAssemblyDocumentDto=class{constructor(e,t){void 0!==e&&(this.structure=e),void 0!==t&&(this.existingDocument=t)}},e.CreateAssemblyPartDto=class{constructor(e,t,r,i){void 0!==e&&(this.id=e),void 0!==t&&(this.shape=t),void 0!==r&&(this.name=r),void 0!==i&&(this.colorRgba=i)}},e.CreateAssemblyNodeDto=class{constructor(e,t,r,i){this.colorRgba={r:.5,g:.5,b:.5,a:1},void 0!==e&&(this.id=e),void 0!==t&&(this.name=t),void 0!==r&&(this.parentId=r),void 0!==i&&(this.colorRgba=i)}},e.CreateInstanceNodeDto=class{constructor(e,t,r,i,o,s,n,a){this.translation=[0,0,0],this.rotation=[0,0,0],this.scale=1,void 0!==e&&(this.id=e),void 0!==t&&(this.partId=t),void 0!==r&&(this.name=r),void 0!==i&&(this.parentId=i),void 0!==o&&(this.translation=o),void 0!==s&&(this.rotation=s),void 0!==n&&(this.scale=n),void 0!==a&&(this.colorRgba=a)}},e.CreatePartUpdateDto=class{constructor(e,t,r,i){void 0!==e&&(this.label=e),void 0!==t&&(this.shape=t),void 0!==r&&(this.name=r),void 0!==i&&(this.colorRgba=i)}},e.CombineAssemblyStructureDto=class{constructor(e,t,r,i,o){this.parts=[],this.nodes=[],this.clearDocument=!1,void 0!==e&&(this.parts=e),void 0!==t&&(this.nodes=t),void 0!==r&&(this.removals=r),void 0!==i&&(this.partUpdates=i),void 0!==o&&(this.clearDocument=o)}},e.SetDocLabelColorDto=class{constructor(e,t,r,i,o,s){this.r=.5,this.g=.5,this.b=.5,this.a=1,void 0!==e&&(this.document=e),void 0!==t&&(this.label=t),void 0!==r&&(this.r=r),void 0!==i&&(this.g=i),void 0!==o&&(this.b=o),void 0!==s&&(this.a=s)}},e.SetDocLabelNameDto=class{constructor(e,t,r){this.name="Renamed",void 0!==e&&(this.document=e),void 0!==t&&(this.label=t),void 0!==r&&(this.name=r)}},e.DocumentQueryDto=class{constructor(e){void 0!==e&&(this.document=e)}},e.DocumentLabelQueryDto=class{constructor(e,t){void 0!==e&&(this.document=e),void 0!==t&&(this.label=t)}},e.LoadStepToDocDto=class{constructor(e){void 0!==e&&(this.stepData=e)}},e.ExportDocumentToStepDto=class{constructor(e,t,r,i,o,s){this.fileName="assembly.step",this.author="Bitbybit user",this.organization="Bitbybit",this.compress=!1,this.tryDownload=!1,void 0!==e&&(this.document=e),void 0!==t&&(this.fileName=t),void 0!==r&&(this.author=r),void 0!==i&&(this.organization=i),void 0!==o&&(this.compress=o),void 0!==s&&(this.tryDownload=s)}},e.ExportDocumentToGltfDto=class{constructor(e,t,r,i,o,s,n){this.meshDeflection=.1,this.meshAngle=.5,this.mergeFaces=!1,this.forceUVExport=!1,this.fileName="assembly.glb",this.tryDownload=!1,void 0!==e&&(this.document=e),void 0!==t&&(this.meshDeflection=t),void 0!==r&&(this.meshAngle=r),void 0!==i&&(this.mergeFaces=i),void 0!==o&&(this.forceUVExport=o),void 0!==s&&(this.fileName=s),void 0!==n&&(this.tryDownload=n)}},e.CompoundShapesDto=class{constructor(e){void 0!==e&&(this.shapes=e)}},e.ThisckSolidSimpleDto=class{constructor(e,t){this.offset=1,void 0!==e&&(this.shape=e),void 0!==t&&(this.offset=t)}},e.Offset3DWireDto=class{constructor(e,t,r){this.offset=1,this.direction=[0,1,0],void 0!==e&&(this.shape=e),void 0!==t&&(this.offset=t),void 0!==r&&(this.direction=r)}},e.FaceFromWireDto=class{constructor(e,t){this.planar=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.planar=t)}},e.FaceFromWireOnFaceDto=class{constructor(e,t,r){this.inside=!0,void 0!==e&&(this.wire=e),void 0!==t&&(this.face=t),void 0!==r&&(this.inside=r)}},e.FacesFromWiresOnFaceDto=class{constructor(e,t,r){this.inside=!0,void 0!==e&&(this.wires=e),void 0!==t&&(this.face=t),void 0!==r&&(this.inside=r)}},e.FaceFromWiresDto=class{constructor(e,t){this.planar=!1,void 0!==e&&(this.shapes=e),void 0!==t&&(this.planar=t)}},e.FacesFromWiresDto=class{constructor(e,t){this.planar=!1,void 0!==e&&(this.shapes=e),void 0!==t&&(this.planar=t)}},e.FaceFromWiresOnFaceDto=class{constructor(e,t,r){this.inside=!0,void 0!==e&&(this.wires=e),void 0!==t&&(this.face=t),void 0!==r&&(this.inside=r)}},e.SewDto=class{constructor(e,t){this.tolerance=1e-7,void 0!==e&&(this.shapes=e),void 0!==t&&(this.tolerance=t)}},e.FaceIsoCurveAtParamDto=class{constructor(e,t,r){this.dir="u",void 0!==e&&(this.shape=e),void 0!==t&&(this.param=t),void 0!==r&&(this.dir=r)}},e.DivideFaceToUVPointsDto=class{constructor(e,t,r,i){this.nrOfPointsU=10,this.nrOfPointsV=10,this.flat=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.nrOfPointsU=t),void 0!==r&&(this.nrOfPointsV=r),void 0!==i&&(this.flat=i)}},e.Geom2dEllipseDto=class{constructor(e,t,r,i,o){this.center=[0,0],this.direction=[1,0],this.radiusMinor=1,this.radiusMajor=2,this.sense=!1,void 0!==e&&(this.center=e),void 0!==t&&(this.direction=t),void 0!==r&&(this.radiusMinor=r),void 0!==i&&(this.radiusMajor=i),void 0!==o&&(this.sense=o)}},e.Geom2dCircleDto=class{constructor(e,t,r,i){this.center=[0,0],this.direction=[1,0],this.radius=1,this.sense=!1,void 0!==e&&(this.center=e),void 0!==t&&(this.direction=t),void 0!==r&&(this.radius=r),void 0!==i&&(this.sense=i)}};class M{constructor(e,t,r,i,o,s,n,a,c,h){this.height=6,this.innerDist=1.5,this.outerDist=3,this.nrSkirts=5,this.trunkHeight=1,this.trunkWidth=1,this.half=!1,this.rotation=0,this.origin=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.height=e),void 0!==t&&(this.innerDist=t),void 0!==r&&(this.outerDist=r),void 0!==i&&(this.nrSkirts=i),void 0!==o&&(this.trunkHeight=o),void 0!==s&&(this.trunkWidth=s),void 0!==n&&(this.half=n),void 0!==a&&(this.rotation=a),void 0!==c&&(this.origin=c),void 0!==h&&(this.direction=h)}}e.ChristmasTreeDto=M;class D{constructor(e,t,r,i,o,s,n){this.center=[0,0,0],this.direction=[0,1,0],this.numRays=7,this.half=!1,void 0!==e&&(this.outerRadius=e),void 0!==t&&(this.innerRadius=t),void 0!==r&&(this.numRays=r),void 0!==i&&(this.center=i),void 0!==o&&(this.direction=o),void 0!==s&&(this.offsetOuterEdges=s),void 0!==n&&(this.half=n)}}e.StarDto=D;class E{constructor(e,t,r,i,o,s){this.center=[0,0,0],this.direction=[0,1,0],this.aroundCenter=!0,this.width=2,this.height=1,this.angle=15,void 0!==e&&(this.center=e),void 0!==t&&(this.direction=t),void 0!==r&&(this.aroundCenter=r),void 0!==i&&(this.width=i),void 0!==o&&(this.height=o),void 0!==s&&(this.angle=s)}}e.ParallelogramDto=E;class O{constructor(e,t,r,i){this.center=[0,0,0],this.direction=[0,1,0],this.rotation=0,this.sizeApprox=2,void 0!==e&&(this.center=e),void 0!==t&&(this.direction=t),void 0!==r&&(this.rotation=r),void 0!==i&&(this.sizeApprox=i)}}e.Heart2DDto=O;class A{constructor(e,t,r,i){this.center=[0,0,0],this.direction=[0,1,0],this.nrCorners=6,this.radius=1,void 0!==e&&(this.center=e),void 0!==t&&(this.direction=t),void 0!==r&&(this.nrCorners=r),void 0!==i&&(this.radius=i)}}e.NGonWireDto=A,e.EllipseDto=class{constructor(e,t,r,i){this.center=[0,0,0],this.direction=[0,1,0],this.radiusMinor=1,this.radiusMajor=2,void 0!==e&&(this.center=e),void 0!==t&&(this.direction=t),void 0!==r&&(this.radiusMinor=r),void 0!==i&&(this.radiusMajor=i)}},e.HelixWireDto=class{constructor(e,t,r,i,o,s,n){this.radius=1,this.pitch=1,this.height=5,this.center=[0,0,0],this.direction=[0,1,0],this.clockwise=!1,this.tolerance=1e-4,void 0!==e&&(this.radius=e),void 0!==t&&(this.pitch=t),void 0!==r&&(this.height=r),void 0!==i&&(this.center=i),void 0!==o&&(this.direction=o),void 0!==s&&(this.clockwise=s),void 0!==n&&(this.tolerance=n)}},e.HelixWireByTurnsDto=class{constructor(e,t,r,i,o,s,n){this.radius=1,this.pitch=1,this.numTurns=5,this.center=[0,0,0],this.direction=[0,1,0],this.clockwise=!1,this.tolerance=1e-4,void 0!==e&&(this.radius=e),void 0!==t&&(this.pitch=t),void 0!==r&&(this.numTurns=r),void 0!==i&&(this.center=i),void 0!==o&&(this.direction=o),void 0!==s&&(this.clockwise=s),void 0!==n&&(this.tolerance=n)}},e.TaperedHelixWireDto=class{constructor(e,t,r,i,o,s,n,a){this.startRadius=2,this.endRadius=.5,this.pitch=1,this.height=5,this.center=[0,0,0],this.direction=[0,1,0],this.clockwise=!1,this.tolerance=1e-4,void 0!==e&&(this.startRadius=e),void 0!==t&&(this.endRadius=t),void 0!==r&&(this.pitch=r),void 0!==i&&(this.height=i),void 0!==o&&(this.center=o),void 0!==s&&(this.direction=s),void 0!==n&&(this.clockwise=n),void 0!==a&&(this.tolerance=a)}},e.FlatSpiralWireDto=class{constructor(e,t,r,i,o,s,n){this.startRadius=.5,this.endRadius=5,this.numTurns=5,this.center=[0,0,0],this.direction=[0,1,0],this.clockwise=!1,this.tolerance=1e-4,void 0!==e&&(this.startRadius=e),void 0!==t&&(this.endRadius=t),void 0!==r&&(this.numTurns=r),void 0!==i&&(this.center=i),void 0!==o&&(this.direction=o),void 0!==s&&(this.clockwise=s),void 0!==n&&(this.tolerance=n)}},e.TextWiresDto=class{constructor(e,t,r,i,o,s,n,a,c,h,l,u){this.text="Hello World",this.xOffset=0,this.yOffset=0,this.height=1,this.lineSpacing=2,this.letterSpacing=0,this.extrudeOffset=0,this.centerOnOrigin=!1,void 0!==e&&(this.text=e),void 0!==t&&(this.xOffset=t),void 0!==r&&(this.yOffset=r),void 0!==i&&(this.height=i),void 0!==o&&(this.lineSpacing=o),void 0!==s&&(this.letterSpacing=s),void 0!==n&&(this.align=n),void 0!==a&&(this.extrudeOffset=a),void 0!==u&&(this.centerOnOrigin=u)}},e.GeomCylindricalSurfaceDto=class{constructor(e,t,r){this.radius=1,this.center=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.radius=e),void 0!==t&&(this.center=t),void 0!==r&&(this.direction=r)}},e.Geom2dTrimmedCurveDto=class{constructor(e,t,r,i,o){this.u1=0,this.u2=1,this.sense=!0,this.adjustPeriodic=!0,void 0!==e&&(this.shape=e),void 0!==t&&(this.u1=t),void 0!==r&&(this.u2=r),void 0!==i&&(this.sense=i),void 0!==o&&(this.adjustPeriodic=o)}},e.Geom2dSegmentDto=class{constructor(e,t){this.start=[0,0],this.end=[1,0],void 0!==e&&(this.start=e),void 0!==t&&(this.end=t)}},e.SliceDto=class{constructor(e,t,r){this.step=.1,this.direction=[0,1,0],void 0!==e&&(this.shape=e),void 0!==t&&(this.step=t),void 0!==r&&(this.direction=r)}},e.SliceInStepPatternDto=class{constructor(e,t,r){this.steps=[.1,.2],this.direction=[0,1,0],void 0!==e&&(this.shape=e),void 0!==t&&(this.steps=t),void 0!==r&&(this.direction=r)}},e.SimpleLinearLengthDimensionDto=class{constructor(e,t,r,i,o,s,n,a,c,h,l,u,d,v,f,p,m){this.offsetFromPoints=0,this.crossingSize=.2,this.decimalPlaces=2,this.labelSuffix="(cm)",this.labelSize=.1,this.labelOffset=.3,this.labelRotation=0,this.endType=P.none,this.arrowSize=.3,this.arrowAngle=30,this.arrowsFlipped=!1,this.labelFlipHorizontal=!1,this.labelFlipVertical=!1,this.labelOverwrite="1*val",this.removeTrailingZeros=!1,void 0!==e&&(this.start=e),void 0!==t&&(this.end=t),void 0!==r&&(this.direction=r),void 0!==i&&(this.offsetFromPoints=i),void 0!==o&&(this.crossingSize=o),void 0!==s&&(this.labelSuffix=s),void 0!==n&&(this.labelSize=n),void 0!==a&&(this.labelOffset=a),void 0!==c&&(this.labelRotation=c),void 0!==h&&(this.endType=h),void 0!==l&&(this.arrowSize=l),void 0!==u&&(this.arrowAngle=u),void 0!==d&&(this.arrowsFlipped=d),void 0!==v&&(this.labelFlipHorizontal=v),void 0!==f&&(this.labelFlipVertical=f),void 0!==p&&(this.labelOverwrite=p),void 0!==m&&(this.removeTrailingZeros=m)}},e.SimpleAngularDimensionDto=class{constructor(e,t,r,i,o,s,n,a,c,h,l,u,d,v,f,p,m,g,b){this.direction1=[1,0,0],this.direction2=[0,0,1],this.center=[0,0,0],this.radius=4,this.offsetFromCenter=.5,this.extraSize=0,this.decimalPlaces=2,this.labelSuffix="(deg)",this.labelSize=.1,this.labelOffset=.3,this.radians=!1,this.endType=P.none,this.arrowSize=.3,this.arrowAngle=30,this.arrowsFlipped=!1,this.labelRotation=0,this.labelFlipHorizontal=!1,this.labelFlipVertical=!1,this.labelOverwrite="1*val",this.removeTrailingZeros=!1,void 0!==e&&(this.direction1=e),void 0!==t&&(this.direction2=t),void 0!==r&&(this.center=r),void 0!==i&&(this.radius=i),void 0!==o&&(this.offsetFromCenter=o),void 0!==s&&(this.extraSize=s),void 0!==n&&(this.radians=n),void 0!==a&&(this.labelSuffix=a),void 0!==c&&(this.labelSize=c),void 0!==h&&(this.labelOffset=h),void 0!==l&&(this.endType=l),void 0!==u&&(this.arrowSize=u),void 0!==d&&(this.arrowAngle=d),void 0!==v&&(this.arrowsFlipped=v),void 0!==f&&(this.labelRotation=f),void 0!==p&&(this.labelFlipHorizontal=p),void 0!==m&&(this.labelFlipVertical=m),void 0!==g&&(this.labelOverwrite=g),void 0!==b&&(this.removeTrailingZeros=b)}},e.PinWithLabelDto=class{constructor(e,t,r,i,o,s,n,a,c,h,l,u,d,v){this.startPoint=[0,0,0],this.endPoint=[0,5,2],this.direction=[0,0,1],this.offsetFromStart=0,this.label="Pin",this.labelOffset=.3,this.labelSize=.1,this.endType=P.none,this.arrowSize=.3,this.arrowAngle=30,this.arrowsFlipped=!1,this.labelRotation=0,this.labelFlipHorizontal=!1,this.labelFlipVertical=!1,void 0!==e&&(this.startPoint=e),void 0!==t&&(this.endPoint=t),void 0!==r&&(this.direction=r),void 0!==i&&(this.offsetFromStart=i),void 0!==o&&(this.label=o),void 0!==s&&(this.labelOffset=s),void 0!==n&&(this.labelSize=n),void 0!==a&&(this.endType=a),void 0!==c&&(this.arrowSize=c),void 0!==h&&(this.arrowAngle=h),void 0!==l&&(this.arrowsFlipped=l),void 0!==u&&(this.labelRotation=u),void 0!==d&&(this.labelFlipHorizontal=d),void 0!==v&&(this.labelFlipVertical=v)}},e.StarSolidDto=class extends D{constructor(e,t,r,i,o,s,n,a,c){super(e,t,r,i,o,s,n),this.extrusionLengthFront=1,this.extrusionLengthBack=0,void 0!==a&&(this.extrusionLengthFront=a),void 0!==c&&(this.extrusionLengthBack=c)}},e.NGonSolidDto=class extends A{constructor(e,t,r,i,o,s){super(e,t,r,i),this.extrusionLengthFront=1,this.extrusionLengthBack=0,void 0!==o&&(this.extrusionLengthFront=o),void 0!==s&&(this.extrusionLengthBack=s)}},e.ParallelogramSolidDto=class extends E{constructor(e,t,r,i,o,s,n,a){super(e,t,r,i,o,s),this.extrusionLengthFront=1,this.extrusionLengthBack=0,void 0!==n&&(this.extrusionLengthFront=n),void 0!==a&&(this.extrusionLengthBack=a)}},e.HeartSolidDto=class extends O{constructor(e,t,r,i,o,s){super(e,t,r,i),this.extrusionLengthFront=1,this.extrusionLengthBack=0,void 0!==o&&(this.extrusionLengthFront=o),void 0!==s&&(this.extrusionLengthBack=s)}},e.ChristmasTreeSolidDto=class extends M{constructor(e,t,r,i,o,s,n,a,c,h,l,u){super(e,t,r,i,o,s,n,a,c,h),this.extrusionLengthFront=1,this.extrusionLengthBack=0,void 0!==l&&(this.extrusionLengthFront=l),void 0!==u&&(this.extrusionLengthBack=u)}},e.LPolygonSolidDto=class extends x{constructor(e,t,r,i,o,s,n,a,c,h){super(e,t,r,i,o,s,n,a),this.extrusionLengthFront=1,this.extrusionLengthBack=0,void 0!==c&&(this.extrusionLengthFront=c),void 0!==h&&(this.extrusionLengthBack=h)}}}(ot||(ot={}));class st{static get version(){return"1.4.0"}static toString(){return"JavaScript Expression Parser (JSEP) v"+st.version}static addUnaryOp(e){return st.max_unop_len=Math.max(e.length,st.max_unop_len),st.unary_ops[e]=1,st}static addBinaryOp(e,t,r){return st.max_binop_len=Math.max(e.length,st.max_binop_len),st.binary_ops[e]=t,r?st.right_associative.add(e):st.right_associative.delete(e),st}static addIdentifierChar(e){return st.additional_identifier_chars.add(e),st}static addLiteral(e,t){return st.literals[e]=t,st}static removeUnaryOp(e){return delete st.unary_ops[e],e.length===st.max_unop_len&&(st.max_unop_len=st.getMaxKeyLen(st.unary_ops)),st}static removeAllUnaryOps(){return st.unary_ops={},st.max_unop_len=0,st}static removeIdentifierChar(e){return st.additional_identifier_chars.delete(e),st}static removeBinaryOp(e){return delete st.binary_ops[e],e.length===st.max_binop_len&&(st.max_binop_len=st.getMaxKeyLen(st.binary_ops)),st.right_associative.delete(e),st}static removeAllBinaryOps(){return st.binary_ops={},st.max_binop_len=0,st}static removeLiteral(e){return delete st.literals[e],st}static removeAllLiterals(){return st.literals={},st}get char(){return this.expr.charAt(this.index)}get code(){return this.expr.charCodeAt(this.index)}constructor(e){this.expr=e,this.index=0}static parse(e){return new st(e).parse()}static getMaxKeyLen(e){return Math.max(0,...Object.keys(e).map(e=>e.length))}static isDecimalDigit(e){return e>=48&&e<=57}static binaryPrecedence(e){return st.binary_ops[e]||0}static isIdentifierStart(e){return e>=65&&e<=90||e>=97&&e<=122||e>=128&&!st.binary_ops[String.fromCharCode(e)]||st.additional_identifier_chars.has(String.fromCharCode(e))}static isIdentifierPart(e){return st.isIdentifierStart(e)||st.isDecimalDigit(e)}throwError(e){const t=new Error(e+" at character "+this.index);throw t.index=this.index,t.description=e,t}runHook(e,t){if(st.hooks[e]){const r={context:this,node:t};return st.hooks.run(e,r),r.node}return t}searchHook(e){if(st.hooks[e]){const t={context:this};return st.hooks[e].find(function(e){return e.call(t.context,t),t.node}),t.node}}gobbleSpaces(){let e=this.code;for(;e===st.SPACE_CODE||e===st.TAB_CODE||e===st.LF_CODE||e===st.CR_CODE;)e=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}parse(){this.runHook("before-all");const e=this.gobbleExpressions(),t=1===e.length?e[0]:{type:st.COMPOUND,body:e};return this.runHook("after-all",t)}gobbleExpressions(e){let t,r,i=[];for(;this.index<this.expr.length;)if(t=this.code,t===st.SEMCOL_CODE||t===st.COMMA_CODE)this.index++;else if(r=this.gobbleExpression())i.push(r);else if(this.index<this.expr.length){if(t===e)break;this.throwError('Unexpected "'+this.char+'"')}return i}gobbleExpression(){const e=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",e)}gobbleBinaryOp(){this.gobbleSpaces();let e=this.expr.substr(this.index,st.max_binop_len),t=e.length;for(;t>0;){if(st.binary_ops.hasOwnProperty(e)&&(!st.isIdentifierStart(this.code)||this.index+e.length<this.expr.length&&!st.isIdentifierPart(this.expr.charCodeAt(this.index+e.length))))return this.index+=t,e;e=e.substr(0,--t)}return!1}gobbleBinaryExpression(){let e,t,r,i,o,s,n,a,c;if(s=this.gobbleToken(),!s)return s;if(t=this.gobbleBinaryOp(),!t)return s;for(o={value:t,prec:st.binaryPrecedence(t),right_a:st.right_associative.has(t)},n=this.gobbleToken(),n||this.throwError("Expected expression after "+t),i=[s,o,n];t=this.gobbleBinaryOp();){if(r=st.binaryPrecedence(t),0===r){this.index-=t.length;break}o={value:t,prec:r,right_a:st.right_associative.has(t)},c=t;const a=e=>o.right_a&&e.right_a?r>e.prec:r<=e.prec;for(;i.length>2&&a(i[i.length-2]);)n=i.pop(),t=i.pop().value,s=i.pop(),e={type:st.BINARY_EXP,operator:t,left:s,right:n},i.push(e);e=this.gobbleToken(),e||this.throwError("Expected expression after "+c),i.push(o,e)}for(a=i.length-1,e=i[a];a>1;)e={type:st.BINARY_EXP,operator:i[a-1].value,left:i[a-2],right:e},a-=2;return e}gobbleToken(){let e,t,r,i;if(this.gobbleSpaces(),i=this.searchHook("gobble-token"),i)return this.runHook("after-token",i);if(e=this.code,st.isDecimalDigit(e)||e===st.PERIOD_CODE)return this.gobbleNumericLiteral();if(e===st.SQUOTE_CODE||e===st.DQUOTE_CODE)i=this.gobbleStringLiteral();else if(e===st.OBRACK_CODE)i=this.gobbleArray();else{for(t=this.expr.substr(this.index,st.max_unop_len),r=t.length;r>0;){if(st.unary_ops.hasOwnProperty(t)&&(!st.isIdentifierStart(this.code)||this.index+t.length<this.expr.length&&!st.isIdentifierPart(this.expr.charCodeAt(this.index+t.length)))){this.index+=r;const e=this.gobbleToken();return e||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:st.UNARY_EXP,operator:t,argument:e,prefix:!0})}t=t.substr(0,--r)}st.isIdentifierStart(e)?(i=this.gobbleIdentifier(),st.literals.hasOwnProperty(i.name)?i={type:st.LITERAL,value:st.literals[i.name],raw:i.name}:i.name===st.this_str&&(i={type:st.THIS_EXP})):e===st.OPAREN_CODE&&(i=this.gobbleGroup())}return i?(i=this.gobbleTokenProperty(i),this.runHook("after-token",i)):this.runHook("after-token",!1)}gobbleTokenProperty(e){this.gobbleSpaces();let t=this.code;for(;t===st.PERIOD_CODE||t===st.OBRACK_CODE||t===st.OPAREN_CODE||t===st.QUMARK_CODE;){let r;if(t===st.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==st.PERIOD_CODE)break;r=!0,this.index+=2,this.gobbleSpaces(),t=this.code}this.index++,t===st.OBRACK_CODE?((e={type:st.MEMBER_EXP,computed:!0,object:e,property:this.gobbleExpression()}).property||this.throwError('Unexpected "'+this.char+'"'),this.gobbleSpaces(),t=this.code,t!==st.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):t===st.OPAREN_CODE?e={type:st.CALL_EXP,arguments:this.gobbleArguments(st.CPAREN_CODE),callee:e}:(t===st.PERIOD_CODE||r)&&(r&&this.index--,this.gobbleSpaces(),e={type:st.MEMBER_EXP,computed:!1,object:e,property:this.gobbleIdentifier()}),r&&(e.optional=!0),this.gobbleSpaces(),t=this.code}return e}gobbleNumericLiteral(){let e,t,r="";for(;st.isDecimalDigit(this.code);)r+=this.expr.charAt(this.index++);if(this.code===st.PERIOD_CODE)for(r+=this.expr.charAt(this.index++);st.isDecimalDigit(this.code);)r+=this.expr.charAt(this.index++);if(e=this.char,"e"===e||"E"===e){for(r+=this.expr.charAt(this.index++),e=this.char,"+"!==e&&"-"!==e||(r+=this.expr.charAt(this.index++));st.isDecimalDigit(this.code);)r+=this.expr.charAt(this.index++);st.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+r+this.char+")")}return t=this.code,st.isIdentifierStart(t)?this.throwError("Variable names cannot start with a number ("+r+this.char+")"):(t===st.PERIOD_CODE||1===r.length&&r.charCodeAt(0)===st.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:st.LITERAL,value:parseFloat(r),raw:r}}gobbleStringLiteral(){let e="";const t=this.index,r=this.expr.charAt(this.index++);let i=!1;for(;this.index<this.expr.length;){let t=this.expr.charAt(this.index++);if(t===r){i=!0;break}if("\\"===t)switch(t=this.expr.charAt(this.index++),t){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:e+=t}else e+=t}return i||this.throwError('Unclosed quote after "'+e+'"'),{type:st.LITERAL,value:e,raw:this.expr.substring(t,this.index)}}gobbleIdentifier(){let e=this.code,t=this.index;for(st.isIdentifierStart(e)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(e=this.code,st.isIdentifierPart(e));)this.index++;return{type:st.IDENTIFIER,name:this.expr.slice(t,this.index)}}gobbleArguments(e){const t=[];let r=!1,i=0;for(;this.index<this.expr.length;){this.gobbleSpaces();let o=this.code;if(o===e){r=!0,this.index++,e===st.CPAREN_CODE&&i&&i>=t.length&&this.throwError("Unexpected token "+String.fromCharCode(e));break}if(o===st.COMMA_CODE){if(this.index++,i++,i!==t.length)if(e===st.CPAREN_CODE)this.throwError("Unexpected token ,");else if(e===st.CBRACK_CODE)for(let e=t.length;e<i;e++)t.push(null)}else if(t.length!==i&&0!==i)this.throwError("Expected comma");else{const e=this.gobbleExpression();e&&e.type!==st.COMPOUND||this.throwError("Expected comma"),t.push(e)}}return r||this.throwError("Expected "+String.fromCharCode(e)),t}gobbleGroup(){this.index++;let e=this.gobbleExpressions(st.CPAREN_CODE);if(this.code===st.CPAREN_CODE)return this.index++,1===e.length?e[0]:!!e.length&&{type:st.SEQUENCE_EXP,expressions:e};this.throwError("Unclosed (")}gobbleArray(){return this.index++,{type:st.ARRAY_EXP,elements:this.gobbleArguments(st.CBRACK_CODE)}}}const nt=new class{add(e,t,r){if("string"!=typeof arguments[0])for(let e in arguments[0])this.add(e,arguments[0][e],arguments[1]);else(Array.isArray(e)?e:[e]).forEach(function(e){this[e]=this[e]||[],t&&this[e][r?"unshift":"push"](t)},this)}run(e,t){this[e]=this[e]||[],this[e].forEach(function(e){e.call(t&&t.context?t.context:t,t)})}};Object.assign(st,{hooks:nt,plugins:new class{constructor(e){this.jsep=e,this.registered={}}register(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(e=>{if("object"!=typeof e||!e.name||!e.init)throw new Error("Invalid JSEP plugin format");this.registered[e.name]||(e.init(this.jsep),this.registered[e.name]=e)})}}(st),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"??":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10,"**":11},right_associative:new Set(["**"]),additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"}),st.max_unop_len=st.getMaxKeyLen(st.unary_ops),st.max_binop_len=st.getMaxKeyLen(st.binary_ops);const at=e=>new st(e).parse(),ct=Object.getOwnPropertyNames(class{});Object.getOwnPropertyNames(st).filter(e=>!ct.includes(e)&&void 0===at[e]).forEach(e=>{at[e]=st[e]}),at.Jsep=st;var ht={name:"ternary",init(e){e.hooks.add("after-expression",function(t){if(t.node&&this.code===e.QUMARK_CODE){this.index++;const r=t.node,i=this.gobbleExpression();if(i||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===e.COLON_CODE){this.index++;const o=this.gobbleExpression();if(o||this.throwError("Expected expression"),t.node={type:"ConditionalExpression",test:r,consequent:i,alternate:o},r.operator&&e.binary_ops[r.operator]<=.9){let i=r;for(;i.right.operator&&e.binary_ops[i.right.operator]<=.9;)i=i.right;t.node.test=i.right,i.right=t.node,t.node=r}}else this.throwError("Expected :")}})}};at.plugins.register(ht);var lt={name:"regex",init(e){e.hooks.add("gobble-token",function(t){if(47===this.code){const r=++this.index;let i=!1;for(;this.index<this.expr.length;){if(47===this.code&&!i){const i=this.expr.slice(r,this.index);let o,s="";for(;++this.index<this.expr.length;){const e=this.code;if(!(e>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57))break;s+=this.char}try{o=new RegExp(i,s)}catch(e){this.throwError(e.message)}return t.node={type:e.LITERAL,value:o,raw:this.expr.slice(r-1,this.index)},t.node=this.gobbleTokenProperty(t.node),t.node}this.code===e.OBRACK_CODE?i=!0:i&&this.code===e.CBRACK_CODE&&(i=!1),this.index+=92===this.code?2:1}this.throwError("Unclosed Regex")}})}};const ut={name:"assignment",assignmentOperators:new Set(["=","*=","**=","/=","%=","+=","-=","<<=",">>=",">>>=","&=","^=","|=","||=","&&=","??="]),updateOperators:[43,45],assignmentPrecedence:.9,init(e){const t=[e.IDENTIFIER,e.MEMBER_EXP];function r(e){ut.assignmentOperators.has(e.operator)?(e.type="AssignmentExpression",r(e.left),r(e.right)):e.operator||Object.values(e).forEach(e=>{e&&"object"==typeof e&&r(e)})}ut.assignmentOperators.forEach(t=>e.addBinaryOp(t,ut.assignmentPrecedence,!0)),e.hooks.add("gobble-token",function(e){const r=this.code;ut.updateOperators.some(e=>e===r&&e===this.expr.charCodeAt(this.index+1))&&(this.index+=2,e.node={type:"UpdateExpression",operator:43===r?"++":"--",argument:this.gobbleTokenProperty(this.gobbleIdentifier()),prefix:!0},e.node.argument&&t.includes(e.node.argument.type)||this.throwError(`Unexpected ${e.node.operator}`))}),e.hooks.add("after-token",function(e){if(e.node){const r=this.code;ut.updateOperators.some(e=>e===r&&e===this.expr.charCodeAt(this.index+1))&&(t.includes(e.node.type)||this.throwError(`Unexpected ${e.node.operator}`),this.index+=2,e.node={type:"UpdateExpression",operator:43===r?"++":"--",argument:e.node,prefix:!1})}}),e.hooks.add("after-expression",function(e){e.node&&r(e.node)})}};at.plugins.register(lt,ut),at.addUnaryOp("typeof"),at.addUnaryOp("void"),at.addLiteral("null",null),at.addLiteral("undefined",void 0);const dt=new Set(["constructor","__proto__","__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__"]),vt={evalAst(e,t){switch(e.type){case"BinaryExpression":case"LogicalExpression":return vt.evalBinaryExpression(e,t);case"Compound":return vt.evalCompound(e,t);case"ConditionalExpression":return vt.evalConditionalExpression(e,t);case"Identifier":return vt.evalIdentifier(e,t);case"Literal":return vt.evalLiteral(e,t);case"MemberExpression":return vt.evalMemberExpression(e,t);case"UnaryExpression":return vt.evalUnaryExpression(e,t);case"ArrayExpression":return vt.evalArrayExpression(e,t);case"CallExpression":return vt.evalCallExpression(e,t);case"AssignmentExpression":return vt.evalAssignmentExpression(e,t);default:throw SyntaxError("Unexpected expression",e)}},evalBinaryExpression:(e,t)=>({"||":(e,t)=>e||t(),"&&":(e,t)=>e&&t(),"|":(e,t)=>e|t(),"^":(e,t)=>e^t(),"&":(e,t)=>e&t(),"==":(e,t)=>e==t(),"!=":(e,t)=>e!=t(),"===":(e,t)=>e===t(),"!==":(e,t)=>e!==t(),"<":(e,t)=>e<t(),">":(e,t)=>e>t(),"<=":(e,t)=>e<=t(),">=":(e,t)=>e>=t(),"<<":(e,t)=>e<<t(),">>":(e,t)=>e>>t(),">>>":(e,t)=>e>>>t(),"+":(e,t)=>e+t(),"-":(e,t)=>e-t(),"*":(e,t)=>e*t(),"/":(e,t)=>e/t(),"%":(e,t)=>e%t()}[e.operator](vt.evalAst(e.left,t),()=>vt.evalAst(e.right,t))),evalCompound(e,t){let r;for(let i=0;i<e.body.length;i++){"Identifier"===e.body[i].type&&["var","let","const"].includes(e.body[i].name)&&e.body[i+1]&&"AssignmentExpression"===e.body[i+1].type&&(i+=1);const o=e.body[i];r=vt.evalAst(o,t)}return r},evalConditionalExpression:(e,t)=>vt.evalAst(e.test,t)?vt.evalAst(e.consequent,t):vt.evalAst(e.alternate,t),evalIdentifier(e,t){if(Object.hasOwn(t,e.name))return t[e.name];throw ReferenceError(`${e.name} is not defined`)},evalLiteral:e=>e.value,evalMemberExpression(e,t){const r=String(e.computed?vt.evalAst(e.property):e.property.name),i=vt.evalAst(e.object,t);if(null==i)throw TypeError(`Cannot read properties of ${i} (reading '${r}')`);if(!Object.hasOwn(i,r)&&dt.has(r))throw TypeError(`Cannot read properties of ${i} (reading '${r}')`);const o=i[r];return"function"==typeof o?o.bind(i):o},evalUnaryExpression:(e,t)=>({"-":e=>-vt.evalAst(e,t),"!":e=>!vt.evalAst(e,t),"~":e=>~vt.evalAst(e,t),"+":e=>+vt.evalAst(e,t),typeof:e=>typeof vt.evalAst(e,t),void:e=>{vt.evalAst(e,t)}}[e.operator](e.argument)),evalArrayExpression:(e,t)=>e.elements.map(e=>vt.evalAst(e,t)),evalCallExpression(e,t){const r=e.arguments.map(e=>vt.evalAst(e,t)),i=vt.evalAst(e.callee,t);if(i===Function)throw new Error("Function constructor is disabled");return i(...r)},evalAssignmentExpression(e,t){if("Identifier"!==e.left.type)throw SyntaxError("Invalid left-hand side in assignment");const r=e.left.name,i=vt.evalAst(e.right,t);return t[r]=i,t[r]}};function ft(e,t){return(e=e.slice()).push(t),e}function pt(e,t){return(t=t.slice()).unshift(e),t}class mt extends Error{constructor(e){super('JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)'),this.avoidNew=!0,this.value=e,this.name="NewError"}}function gt(e,t,r,i,o){if(!(this instanceof gt))try{return new gt(e,t,r,i,o)}catch(e){if(!e.avoidNew)throw e;return e.value}"string"==typeof e&&(o=i,i=r,r=t,t=e,e=null);const s=e&&"object"==typeof e;if(e=e||{},this.json=e.json||r,this.path=e.path||t,this.resultType=e.resultType||"value",this.flatten=e.flatten||!1,this.wrap=!Object.hasOwn(e,"wrap")||e.wrap,this.sandbox=e.sandbox||{},this.eval=void 0===e.eval?"safe":e.eval,this.ignoreEvalErrors=void 0!==e.ignoreEvalErrors&&e.ignoreEvalErrors,this.parent=e.parent||null,this.parentProperty=e.parentProperty||null,this.callback=e.callback||i||null,this.otherTypeCallback=e.otherTypeCallback||o||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==e.autostart){const i={path:s?e.path:t};s?"json"in e&&(i.json=e.json):i.json=r;const o=this.evaluate(i);if(!o||"object"!=typeof o)throw new mt(o);return o}}var bt,kt,_t,Pt,Ct,yt,xt,wt,Tt;gt.prototype.evaluate=function(e,t,r,i){let o=this.parent,s=this.parentProperty,{flatten:n,wrap:a}=this;if(this.currResultType=this.resultType,this.currEval=this.eval,this.currSandbox=this.sandbox,r=r||this.callback,this.currOtherTypeCallback=i||this.otherTypeCallback,t=t||this.json,(e=e||this.path)&&"object"==typeof e&&!Array.isArray(e)){if(!e.path&&""!==e.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!Object.hasOwn(e,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');({json:t}=e),n=Object.hasOwn(e,"flatten")?e.flatten:n,this.currResultType=Object.hasOwn(e,"resultType")?e.resultType:this.currResultType,this.currSandbox=Object.hasOwn(e,"sandbox")?e.sandbox:this.currSandbox,a=Object.hasOwn(e,"wrap")?e.wrap:a,this.currEval=Object.hasOwn(e,"eval")?e.eval:this.currEval,r=Object.hasOwn(e,"callback")?e.callback:r,this.currOtherTypeCallback=Object.hasOwn(e,"otherTypeCallback")?e.otherTypeCallback:this.currOtherTypeCallback,o=Object.hasOwn(e,"parent")?e.parent:o,s=Object.hasOwn(e,"parentProperty")?e.parentProperty:s,e=e.path}if(o=o||null,s=s||null,Array.isArray(e)&&(e=gt.toPathString(e)),!e&&""!==e||!t)return;const c=gt.toPathArray(e);"$"===c[0]&&c.length>1&&c.shift(),this._hasParentSelector=null;const h=this._trace(c,t,["$"],o,s,r).filter(function(e){return e&&!e.isParentSelector});return h.length?a||1!==h.length||h[0].hasArrExpr?h.reduce((e,t)=>{const r=this._getPreferredOutput(t);return n&&Array.isArray(r)?e=e.concat(r):e.push(r),e},[]):this._getPreferredOutput(h[0]):a?[]:void 0},gt.prototype._getPreferredOutput=function(e){const t=this.currResultType;switch(t){case"all":{const t=Array.isArray(e.path)?e.path:gt.toPathArray(e.path);return e.pointer=gt.toPointer(t),e.path="string"==typeof e.path?e.path:gt.toPathString(e.path),e}case"value":case"parent":case"parentProperty":return e[t];case"path":return gt.toPathString(e[t]);case"pointer":return gt.toPointer(e.path);default:throw new TypeError("Unknown result type")}},gt.prototype._handleCallback=function(e,t,r){if(t){const i=this._getPreferredOutput(e);e.path="string"==typeof e.path?e.path:gt.toPathString(e.path),t(i,r,e)}},gt.prototype._trace=function(e,t,r,i,o,s,n,a){let c;if(!e.length)return c={path:r,value:t,parent:i,parentProperty:o,hasArrExpr:n},this._handleCallback(c,s,"value"),c;const h=e[0],l=e.slice(1),u=[];function d(e){Array.isArray(e)?e.forEach(e=>{u.push(e)}):u.push(e)}if(("string"!=typeof h||a)&&t&&Object.hasOwn(t,h))d(this._trace(l,t[h],ft(r,h),t,h,s,n));else if("*"===h)this._walk(t,e=>{d(this._trace(l,t[e],ft(r,e),t,e,s,!0,!0))});else if(".."===h)d(this._trace(l,t,r,i,o,s,n)),this._walk(t,i=>{"object"==typeof t[i]&&d(this._trace(e.slice(),t[i],ft(r,i),t,i,s,!0))});else{if("^"===h)return this._hasParentSelector=!0,{path:r.slice(0,-1),expr:l,isParentSelector:!0};if("~"===h)return c={path:ft(r,h),value:o,parent:i,parentProperty:null},this._handleCallback(c,s,"property"),c;if("$"===h)d(this._trace(l,t,r,null,null,s,n));else if(/^(-?\d*):(-?\d*):?(\d*)$/u.test(h))d(this._slice(h,l,t,r,i,o,s));else if(0===h.indexOf("?(")){if(!1===this.currEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");const e=h.replace(/^\?\((.*?)\)$/u,"$1"),n=/@.?([^?]*)[['](\??\(.*?\))(?!.\)\])[\]']/gu.exec(e);n?this._walk(t,e=>{const a=[n[2]],c=n[1]?t[e][n[1]]:t[e];this._trace(a,c,r,i,o,s,!0).length>0&&d(this._trace(l,t[e],ft(r,e),t,e,s,!0))}):this._walk(t,n=>{this._eval(e,t[n],n,r,i,o)&&d(this._trace(l,t[n],ft(r,n),t,n,s,!0))})}else if("("===h[0]){if(!1===this.currEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");d(this._trace(pt(this._eval(h,t,r.at(-1),r.slice(0,-1),i,o),l),t,r,i,o,s,n))}else if("@"===h[0]){let e=!1;const n=h.slice(1,-2);switch(n){case"scalar":t&&["object","function"].includes(typeof t)||(e=!0);break;case"boolean":case"string":case"undefined":case"function":typeof t===n&&(e=!0);break;case"integer":!Number.isFinite(t)||t%1||(e=!0);break;case"number":Number.isFinite(t)&&(e=!0);break;case"nonFinite":"number"!=typeof t||Number.isFinite(t)||(e=!0);break;case"object":t&&typeof t===n&&(e=!0);break;case"array":Array.isArray(t)&&(e=!0);break;case"other":e=this.currOtherTypeCallback(t,r,i,o);break;case"null":null===t&&(e=!0);break;default:throw new TypeError("Unknown value type "+n)}if(e)return c={path:r,value:t,parent:i,parentProperty:o},this._handleCallback(c,s,"value"),c}else if("`"===h[0]&&t&&Object.hasOwn(t,h.slice(1))){const e=h.slice(1);d(this._trace(l,t[e],ft(r,e),t,e,s,n,!0))}else if(h.includes(",")){const e=h.split(",");for(const n of e)d(this._trace(pt(n,l),t,r,i,o,s,!0))}else!a&&t&&Object.hasOwn(t,h)&&d(this._trace(l,t[h],ft(r,h),t,h,s,n,!0))}if(this._hasParentSelector)for(let e=0;e<u.length;e++){const r=u[e];if(r&&r.isParentSelector){const a=this._trace(r.expr,t,r.path,i,o,s,n);if(Array.isArray(a)){u[e]=a[0];const t=a.length;for(let r=1;r<t;r++)e++,u.splice(e,0,a[r])}else u[e]=a}}return u},gt.prototype._walk=function(e,t){if(Array.isArray(e)){const r=e.length;for(let e=0;e<r;e++)t(e)}else e&&"object"==typeof e&&Object.keys(e).forEach(e=>{t(e)})},gt.prototype._slice=function(e,t,r,i,o,s,n){if(!Array.isArray(r))return;const a=r.length,c=e.split(":"),h=c[2]&&Number.parseInt(c[2])||1;let l=c[0]&&Number.parseInt(c[0])||0,u=c[1]&&Number.parseInt(c[1])||a;l=l<0?Math.max(0,l+a):Math.min(a,l),u=u<0?Math.max(0,u+a):Math.min(a,u);const d=[];for(let e=l;e<u;e+=h)this._trace(pt(e,t),r,i,o,s,n,!0).forEach(e=>{d.push(e)});return d},gt.prototype._eval=function(e,t,r,i,o,s){this.currSandbox._$_parentProperty=s,this.currSandbox._$_parent=o,this.currSandbox._$_property=r,this.currSandbox._$_root=this.json,this.currSandbox._$_v=t;const n=e.includes("@path");n&&(this.currSandbox._$_path=gt.toPathString(i.concat([r])));const a=this.currEval+"Script:"+e;if(!gt.cache[a]){let t=e.replaceAll("@parentProperty","_$_parentProperty").replaceAll("@parent","_$_parent").replaceAll("@property","_$_property").replaceAll("@root","_$_root").replaceAll(/@([.\s)[])/gu,"_$_v$1");if(n&&(t=t.replaceAll("@path","_$_path")),"safe"===this.currEval||!0===this.currEval||void 0===this.currEval)gt.cache[a]=new this.safeVm.Script(t);else if("native"===this.currEval)gt.cache[a]=new this.vm.Script(t);else if("function"==typeof this.currEval&&this.currEval.prototype&&Object.hasOwn(this.currEval.prototype,"runInNewContext")){const e=this.currEval;gt.cache[a]=new e(t)}else{if("function"!=typeof this.currEval)throw new TypeError(`Unknown "eval" property "${this.currEval}"`);gt.cache[a]={runInNewContext:e=>this.currEval(t,e)}}}try{return gt.cache[a].runInNewContext(this.currSandbox)}catch(t){if(this.ignoreEvalErrors)return!1;throw new Error("jsonPath: "+t.message+": "+e)}},gt.cache={},gt.toPathString=function(e){const t=e,r=t.length;let i="$";for(let e=1;e<r;e++)/^(~|\^|@.*?\(\))$/u.test(t[e])||(i+=/^[0-9*]+$/u.test(t[e])?"["+t[e]+"]":"['"+t[e]+"']");return i},gt.toPointer=function(e){const t=e,r=t.length;let i="";for(let e=1;e<r;e++)/^(~|\^|@.*?\(\))$/u.test(t[e])||(i+="/"+t[e].toString().replaceAll("~","~0").replaceAll("/","~1"));return i},gt.toPathArray=function(e){const{cache:t}=gt;if(t[e])return t[e].concat();const r=[],i=e.replaceAll(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/gu,";$&;").replaceAll(/[['](\??\(.*?\))[\]'](?!.\])/gu,function(e,t){return"[#"+(r.push(t)-1)+"]"}).replaceAll(/\[['"]([^'\]]*)['"]\]/gu,function(e,t){return"['"+t.replaceAll(".","%@%").replaceAll("~","%%@@%%")+"']"}).replaceAll("~",";~;").replaceAll(/['"]?\.['"]?(?![^[]*\])|\[['"]?/gu,";").replaceAll("%@%",".").replaceAll("%%@@%%","~").replaceAll(/(?:;)?(\^+)(?:;)?/gu,function(e,t){return";"+t.split("").join(";")+";"}).replaceAll(/;;;|;;/gu,";..;").replaceAll(/;$|'?\]|'$/gu,"").split(";").map(function(e){const t=e.match(/#(\d+)/u);return t&&t[1]?r[t[1]]:e});return t[e]=i,t[e].concat()},gt.prototype.safeVm={Script:class{constructor(e){this.code=e,this.ast=at(this.code)}runInNewContext(e){const t=Object.assign(Object.create(null),e);return vt.evalAst(this.ast,t)}}},gt.prototype.vm={Script:class{constructor(e){this.code=e}runInNewContext(e){let t=this.code;const r=Object.keys(e),i=[];!function(e,t,r){const i=e.length;for(let o=0;o<i;o++)r(e[o])&&t.push(e.splice(o--,1)[0])}(r,i,t=>"function"==typeof e[t]);const o=r.map(t=>e[t]);t=i.reduce((t,r)=>{let i=e[r].toString();return/function/u.test(i)||(i="function "+i),"var "+r+"="+i+";"+t},"")+t,/(['"])use strict\1/u.test(t)||r.includes("arguments")||(t="var arguments = undefined;"+t),t=t.replace(/;\s*$/u,"");const s=t.lastIndexOf(";"),n=-1!==s?t.slice(0,s+1)+" return "+t.slice(s+1):" return "+t;return new Function(...r,n)(...o)}}},function(e){e.GetAssetDto=class{constructor(e){void 0!==e&&(this.fileName=e)}},e.FetchDto=class{constructor(e){void 0!==e&&(this.url=e)}},e.FileDto=class{constructor(e){void 0!==e&&(this.file=e)}},e.FilesDto=class{constructor(e){void 0!==e&&(this.files=e)}},e.AssetFileDto=class{constructor(e,t){this.hidden=!1,void 0!==e&&(this.assetFile=e),void 0!==t&&(this.hidden=t)}},e.AssetFileByUrlDto=class{constructor(e,t,r){this.hidden=!1,void 0!==e&&(this.assetFile=e),void 0!==t&&(this.rootUrl=t),void 0!==r&&(this.hidden=r)}},e.DownloadDto=class{constructor(e,t,r,i){this.extension="txt",this.contentType="text/plain",void 0!==e&&(this.fileName=e),void 0!==t&&(this.content=t),void 0!==r&&(this.extension=r),void 0!==i&&(this.contentType=i)}},e.AssetGlbDataDto=class{constructor(e,t,r){this.fileName="model.glb",this.hidden=!1,void 0!==e&&(this.glbData=e),void 0!==t&&(this.fileName=t),void 0!==r&&(this.hidden=r)}},e.BlobToFileDto=class{constructor(e,t,r){this.fileName="file",void 0!==e&&(this.blob=e),void 0!==t&&(this.fileName=t),void 0!==r&&(this.mimeType=r)}},e.ArrayBufferToUint8ArrayDto=class{constructor(e){void 0!==e&&(this.arrayBuffer=e)}},e.Uint8ArrayToArrayBufferDto=class{constructor(e){void 0!==e&&(this.uint8Array=e)}}}(bt||(bt={})),function(e){e.ParseToArrayDto=class{constructor(e,t,r){this.csv="name,age\nJohn,30",this.rowSeparator="\n",this.columnSeparator=",",void 0!==e&&(this.csv=e),void 0!==t&&(this.rowSeparator=t),void 0!==r&&(this.columnSeparator=r)}},e.ParseToJsonDto=class{constructor(e,t,r,i,o,s){this.csv="name,age\nJohn,30\nJane,25",this.headerRow=0,this.dataStartRow=1,this.rowSeparator="\n",this.columnSeparator=",",void 0!==e&&(this.csv=e),void 0!==t&&(this.headerRow=t),void 0!==r&&(this.dataStartRow=r),void 0!==i&&(this.rowSeparator=i),void 0!==o&&(this.columnSeparator=o),void 0!==s&&(this.numberColumns=s)}},e.ParseToJsonWithHeadersDto=class{constructor(e,t,r,i,o,s){this.csv="John,30\nJane,25",this.headers=["name","age"],this.dataStartRow=0,this.rowSeparator="\n",this.columnSeparator=",",void 0!==e&&(this.csv=e),void 0!==t&&(this.headers=t),void 0!==r&&(this.dataStartRow=r),void 0!==i&&(this.rowSeparator=i),void 0!==o&&(this.columnSeparator=o),void 0!==s&&(this.numberColumns=s)}},e.QueryColumnDto=class{constructor(e,t,r,i,o,s,n){this.csv="name,age\nJohn,30\nJane,25",this.column="name",this.headerRow=0,this.dataStartRow=1,this.rowSeparator="\n",this.columnSeparator=",",this.asNumber=!1,void 0!==e&&(this.csv=e),void 0!==t&&(this.column=t),void 0!==r&&(this.headerRow=r),void 0!==i&&(this.dataStartRow=i),void 0!==o&&(this.rowSeparator=o),void 0!==s&&(this.columnSeparator=s),void 0!==n&&(this.asNumber=n)}},e.QueryRowsByValueDto=class{constructor(e,t,r,i,o,s,n,a){this.csv="name,age\nJohn,30\nJane,25",this.column="age",this.value="30",this.headerRow=0,this.dataStartRow=1,this.rowSeparator="\n",this.columnSeparator=",",void 0!==e&&(this.csv=e),void 0!==t&&(this.column=t),void 0!==r&&(this.value=r),void 0!==i&&(this.headerRow=i),void 0!==o&&(this.dataStartRow=o),void 0!==s&&(this.rowSeparator=s),void 0!==n&&(this.columnSeparator=n),void 0!==a&&(this.numberColumns=a)}},e.ArrayToCsvDto=class{constructor(e,t,r){this.array=[["name","age"],["John","30"]],this.rowSeparator="\n",this.columnSeparator=",",void 0!==e&&(this.array=e),void 0!==t&&(this.rowSeparator=t),void 0!==r&&(this.columnSeparator=r)}},e.JsonToCsvDto=class{constructor(e,t,r,i,o){this.json=[{name:"John",age:"30"}],this.headers=["name","age"],this.includeHeaders=!0,this.rowSeparator="\n",this.columnSeparator=",",void 0!==e&&(this.json=e),void 0!==t&&(this.headers=t),void 0!==r&&(this.includeHeaders=r),void 0!==i&&(this.rowSeparator=i),void 0!==o&&(this.columnSeparator=o)}},e.JsonToCsvAutoDto=class{constructor(e,t,r,i){this.json=[{name:"John",age:"30"}],this.includeHeaders=!0,this.rowSeparator="\n",this.columnSeparator=",",void 0!==e&&(this.json=e),void 0!==t&&(this.includeHeaders=t),void 0!==r&&(this.rowSeparator=r),void 0!==i&&(this.columnSeparator=i)}},e.GetHeadersDto=class{constructor(e,t,r,i){this.csv="name,age\nJohn,30",this.headerRow=0,this.rowSeparator="\n",this.columnSeparator=",",void 0!==e&&(this.csv=e),void 0!==t&&(this.headerRow=t),void 0!==r&&(this.rowSeparator=r),void 0!==i&&(this.columnSeparator=i)}},e.GetRowCountDto=class{constructor(e,t,r,i,o){this.csv="name,age\nJohn,30\nJane,25",this.hasHeaders=!0,this.rowSeparator="\n",this.columnSeparator=",",void 0!==e&&(this.csv=e),void 0!==t&&(this.hasHeaders=t),void 0!==r&&(this.dataStartRow=r),void 0!==i&&(this.rowSeparator=i),void 0!==o&&(this.columnSeparator=o)}}}(kt||(kt={})),function(e){e.StringifyDto=class{constructor(e){void 0!==e&&(this.json=e)}},e.ParseDto=class{constructor(e){this.text="[0, 0, 0]",void 0!==e&&(this.text=e)}},e.QueryDto=class{constructor(e,t){void 0!==e&&(this.json=e),void 0!==t&&(this.query=t)}},e.SetValueOnPropDto=class{constructor(e,t,r){this.property="propName",void 0!==e&&(this.json=e),void 0!==t&&(this.value=t),void 0!==r&&(this.property=r)}},e.GetJsonFromArrayByFirstPropMatchDto=class{constructor(e,t,r){this.property="propName",void 0!==e&&(this.jsonArray=e),void 0!==t&&(this.property=t),void 0!==r&&(this.match=r)}},e.GetValueOnPropDto=class{constructor(e,t){this.property="propName",void 0!==e&&(this.json=e),void 0!==t&&(this.property=t)}},e.SetValueDto=class{constructor(e,t,r,i){this.path="$.pathToParent",this.prop="propertyName",void 0!==e&&(this.json=e),void 0!==t&&(this.value=t),void 0!==r&&(this.path=r),void 0!==i&&(this.prop=i)}},e.SetValuesOnPathsDto=class{constructor(e,t,r,i){void 0!==e&&(this.json=e),void 0!==t&&(this.values=t),void 0!==r&&(this.paths=r),void 0!==i&&(this.props=i)}},e.PathsDto=class{constructor(e,t){void 0!==e&&(this.json=e),void 0!==t&&(this.query=t)}},e.JsonDto=class{constructor(e){void 0!==e&&(this.json=e)}}}(_t||(_t={})),function(e){e.DrawTagDto=class{constructor(e,t,r){this.updatable=!1,void 0!==e&&(this.tag=e),void 0!==t&&(this.updatable=t),void 0!==r&&(this.tagVariable=r)}},e.DrawTagsDto=class{constructor(e,t,r){this.updatable=!1,void 0!==e&&(this.tags=e),void 0!==t&&(this.updatable=t),void 0!==r&&(this.tagsVariable=r)}},e.TagDto=class{constructor(e,t,r,i,o,s,n){this.position=[0,0,0],this.colour="#444444",this.size=12,this.adaptDepth=!1,void 0!==e&&(this.text=e),void 0!==t&&(this.position=t),void 0!==r&&(this.colour=r),void 0!==i&&(this.size=i),void 0!==o&&(this.adaptDepth=o),void 0!==s&&(this.needsUpdate=s),void 0!==n&&(this.id=n)}}}(Pt||(Pt={})),function(e){e.PostFromIframe=class{constructor(e,t){void 0!==e&&(this.data=e),void 0!==t&&(this.targetOrigin=t)}}}(Ct||(Ct={})),function(e){e.CurveDto=class{constructor(e){void 0!==e&&(this.curve=e)}},e.LineDto=class{constructor(e){void 0!==e&&(this.line=e)}},e.LinesDto=class{constructor(e){void 0!==e&&(this.lines=e)}},e.PolylineDto=class{constructor(e){void 0!==e&&(this.polyline=e)}},e.PolylinesDto=class{constructor(e){void 0!==e&&(this.polylines=e)}},e.CurvesDto=class{constructor(e){void 0!==e&&(this.curves=e)}},e.ClosestPointDto=class{constructor(e,t){void 0!==e&&(this.curve=e),void 0!==t&&(this.point=t)}},e.ClosestPointsDto=class{constructor(e,t){void 0!==e&&(this.curve=e),void 0!==t&&(this.points=t)}},e.BezierCurveDto=class{constructor(e,t){void 0!==e&&(this.points=e),void 0!==t&&(this.weights=t)}},e.DrawCurveDto=class{constructor(e,t,r,i,o,s){this.opacity=1,this.colours="#444444",this.size=3,this.updatable=!1,void 0!==e&&(this.curve=e),void 0!==t&&(this.opacity=t),void 0!==r&&(this.colours=r),void 0!==i&&(this.size=i),void 0!==o&&(this.updatable=o),void 0!==s&&(this.curveMesh=s)}},e.CurveParameterDto=class{constructor(e,t){void 0!==e&&(this.curve=e),void 0!==t&&(this.parameter=t)}},e.CurvesParameterDto=class{constructor(e,t){void 0!==e&&(this.curves=e),void 0!==t&&(this.parameter=t)}},e.CurveTransformDto=class{constructor(e,t){void 0!==e&&(this.curve=e),void 0!==t&&(this.transformation=t)}},e.CurvesTransformDto=class{constructor(e,t){void 0!==e&&(this.curves=e),void 0!==t&&(this.transformation=t)}},e.CurveToleranceDto=class{constructor(e,t){void 0!==e&&(this.curve=e),void 0!==t&&(this.tolerance=t)}},e.CurveLengthToleranceDto=class{constructor(e,t,r){void 0!==e&&(this.curve=e),void 0!==t&&(this.length=t),void 0!==r&&(this.tolerance=r)}},e.CurveDerivativesDto=class{constructor(e,t,r){void 0!==e&&(this.curve=e),void 0!==t&&(this.parameter=t),void 0!==r&&(this.numDerivatives=r)}},e.CurveSubdivisionsDto=class{constructor(e,t){void 0!==e&&(this.curve=e),void 0!==t&&(this.subdivision=t)}},e.CurvesSubdivisionsDto=class{constructor(e,t){void 0!==e&&(this.curves=e),void 0!==t&&(this.subdivision=t)}},e.CurvesDivideLengthDto=class{constructor(e,t){void 0!==e&&(this.curves=e),void 0!==t&&(this.length=t)}},e.CurveDivideLengthDto=class{constructor(e,t){void 0!==e&&(this.curve=e),void 0!==t&&(this.length=t)}},e.DrawCurvesDto=class{constructor(e,t,r,i,o,s){this.opacity=1,this.colours="#444444",this.size=3,this.updatable=!1,void 0!==e&&(this.curves=e),void 0!==t&&(this.opacity=t),void 0!==r&&(this.colours=r),void 0!==i&&(this.size=i),void 0!==o&&(this.updatable=o),void 0!==s&&(this.curvesMesh=s)}},e.CurveNurbsDataDto=class{constructor(e,t,r,i){void 0!==e&&(this.degree=e),void 0!==t&&(this.weights=t),void 0!==r&&(this.knots=r),void 0!==i&&(this.points=i)}},e.CurvePathDataDto=class{constructor(e,t){void 0!==e&&(this.degree=e),void 0!==t&&(this.points=t)}},e.EllipseDto=class{constructor(e){void 0!==e&&(this.ellipse=e)}},e.CircleDto=class{constructor(e){void 0!==e&&(this.circle=e)}},e.ArcDto=class{constructor(e){void 0!==e&&(this.arc=e)}},e.EllipseParametersDto=class{constructor(e,t,r){void 0!==e&&(this.xAxis=e),void 0!==t&&(this.yAxis=t),void 0!==r&&(this.center=r)}},e.CircleParametersDto=class{constructor(e,t,r,i){void 0!==e&&(this.xAxis=e),void 0!==t&&(this.yAxis=t),void 0!==r&&(this.radius=r),void 0!==i&&(this.center=i)}},e.ArcParametersDto=class{constructor(e,t,r,i,o,s){void 0!==e&&(this.minAngle=e),void 0!==t&&(this.maxAngle=t),void 0!==r&&(this.xAxis=r),void 0!==i&&(this.yAxis=i),void 0!==o&&(this.radius=o),void 0!==s&&(this.center=s)}},e.EllipseArcParametersDto=class{constructor(e,t,r,i,o){void 0!==e&&(this.minAngle=e),void 0!==t&&(this.maxAngle=t),void 0!==r&&(this.xAxis=r),void 0!==i&&(this.yAxis=i),void 0!==o&&(this.center=o)}},e.SurfaceDto=class{constructor(e){void 0!==e&&(this.surface=e)}},e.SurfaceTransformDto=class{constructor(e,t){void 0!==e&&(this.surface=e),void 0!==t&&(this.transformation=t)}},e.SurfaceParameterDto=class{constructor(e,t,r){void 0!==e&&(this.surface=e),void 0!==t&&(this.parameter=t),void 0!==r&&(this.useV=r)}},e.IsocurvesParametersDto=class{constructor(e,t,r){void 0!==e&&(this.surface=e),void 0!==t&&(this.parameters=t),void 0!==r&&(this.useV=r)}},e.IsocurveSubdivisionDto=class{constructor(e,t,r,i,o){this.useV=!1,this.includeLast=!0,this.includeFirst=!0,void 0!==e&&(this.surface=e),void 0!==t&&(this.useV=t),void 0!==r&&(this.includeLast=r),void 0!==i&&(this.includeFirst=i),void 0!==o&&(this.isocurveSegments=o)}},e.DerivativesDto=class{constructor(e,t,r,i){void 0!==e&&(this.surface=e),void 0!==t&&(this.u=t),void 0!==r&&(this.v=r),void 0!==i&&(this.numDerivatives=i)}},e.SurfaceLocationDto=class{constructor(e,t,r){void 0!==e&&(this.surface=e),void 0!==t&&(this.u=t),void 0!==r&&(this.v=r)}},e.CornersDto=class{constructor(e,t,r,i){void 0!==e&&(this.point1=e),void 0!==t&&(this.point2=t),void 0!==r&&(this.point3=r),void 0!==i&&(this.point4=i)}},e.SurfaceParamDto=class{constructor(e,t){void 0!==e&&(this.surface=e),void 0!==t&&(this.point=t)}},e.KnotsControlPointsWeightsDto=class{constructor(e,t,r,i,o,s){void 0!==e&&(this.degreeU=e),void 0!==t&&(this.degreeV=t),void 0!==r&&(this.knotsU=r),void 0!==i&&(this.knotsV=i),void 0!==o&&(this.points=o),void 0!==s&&(this.weights=s)}},e.LoftCurvesDto=class{constructor(e,t){void 0!==e&&(this.degreeV=e),void 0!==t&&(this.curves=t)}},e.DrawSurfaceDto=class{constructor(e,t,r,i,o,s,n,a,c){this.opacity=1,this.colours="#444444",this.updatable=!1,this.hidden=!1,this.drawTwoSided=!0,this.backFaceColour="#0000ff",this.backFaceOpacity=1,void 0!==e&&(this.surface=e),void 0!==t&&(this.opacity=t),void 0!==r&&(this.colours=r),void 0!==i&&(this.updatable=i),void 0!==o&&(this.hidden=o),void 0!==s&&(this.surfaceMesh=s),void 0!==n&&(this.drawTwoSided=n),void 0!==a&&(this.backFaceColour=a),void 0!==c&&(this.backFaceOpacity=c)}},e.DrawSurfacesDto=class{constructor(e,t,r,i,o,s,n,a,c){this.opacity=1,this.colours="#444444",this.updatable=!1,this.hidden=!1,this.drawTwoSided=!0,this.backFaceColour="#0000ff",this.backFaceOpacity=1,void 0!==e&&(this.surfaces=e),void 0!==t&&(this.opacity=t),void 0!==r&&(this.colours=r),void 0!==i&&(this.updatable=i),void 0!==o&&(this.hidden=o),void 0!==s&&(this.surfacesMesh=s),void 0!==n&&(this.drawTwoSided=n),void 0!==a&&(this.backFaceColour=a),void 0!==c&&(this.backFaceOpacity=c)}},e.DrawSurfacesColoursDto=class{constructor(e,t,r,i,o,s,n,a,c){this.opacity=1,this.updatable=!1,this.hidden=!1,this.drawTwoSided=!0,this.backFaceColour="#0000ff",this.backFaceOpacity=1,void 0!==e&&(this.surfaces=e),void 0!==t&&(this.colours=t),void 0!==r&&(this.opacity=r),void 0!==i&&(this.updatable=i),void 0!==o&&(this.hidden=o),void 0!==s&&(this.surfacesMesh=s),void 0!==n&&(this.drawTwoSided=n),void 0!==a&&(this.backFaceColour=a),void 0!==c&&(this.backFaceOpacity=c)}},e.ConeAndCylinderParametersDto=class{constructor(e,t,r,i,o){this.axis=[0,1,0],this.xAxis=[1,0,0],this.base=[0,0,0],this.height=2,this.radius=1,void 0!==e&&(this.axis=e),void 0!==t&&(this.xAxis=t),void 0!==r&&(this.base=r),void 0!==i&&(this.height=i),void 0!==o&&(this.radius=o)}},e.ConeDto=class{constructor(e){void 0!==e&&(this.cone=e)}},e.CylinderDto=class{constructor(e){void 0!==e&&(this.cylinder=e)}},e.ExtrusionParametersDto=class{constructor(e,t){void 0!==e&&(this.profile=e),void 0!==t&&(this.direction=t)}},e.ExtrusionDto=class{constructor(e){void 0!==e&&(this.extrusion=e)}},e.SphericalParametersDto=class{constructor(e,t){void 0!==e&&(this.radius=e),void 0!==t&&(this.center=t)}},e.SphereDto=class{constructor(e){void 0!==e&&(this.sphere=e)}},e.RevolutionParametersDto=class{constructor(e,t,r,i){void 0!==e&&(this.profile=e),void 0!==t&&(this.center=t),void 0!==r&&(this.axis=r),void 0!==i&&(this.angle=i)}},e.RevolutionDto=class{constructor(e){void 0!==e&&(this.revolution=e)}},e.SweepParametersDto=class{constructor(e,t){void 0!==e&&(this.profile=e),void 0!==t&&(this.rail=t)}},e.SweepDto=class{constructor(e){void 0!==e&&(this.sweep=e)}},e.CurveCurveDto=class{constructor(e,t,r){void 0!==e&&(this.firstCurve=e),void 0!==t&&(this.secondCurve=t),void 0!==r&&(this.tolerance=r)}},e.CurveSurfaceDto=class{constructor(e,t,r){void 0!==e&&(this.curve=e),void 0!==t&&(this.surface=t),void 0!==r&&(this.tolerance=r)}},e.SurfaceSurfaceDto=class{constructor(e,t,r){void 0!==e&&(this.firstSurface=e),void 0!==t&&(this.secondSurface=t),void 0!==r&&(this.tolerance=r)}},e.CurveCurveIntersectionsDto=class{constructor(e){void 0!==e&&(this.intersections=e)}},e.CurveSurfaceIntersectionsDto=class{constructor(e){void 0!==e&&(this.intersections=e)}}}(yt||(yt={})),function(e){let t;e.horizontalAlignEnum=Oe.horizontalAlignEnum,e.verticalAlignmentEnum=Oe.verticalAlignmentEnum,e.topBottomEnum=Oe.topBottomEnum,e.basicAlignmentEnum=Oe.basicAlignmentEnum,function(e){e.firstColorForAll="firstColorForAll",e.lastColorRemainder="lastColorRemainder",e.repeatColors="repeatColors",e.reversedColors="reversedColors"}(t=e.colorMapStrategyEnum||(e.colorMapStrategyEnum={}))}(xt||(xt={})),function(e){let t,r;e.PolylinePropertiesDto=class{constructor(e,t){this.isClosed=!1,void 0!==e&&(this.points=e),void 0!==t&&(this.isClosed=t)}},function(e){e.edge="edge",e.round="round",e.chamfer="chamfer"}(t=e.solidCornerTypeEnum||(e.solidCornerTypeEnum={})),function(e){e.left="left",e.center="center",e.right="right"}(r=e.jscadTextAlignEnum||(e.jscadTextAlignEnum={})),e.MeshDto=class{constructor(e){void 0!==e&&(this.mesh=e)}},e.MeshesDto=class{constructor(e){void 0!==e&&(this.meshes=e)}},e.DrawSolidMeshDto=class{constructor(e,t,r,i,o,s,n,a,c){this.opacity=1,this.colours="#444444",this.updatable=!1,this.hidden=!1,this.drawTwoSided=!0,this.backFaceColour="#0000ff",this.backFaceOpacity=1,void 0!==e&&(this.mesh=e),void 0!==t&&(this.opacity=t),void 0!==r&&(this.colours=r),void 0!==i&&(this.updatable=i),void 0!==o&&(this.hidden=o),void 0!==s&&(this.jscadMesh=s),void 0!==n&&(this.drawTwoSided=n),void 0!==a&&(this.backFaceColour=a),void 0!==c&&(this.backFaceOpacity=c)}},e.DrawSolidMeshesDto=class{constructor(e,t,r,i,o,s,n,a,c){this.opacity=1,this.colours="#444444",this.updatable=!1,this.hidden=!1,this.drawTwoSided=!0,this.backFaceColour="#0000ff",this.backFaceOpacity=1,void 0!==e&&(this.meshes=e),void 0!==t&&(this.opacity=t),void 0!==r&&(this.colours=r),void 0!==i&&(this.updatable=i),void 0!==o&&(this.hidden=o),void 0!==s&&(this.jscadMesh=s),void 0!==n&&(this.drawTwoSided=n),void 0!==a&&(this.backFaceColour=a),void 0!==c&&(this.backFaceOpacity=c)}},e.DrawPathDto=class{constructor(e,t,r,i,o,s){this.colour="#444444",this.opacity=1,this.width=10,this.updatable=!1,void 0!==e&&(this.path=e),void 0!==t&&(this.colour=t),void 0!==r&&(this.opacity=r),void 0!==i&&(this.width=i),void 0!==o&&(this.updatable=o),void 0!==s&&(this.pathMesh=s)}},e.TransformSolidsDto=class{constructor(e,t){void 0!==e&&(this.meshes=e),void 0!==t&&(this.transformation=t)}},e.TransformSolidDto=class{constructor(e,t){void 0!==e&&(this.mesh=e),void 0!==t&&(this.transformation=t)}},e.DownloadSolidDto=class{constructor(e,t){void 0!==e&&(this.mesh=e),void 0!==t&&(this.fileName=t)}},e.DownloadGeometryDto=class{constructor(e,t,r){this.fileName="jscad-geometry",void 0!==e&&(this.geometry=e),void 0!==t&&(this.fileName=t),void 0!==r&&(this.options=r)}},e.DownloadSolidsDto=class{constructor(e,t){void 0!==e&&(this.meshes=e),void 0!==t&&(this.fileName=t)}},e.ColorizeDto=class{constructor(e,t){this.color="#0000ff",void 0!==e&&(this.geometry=e),void 0!==t&&(this.color=t)}},e.BooleanObjectsDto=class{constructor(e){void 0!==e&&(this.meshes=e)}},e.BooleanTwoObjectsDto=class{constructor(e,t){void 0!==e&&(this.first=e),void 0!==t&&(this.second=t)}},e.BooleanObjectsFromDto=class{constructor(e,t){void 0!==e&&(this.from=e),void 0!==t&&(this.meshes=t)}},e.ExpansionDto=class{constructor(e,r,i,o){this.delta=.1,this.corners=t.edge,this.segments=24,void 0!==e&&(this.geometry=e),void 0!==r&&(this.delta=r),void 0!==i&&(this.corners=i),void 0!==o&&(this.segments=o)}},e.OffsetDto=class{constructor(e,r,i,o){this.delta=.1,this.corners=t.edge,this.segments=24,void 0!==e&&(this.geometry=e),void 0!==r&&(this.delta=r),void 0!==i&&(this.corners=i),void 0!==o&&(this.segments=o)}},e.ExtrudeLinearDto=class{constructor(e,t,r,i){this.height=1,this.twistAngle=90,this.twistSteps=15,void 0!==e&&(this.geometry=e),void 0!==t&&(this.height=t),void 0!==r&&(this.twistAngle=r),void 0!==i&&(this.twistSteps=i)}},e.HullDto=class{constructor(e){void 0!==e&&(this.meshes=e)}},e.ExtrudeRectangularDto=class{constructor(e,t,r){this.height=1,this.size=1,void 0!==e&&(this.geometry=e),void 0!==t&&(this.height=t),void 0!==r&&(this.size=r)}},e.ExtrudeRectangularPointsDto=class{constructor(e,t,r){this.height=1,this.size=1,void 0!==e&&(this.points=e),void 0!==t&&(this.height=t),void 0!==r&&(this.size=r)}},e.ExtrudeRotateDto=class{constructor(e,t,r,i){this.angle=90,this.startAngle=0,this.segments=24,void 0!==e&&(this.polygon=e),void 0!==t&&(this.angle=t),void 0!==r&&(this.startAngle=r),void 0!==i&&(this.segments=i)}},e.PolylineDto=class{constructor(e){void 0!==e&&(this.polyline=e)}},e.CurveDto=class{constructor(e){void 0!==e&&(this.curve=e)}},e.PointsDto=class{constructor(e){void 0!==e&&(this.points=e)}},e.PathDto=class{constructor(e){void 0!==e&&(this.path=e)}},e.PathFromPointsDto=class{constructor(e,t){this.closed=!1,void 0!==e&&(this.points=e),void 0!==t&&(this.closed=t)}},e.PathsFromPointsDto=class{constructor(e){void 0!==e&&(this.pointsLists=e)}},e.PathFromPolylineDto=class{constructor(e,t){this.closed=!1,void 0!==e&&(this.polyline=e),void 0!==t&&(this.closed=t)}},e.PathAppendCurveDto=class{constructor(e,t){void 0!==e&&(this.curve=e),void 0!==t&&(this.path=t)}},e.PathAppendPointsDto=class{constructor(e,t){void 0!==e&&(this.points=e),void 0!==t&&(this.path=t)}},e.PathAppendPolylineDto=class{constructor(e,t){void 0!==e&&(this.polyline=e),void 0!==t&&(this.path=t)}},e.PathAppendArcDto=class{constructor(e,t,r,i,o,s,n,a){this.endPoint=[1,1],this.xAxisRotation=90,this.clockwise=!0,this.large=!1,this.segments=24,this.radiusX=1,this.radiusY=1,void 0!==e&&(this.path=e),void 0!==t&&(this.endPoint=t),void 0!==r&&(this.xAxisRotation=r),void 0!==i&&(this.clockwise=i),void 0!==o&&(this.large=o),void 0!==s&&(this.segments=s),void 0!==n&&(this.radiusX=n),void 0!==a&&(this.radiusY=a)}},e.CircleDto=class{constructor(e,t,r){this.center=[0,0],this.radius=1,this.segments=24,void 0!==e&&(this.center=e),void 0!==t&&(this.radius=t),void 0!==r&&(this.segments=r)}},e.EllipseDto=class{constructor(e,t,r){this.center=[0,0],this.radius=[1,2],this.segments=24,void 0!==e&&(this.center=e),void 0!==t&&(this.radius=t),void 0!==r&&(this.segments=r)}},e.SquareDto=class{constructor(e,t){this.center=[0,0],this.size=1,void 0!==e&&(this.center=e),void 0!==t&&(this.size=t)}},e.RectangleDto=class{constructor(e,t,r){this.center=[0,0],this.width=1,this.length=1,void 0!==e&&(this.center=e),void 0!==t&&(this.width=t),void 0!==r&&(this.length=r)}},e.RoundedRectangleDto=class{constructor(e,t,r,i,o){this.center=[0,0],this.roundRadius=.2,this.segments=24,this.width=1,this.length=1,void 0!==e&&(this.center=e),void 0!==t&&(this.roundRadius=t),void 0!==r&&(this.segments=r),void 0!==i&&(this.width=i),void 0!==o&&(this.length=o)}},e.StarDto=class{constructor(e,t,r,i,o,s){this.center=[0,0],this.vertices=10,this.density=1,this.outerRadius=2,this.innerRadius=1,this.startAngle=0,void 0!==e&&(this.center=e),void 0!==t&&(this.vertices=t),void 0!==r&&(this.density=r),void 0!==i&&(this.outerRadius=i),void 0!==o&&(this.innerRadius=o),void 0!==s&&(this.startAngle=s)}},e.CubeDto=class{constructor(e,t){this.center=[0,0,0],this.size=1,void 0!==e&&(this.center=e),void 0!==t&&(this.size=t)}},e.CubeCentersDto=class{constructor(e,t){this.size=1,void 0!==e&&(this.centers=e),void 0!==t&&(this.size=t)}},e.CuboidDto=class{constructor(e,t,r,i){this.center=[0,0,0],this.width=1,this.length=1,this.height=1,void 0!==e&&(this.center=e),void 0!==t&&(this.width=t),void 0!==r&&(this.length=r),void 0!==i&&(this.height=i)}},e.CuboidCentersDto=class{constructor(e,t,r,i){this.width=1,this.length=1,this.height=1,void 0!==e&&(this.centers=e),void 0!==t&&(this.width=t),void 0!==r&&(this.length=r),void 0!==i&&(this.height=i)}},e.RoundedCuboidDto=class{constructor(e,t,r,i,o,s){this.center=[0,0,0],this.roundRadius=1,this.width=1,this.length=1,this.height=1,this.segments=24,void 0!==e&&(this.center=e),void 0!==t&&(this.roundRadius=t),void 0!==r&&(this.width=r),void 0!==i&&(this.length=i),void 0!==o&&(this.height=o),void 0!==s&&(this.segments=s)}},e.RoundedCuboidCentersDto=class{constructor(e,t,r,i,o,s){this.roundRadius=.1,this.width=1,this.length=1,this.height=1,this.segments=24,void 0!==e&&(this.centers=e),void 0!==t&&(this.roundRadius=t),void 0!==r&&(this.width=r),void 0!==i&&(this.length=i),void 0!==o&&(this.height=o),void 0!==s&&(this.segments=s)}},e.CylidnerEllipticDto=class{constructor(e,t,r,i,o){this.center=[0,0,0],this.height=1,this.startRadius=[1,2],this.endRadius=[2,3],this.segments=24,void 0!==e&&(this.center=e),void 0!==t&&(this.height=t),void 0!==r&&(this.startRadius=r),void 0!==i&&(this.endRadius=i),void 0!==o&&(this.segments=o)}},e.CylidnerCentersEllipticDto=class{constructor(e,t,r,i,o){this.height=1,this.startRadius=[1,2],this.endRadius=[2,3],this.segments=24,void 0!==e&&(this.centers=e),void 0!==t&&(this.height=t),void 0!==r&&(this.startRadius=r),void 0!==i&&(this.endRadius=i),void 0!==o&&(this.segments=o)}},e.CylidnerDto=class{constructor(e,t,r,i){this.center=[0,0,0],this.height=1,this.radius=1,this.segments=24,void 0!==e&&(this.center=e),void 0!==t&&(this.height=t),void 0!==r&&(this.radius=r),void 0!==i&&(this.segments=i)}},e.RoundedCylidnerDto=class{constructor(e,t,r,i,o){this.center=[0,0,0],this.roundRadius=.1,this.height=1,this.radius=1,this.segments=24,void 0!==e&&(this.center=e),void 0!==t&&(this.roundRadius=t),void 0!==r&&(this.height=r),void 0!==i&&(this.radius=i),void 0!==o&&(this.segments=o)}},e.EllipsoidDto=class{constructor(e,t,r){this.center=[0,0,0],this.radius=[1,2,3],this.segments=24,void 0!==e&&(this.center=e),void 0!==t&&(this.radius=t),void 0!==r&&(this.segments=r)}},e.EllipsoidCentersDto=class{constructor(e,t,r){this.radius=[1,2,3],this.segments=24,void 0!==e&&(this.centers=e),void 0!==t&&(this.radius=t),void 0!==r&&(this.segments=r)}},e.GeodesicSphereDto=class{constructor(e,t,r){this.center=[0,0,0],this.radius=1,this.frequency=12,void 0!==e&&(this.center=e),void 0!==t&&(this.radius=t),void 0!==r&&(this.frequency=r)}},e.GeodesicSphereCentersDto=class{constructor(e,t,r){this.radius=1,this.frequency=12,void 0!==e&&(this.centers=e),void 0!==t&&(this.radius=t),void 0!==r&&(this.frequency=r)}},e.CylidnerCentersDto=class{constructor(e,t,r,i){this.height=1,this.radius=1,this.segments=24,void 0!==e&&(this.centers=e),void 0!==t&&(this.height=t),void 0!==r&&(this.radius=r),void 0!==i&&(this.segments=i)}},e.RoundedCylidnerCentersDto=class{constructor(e,t,r,i,o){this.roundRadius=.1,this.height=1,this.radius=1,this.segments=24,void 0!==e&&(this.centers=e),void 0!==t&&(this.roundRadius=t),void 0!==r&&(this.height=r),void 0!==i&&(this.radius=i),void 0!==o&&(this.segments=o)}},e.SphereDto=class{constructor(e,t,r){this.center=[0,0,0],this.radius=1,this.segments=24,void 0!==e&&(this.center=e),void 0!==t&&(this.radius=t),void 0!==r&&(this.segments=r)}},e.SphereCentersDto=class{constructor(e,t,r){this.radius=1,this.segments=24,void 0!==e&&(this.centers=e),void 0!==t&&(this.radius=t),void 0!==r&&(this.segments=r)}},e.TorusDto=class{constructor(e,t,r,i,o,s,n,a){this.center=[0,0,0],this.innerRadius=1,this.outerRadius=2,this.innerSegments=24,this.outerSegments=24,this.innerRotation=0,this.outerRotation=360,this.startAngle=0,void 0!==e&&(this.center=e),void 0!==t&&(this.innerRadius=t),void 0!==r&&(this.outerRadius=r),void 0!==i&&(this.innerSegments=i),void 0!==o&&(this.outerSegments=o),void 0!==s&&(this.innerRotation=s),void 0!==n&&(this.outerRotation=n),void 0!==a&&(this.startAngle=a)}},e.TextDto=class{constructor(e,t,i,o,s,n,a,c,h){this.text="Hello World",this.segments=24,this.xOffset=0,this.yOffset=0,this.height=1,this.lineSpacing=1.4,this.letterSpacing=1,this.align=r.center,this.extrudeOffset=0,void 0!==e&&(this.text=e),void 0!==t&&(this.segments=t),void 0!==i&&(this.xOffset=i),void 0!==o&&(this.yOffset=o),void 0!==s&&(this.height=s),void 0!==n&&(this.lineSpacing=n),void 0!==a&&(this.letterSpacing=a),void 0!==c&&(this.align=c),void 0!==h&&(this.extrudeOffset=h)}},e.CylinderTextDto=class{constructor(e,t,i,o,s,n,a,c,h,l,u){this.text="Hello World",this.extrusionHeight=.5,this.extrusionSize=.1,this.segments=24,this.xOffset=0,this.yOffset=0,this.height=1,this.lineSpacing=1.4,this.letterSpacing=1,this.align=r.center,this.extrudeOffset=0,void 0!==e&&(this.text=e),void 0!==t&&(this.extrusionHeight=t),void 0!==i&&(this.extrusionSize=i),void 0!==o&&(this.segments=o),void 0!==s&&(this.xOffset=s),void 0!==n&&(this.yOffset=n),void 0!==a&&(this.height=a),void 0!==c&&(this.lineSpacing=c),void 0!==h&&(this.letterSpacing=h),void 0!==l&&(this.align=l),void 0!==u&&(this.extrudeOffset=u)}},e.SphereTextDto=class{constructor(e,t,i,o,s,n,a,c,h,l){this.text="Hello World",this.radius=.1,this.segments=24,this.xOffset=0,this.yOffset=0,this.height=1,this.lineSpacing=1.4,this.letterSpacing=1,this.align=r.center,this.extrudeOffset=0,void 0!==e&&(this.text=e),void 0!==t&&(this.radius=t),void 0!==i&&(this.segments=i),void 0!==o&&(this.xOffset=o),void 0!==s&&(this.yOffset=s),void 0!==n&&(this.height=n),void 0!==a&&(this.lineSpacing=a),void 0!==c&&(this.letterSpacing=c),void 0!==h&&(this.align=h),void 0!==l&&(this.extrudeOffset=l)}},e.FromPolygonPoints=class{constructor(e){void 0!==e&&(this.polygonPoints=e)}}}(wt||(wt={})),function(e){let t,r;!function(e){e.evenOdd="EvenOdd",e.nonZero="NonZero",e.positive="Positive",e.negative="Negative"}(t=e.fillRuleEnum||(e.fillRuleEnum={})),function(e){e.square="Square",e.round="Round",e.miter="Miter",e.bevel="Bevel"}(r=e.manifoldJoinTypeEnum||(e.manifoldJoinTypeEnum={})),e.DecomposedManifoldMeshDto=class{},e.DrawManifoldOrCrossSectionDto=class{constructor(e,t,r,i,o,s,n,a,c,h,l){this.faceOpacity=1,this.faceColour="#ff0000",this.crossSectionColour="#ff00ff",this.crossSectionWidth=2,this.crossSectionOpacity=1,this.computeNormals=!1,this.drawTwoSided=!0,this.backFaceColour="#0000ff",this.backFaceOpacity=1,void 0!==e&&(this.manifoldOrCrossSection=e),void 0!==t&&(this.faceOpacity=t),void 0!==r&&(this.faceMaterial=r),void 0!==i&&(this.faceColour=i),void 0!==o&&(this.crossSectionColour=o),void 0!==s&&(this.crossSectionWidth=s),void 0!==n&&(this.crossSectionOpacity=n),void 0!==a&&(this.computeNormals=a),void 0!==c&&(this.drawTwoSided=c),void 0!==h&&(this.backFaceColour=h),void 0!==l&&(this.backFaceOpacity=l)}},e.DrawManifoldsOrCrossSectionsDto=class{constructor(e,t,r,i,o,s,n,a,c,h,l){this.faceColour="#ff0000",this.faceOpacity=1,this.crossSectionColour="#ff00ff",this.crossSectionWidth=2,this.crossSectionOpacity=1,this.computeNormals=!1,this.drawTwoSided=!0,this.backFaceColour="#0000ff",this.backFaceOpacity=1,void 0!==e&&(this.manifoldsOrCrossSections=e),void 0!==t&&(this.faceOpacity=t),void 0!==r&&(this.faceMaterial=r),void 0!==i&&(this.faceColour=i),void 0!==o&&(this.crossSectionColour=o),void 0!==s&&(this.crossSectionWidth=s),void 0!==n&&(this.crossSectionOpacity=n),void 0!==a&&(this.computeNormals=a),void 0!==c&&(this.drawTwoSided=c),void 0!==h&&(this.backFaceColour=h),void 0!==l&&(this.backFaceOpacity=l)}},e.CreateFromMeshDto=class{constructor(e){void 0!==e&&(this.mesh=e)}},e.FromPolygonPointsDto=class{constructor(e){void 0!==e&&(this.polygonPoints=e)}},e.CrossSectionFromPolygonPointsDto=class{constructor(e,r,i,o){this.fillRule=t.positive,this.removeDuplicates=!1,this.tolerance=1e-7,void 0!==e&&(this.points=e),void 0!==r&&(this.fillRule=r),void 0!==i&&(this.removeDuplicates=i),void 0!==o&&(this.tolerance=o)}},e.CrossSectionFromPolygonsPointsDto=class{constructor(e,r,i,o){this.fillRule=t.positive,this.removeDuplicates=!1,this.tolerance=1e-7,void 0!==e&&(this.polygonPoints=e),void 0!==r&&(this.fillRule=r),void 0!==i&&(this.removeDuplicates=i),void 0!==o&&(this.tolerance=o)}},e.CubeDto=class{constructor(e,t){this.center=!0,this.size=1,void 0!==e&&(this.center=e),void 0!==t&&(this.size=t)}},e.CreateContourSectionDto=class{constructor(e,r){this.fillRule=t.evenOdd,void 0!==e&&(this.polygons=e),void 0!==r&&(this.fillRule=r)}},e.SquareDto=class{constructor(e,t){this.center=!1,this.size=1,void 0!==e&&(this.center=e),void 0!==t&&(this.size=t)}},e.SphereDto=class{constructor(e,t){this.radius=1,void 0!==e&&(this.radius=e),void 0!==t&&(this.circularSegments=t)}},e.CylinderDto=class{constructor(e,t,r,i,o){this.height=1,this.radiusLow=1,this.radiusHigh=1,this.circularSegments=32,this.center=!0,void 0!==e&&(this.height=e),void 0!==t&&(this.radiusLow=t),void 0!==r&&(this.radiusHigh=r),void 0!==i&&(this.circularSegments=i),void 0!==o&&(this.center=o)}},e.CircleDto=class{constructor(e,t){this.radius=1,this.circularSegments=32,void 0!==e&&(this.radius=e),void 0!==t&&(this.circularSegments=t)}},e.RectangleDto=class{constructor(e,t,r){this.length=1,this.height=1,this.center=!1,void 0!==e&&(this.length=e),void 0!==t&&(this.height=t),void 0!==r&&(this.center=r)}},e.ManifoldDto=class{constructor(e){void 0!==e&&(this.manifold=e)}},e.CalculateNormalsDto=class{constructor(e,t,r){this.normalIdx=0,this.minSharpAngle=0,void 0!==e&&(this.manifold=e),void 0!==t&&(this.normalIdx=t),void 0!==r&&(this.minSharpAngle=r)}},e.CalculateCurvatureDto=class{constructor(e){void 0!==e&&(this.manifold=e)}},e.CountDto=class{constructor(e){void 0!==e&&(this.count=e)}},e.ManifoldsMinGapDto=class{constructor(e,t,r){this.searchLength=100,void 0!==e&&(this.manifold1=e),void 0!==t&&(this.manifold2=t),void 0!==r&&(this.searchLength=r)}},e.ManifoldRefineToleranceDto=class{constructor(e,t){this.tolerance=1e-6,void 0!==e&&(this.manifold=e),void 0!==t&&(this.tolerance=t)}},e.ManifoldRefineLengthDto=class{constructor(e,t){this.length=.1,void 0!==e&&(this.manifold=e),void 0!==t&&(this.length=t)}},e.ManifoldRefineDto=class{constructor(e,t){this.number=1,void 0!==e&&(this.manifold=e),void 0!==t&&(this.number=t)}},e.ManifoldSmoothByNormalsDto=class{constructor(e,t){this.normalIdx=0,void 0!==e&&(this.manifold=e),void 0!==t&&(this.normalIdx=t)}},e.ManifoldSimplifyDto=class{constructor(e,t){void 0!==e&&(this.manifold=e),void 0!==t&&(this.tolerance=t)}},e.ManifoldSetPropertiesDto=class{constructor(e,t,r){this.numProp=3,void 0!==e&&(this.manifold=e),void 0!==t&&(this.numProp=t),void 0!==r&&(this.propFunc=r)}},e.ManifoldSmoothOutDto=class{constructor(e,t,r){this.minSharpAngle=60,this.minSmoothness=0,void 0!==e&&(this.manifold=e),void 0!==t&&(this.minSharpAngle=t),void 0!==r&&(this.minSmoothness=r)}},e.HullPointsDto=class{constructor(e){void 0!==e&&(this.points=e)}},e.SliceDto=class{constructor(e){this.height=.5,void 0!==e&&(this.manifold=e)}},e.MeshDto=class{constructor(e){void 0!==e&&(this.mesh=e)}},e.MeshVertexIndexDto=class{constructor(e,t){void 0!==e&&(this.mesh=e),void 0!==t&&(this.vertexIndex=t)}},e.MeshTriangleRunIndexDto=class{constructor(e,t){void 0!==e&&(this.mesh=e),void 0!==t&&(this.triangleRunIndex=t)}},e.MeshHalfEdgeIndexDto=class{constructor(e,t){void 0!==e&&(this.mesh=e),void 0!==t&&(this.halfEdgeIndex=t)}},e.MeshTriangleIndexDto=class{constructor(e,t){void 0!==e&&(this.mesh=e),void 0!==t&&(this.triangleIndex=t)}},e.CrossSectionDto=class{constructor(e){void 0!==e&&(this.crossSection=e)}},e.CrossSectionsDto=class{constructor(e){void 0!==e&&(this.crossSections=e)}},e.ExtrudeDto=class{constructor(e){this.height=1,this.nDivisions=1,this.twistDegrees=0,this.scaleTopX=1,this.scaleTopY=1,this.center=!0,void 0!==e&&(this.crossSection=e)}},e.RevolveDto=class{constructor(e,t,r,i){this.matchProfile=!0,this.circularSegments=32,void 0!==e&&(this.crossSection=e),void 0!==t&&(this.revolveDegrees=t),void 0!==r&&(this.matchProfile=r),void 0!==i&&(this.circularSegments=i)}},e.OffsetDto=class{constructor(e,t,i,o,s){this.joinType=r.round,this.miterLimit=2,this.circularSegments=32,void 0!==e&&(this.crossSection=e),void 0!==t&&(this.delta=t),void 0!==i&&(this.joinType=i),void 0!==o&&(this.miterLimit=o),void 0!==s&&(this.circularSegments=s)}},e.SimplifyDto=class{constructor(e,t){this.epsilon=1e-6,void 0!==e&&(this.crossSection=e),void 0!==t&&(this.epsilon=t)}},e.ComposeDto=class{constructor(e){void 0!==e&&(this.polygons=e)}},e.MirrorCrossSectionDto=class{constructor(e,t){this.normal=[1,0],void 0!==e&&(this.crossSection=e),void 0!==t&&(this.normal=t)}},e.Scale2DCrossSectionDto=class{constructor(e,t){this.vector=[2,2],void 0!==e&&(this.crossSection=e),void 0!==t&&(this.vector=t)}},e.TranslateCrossSectionDto=class{constructor(e,t){void 0!==e&&(this.crossSection=e),void 0!==t&&(this.vector=t)}},e.RotateCrossSectionDto=class{constructor(e,t){void 0!==e&&(this.crossSection=e),void 0!==t&&(this.degrees=t)}},e.ScaleCrossSectionDto=class{constructor(e,t){this.factor=2,void 0!==e&&(this.crossSection=e),void 0!==t&&(this.factor=t)}},e.TranslateXYCrossSectionDto=class{constructor(e,t,r){this.x=0,this.y=0,void 0!==e&&(this.crossSection=e),void 0!==t&&(this.x=t),void 0!==r&&(this.y=r)}},e.TransformCrossSectionDto=class{constructor(e,t){void 0!==e&&(this.crossSection=e),void 0!==t&&(this.transform=t)}},e.CrossSectionWarpDto=class{constructor(e,t){void 0!==e&&(this.crossSection=e),void 0!==t&&(this.warpFunc=t)}},e.MirrorDto=class{constructor(e,t){this.normal=[1,0,0],void 0!==e&&(this.manifold=e),void 0!==t&&(this.normal=t)}},e.Scale3DDto=class{constructor(e,t){this.vector=[2,2,2],void 0!==e&&(this.manifold=e),void 0!==t&&(this.vector=t)}},e.TranslateDto=class{constructor(e,t){void 0!==e&&(this.manifold=e),void 0!==t&&(this.vector=t)}},e.TranslateByVectorsDto=class{constructor(e,t){void 0!==e&&(this.manifold=e),void 0!==t&&(this.vectors=t)}},e.RotateDto=class{constructor(e,t){void 0!==e&&(this.manifold=e),void 0!==t&&(this.vector=t)}},e.RotateXYZDto=class{constructor(e,t,r,i){this.x=0,this.y=0,this.z=0,void 0!==e&&(this.manifold=e),void 0!==t&&(this.x=t),void 0!==r&&(this.y=r),void 0!==i&&(this.z=i)}},e.ScaleDto=class{constructor(e,t){this.factor=2,void 0!==e&&(this.manifold=e),void 0!==t&&(this.factor=t)}},e.TranslateXYZDto=class{constructor(e,t,r,i){this.x=0,this.y=0,this.z=0,void 0!==e&&(this.manifold=e),void 0!==t&&(this.x=t),void 0!==r&&(this.y=r),void 0!==i&&(this.z=i)}},e.TransformDto=class{constructor(e,t){void 0!==e&&(this.manifold=e),void 0!==t&&(this.transform=t)}},e.TransformsDto=class{constructor(e,t){void 0!==e&&(this.manifold=e),void 0!==t&&(this.transforms=t)}},e.ManifoldWarpDto=class{constructor(e,t){void 0!==e&&(this.manifold=e),void 0!==t&&(this.warpFunc=t)}},e.TwoCrossSectionsDto=class{constructor(e,t){void 0!==e&&(this.crossSection1=e),void 0!==t&&(this.crossSection2=t)}},e.TwoManifoldsDto=class{constructor(e,t){void 0!==e&&(this.manifold1=e),void 0!==t&&(this.manifold2=t)}},e.SplitManifoldsDto=class{constructor(e,t){void 0!==e&&(this.manifoldToSplit=e),void 0!==t&&(this.manifoldCutter=t)}},e.TrimByPlaneDto=class{constructor(e,t,r){this.normal=[1,0,0],this.originOffset=0,void 0!==e&&(this.manifold=e),void 0!==t&&(this.normal=t),void 0!==r&&(this.originOffset=r)}},e.SplitByPlaneDto=class{constructor(e,t,r){this.normal=[1,0,0],this.originOffset=0,void 0!==e&&(this.manifold=e),void 0!==t&&(this.normal=t),void 0!==r&&(this.originOffset=r)}},e.SplitByPlaneOnOffsetsDto=class{constructor(e,t,r){this.normal=[1,0,0],this.originOffsets=[0],void 0!==e&&(this.manifold=e),void 0!==t&&(this.normal=t),void 0!==r&&(this.originOffsets=r)}},e.ManifoldsDto=class{constructor(e){void 0!==e&&(this.manifolds=e)}},e.ManifoldToMeshDto=class{constructor(e,t){void 0!==e&&(this.manifold=e),void 0!==t&&(this.normalIdx=t)}},e.ManifoldsToMeshesDto=class{constructor(e,t){void 0!==e&&(this.manifolds=e),void 0!==t&&(this.normalIdx=t)}},e.DecomposeManifoldOrCrossSectionDto=class{constructor(e,t){void 0!==e&&(this.manifoldOrCrossSection=e),void 0!==t&&(this.normalIdx=t)}},e.ManifoldOrCrossSectionDto=class{constructor(e){void 0!==e&&(this.manifoldOrCrossSection=e)}},e.ManifoldsOrCrossSectionsDto=class{constructor(e){void 0!==e&&(this.manifoldsOrCrossSections=e)}},e.DecomposeManifoldsOrCrossSectionsDto=class{constructor(e,t){void 0!==e&&(this.manifoldsOrCrossSections=e),void 0!==t&&(this.normalIdx=t)}}}(Tt||(Tt={}));class Wt extends y{constructor(e,t){super(e),this.occWorkerManager=e,this.context=t}loadSTEPorIGES(e){return this.context.getFile(e.assetFile).then(t=>this.occWorkerManager.genericCallToWorkerPromise("io.loadSTEPorIGES",new ot.LoadStepOrIgesDto(t,e.assetFile.name,e.adjustZtoY)))}loadSTEPorIGESFromText(e){return this.occWorkerManager.genericCallToWorkerPromise("io.loadSTEPorIGES",new ot.LoadStepOrIgesDto(e.text,`fake.${e.fileType}`,e.adjustZtoY))}}class St extends L{constructor(e,t){super(t),this.context=e,this.occWorkerManager=t,this.io=new Wt(t,e)}}class Mt{constructor(e,t){this.context=e,this.math=t}createCircle(e){return new this.context.verb.geom.Circle(e.center,e.xAxis,e.yAxis,e.radius)}createArc(e){return new this.context.verb.geom.Arc(e.center,e.xAxis,e.yAxis,e.radius,this.math.degToRad({number:e.minAngle}),this.math.degToRad({number:e.maxAngle}))}center(e){return e.circle.center()}radius(e){return e.circle.radius()}maxAngle(e){return this.math.radToDeg({number:e.circle.maxAngle()})}minAngle(e){return this.math.radToDeg({number:e.circle.minAngle()})}xAxis(e){return e.circle.xaxis()}yAxis(e){return e.circle.yaxis()}}class Dt{constructor(e,t){this.context=e,this.math=t}createEllipse(e){return new this.context.verb.geom.Ellipse(e.center,e.xAxis,e.yAxis)}createArc(e){return new this.context.verb.geom.EllipseArc(e.center,e.xAxis,e.yAxis,this.math.degToRad({number:e.minAngle}),this.math.degToRad({number:e.maxAngle}))}center(e){return e.ellipse.center()}maxAngle(e){return this.math.radToDeg({number:e.ellipse.maxAngle()})}minAngle(e){return this.math.radToDeg({number:e.ellipse.minAngle()})}xAxis(e){return e.ellipse.xaxis()}yAxis(e){return e.ellipse.yaxis()}}class Et{constructor(e,t,r){this.context=e,this.geometryHelper=t,this.math=r,this.circle=new Mt(e,this.math),this.ellipse=new Dt(e,this.math)}createCurveByKnotsControlPointsWeights(e){return this.context.verb.geom.NurbsCurve.byKnotsControlPointsWeights(e.degree,e.knots,e.points,e.weights)}createCurveByPoints(e){return this.context.verb.geom.NurbsCurve.byPoints(e.points,e.degree)}convertLinesToNurbsCurves(e){return e.lines.map(e=>new this.context.verb.geom.Line(e.start,e.end))}convertLineToNurbsCurve(e){return new this.context.verb.geom.Line(e.line.start,e.line.end)}convertPolylineToNurbsCurve(e){return this.context.verb.geom.NurbsCurve.byPoints(e.polyline.points,1)}convertPolylinesToNurbsCurves(e){return e.polylines.map(e=>this.convertPolylineToNurbsCurve({polyline:e}))}createBezierCurve(e){return new this.context.verb.geom.BezierCurve(e.points,e.weights)}clone(e){return e.curve.clone()}closestParam(e){return e.curve.closestParam(e.point)}closestParams(e){return e.points.map(t=>e.curve.closestParam(t))}closestPoint(e){return e.curve.closestPoint(e.point)}closestPoints(e){return e.points.map(t=>e.curve.closestPoint(t))}controlPoints(e){return e.curve.controlPoints()}degree(e){return e.curve.degree()}derivatives(e){return e.curve.derivatives(e.parameter,e.numDerivatives)}divideByEqualArcLengthToParams(e){return e.curve.divideByEqualArcLength(e.subdivision).map(e=>e.u)}divideByEqualArcLengthToPoints(e){return e.curve.divideByEqualArcLength(e.subdivision).map(t=>e.curve.point(t.u))}divideByArcLengthToParams(e){return e.curve.divideByArcLength(e.length).map(e=>e.u)}divideByArcLengthToPoints(e){return e.curve.divideByArcLength(e.length).map(t=>e.curve.point(t.u))}divideCurvesByEqualArcLengthToPoints(e){return e.curves.map(t=>this.divideByEqualArcLengthToPoints({curve:t,subdivision:e.subdivision}))}divideCurvesByArcLengthToPoints(e){return e.curves.map(t=>this.divideByArcLengthToPoints({curve:t,length:e.length}))}domain(e){return e.curve.domain()}startPoint(e){return e.curve.point(e.curve.domain().min)}endPoint(e){return e.curve.point(e.curve.domain().max)}startPoints(e){return e.curves.map(e=>this.startPoint({curve:e}))}endPoints(e){return e.curves.map(e=>this.endPoint({curve:e}))}knots(e){return e.curve.knots()}lengthAtParam(e){return e.curve.lengthAtParam(e.parameter)}length(e){return e.curve.length()}paramAtLength(e){return e.curve.paramAtLength(e.length,e.tolerance)}pointAtParam(e){return e.curve.point(e.parameter)}pointsAtParam(e){return e.curves.map(t=>this.pointAtParam({curve:t,parameter:e.parameter}))}reverse(e){return e.curve.reverse()}split(e){return e.curve.split(e.parameter)}tangent(e){return e.curve.tangent(e.parameter)}tessellate(e){return e.curve.tessellate(e.tolerance)}transform(e){const t=e.curve.controlPoints(),r=this.geometryHelper.transformControlPoints(e.transformation,t);return this.context.verb.geom.NurbsCurve.byKnotsControlPointsWeights(e.curve.degree(),e.curve.knots(),r,e.curve.weights())}transformCurves(e){return e.curves.map(t=>this.transform({curve:t,transformation:e.transformation}))}weights(e){return e.curve.weights()}}class Ot{constructor(e,t){this.context=e,this.geometryHelper=t}curves(e){return this.context.verb.geom.Intersect.curves(e.firstCurve,e.secondCurve,e.tolerance)}curveAndSurface(e){return this.context.verb.geom.Intersect.curveAndSurface(e.curve,e.surface,e.tolerance)}surfaces(e){return this.context.verb.geom.Intersect.surfaces(e.firstSurface,e.secondSurface)}curveCurveFirstParams(e){return e.intersections.filter(e=>e.u0>=0&&e.u0<=1).map(e=>e.u0)}curveCurveSecondParams(e){return e.intersections.filter(e=>e.u1>=0&&e.u1<=1).map(e=>e.u1)}curveCurveFirstPoints(e){return e.intersections.filter(e=>e.u0>=0&&e.u0<=1).map(e=>e.point0)}curveCurveSecondPoints(e){return e.intersections.filter(e=>e.u1>=0&&e.u1<=1).map(e=>e.point1)}curveSurfaceCurveParams(e){return e.intersections.filter(e=>e.u>=0&&e.u<=1).map(e=>e.u)}curveSurfaceSurfaceParams(e){return e.intersections.map(e=>e.uv)}curveSurfaceCurvePoints(e){return e.intersections.filter(e=>e.u>=0&&e.u<=1).map(e=>e.curvePoint)}curveSurfaceSurfacePoints(e){return e.intersections.map(e=>e.surfacePoint)}}class At{constructor(e){this.context=e}create(e){return new this.context.verb.geom.ConicalSurface(e.axis,e.xAxis,e.base,e.height,e.radius)}axis(e){return e.cone.axis()}base(e){return e.cone.base()}height(e){return e.cone.height()}radius(e){return e.cone.radius()}xAxis(e){return e.cone.xaxis()}}class Lt{constructor(e){this.context=e}create(e){return new this.context.verb.geom.CylindricalSurface(e.axis,e.xAxis,e.base,e.height,e.radius)}axis(e){return e.cylinder.axis()}base(e){return e.cylinder.base()}height(e){return e.cylinder.height()}radius(e){return e.cylinder.radius()}xAxis(e){return e.cylinder.xaxis()}}class Ft{constructor(e){this.context=e}create(e){return new this.context.verb.geom.ExtrudedSurface(e.profile,e.direction)}direction(e){return e.extrusion.direction()}profile(e){return e.extrusion.profile()}}class It{constructor(e,t){this.context=e,this.math=t}create(e){return new this.context.verb.geom.RevolvedSurface(e.profile,e.center,e.axis,this.math.degToRad({number:e.angle}))}profile(e){return e.revolution.profile()}center(e){return e.revolution.center()}axis(e){return e.revolution.axis()}angle(e){return this.math.radToDeg({number:e.revolution.angle()})}}class Rt{constructor(e){this.context=e}create(e){return new this.context.verb.geom.SphericalSurface(e.center,e.radius)}radius(e){return e.sphere.radius()}center(e){return e.sphere.center()}}class Bt{constructor(e){this.context=e}create(e){return new this.context.verb.geom.SweptSurface(e.profile,e.rail)}profile(e){return e.sweep.profile()}rail(e){return e.sweep.rail()}}class Nt{constructor(e,t,r){this.context=e,this.geometryHelper=t,this.math=r,this.cone=new At(e),this.cylinder=new Lt(e),this.extrusion=new Ft(e),this.sphere=new Rt(e),this.revolved=new It(e,r),this.sweep=new Bt(e)}boundaries(e){return e.surface.boundaries()}createSurfaceByCorners(e){return this.context.verb.geom.NurbsSurface.byCorners(e.point1,e.point2,e.point3,e.point4)}createSurfaceByKnotsControlPointsWeights(e){return this.context.verb.geom.NurbsSurface.byKnotsControlPointsWeights(e.degreeU,e.degreeV,e.knotsU,e.knotsV,e.points,e.weights)}createSurfaceByLoftingCurves(e){return this.context.verb.geom.NurbsSurface.byLoftingCurves(e.curves,e.degreeV)}clone(e){return e.surface.clone()}closestParam(e){return e.surface.closestParam(e.point)}closestPoint(e){return e.surface.closestPoint(e.point)}controlPoints(e){return e.surface.controlPoints()}degreeU(e){return e.surface.degreeU()}degreeV(e){return e.surface.degreeV()}derivatives(e){return e.surface.derivatives(e.u,e.v,e.numDerivatives)}domainU(e){return e.surface.domainU()}domainV(e){return e.surface.domainV()}isocurve(e){return e.surface.isocurve(e.parameter,e.useV)}isocurvesSubdivision(e){const t=.999999/e.isocurveSegments,r=this.context.verb.core.Vec.span(1e-7,.9999999,t);return e.includeLast||r.pop(),e.includeFirst||r.shift(),r.map(t=>e.surface.isocurve(t,e.useV))}isocurvesAtParams(e){return e.parameters.map(t=>e.surface.isocurve(t,e.useV))}knotsU(e){return e.surface.knotsU()}knotsV(e){return e.surface.knotsV()}normal(e){return e.surface.normal(e.u,e.v)}point(e){return e.surface.point(e.u,e.v)}reverse(e){return e.surface.reverse()}split(e){return e.surface.split(e.parameter,e.useV)}transformSurface(e){const t=e.surface.controlPoints(),r=e.transformation,i=[];return t.forEach(e=>{let t=e;t=this.geometryHelper.transformControlPoints(r,t),i.push(t)}),this.context.verb.geom.NurbsSurface.byKnotsControlPointsWeights(e.surface.degreeU(),e.surface.degreeV(),e.surface.knotsU(),e.surface.knotsV(),i,e.surface.weights())}weights(e){return e.surface.weights()}}class Ut{constructor(e,t,r){this.math=r,this.curve=new Et(e,t,this.math),this.surface=new Nt(e,t,this.math),this.intersect=new Ot(e,t)}}class jt{}var zt,Vt,Ht=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class qt{constructor(){this.assetManager=new jt}getFile(e){return this.assetManager.getAsset(e.fileName)}getTextFile(e){return Ht(this,void 0,void 0,function*(){const t=yield this.assetManager.getAsset(e.fileName);return yield t.text()})}getLocalFile(e){return this.assetManager.getLocalAsset(e.fileName)}getLocalTextFile(e){return Ht(this,void 0,void 0,function*(){const t=yield this.getLocalFile(e);return Array.isArray(t)?yield Promise.all(t.map(e=>e.text())):yield t.text()})}fetchBlob(e){return Ht(this,void 0,void 0,function*(){return(yield fetch(e.url)).blob()})}fetchFile(e){return Ht(this,void 0,void 0,function*(){const t=yield fetch(e.url),r=yield t.blob();return new File([r],e.url.split("/").pop().split("?")[0])})}fetchJSON(e){return Ht(this,void 0,void 0,function*(){return(yield fetch(e.url)).json()})}fetchText(e){return Ht(this,void 0,void 0,function*(){return(yield fetch(e.url)).text()})}createObjectURL(e){return URL.createObjectURL(e.file)}createObjectURLs(e){return e.files.map(e=>URL.createObjectURL(e))}download(e){let t;t="string"==typeof e.content?new Blob([e.content],{type:e.contentType}):e.content,this.assetManager.downloadFile(t,e.fileName,e.extension,e.contentType)}toArrayBuffer(e){return Ht(this,void 0,void 0,function*(){return yield e.file.arrayBuffer()})}toUint8Array(e){return Ht(this,void 0,void 0,function*(){const t=yield e.file.arrayBuffer();return new Uint8Array(t)})}blobToFile(e){var t;const r=null!==(t=e.mimeType)&&void 0!==t?t:e.blob.type;return new File([e.blob],e.fileName,{type:r})}fileToBlob(e){return e.file.slice(0,e.file.size,e.file.type)}arrayBufferToUint8Array(e){return new Uint8Array(e.arrayBuffer)}uint8ArrayToArrayBuffer(e){return e.uint8Array.buffer.slice(e.uint8Array.byteOffset,e.uint8Array.byteOffset+e.uint8Array.byteLength)}}!function(e){e.IntervalDto=class{constructor(){this.min=0,this.max=1}},e.UVDto=class{constructor(){this.u=0,this.v=0}},e.CurveCurveIntersection=class{},e.CurveSurfaceIntersection=class{},e.SurfaceSurfaceIntersectionPoint=class{}}(zt||(zt={}));class Gt{parseToArray(e){const t=this.convertEscapeSequences(e.rowSeparator||"\n"),r=this.convertEscapeSequences(e.columnSeparator||","),i=this.convertEscapeSequences(e.csv).split(t),o=[];for(let e=0;e<i.length;e++){const t=i[e].trim();if(!t)continue;const s=this.parseCsvLine(t,r);o.push(s)}return o}parseToJson(e){var t,r;const i=this.parseToArray({csv:e.csv,rowSeparator:e.rowSeparator,columnSeparator:e.columnSeparator});if(0===i.length)return[];const o=null!==(t=e.headerRow)&&void 0!==t?t:0,s=null!==(r=e.dataStartRow)&&void 0!==r?r:1;if(o>=i.length)throw new Error(`Header row ${o} is out of bounds (total rows: ${i.length})`);const n=i[o],a=new Set(e.numberColumns||[]),c=[];for(let e=s;e<i.length;e++){const t=i[e],r={};n.forEach((e,i)=>{const o=t[i]||"";if(a.has(e)){const t=parseFloat(o);r[e]=0===t?0:t}else r[e]=o}),c.push(r)}return c}parseToJsonWithHeaders(e){var t;const r=this.parseToArray({csv:e.csv,rowSeparator:e.rowSeparator,columnSeparator:e.columnSeparator});if(0===r.length)return[];const i=null!==(t=e.dataStartRow)&&void 0!==t?t:0,o=new Set(e.numberColumns||[]),s=[];for(let t=i;t<r.length;t++){const i=r[t],n={};e.headers.forEach((e,t)=>{const r=i[t]||"";if(o.has(e)){const t=parseFloat(r);n[e]=0===t?0:t}else n[e]=r}),s.push(n)}return s}queryColumn(e){const t=e.asNumber?[e.column]:void 0;return this.parseToJson({csv:e.csv,headerRow:e.headerRow,dataStartRow:e.dataStartRow,rowSeparator:e.rowSeparator,columnSeparator:e.columnSeparator,numberColumns:t}).map(t=>void 0!==t[e.column]?t[e.column]:"")}queryRowsByValue(e){var t;const r=this.parseToJson({csv:e.csv,headerRow:e.headerRow,dataStartRow:e.dataStartRow,rowSeparator:e.rowSeparator,columnSeparator:e.columnSeparator,numberColumns:e.numberColumns}),i=null===(t=e.numberColumns)||void 0===t?void 0:t.includes(e.column),o=i?parseFloat(e.value):e.value;return r.filter(t=>{const r=t[e.column];return i?r===o:r===e.value})}arrayToCsv(e){const t=this.convertEscapeSequences(e.columnSeparator||","),r=this.convertEscapeSequences(e.rowSeparator||"\n");return e.array.map(e=>e.map(e=>this.escapeCsvCell(e,t)).join(t)).join(r)}jsonToCsv(e){const t=this.convertEscapeSequences(e.columnSeparator||","),r=this.convertEscapeSequences(e.rowSeparator||"\n");if(!e.json||0===e.json.length)return e.includeHeaders?e.headers.join(t):"";const i=[];return e.includeHeaders&&i.push(e.headers.map(e=>this.escapeCsvCell(e,t)).join(t)),e.json.forEach(r=>{const o=e.headers.map(e=>{const i=r[e];return this.escapeCsvCell(null!=i?String(i):"",t)});i.push(o.join(t))}),i.join(r)}jsonToCsvAuto(e){var t;if(!e.json||0===e.json.length)return"";const r=Object.keys(e.json[0]);return this.jsonToCsv({json:e.json,headers:r,includeHeaders:null===(t=e.includeHeaders)||void 0===t||t,columnSeparator:e.columnSeparator,rowSeparator:e.rowSeparator})}getHeaders(e){var t;const r=this.parseToArray({csv:e.csv,rowSeparator:e.rowSeparator,columnSeparator:e.columnSeparator}),i=null!==(t=e.headerRow)&&void 0!==t?t:0;if(i>=r.length)throw new Error(`Header row ${i} is out of bounds (total rows: ${r.length})`);return r[i]}getRowCount(e){var t;const r=this.parseToArray({csv:e.csv,rowSeparator:e.rowSeparator,columnSeparator:e.columnSeparator}),i=null!==(t=e.dataStartRow)&&void 0!==t?t:e.hasHeaders?1:0;return Math.max(0,r.length-i)}getColumnCount(e){const t=this.parseToArray(e);return t.length>0?t[0].length:0}parseCsvLine(e,t){const r=[];let i="",o=!1;for(let s=0;s<e.length;s++){const n=e[s],a=e[s+1];'"'===n?o&&'"'===a?(i+='"',s++):o=!o:n!==t||o?i+=n:(r.push(i),i="")}return r.push(i),r}escapeCsvCell(e,t){const r=null!=e?String(e):"";return r.includes(t)||r.includes('"')||r.includes("\n")||r.includes("\r")?'"'+r.replace(/"/g,'""')+'"':r}convertEscapeSequences(e){return e.replace(/\\n/g,"\n").replace(/\\t/g,"\t").replace(/\\r/g,"\r")}}class Yt{constructor(e){this.context=e}stringify(e){return JSON.stringify(e.json)}parse(e){return JSON.parse(e.text)}query(e){return this.context.jsonpath({path:e.query,json:e.json})}setValueOnProp(e){const t=Object.assign({},structuredClone(e.json));return t[e.property]=e.value,t}getJsonFromArrayByFirstPropMatch(e){return e.jsonArray.find(t=>t[e.property]===e.match)}getValueOnProp(e){try{return Object.assign({},structuredClone(e.json))[e.property]}catch(t){return e.json[e.property]}}setValue(e){if(e.json instanceof Object){const t=Object.assign({},structuredClone(e.json)),r=t=>(t[e.prop]=e.value,t);return this.context.jsonpath({path:e.path,json:t,callback:r}),t}throw new Error("Json must be an object")}setValuesOnPaths(e){let t=Object.assign({},structuredClone(e.json));return e.paths.forEach((r,i)=>{t=this.setValue({json:t,path:r,value:e.values[i],prop:e.props[i]})}),t}paths(e){return this.context.jsonpath({json:e.json,path:e.query,resultType:"path"})}createEmpty(){return{}}previewAndSaveJson(e){e.json&&this.context.promptPrintSave({text:e.json,isJson:!0,hidden:!1})}previewJson(e){e.json&&this.context.promptPrint({text:e.json,isJson:!0,hidden:!1})}}class Xt{constructor(e){this.context=e}create(e){const t=new Pt.TagDto;return t.text=e.text,t.position=e.position,t.colour=e.colour,t.size=e.size,t.adaptDepth=e.adaptDepth,t}drawTag(e){if(e.tagVariable&&e.updatable){const t=this.context.tagBag.find(t=>t.id===e.tagVariable.id);Object.keys(e.tag).forEach(r=>{t[r]=e.tag[r]}),t.needsUpdate=!0}else{const t=document.createElement("span"),r="_tag"+(new Date).getTime()+this.context.tagBag.length;e.tag.id=r,t.id=r,t.textContent=e.tag.text,document.querySelector("."+this.context.canvasZoneClass).appendChild(t),e.tag.needsUpdate=!0,this.context.tagBag.push(e.tag)}return e.tag}drawTags(e){if(e.tagsVariable&&e.updatable){if(e.tagsVariable.length<e.tags.length)for(let t=e.tagsVariable.length-1;t<e.tags.length-1;t++){const r=e.tags[t],i=document.createElement("span"),o="_tag"+(new Date).getTime()+this.context.tagBag.length;r.id=o,i.id=o,document.querySelector("."+this.context.canvasZoneClass).appendChild(i),r.needsUpdate=!0,this.context.tagBag.push(r),e.tagsVariable.push(r)}e.tagsVariable.forEach((t,r)=>{const i=this.context.tagBag.find(e=>e.id===t.id),o=e.tags[r];if(o)Object.keys(o).forEach(e=>{i[e]=o[e]}),i.needsUpdate=!0;else{this.context.tagBag=this.context.tagBag.filter(e=>e.id!==i.id);const e=document.getElementById(i.id);e.parentNode.removeChild(e)}})}else{const t=[];e.tags.forEach((r,i)=>{const o=document.createElement("span"),s="_tag"+(new Date).getTime()+this.context.tagBag.length;r.id=s,o.id=s,o.textContent=r.text,document.querySelector("."+this.context.canvasZoneClass).appendChild(o),r.needsUpdate=!0,this.context.tagBag.push(r),t.push(r),e.tagsVariable=t})}return e.tagsVariable}}class Zt{constructor(e){this.context=e}registerRenderFunction(e){this.context.renderLoopBag.push(t=>{e(t)})}}!function(e){e[e.NONE=0]="NONE",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG"}(Vt||(Vt={}));class $t{constructor(){this.canvasZoneClass="canvasZone",this.tolerance=1e-5,this.snapTolerance=1e-5,this.tagBag=[],this.timeoutBag=[],this.intervalBag=[],this.renderLoopBag=[],this.keyDownBag=[],this.keyUpBag=[],this.keyPressBag=[],this.currentlyPressedKeys=[]}getFile(e){return new Promise((t,r)=>{if(e){const i=new FileReader;i.readAsText(e,"UTF-8"),i.onload=e=>{const r=e.target.result;t(r)},i.onerror=e=>{r()}}else r()})}remap(e,t,r,i,o){return(e-t)/(r-t)*(o-i)+i}}var Kt=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class Jt{constructor(e){this.jscadWorkerManager=e}intersect(e){return Kt(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("booleans.intersect",e)})}subtract(e){return Kt(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("booleans.subtract",e)})}union(e){return Kt(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("booleans.union",e)})}intersectTwo(e){return Kt(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("booleans.intersectTwo",e)})}subtractTwo(e){return Kt(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("booleans.subtractTwo",e)})}unionTwo(e){return Kt(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("booleans.unionTwo",e)})}subtractFrom(e){return Kt(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("booleans.subtractFrom",e)})}}var Qt=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class er{constructor(e){this.jscadWorkerManager=e}expand(e){return Qt(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("expansions.expand",e)})}offset(e){return Qt(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("expansions.offset",e)})}}var tr=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class rr{constructor(e){this.jscadWorkerManager=e}extrudeLinear(e){return tr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("extrusions.extrudeLinear",e)})}extrudeRectangular(e){return tr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("extrusions.extrudeRectangular",e)})}extrudeRectangularPoints(e){return tr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("extrusions.extrudeRectangularPoints",e)})}extrudeRotate(e){return tr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("extrusions.extrudeRotate",e)})}}var ir=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class or{constructor(e){this.jscadWorkerManager=e}hullChain(e){return ir(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("hulls.hullChain",e)})}hull(e){return ir(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("hulls.hullChain",e)})}}var sr=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class nr{constructor(e){this.jscadWorkerManager=e}createFromPoints(e){return sr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("path.createFromPoints",e)})}createPathsFromPoints(e){return sr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("path.createPathsFromPoints",e)})}createFromPolyline(e){return sr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("path.createFromPolyline",e)})}createEmpty(){return sr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("path.createEmpty",{})})}close(e){return sr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("path.close",e)})}appendPoints(e){return sr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("path.appendPoints",e)})}appendPolyline(e){return sr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("path.appendPolyline",e)})}appendArc(e){return sr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("path.appendArc",e)})}}var ar=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class cr{constructor(e){this.jscadWorkerManager=e}createFromPoints(e){return ar(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("polygon.createFromPoints",e)})}createFromPolyline(e){return ar(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("polygon.createFromPolyline",e)})}createFromCurve(e){return ar(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("polygon.createFromCurve",e)})}createFromPath(e){return ar(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("polygon.createFromPath",e)})}circle(e){return ar(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("polygon.circle",e)})}ellipse(e){return ar(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("polygon.ellipse",e)})}rectangle(e){return ar(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("polygon.rectangle",e)})}roundedRectangle(e){return ar(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("polygon.roundedRectangle",e)})}square(e){return ar(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("polygon.square",e)})}star(e){return ar(this,void 0,void 0,function*(){return yield this.jscadWorkerManager.genericCallToWorkerPromise("polygon.star",e)})}}var hr=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class lr{constructor(e){this.jscadWorkerManager=e}cube(e){return hr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("shapes.cube",e)})}cubesOnCenterPoints(e){return hr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("shapes.cubesOnCenterPoints",e)})}cuboid(e){return hr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("shapes.cuboid",e)})}cuboidsOnCenterPoints(e){return hr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("shapes.cuboidsOnCenterPoints",e)})}cylinderElliptic(e){return hr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("shapes.cylinderElliptic",e)})}cylinderEllipticOnCenterPoints(e){return hr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("shapes.cylinderEllipticOnCenterPoints",e)})}cylinder(e){return hr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("shapes.cylinder",e)})}cylindersOnCenterPoints(e){return hr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("shapes.cylindersOnCenterPoints",e)})}ellipsoid(e){return hr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("shapes.ellipsoid",e)})}ellipsoidsOnCenterPoints(e){return hr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("shapes.ellipsoidsOnCenterPoints",e)})}geodesicSphere(e){return hr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("shapes.geodesicSphere",e)})}geodesicSpheresOnCenterPoints(e){return hr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("shapes.geodesicSpheresOnCenterPoints",e)})}roundedCuboid(e){return hr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("shapes.roundedCuboid",e)})}roundedCuboidsOnCenterPoints(e){return hr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("shapes.roundedCuboidsOnCenterPoints",e)})}roundedCylinder(e){return hr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("shapes.roundedCylinder",e)})}roundedCylindersOnCenterPoints(e){return hr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("shapes.roundedCylindersOnCenterPoints",e)})}sphere(e){return hr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("shapes.sphere",e)})}spheresOnCenterPoints(e){return hr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("shapes.spheresOnCenterPoints",e)})}torus(e){return hr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("shapes.torus",e)})}fromPolygonPoints(e){return hr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("shapes.fromPolygonPoints",e)})}}var ur=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class dr{constructor(e){this.jscadWorkerManager=e}cylindricalText(e){return ur(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("text.cylindricalText",e)})}sphericalText(e){return ur(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("text.sphericalText",e)})}createVectorText(e){return ur(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("text.createVectorText",e)})}}class vr{constructor(e){this.jscadWorkerManager=e}colorize(e){return t=this,r=void 0,o=function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("colors.colorize",e)},new((i=void 0)||(i=Promise))(function(e,s){function n(e){try{c(o.next(e))}catch(e){s(e)}}function a(e){try{c(o.throw(e))}catch(e){s(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i(function(e){e(r)})).then(n,a)}c((o=o.apply(t,r||[])).next())});var t,r,i,o}}var fr,pr,mr=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class gr{constructor(e){this.jscadWorkerManager=e,this.booleans=new Jt(e),this.expansions=new er(e),this.extrusions=new rr(e),this.hulls=new or(e),this.path=new nr(e),this.polygon=new cr(e),this.shapes=new lr(e),this.text=new dr(e),this.colors=new vr(e)}toPolygonPoints(e){return mr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("toPolygonPoints",e)})}transformSolids(e){return mr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("transformSolids",e)})}transformSolid(e){return mr(this,void 0,void 0,function*(){return this.jscadWorkerManager.genericCallToWorkerPromise("transformSolid",e)})}downloadSolidSTL(e){return mr(this,void 0,void 0,function*(){const t=yield this.jscadWorkerManager.genericCallToWorkerPromise("downloadSolidSTL",e);this.downloadFile(t.blob,e.fileName,"stl")})}downloadSolidsSTL(e){return mr(this,void 0,void 0,function*(){const t=yield this.jscadWorkerManager.genericCallToWorkerPromise("downloadSolidsSTL",e);this.downloadFile(t.blob,e.fileName,"stl")})}downloadGeometryDxf(e){return mr(this,void 0,void 0,function*(){const t=yield this.jscadWorkerManager.genericCallToWorkerPromise("downloadGeometryDxf",e);this.downloadFile(t.blob,e.fileName,"dxf")})}downloadGeometry3MF(e){return mr(this,void 0,void 0,function*(){const t=yield this.jscadWorkerManager.genericCallToWorkerPromise("downloadGeometry3MF",e);this.downloadFile(t.blob,e.fileName,"3mf")})}downloadFile(e,t,r){const i=URL.createObjectURL(e),o=document.createElement("a");o.href=i,o.target="_self",o.download=t+"."+r,o.click(),o.remove()}}(pr=fr||(fr={}))[pr.loading=0]="loading",pr[pr.loaded=1]="loaded",pr[pr.initialised=2]="initialised",pr[pr.computing=3]="computing";class br{constructor(){this.jscadWorkerState$=new _e,this.promisesMade=[]}jscadWorkerAlreadyInitialised(){return!!this.jscadWorker}setJscadWorker(e){this.jscadWorker=e,this.jscadWorker.onmessage=({data:e})=>{if("jscad-initialised"===e)this.jscadWorkerState$.next({state:fr.initialised});else if("busy"===e)this.jscadWorkerState$.next({state:fr.computing});else{const t=this.promisesMade.find(t=>t.uid===e.uid);t&&e.result&&!e.error?t.resolve(e.result):e.error&&(this.errorCallback&&this.errorCallback(e.error),t.reject(e.error)),this.promisesMade=this.promisesMade.filter(t=>t.uid!==e.uid),0===this.promisesMade.length?this.jscadWorkerState$.next({state:fr.loaded}):this.jscadWorkerState$.next({state:fr.computing})}}}cleanPromisesMade(){this.promisesMade=[]}genericCallToWorkerPromise(e,t){const r=`call${Math.random()}${Date.now()}`,i={uid:r},o=new Promise((e,t)=>{i.resolve=e,i.reject=t});return i.promise=o,this.promisesMade.push(i),this.jscadWorker.postMessage({action:{functionName:e,inputs:t},uid:r}),o}startedTheRun(){return this.genericCallToWorkerPromise("startedTheRun",{})}cleanAllCache(){return this.genericCallToWorkerPromise("cleanAllCache",{})}}var kr=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class _r{constructor(e){this.manifoldWorkerManager=e}manifoldFromMesh(e){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.shapes.manifoldFromMesh",e)}fromPolygonPoints(e){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.shapes.fromPolygonPoints",e)}cube(e){return kr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.shapes.cube",e)})}sphere(e){return kr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.shapes.sphere",e)})}tetrahedron(){return kr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.shapes.tetrahedron",{})})}cylinder(e){return kr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.shapes.cylinder",e)})}}var Pr=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class Cr{constructor(e){this.manifoldWorkerManager=e}subtract(e){return Pr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.booleans.subtract",e)})}add(e){return Pr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.booleans.add",e)})}intersect(e){return Pr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.booleans.intersect",e)})}differenceTwo(e){return Pr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.booleans.differenceTwo",e)})}unionTwo(e){return Pr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.booleans.unionTwo",e)})}intersectionTwo(e){return Pr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.booleans.intersectionTwo",e)})}difference(e){return Pr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.booleans.difference",e)})}union(e){return Pr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.booleans.union",e)})}intersection(e){return Pr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.booleans.intersection",e)})}split(e){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.booleans.split",e)}splitByPlane(e){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.booleans.splitByPlane",e)}splitByPlaneOnOffsets(e){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.booleans.splitByPlaneOnOffsets",e)}trimByPlane(e){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.booleans.trimByPlane",e)}}var yr=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class xr{constructor(e){this.manifoldWorkerManager=e}hull(e){return yr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.operations.hull",e)})}hullPoints(e){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.operations.hullPoints",e)}slice(e){return yr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.operations.slice",e)})}project(e){return yr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.operations.project",e)})}setTolerance(e){return yr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.operations.setTolerance",e)})}reserveIds(e){return yr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.operations.reserveIds",e)})}asOriginal(e){return yr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.operations.asOriginal",e)})}compose(e){return yr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.operations.compose",e)})}decompose(e){return yr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.operations.decompose",e)})}calculateNormals(e){return yr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.operations.calculateNormals",e)})}calculateCurvature(e){return yr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.operations.calculateCurvature",e)})}refineToTolerance(e){return yr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.operations.refineToTolerance",e)})}refineToLength(e){return yr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.operations.refineToLength",e)})}refine(e){return yr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.operations.refine",e)})}smoothOut(e){return yr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.operations.smoothOut",e)})}smoothByNormals(e){return yr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.operations.smoothByNormals",e)})}simplify(e){return yr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.operations.simplify",e)})}setProperties(e){return yr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.operations.setProperties",e)})}}var wr=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class Tr{constructor(e){this.manifoldWorkerManager=e}scale3D(e){return wr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.transforms.scale3D",e)})}scale(e){return wr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.transforms.scale",e)})}mirror(e){return wr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.transforms.mirror",e)})}translate(e){return wr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.transforms.translate",e)})}translateByVectors(e){return wr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.transforms.translateByVectors",e)})}translateXYZ(e){return wr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.transforms.translateXYZ",e)})}rotate(e){return wr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.transforms.rotate",e)})}rotateXYZ(e){return wr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.transforms.rotateXYZ",e)})}transform(e){return wr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.transforms.transform",e)})}transforms(e){return wr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.transforms.transforms",e)})}warp(e){return wr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.transforms.warp",e)})}}var Wr=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class Sr{constructor(e){this.manifoldWorkerManager=e}surfaceArea(e){return Wr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.evaluate.surfaceArea",e)})}volume(e){return Wr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.evaluate.volume",e)})}isEmpty(e){return Wr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.evaluate.isEmpty",e)})}numVert(e){return Wr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.evaluate.numVert",e)})}numTri(e){return Wr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.evaluate.numTri",e)})}numEdge(e){return Wr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.evaluate.numEdge",e)})}numProp(e){return Wr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.evaluate.numProp",e)})}numPropVert(e){return Wr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.evaluate.numPropVert",e)})}boundingBox(e){return Wr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.evaluate.boundingBox",e)})}tolerance(e){return Wr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.evaluate.tolerance",e)})}genus(e){return Wr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.evaluate.genus",e)})}minGap(e){return Wr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.evaluate.minGap",e)})}originalID(e){return Wr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.evaluate.originalID",e)})}status(e){return Wr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.evaluate.status",e)})}}var Mr=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class Dr{constructor(e){this.manifoldWorkerManager=e,this.shapes=new _r(e),this.booleans=new Cr(e),this.operations=new xr(e),this.transforms=new Tr(e),this.evaluate=new Sr(e)}manifoldToMesh(e){return Mr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.manifoldToMesh",e)})}manifoldsToMeshes(e){return Mr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifold.manifoldsToMeshes",e)})}}var Er=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class Or{constructor(e){this.manifoldWorkerManager=e}hull(e){return Er(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.operations.hull",e)})}extrude(e){return Er(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.operations.extrude",e)})}revolve(e){return Er(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.operations.revolve",e)})}offset(e){return Er(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.operations.offset",e)})}simplify(e){return Er(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.operations.simplify",e)})}compose(e){return Er(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.operations.compose",e)})}decompose(e){return Er(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.operations.decompose",e)})}}var Ar=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class Lr{constructor(e){this.manifoldWorkerManager=e}create(e){return Ar(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.shapes.create",e)})}square(e){return Ar(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.shapes.square",e)})}circle(e){return Ar(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.shapes.circle",e)})}rectangle(e){return Ar(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.shapes.rectangle",e)})}}var Fr=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class Ir{constructor(e){this.manifoldWorkerManager=e}scale2D(e){return Fr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.transforms.scale2D",e)})}scale(e){return Fr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.transforms.scale",e)})}mirror(e){return Fr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.transforms.mirror",e)})}translate(e){return Fr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.transforms.translate",e)})}translateXY(e){return Fr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.transforms.translateXY",e)})}rotate(e){return Fr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.transforms.rotate",e)})}transform(e){return Fr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.transforms.transform",e)})}warp(e){return Fr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.transforms.warp",e)})}}var Rr=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class Br{constructor(e){this.manifoldWorkerManager=e}subtract(e){return Rr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.booleans.subtract",e)})}add(e){return Rr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.booleans.add",e)})}intersect(e){return Rr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.booleans.intersect",e)})}differenceTwo(e){return Rr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.booleans.differenceTwo",e)})}unionTwo(e){return Rr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.booleans.unionTwo",e)})}intersectionTwo(e){return Rr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.booleans.intersectionTwo",e)})}difference(e){return Rr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.booleans.difference",e)})}union(e){return Rr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.booleans.union",e)})}intersection(e){return Rr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.booleans.intersection",e)})}}var Nr=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class Ur{constructor(e){this.manifoldWorkerManager=e}area(e){return Nr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.evaluate.area",e)})}isEmpty(e){return Nr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.evaluate.isEmpty",e)})}numVert(e){return Nr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.evaluate.numVert",e)})}numContour(e){return Nr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.evaluate.numContour",e)})}bounds(e){return Nr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.evaluate.bounds",e)})}}var jr=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class zr{constructor(e){this.manifoldWorkerManager=e,this.shapes=new Lr(e),this.operations=new Or(e),this.booleans=new Br(e),this.transforms=new Ir(e),this.evaluate=new Ur(e)}crossSectionFromPoints(e){return jr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.crossSectionFromPoints",e)})}crossSectionFromPolygons(e){return jr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.crossSectionFromPolygons",e)})}crossSectionToPolygons(e){return jr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.crossSectionToPolygons",e)})}crossSectionToPoints(e){return jr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.crossSectionToPoints",e)})}crossSectionsToPolygons(e){return jr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.crossSectionsToPolygons",e)})}crossSectionsToPoints(e){return jr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("crossSection.crossSectionsToPoints",e)})}}class Vr{constructor(e){this.manifoldWorkerManager=e}merge(e){return t=this,r=void 0,o=function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("mesh.operations.merge",e)},new((i=void 0)||(i=Promise))(function(e,s){function n(e){try{c(o.next(e))}catch(e){s(e)}}function a(e){try{c(o.throw(e))}catch(e){s(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i(function(e){e(r)})).then(n,a)}c((o=o.apply(t,r||[])).next())});var t,r,i,o}}var Hr=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class qr{constructor(e){this.manifoldWorkerManager=e}position(e){return Hr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("mesh.evaluate.position",e)})}verts(e){return Hr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("mesh.evaluate.verts",e)})}tangent(e){return Hr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("mesh.evaluate.tangent",e)})}extras(e){return Hr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("mesh.evaluate.extras",e)})}transform(e){return Hr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("mesh.evaluate.transform",e)})}numProp(e){return Hr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("mesh.evaluate.numProp",e)})}numVert(e){return Hr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("mesh.evaluate.numVert",e)})}numTri(e){return Hr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("mesh.evaluate.numTri",e)})}numRun(e){return Hr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("mesh.evaluate.numRun",e)})}}class Gr{constructor(e){this.manifoldWorkerManager=e,this.operations=new Vr(e),this.evaluate=new qr(e)}}var Yr,Xr,Zr=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})};class $r{constructor(e){this.manifoldWorkerManager=e,this.manifold=new Dr(e),this.crossSection=new zr(e),this.mesh=new Gr(e)}manifoldToMeshPointer(e){return Zr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("manifoldToMeshPointer",e)})}decomposeManifoldOrCrossSection(e){return Zr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("decomposeManifoldOrCrossSection",e)})}toPolygonPoints(e){return Zr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("toPolygonPoints",e)})}decomposeManifoldsOrCrossSections(e){return Zr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("decomposeManifoldsOrCrossSections",e)})}deleteManifoldOrCrossSection(e){return Zr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("deleteManifoldOrCrossSection",e)})}deleteManifoldsOrCrossSections(e){return Zr(this,void 0,void 0,function*(){return this.manifoldWorkerManager.genericCallToWorkerPromise("deleteManifoldsOrCrossSections",e)})}}(Xr=Yr||(Yr={}))[Xr.loading=0]="loading",Xr[Xr.loaded=1]="loaded",Xr[Xr.initialised=2]="initialised",Xr[Xr.computing=3]="computing";class Kr{constructor(){this.manifoldWorkerState$=new _e,this.promisesMade=[]}manifoldWorkerAlreadyInitialised(){return!!this.manifoldWorker}setManifoldWorker(e){this.manifoldWorker=e,this.manifoldWorker.onmessage=({data:e})=>{if("manifold-initialised"===e)this.manifoldWorkerState$.next({state:Yr.initialised});else if("busy"===e)this.manifoldWorkerState$.next({state:Yr.computing});else{const t=this.promisesMade.find(t=>t.uid===e.uid);t&&void 0!==e.result&&!e.error?t.resolve(e.result):e.error&&(this.errorCallback&&this.errorCallback(e.error),t.reject(e.error)),this.promisesMade=this.promisesMade.filter(t=>t.uid!==e.uid),0===this.promisesMade.length?this.manifoldWorkerState$.next({state:Yr.loaded}):this.manifoldWorkerState$.next({state:Yr.computing})}}}cleanPromisesMade(){this.promisesMade=[]}genericCallToWorkerPromise(e,t){const r=`call${Math.random()}${Date.now()}`,i={uid:r},o=new Promise((e,t)=>{i.resolve=e,i.reject=t});return i.promise=o,this.promisesMade.push(i),this.manifoldWorker.postMessage({action:{functionName:e,inputs:t},uid:r}),o}startedTheRun(){return this.genericCallToWorkerPromise("startedTheRun",{})}cleanAllCache(){return this.genericCallToWorkerPromise("cleanAllCache",{})}}var Jr=n(258),Qr=function(){function e(){this.context=new $t,this.jscadWorkerManager=new br,this.manifoldWorkerManager=new Kr,this.occtWorkerManager=new Ce,this.jscad=new gr(this.jscadWorkerManager),this.manifold=new $r(this.manifoldWorkerManager);var e=new Qe;this.lists=new He,this.math=new Ge,this.vector=new Ke(this.math,e),this.tag=new Xt(this.context),this.color=new ye(this.math),this.transforms=new Je(this.vector,this.math),this.point=new Ye(e,this.transforms,this.vector,this.lists),this.line=new et(this.vector,this.point,e),this.polyline=new tt(this.vector,this.point,this.line,e),this.verb=new Ut(this.context,e,this.math),this.time=new Zt(this.context),this.occt=new St(this.context,this.occtWorkerManager),this.asset=new qt,this.logic=new qe,this.json=new Yt(this.context),this.csv=new Gt,this.text=new Ze(this.point),this.dates=new $e,this.mesh=new rt(this.vector,this.polyline)}return e.prototype.init=function(e,t,r){var i={geom:Jr.geom,core:Jr.core};this.context.verb=i,this.context.jsonpath=gt,e&&this.occtWorkerManager.setOccWorker(e),t&&this.jscadWorkerManager.setJscadWorker(t),r&&this.manifoldWorkerManager.setManifoldWorker(r)},e}();class ei{constructor(e,t,r){void 0!==e&&(this.width=e),void 0!==t&&(this.height=t),void 0!==r&&(this.paths=r)}}class ti{constructor(e,t,r){void 0!==e&&(this.width=e),void 0!==t&&(this.height=t),void 0!==r&&(this.chars=r)}}class ri{}class ii{}class oi{}class si{constructor(){this.type="text",this.name="text"}}class ni{}var ai=j(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function ci(e){return function(t){if(function(e){return U(null==e?void 0:e.lift)}(t))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw new TypeError("Unable to lift unknown Observable type")}}function hi(e,t,r,i,o){return new li(e,t,r,i,o)}var li=function(e){function t(t,r,i,o,s,n){var a=e.call(this,t)||this;return a.onFinalize=s,a.shouldUnsubscribe=n,a._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=i?function(){try{i()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return I(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(se),ui=new pe(function(e){return e.complete()});function di(){return new ai}function vi(e,t){var r=arguments.length>=2;return function(i){return i.pipe(e?function(e){return ci(function(t,r){var i=0;t.subscribe(hi(r,function(t){return e.call(void 0,t,i++)&&r.next(t)}))})}(function(t,r){return e(t,r,i)}):fe,1<=0?function(){return ui}:ci(function(e,t){var r=0;e.subscribe(hi(t,function(e){++r<=1&&(t.next(e),1<=r&&t.complete())}))}),r?function(e){return ci(function(t,r){var i=!1;t.subscribe(hi(r,function(e){i=!0,r.next(e)},function(){i||r.next(e),r.complete()}))})}(t):(void 0===(o=function(){return new ai})&&(o=di),ci(function(e,t){var r=!1;e.subscribe(hi(t,function(e){r=!0,t.next(e)},function(){return r?t.complete():t.error(o())}))})));var o}}var fi=function(){return fi=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fi.apply(this,arguments)},pi=function(e,t,r,i){return new(r||(r=Promise))(function(o,s){function n(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(n,a)}c((i=i.apply(e,t||[])).next())})},mi=function(e,t){var r,i,o,s,n={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(n=0)),n;)try{if(r=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(!((o=(o=n.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){n=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(6===a[0]&&n.label<o[1]){n.label=o[1],o=a;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(a);break}o[2]&&n.ops.pop(),n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e],i=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},gi=function(){this.enableJSCAD=!0,this.enableOCCT=!0,this.enableManifold=!0,this.cdnUrl=it.BITBYBIT_CDN_URL};console.log("%c Bitbybit Runner - Powering Incredible 3D Experiences (https://bitbybit.dev)","background: #1a1c1f; color: #f0cebb; padding: 4px 8px; border-radius: 4px; font-weight: bold;");var bi={Inputs:e,Models:o};function ki(){return new _i}var _i=function(){function e(){var e=this;this.bitbybit=new Qr,this.registerBeforeRender=function(t){e.bitbybit.context.renderLoopBag.forEach(function(e){return e(t)})}}return e.prototype.run=function(e){return pi(this,void 0,void 0,function(){var t=this;return mi(this,function(r){return this.options=fi(fi({},new gi),e),e.cdnUrl&&e.cdnUrl!==it.BITBYBIT_CDN_URL&&(it.BITBYBIT_CDN_URL=e.cdnUrl),[2,new Promise(function(e,r){function i(e){var t='importScripts("'.concat(e,'");');return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}try{if(t.options.enableOCCT){var o=t.options.cdnUrl+"/workers/".concat("32"===t.options.occtArch?"bitbybit-dev-occt-webworker.js":"64"===t.options.occtArch?"bitbybit-dev-occt-64-bit-webworker.js":"64-mt"===t.options.occtArch?"bitbybit-dev-occt-64-bit-mt-webworker.js":"bitbybit-dev-occt-webworker.js"),s=(g='import "'.concat(o,'";'),URL.createObjectURL(new Blob([g],{type:"text/javascript"}))),n=new Worker(s,{type:"module",name:"OCC_WORKER"});n.postMessage({type:"initialise",loadFonts:[]}),URL.revokeObjectURL(s),t.bitbybit.occtWorkerManager.setOccWorker(n)}if(t.options.enableJSCAD){var a=i(t.options.cdnUrl+"/workers/bitbybit-dev-jscad-webworker.js"),c=new Worker(a,{name:"JSCAD_WORKER"});URL.revokeObjectURL(a),t.bitbybit.jscadWorkerManager.setJscadWorker(c)}if(t.options.enableManifold){var h=i(t.options.cdnUrl+"/workers/bitbybit-dev-manifold-webworker.js"),l=new Worker(h,{name:"MANIFOLD_WORKER"});URL.revokeObjectURL(h),t.bitbybit.manifoldWorkerManager.setManifoldWorker(l)}t.bitbybit.init();var u=t.bitbybit.occtWorkerManager.occWorkerState$,d=t.bitbybit.jscadWorkerManager.jscadWorkerState$,v=t.bitbybit.manifoldWorkerManager.manifoldWorkerState$,f=0,p=0,m=function(){f===p&&e({bitbybit:t.bitbybit,Bit:bi})};t.options.enableOCCT&&(p++,u.pipe(vi()).subscribe(function(e){e.state===ge.initialised&&(f++,m())})),t.options.enableJSCAD&&(p++,d.pipe(vi()).subscribe(function(e){e.state===fr.initialised&&(f++,m())})),t.options.enableManifold&&(p++,v.pipe(vi()).subscribe(function(e){e.state===Yr.initialised&&(f++,m())})),0===p&&e({bitbybit:t.bitbybit,Bit:bi})}catch(e){r(e)}var g})]})})},e.prototype.cleanOCCTCache=function(){return pi(this,void 0,void 0,function(){return mi(this,function(e){return[2,this.bitbybit.occtWorkerManager.cleanAllCache()]})})},e.prototype.cleanJSCADCache=function(){return pi(this,void 0,void 0,function(){return mi(this,function(e){return[2,this.bitbybit.jscadWorkerManager.cleanAllCache()]})})},e.prototype.cleanManifoldCache=function(){return pi(this,void 0,void 0,function(){return mi(this,function(e){return[2,this.bitbybit.manifoldWorkerManager.cleanAllCache()]})})},e}()})(),a})());