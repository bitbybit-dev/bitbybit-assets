/*! For license information please see bitbybit-dev-occt-64-bit-mt-webworker.js.LICENSE.txt */
var e,t,r,i,n,s,o={306:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});const i=r.p+"static/js/bitbybit-dev-occt-64-bit-mt.c14311b1.677c6292.wasm"},975:(e,t,r)=>{r.d(t,{C6:()=>w.C,Jq:()=>d,yI:()=>b,c3:()=>y,N1:()=>p,Q8:()=>n,V2:()=>s,uX:()=>o,L7:()=>v,bR:()=>a,Ro:()=>f,nA:()=>h,gB:()=>l,Mi:()=>u});var i=r(656);class n{getItem(e){if(e.index<0||e.index>=e.list.length)throw new Error("Index out of bounds");let t;return t=e.clone?structuredClone(e.list[e.index]):e.list[e.index],t}getFirstItem(e){if(0===e.list.length)throw new Error("List is empty");let t;return t=e.clone?structuredClone(e.list[0]):e.list[0],t}getLastItem(e){if(0===e.list.length)throw new Error("List is empty");let t;return t=e.clone?structuredClone(e.list[e.list.length-1]):e.list[e.list.length-1],t}randomGetThreshold(e){let t=e.list;e.clone&&(t=structuredClone(e.list));const r=[];for(let i=0;i<e.list.length;i++)Math.random()<e.threshold&&r.push(t[i]);return r}getSubList(e){let t;return t=e.clone?structuredClone(e.list.slice(e.indexStart,e.indexEnd)):e.list.slice(e.indexStart,e.indexEnd),t}getNthItem(e){let t=e.list;e.clone&&(t=structuredClone(e.list));const r=[];for(let i=0;i<t.length;i++)(i+e.offset)%e.nth==0&&r.push(t[i]);return r}getByPattern(e){const{list:t,pattern:r}=e;if(!r||0===r.length)throw new Error("Pattern is empty or does not exist");const i=r.length,n=t.length,s=[];if(i>=n)t.forEach(((e,t)=>{!0===r[t]&&s.push(e)}));else{const e=[],o=Math.ceil(n/i);for(let t=0;t<o;t++)e.push(...r);t.forEach(((t,r)=>{!0===e[r]&&s.push(t)}))}return s}mergeElementsOfLists(e){const t=e.lists,r=e.level,i=[],n=[];t.forEach((e=>{const t=e.flat(r);i.push(t)}));const s=this.getLongestListLength({lists:i});for(let e=0;e<s;e++){const t=[];for(let r=0;r<i.length;r++){const n=i[r][e];void 0!==n&&t.push(n)}t.length>0&&n.push(t)}let o=[];if(r>0)for(let e=0;e<r;e++)e===r-1&&0!==e?o[e-1].push(n):e===r-1?o.push(n):o.push([]);else o=n;return o}getLongestListLength(e){let t=0;return e.lists?(e.lists.forEach((e=>{e.length>t&&(t=e.length)})),t):void 0}reverse(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),t.reverse()}shuffle(e){let t=e.list;e.clone&&(t=structuredClone(e.list));for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t}flipLists(e){if(e.list.length>0){const t=e.list[0].length;let r=!0;if(e.list.forEach((e=>{e.length!==t&&(r=!1)})),r){const r=[];for(let i=0;i<t;i++){const t=[];e.list.forEach((e=>{t.push(e[i])})),r.push(t)}return r}throw new Error("Lists are not of the same length")}throw new Error("List is empty")}groupNth(e){return(e=>{const{nrElements:t,list:r,keepRemainder:i}=e,n=t,s=[];let o=[];return r.forEach(((e,t)=>{o.push(e),(t+1)%n==0&&(s.push(o),o=[]),o.length>0&&i&&t===r.length-1&&s.push(o)})),s})(e)}includes(e){return e.list.includes(e.item)}findIndex(e){return e.list.indexOf(e.item)}getListDepth(e){let t=0,r=!0,i=e.list;for(;r;){let e=!1;for(let t=0;t<i.length;t++)Array.isArray(i[t])&&(e=!0);i=i.flat(),e?t++:(t++,r=!1)}return t}listLength(e){return e.list.length}addItemAtIndex(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),e.index>=0&&e.index<=t.length&&t.splice(e.index,0,e.item),t}addItemAtIndexes(e){let t=e.list;e.clone&&(t=structuredClone(e.list));let r=[...e.indexes];return r=r.filter((e=>e>=0&&e<=t.length)),r.sort(((e,t)=>e-t)),r.forEach(((r,i)=>{r>=0&&r+i<=t.length&&t.splice(r+i,0,e.item)})),t}addItemsAtIndexes(e){if(e.items.length!==e.indexes.length)throw new Error("Items and indexes must have the same length");for(let t=0;t<e.indexes.length;t++)if(t>0&&e.indexes[t-1]>e.indexes[t])throw new Error("Indexes must be in ascending order");let t=e.list;return e.clone&&(t=structuredClone(e.list)),[...e.indexes].forEach(((r,i)=>{r>=0&&r+i<=t.length&&t.splice(r+i,0,e.items[i])})),t}removeItemAtIndex(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),e.index>=0&&e.index<=t.length&&t.splice(e.index,1),t}removeFirstItem(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),t.length>0&&t.shift(),t}removeLastItem(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),t.length>0&&t.pop(),t}removeItemAtIndexFromEnd(e){let t=e.list;if(e.clone&&(t=structuredClone(e.list)),e.index>=0&&e.index<t.length){const r=t.length-1-e.index;t.splice(r,1)}return t}removeItemsAtIndexes(e){let t=e.list;e.clone&&(t=structuredClone(e.list));const r=[...e.indexes];return r.sort(((e,t)=>t-e)),r.forEach((e=>{e>=0&&e<t.length&&t.splice(e,1)})),t}removeAllItems(e){return e.list.length=0,e.list}removeNthItem(e){let t=e.list;e.clone&&(t=structuredClone(e.list));const r=[];for(let i=0;i<t.length;i++)(i+e.offset)%e.nth!=0&&r.push(t[i]);return r}randomRemoveThreshold(e){let t=e.list;e.clone&&(t=structuredClone(e.list));const r=[];for(let i=0;i<e.list.length;i++)Math.random()>e.threshold&&r.push(t[i]);return r}removeDuplicateNumbers(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),t.filter(((e,t,r)=>r.indexOf(e)===t))}removeDuplicateNumbersTolerance(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),t.filter(((t,r,i)=>i.findIndex((r=>Math.abs(r-t)<e.tolerance))===r))}removeDuplicates(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),t.filter(((e,t,r)=>r.indexOf(e)===t))}addItem(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),t.push(e.item),t}prependItem(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),t.unshift(e.item),t}addItemFirstLast(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),e.position===i.Q8.firstLastEnum.first?t.unshift(e.item):t.push(e.item),t}concatenate(e){let t=[];return e.clone?e.lists.forEach((e=>{t=t.concat(structuredClone(e))})):e.lists.forEach((e=>{t=t.concat(e)})),t}createEmptyList(){return[]}repeat(e){const t=[];for(let r=0;r<e.times;r++)t.push(e.item);return t}repeatInPattern(e){let t=e.list;e.clone&&(t=structuredClone(e.list));const r=[];let i=0,n=0;for(;i<e.lengthLimit;)r.push(t[n]),n++,n===t.length&&(n=0),i++;return r}sortNumber(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),e.orderAsc?t.sort(((e,t)=>e-t)):t.sort(((e,t)=>t-e))}sortTexts(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),e.orderAsc?t.sort():t.sort().reverse()}sortByPropValue(e){let t=e.list;return e.clone&&(t=structuredClone(e.list)),e.orderAsc?t.sort(((t,r)=>t[e.property]-r[e.property])):t.sort(((t,r)=>r[e.property]-t[e.property]))}interleave(e){const t=e.clone?structuredClone(e.lists):e.lists;if(!t||0===t.length)throw new Error("Lists array is empty or does not exist");const r=[],i=Math.max(...t.map((e=>e.length)));for(let e=0;e<i;e++)for(const i of t)e<i.length&&r.push(i[e]);return r}}class s{boolean(e){return e.boolean}randomBooleans(e){const t=[];for(let r=0;r<e.length;r++)t.push(Math.random()<e.trueThreshold);return t}twoThresholdRandomGradient(e){const t=[];return e.numbers.forEach((r=>{if(r<e.thresholdTotalTrue)t.push(!0);else if(r>e.thresholdTotalFalse)t.push(!1);else{const i=r-e.thresholdTotalTrue,n=(e.thresholdTotalFalse-e.thresholdTotalTrue)/e.nrLevels,s=Math.ceil(i/n)/e.nrLevels;Math.random()>s?t.push(!0):t.push(!1)}})),t}thresholdBooleanList(e){const t=[];return e.numbers.forEach((r=>{r<e.threshold?t.push(!0):t.push(!1)})),e.inverse?t.map((e=>!e)):t}thresholdGapsBooleanList(e){const t=[];return e.numbers.forEach((r=>{let i=!1;e.gapThresholds.forEach((e=>{const n=e[0],s=e[1];r>=n&&r<=s&&(t.push(!0),i=!0)})),i||t.push(!1)})),e.inverse?t.map((e=>!e)):t}not(e){return!e.boolean}notList(e){return e.booleans.map((e=>!e))}compare(e){switch(e.operator){case"==":return e.first==e.second;case"!=":return e.first!=e.second;case"===":return e.first===e.second;case"!==":return e.first!==e.second;case"<":return e.first<e.second;case"<=":return e.first<=e.second;case">":return e.first>e.second;case">=":return e.first>=e.second;default:return!1}}valueGate(e){return e.boolean?e.value:void 0}firstDefinedValueGate(e){let t;return t=void 0!==e.value1?e.value1:void 0!==e.value2?e.value2:void 0,t}}class o{number(e){return e.number}twoNrOperation(e){let t;switch(e.operation){case i.zU.mathTwoNrOperatorEnum.add:t=e.first+e.second;break;case i.zU.mathTwoNrOperatorEnum.subtract:t=e.first-e.second;break;case i.zU.mathTwoNrOperatorEnum.multiply:t=e.first*e.second;break;case i.zU.mathTwoNrOperatorEnum.divide:t=e.first/e.second;break;case i.zU.mathTwoNrOperatorEnum.power:t=Math.pow(e.first,e.second);break;case i.zU.mathTwoNrOperatorEnum.modulus:t=e.first%e.second}return t}modulus(e){return this.twoNrOperation({first:e.number,second:e.modulus,operation:i.zU.mathTwoNrOperatorEnum.modulus})}roundToDecimals(e){return Math.round(e.number*Math.pow(10,e.decimalPlaces))/Math.pow(10,e.decimalPlaces)}roundAndRemoveTrailingZeros(e){const t=Math.round(e.number*Math.pow(10,e.decimalPlaces))/Math.pow(10,e.decimalPlaces);return parseFloat(t.toFixed(e.decimalPlaces))}oneNrOperation(e){let t;switch(e.operation){case i.zU.mathOneNrOperatorEnum.absolute:t=Math.abs(e.number);break;case i.zU.mathOneNrOperatorEnum.negate:t=-e.number;break;case i.zU.mathOneNrOperatorEnum.ln:t=Math.log(e.number);break;case i.zU.mathOneNrOperatorEnum.log10:t=Math.log10(e.number);break;case i.zU.mathOneNrOperatorEnum.tenPow:t=Math.pow(10,e.number);break;case i.zU.mathOneNrOperatorEnum.round:t=Math.round(e.number);break;case i.zU.mathOneNrOperatorEnum.floor:t=Math.floor(e.number);break;case i.zU.mathOneNrOperatorEnum.ceil:t=Math.ceil(e.number);break;case i.zU.mathOneNrOperatorEnum.sqrt:t=Math.sqrt(e.number);break;case i.zU.mathOneNrOperatorEnum.sin:t=Math.sin(e.number);break;case i.zU.mathOneNrOperatorEnum.cos:t=Math.cos(e.number);break;case i.zU.mathOneNrOperatorEnum.tan:t=Math.tan(e.number);break;case i.zU.mathOneNrOperatorEnum.asin:t=Math.asin(e.number);break;case i.zU.mathOneNrOperatorEnum.acos:t=Math.acos(e.number);break;case i.zU.mathOneNrOperatorEnum.atan:t=Math.atan(e.number);break;case i.zU.mathOneNrOperatorEnum.log:t=Math.log(e.number);break;case i.zU.mathOneNrOperatorEnum.exp:t=Math.exp(e.number);break;case i.zU.mathOneNrOperatorEnum.degToRad:t=e.number*Math.PI/180;break;case i.zU.mathOneNrOperatorEnum.radToDeg:t=180*e.number/Math.PI}return t}remap(e){return(e.number-e.fromLow)*(e.toHigh-e.toLow)/(e.fromHigh-e.fromLow)+e.toLow}random(){return Math.random()}randomNumber(e){return Math.random()*(e.high-e.low)+e.low}randomNumbers(e){const t=[];for(let r=0;r<e.count;r++)t.push(this.randomNumber(e));return t}pi(){return Math.PI}toFixed(e){return e.number.toFixed(e.decimalPlaces)}add(e){return e.first+e.second}subtract(e){return e.first-e.second}multiply(e){return e.first*e.second}divide(e){return e.first/e.second}power(e){return Math.pow(e.first,e.second)}sqrt(e){return Math.sqrt(e.number)}abs(e){return Math.abs(e.number)}round(e){return Math.round(e.number)}floor(e){return Math.floor(e.number)}ceil(e){return Math.ceil(e.number)}negate(e){return-e.number}ln(e){return Math.log(e.number)}log10(e){return Math.log10(e.number)}tenPow(e){return Math.pow(10,e.number)}sin(e){return Math.sin(e.number)}cos(e){return Math.cos(e.number)}tan(e){return Math.tan(e.number)}asin(e){return Math.asin(e.number)}acos(e){return Math.acos(e.number)}atan(e){return Math.atan(e.number)}exp(e){return Math.exp(e.number)}degToRad(e){return e.number*Math.PI/180}radToDeg(e){return 180*e.number/Math.PI}ease(e){const t=e.x,r=e.min,i=e.max,n=this[e.ease](t);return this.remap({number:n,fromLow:0,fromHigh:1,toLow:r,toHigh:i})}clamp(e){return Math.max(e.min,Math.min(e.max,e.number))}lerp(e){return e.start+(e.end-e.start)*e.t}inverseLerp(e){return e.start===e.end?0:(e.value-e.start)/(e.end-e.start)}smoothstep(e){const t=Math.max(0,Math.min(1,e.number));return t*t*(3-2*t)}sign(e){return Math.sign(e.number)}fract(e){return e.number-Math.floor(e.number)}wrap(e){const t=e.max-e.min;if(0===t)return e.min;const r=(e.number-e.min)%t;return r<0?r+e.max:r+e.min}pingPong(e){const t=Math.abs(e.t)%(2*e.length);return t>e.length?2*e.length-t:t}moveTowards(e){const t=e.target-e.current;return Math.abs(t)<=e.maxDelta?e.target:e.current+Math.sign(t)*e.maxDelta}easeInSine(e){return 1-Math.cos(e*Math.PI/2)}easeOutSine(e){return Math.sin(e*Math.PI/2)}easeInOutSine(e){return-(Math.cos(Math.PI*e)-1)/2}easeInQuad(e){return e*e}easeOutQuad(e){return 1-(1-e)*(1-e)}easeInOutQuad(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2}easeInCubic(e){return e*e*e}easeOutCubic(e){return 1-Math.pow(1-e,3)}easeInOutCubic(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}easeInQuart(e){return e*e*e*e}easeOutQuart(e){return 1-Math.pow(1-e,4)}easeInOutQuart(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2}easeInQuint(e){return e*e*e*e*e}easeOutQuint(e){return 1-Math.pow(1-e,5)}easeInOutQuint(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}easeInExpo(e){return 0===e?0:Math.pow(2,10*e-10)}easeOutExpo(e){return 1===e?1:1-Math.pow(2,-10*e)}easeInOutExpo(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}easeInCirc(e){return 1-Math.sqrt(1-e*e)}easeOutCirc(e){return Math.sqrt(1-Math.pow(e-1,2))}easeInOutCirc(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}easeInBack(e){return 2.70158*e*e*e-1.70158*e*e}easeOutBack(e){return 1+2.70158*Math.pow(e-1,3)+1.70158*Math.pow(e-1,2)}easeInOutBack(e){const t=2.5949095;return e<.5?Math.pow(2*e,2)*(7.189819*e-t)/2:(Math.pow(2*e-2,2)*((t+1)*(2*e-2)+t)+2)/2}easeInElastic(e){const t=2*Math.PI/3;return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*t)}easeOutElastic(e){const t=2*Math.PI/3;return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*t)+1}easeInOutElastic(e){const t=2*Math.PI/4.5;return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*t)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*t)/2+1}easeInBounce(e){return 1-this.easeOutBounce(1-e)}easeOutBounce(e){const t=7.5625,r=2.75;return e<1/r?t*e*e:e<2/r?t*(e-=1.5/r)*e+.75:e<2.5/r?t*(e-=2.25/r)*e+.9375:t*(e-=2.625/r)*e+.984375}easeInOutBounce(e){return e<.5?(1-this.easeOutBounce(1-2*e))/2:(1+this.easeOutBounce(2*e-1))/2}}class a{constructor(e,t,r,i){this.geometryHelper=e,this.transforms=t,this.vector=r,this.lists=i}transformPoint(e){const t=e.transformation;let r=[e.point];return r=this.geometryHelper.transformControlPoints(t,r),r[0]}transformPoints(e){return this.geometryHelper.transformControlPoints(e.transformation,e.points)}transformsForPoints(e){if(e.points.length!==e.transformation.length)throw new Error("You must provide equal nr of points and transformations");return e.points.map(((t,r)=>this.geometryHelper.transformControlPoints(e.transformation[r],[t])[0]))}translatePoints(e){const t=this.transforms.translationXYZ({translation:e.translation});return this.geometryHelper.transformControlPoints(t,e.points)}translatePointsWithVectors(e){if(e.points.length!==e.translations.length)throw new Error("You must provide equal nr of points and translations");const t=this.transforms.translationsXYZ({translations:e.translations});return e.points.map(((e,r)=>this.geometryHelper.transformControlPoints(t[r],[e])[0]))}translateXYZPoints(e){const t=this.transforms.translationXYZ({translation:[e.x,e.y,e.z]});return this.geometryHelper.transformControlPoints(t,e.points)}scalePointsCenterXYZ(e){const t=this.transforms.scaleCenterXYZ({center:e.center,scaleXyz:e.scaleXyz});return this.geometryHelper.transformControlPoints(t,e.points)}stretchPointsDirFromCenter(e){const t=this.transforms.stretchDirFromCenter({center:e.center,scale:e.scale,direction:e.direction});return this.geometryHelper.transformControlPoints(t,e.points)}rotatePointsCenterAxis(e){const t=this.transforms.rotationCenterAxis({center:e.center,axis:e.axis,angle:e.angle});return this.geometryHelper.transformControlPoints(t,e.points)}boundingBoxOfPoints(e){const t=[],r=[],i=[];e.points.forEach((e=>{t.push(e[0]),r.push(e[1]),i.push(e[2])}));const n=[Math.min(...t),Math.min(...r),Math.min(...i)],s=[Math.max(...t),Math.max(...r),Math.max(...i)];return{min:n,max:s,center:[(n[0]+s[0])/2,(n[1]+s[1])/2,(n[2]+s[2])/2],width:s[0]-n[0],height:s[1]-n[1],length:s[2]-n[2]}}closestPointFromPointsDistance(e){return this.closestPointFromPointData(e).distance}closestPointFromPointsIndex(e){return this.closestPointFromPointData(e).index}closestPointFromPoints(e){return this.closestPointFromPointData(e).point}distance(e){const t=e.endPoint[0]-e.startPoint[0],r=e.endPoint[1]-e.startPoint[1],i=e.endPoint[2]-e.startPoint[2];return Math.sqrt(t*t+r*r+i*i)}distancesToPoints(e){return e.endPoints.map((t=>this.distance({startPoint:e.startPoint,endPoint:t})))}multiplyPoint(e){const t=[];for(let r=0;r<e.amountOfPoints;r++)t.push([e.point[0],e.point[1],e.point[2]]);return t}getX(e){return e.point[0]}getY(e){return e.point[1]}getZ(e){return e.point[2]}averagePoint(e){const t=[],r=[],i=[];return e.points.forEach((e=>{t.push(e[0]),r.push(e[1]),i.push(e[2])})),[t.reduce(((e,t)=>e+t),0)/e.points.length,r.reduce(((e,t)=>e+t),0)/e.points.length,i.reduce(((e,t)=>e+t),0)/e.points.length]}pointXYZ(e){return[e.x,e.y,e.z]}pointXY(e){return[e.x,e.y]}spiral(e){const t=e.phi,r=Math.log(t)/(Math.PI/e.widening),i=[],n=e.radius/e.numberPoints;for(let t=0;t<e.radius;t+=n){const n=Math.log(t/e.factor)/r,s=t*Math.cos(n),o=t*Math.sin(n);i.push([s||0,o||0,0])}return i}hexGrid(e){const t=Math.sqrt(Math.pow(e.radiusHexagon,2)-Math.pow(e.radiusHexagon/2,2)),r=[];for(let i=0;i<e.nrHexagonsX;i++){const n=i*t*2;for(let i=0;i<e.nrHexagonsY;i++){const s=(e.radiusHexagon+e.radiusHexagon/2)*i,o=n+(i%2==0?0:t);r.push([o,s,0])}}if(e.orientOnCenter){const e=r[r.length-1][0]/2,t=r[r.length-1][1]/2;r.forEach(((i,n)=>{r[n]=[i[0]-e,i[1]-t,0]}))}return e.pointsOnGround&&r.forEach(((e,t)=>{r[t]=[e[0],0,e[1]]})),r}hexGridScaledToFit(e){var t,r,i,n;let s=e.width,o=e.height,a=e.nrHexagonsInHeight,c=e.nrHexagonsInWidth,h=null!==(t=e.extendTop)&&void 0!==t&&t,u=null!==(r=e.extendBottom)&&void 0!==r&&r,l=null!==(i=e.extendLeft)&&void 0!==i&&i,d=null!==(n=e.extendRight)&&void 0!==n&&n;const{flatTop:p=!1,centerGrid:f=!1,pointsOnGround:v=!1}=e;if(p){const t=s;s=e.height,o=t;const r=c;c=a,a=r;const i=h,n=u;h=l,u=d,l=n,d=i}if(s<=0||o<=0||c<1||a<1)return console.warn("Hex grid dimensions and counts must be positive."),{centers:[],hexagons:[],shortestDistEdge:void 0,longestDistEdge:void 0,maxFilletRadius:void 0};const m=this.hexGrid({radiusHexagon:1,nrHexagonsX:c,nrHexagonsY:a,orientOnCenter:!1,pointsOnGround:!1});if(0===m.length)return{centers:[],hexagons:[],shortestDistEdge:void 0,longestDistEdge:void 0,maxFilletRadius:void 0};const g=m.map((e=>this.getRegularHexagonVertices(e,1)));let y=1/0,b=-1/0,w=1/0,S=-1/0;for(const e of g)for(const t of e)t[0]<y&&(y=t[0]),t[0]>b&&(b=t[0]),t[1]<w&&(w=t[1]),t[1]>S&&(S=t[1]);const E=b-y,x=S-w,T=E>1e-9?s/E:1,P=x>1e-9?o/x:1;let N=m.map((e=>[(e[0]-y)*T,(e[1]-w)*P,0])),C=g.map((e=>e.map((e=>[(e[0]-y)*T,(e[1]-w)*P,0])))),k=1/0,D=-1/0,O=0;if(0!==C.length){const e=C[0];if(O=this.safestPointsMaxFilletHalfLine({points:e,checkLastWithFirst:!0,tolerance:1e-7}),e.forEach(((t,r)=>{const i=e[(r+1)%e.length],n=this.distance({startPoint:t,endPoint:i});n<k&&(k=n),n>D&&(D=n)})),h||u||l||d){const t=e[0],r=e[1],i=t[1]-r[1],n=r[0]-t[0];if(h&&!u){const e={center:[0,0,0],direction:[0,1,0],scale:o/(o-i)};C=C.map((t=>(e.points=t,this.stretchPointsDirFromCenter(e)))),e.points=N,N=this.stretchPointsDirFromCenter(e)}if(u&&!h){const e={center:[0,o,0],direction:[0,-1,0],scale:o/(o-i)};C=C.map((t=>(e.points=t,this.stretchPointsDirFromCenter(e)))),e.points=N,N=this.stretchPointsDirFromCenter(e)}if(h&&u){const e={center:[0,o/2,0],direction:[0,1,0],scale:o/(o-2*i)};C=C.map((t=>(e.points=t,this.stretchPointsDirFromCenter(e)))),e.points=N,N=this.stretchPointsDirFromCenter(e)}if(l&&!d){const e={center:[s,0,0],direction:[1,0,0],scale:s/(s-n)};C=C.map((t=>(e.points=t,this.stretchPointsDirFromCenter(e)))),e.points=N,N=this.stretchPointsDirFromCenter(e)}if(d&&!l){const e={center:[0,0,0],direction:[1,0,0],scale:s/(s-n)};C=C.map((t=>(e.points=t,this.stretchPointsDirFromCenter(e)))),e.points=N,N=this.stretchPointsDirFromCenter(e)}if(l&&d){const e={center:[s/2,0,0],direction:[1,0,0],scale:s/(s-2*n)};C=C.map((t=>(e.points=t,this.stretchPointsDirFromCenter(e)))),e.points=N,N=this.stretchPointsDirFromCenter(e)}}}if(p){N=this.rotatePointsCenterAxis({points:N,center:[s/2,o/2,0],axis:[0,0,1],angle:90}),C=C.map((e=>this.rotatePointsCenterAxis({points:e,center:[s/2,o/2,0],axis:[0,0,1],angle:90})));const e=this.vector.sub({first:[o/2,s/2,0],second:[s/2,o/2,0]});N=this.translatePoints({points:N,translation:e}),C=C.map((t=>this.translatePoints({points:t,translation:e})))}if(f){let e=s/2,t=o/2;p&&(e=o/2,t=s/2);for(let r=0;r<N.length;r++)N[r][0]-=e,N[r][1]-=t;for(let r=0;r<C.length;r++)for(let i=0;i<C[r].length;i++)C[r][i][0]-=e,C[r][i][1]-=t}if(v){for(let e=0;e<N.length;e++)N[e]=[N[e][0],0,N[e][1]];for(let e=0;e<C.length;e++)for(let t=0;t<C[e].length;t++)C[e][t]=[C[e][t][0],0,C[e][t][1]]}if(p){const t=this.lists.groupNth({list:C.reverse(),nrElements:e.nrHexagonsInWidth,keepRemainder:!0}),r=this.lists.flipLists({list:t});r.forEach((e=>e.reverse())),C=r.flat();const i=this.lists.groupNth({list:N.reverse(),nrElements:e.nrHexagonsInWidth,keepRemainder:!0}),n=this.lists.flipLists({list:i});n.forEach((e=>e.reverse())),N=n.flat()}return{centers:N,hexagons:C,shortestDistEdge:k,longestDistEdge:D,maxFilletRadius:O}}maxFilletRadius(e){const{start:t,center:r,end:i,tolerance:n=1e-7}=e,s=this.vector.sub({first:t,second:i}),o=this.vector.sub({first:r,second:i}),a=this.vector.length({vector:s}),c=this.vector.length({vector:o});if(a<n||c<n)return 0;const h=this.vector.normalized({vector:s}),u=this.vector.normalized({vector:o});if(!h||!u)return 0;const l=Math.max(-1,Math.min(1,this.vector.dot({first:h,second:u})));if(l>1-n)return 0;if(l<-1+n)return 0;const d=Math.acos(l),p=Math.tan(d/2);return p<n?0:Math.min(a,c)*p}maxFilletRadiusHalfLine(e){const{start:t,center:r,end:i,tolerance:n=1e-7}=e,s=this.vector.sub({first:t,second:i}),o=this.vector.sub({first:r,second:i}),a=this.vector.length({vector:s}),c=this.vector.length({vector:o});if(a<n||c<n)return 0;const h=this.vector.normalized({vector:s}),u=this.vector.normalized({vector:o});if(!h||!u)return 0;const l=Math.max(-1,Math.min(1,this.vector.dot({first:h,second:u})));if(l>1-n||l<-1+n)return 0;const d=Math.acos(l),p=Math.tan(d/2);return p<n?0:Math.min(a/2,c/2)*p}maxFilletsHalfLine(e){const{points:t,checkLastWithFirst:r=!1,tolerance:i=1e-7}=e,n=t.length,s=[];if(n<3)return s;for(let e=1;e<n-1;e++){const r=t[e-1],n=t[e],o={start:r,center:t[e+1],end:n,tolerance:i};s.push(this.maxFilletRadiusHalfLine(o))}if(r&&n>=3){const e=t[n-1],r=t[0],o={start:e,center:t[1],end:r,tolerance:i};s.push(this.maxFilletRadiusHalfLine(o));const a=t[n-2],c=t[n-1],h={start:a,center:t[0],end:c,tolerance:i};s.push(this.maxFilletRadiusHalfLine(h))}return s}safestPointsMaxFilletHalfLine(e){const t=this.maxFilletsHalfLine(e);if(0===t.length)return 0;const r=Math.min(...t);return Math.max(0,r)}removeConsecutiveDuplicates(e){return this.geometryHelper.removeConsecutivePointDuplicates(e.points,e.checkFirstAndLast,e.tolerance)}normalFromThreePoints(e){const t=e.point1,r=e.point2,i=e.point3;if(!t||!r||!i||3!==t.length||3!==r.length||3!==i.length)throw new Error("All points must be arrays of 3 numbers [x, y, z]");const n=r[0]-t[0],s=r[1]-t[1],o=r[2]-t[2],a=i[0]-t[0],c=i[1]-t[1],h=i[2]-t[2];let u=s*h-o*c,l=o*a-n*h,d=n*c-s*a;if(0!==u||0!==l||0!==d)return e.reverseNormal&&(u=-u,l=-l,d=-d),this.vector.normalized({vector:[u,l,d]});console.warn("Points are collinear or coincident; cannot calculate a unique normal.")}closestPointFromPointData(e){let t,r,i=Number.MAX_SAFE_INTEGER;for(let n=0;n<e.points.length;n++){const s=e.points[n],o=this.distance({startPoint:e.point,endPoint:s});o<i&&(i=o,t=n,r=s)}return{index:t+1,distance:i,point:r}}twoPointsAlmostEqual(e){const t=e.point1,r=e.point2;return this.distance({startPoint:t,endPoint:r})<e.tolerance}sortPoints(e){return[...e.points].sort(((e,t)=>e[0]!==t[0]?e[0]-t[0]:e[1]!==t[1]?e[1]-t[1]:e[2]-t[2]))}getRegularHexagonVertices(e,t){const r=[],i=e[0],n=e[1],s=e[2],o=Math.PI/3;for(let e=0;e<6;e++){const a=o*e;r.push([i+t*Math.sin(a),n+t*Math.cos(a),s])}return r}}const c={xOffset:0,yOffset:0,input:"?",align:"left",font:{height:21,32:[16],33:[10,5,21,5,7,void 0,5,2,4,1,5,0,6,1,5,2],34:[16,4,21,4,14,void 0,12,21,12,14],35:[21,11,25,4,-7,void 0,17,25,10,-7,void 0,4,12,18,12,void 0,3,6,17,6],36:[20,8,25,8,-4,void 0,12,25,12,-4,void 0,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],37:[24,21,21,3,0,void 0,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,void 0,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7],38:[26,23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2],39:[10,5,19,4,20,5,21,6,20,6,18,5,16,4,15],40:[14,11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7],41:[14,3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7],42:[16,8,21,8,9,void 0,3,18,13,12,void 0,13,18,3,12],43:[26,13,18,13,0,void 0,4,9,22,9],44:[10,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],45:[26,4,9,22,9],46:[10,5,2,4,1,5,0,6,1,5,2],47:[22,20,25,2,-7],48:[20,9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21],49:[20,6,17,8,18,11,21,11,0],50:[20,4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0],51:[20,5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],52:[20,13,21,3,7,18,7,void 0,13,21,13,0],53:[20,15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],54:[20,16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7],55:[20,17,21,7,0,void 0,3,21,17,21],56:[20,8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21],57:[20,16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3],58:[10,5,14,4,13,5,12,6,13,5,14,void 0,5,2,4,1,5,0,6,1,5,2],59:[10,5,14,4,13,5,12,6,13,5,14,void 0,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],60:[24,20,18,4,9,20,0],61:[26,4,12,22,12,void 0,4,6,22,6],62:[24,4,18,20,9,4,0],63:[18,3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,void 0,9,2,8,1,9,0,10,1,9,2],64:[27,18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,void 0,12,16,10,14,9,11,9,8,10,6,11,5,void 0,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,void 0,19,16,18,8,18,6,19,5],65:[18,9,21,1,0,void 0,9,21,17,0,void 0,4,7,14,7],66:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,void 0,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0],67:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5],68:[21,4,21,4,0,void 0,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0],69:[19,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11,void 0,4,0,17,0],70:[18,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11],71:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,void 0,13,8,18,8],72:[22,4,21,4,0,void 0,18,21,18,0,void 0,4,11,18,11],73:[8,4,21,4,0],74:[16,12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7],75:[21,4,21,4,0,void 0,18,21,4,7,void 0,9,12,18,0],76:[17,4,21,4,0,void 0,4,0,16,0],77:[24,4,21,4,0,void 0,4,21,12,0,void 0,20,21,12,0,void 0,20,21,20,0],78:[22,4,21,4,0,void 0,4,21,18,0,void 0,18,21,18,0],79:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21],80:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10],81:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,void 0,12,4,18,-2],82:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,void 0,11,11,18,0],83:[20,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],84:[16,8,21,8,0,void 0,1,21,15,21],85:[22,4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21],86:[18,1,21,9,0,void 0,17,21,9,0],87:[24,2,21,7,0,void 0,12,21,7,0,void 0,12,21,17,0,void 0,22,21,17,0],88:[20,3,21,17,0,void 0,17,21,3,0],89:[18,1,21,9,11,9,0,void 0,17,21,9,11],90:[20,17,21,3,0,void 0,3,21,17,21,void 0,3,0,17,0],91:[14,4,25,4,-7,void 0,5,25,5,-7,void 0,4,25,11,25,void 0,4,-7,11,-7],92:[14,0,21,14,-3],93:[14,9,25,9,-7,void 0,10,25,10,-7,void 0,3,25,10,25,void 0,3,-7,10,-7],94:[16,6,15,8,18,10,15,void 0,3,12,8,17,13,12,void 0,8,17,8,0],95:[16,0,-2,16,-2],96:[10,6,21,5,20,4,18,4,16,5,15,6,16,5,17],97:[19,15,14,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],98:[19,4,21,4,0,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],99:[18,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],100:[19,15,21,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],101:[18,3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],102:[12,10,21,8,21,6,20,5,17,5,0,void 0,2,14,9,14],103:[19,15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],104:[19,4,21,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],105:[8,3,21,4,20,5,21,4,22,3,21,void 0,4,14,4,0],106:[10,5,21,6,20,7,21,6,22,5,21,void 0,6,14,6,-3,5,-6,3,-7,1,-7],107:[17,4,21,4,0,void 0,14,14,4,4,void 0,8,8,15,0],108:[8,4,21,4,0],109:[30,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0,void 0,15,10,18,13,20,14,23,14,25,13,26,10,26,0],110:[19,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],111:[19,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14],112:[19,4,14,4,-7,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],113:[19,15,14,15,-7,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],114:[13,4,14,4,0,void 0,4,8,5,11,7,13,9,14,12,14],115:[17,14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3],116:[12,5,21,5,4,6,1,8,0,10,0,void 0,2,14,9,14],117:[19,4,14,4,4,5,1,7,0,10,0,12,1,15,4,void 0,15,14,15,0],118:[16,2,14,8,0,void 0,14,14,8,0],119:[22,3,14,7,0,void 0,11,14,7,0,void 0,11,14,15,0,void 0,19,14,15,0],120:[17,3,14,14,0,void 0,14,14,3,0],121:[16,2,14,8,0,void 0,14,14,8,0,6,-4,4,-6,2,-7,1,-7],122:[17,14,14,3,0,void 0,3,14,14,14,void 0,3,0,14,0],123:[14,9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,void 0,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,void 0,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7],124:[8,4,25,4,-7],125:[14,5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,void 0,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,void 0,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7],126:[24,3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,void 0,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12],176:[14,7,21,5,20,4,18,4,16,5,14,7,13,9,14,10,16,10,18,9,20,7,21],178:[14,5,17,5,18,6,19,7,20,9,21,10,21,11,20,12,19,12,18,11,17,10,16,6,14,12,14],179:[14,5,21,11,21,8,18,9,18,10,17,11,16,11,15,10,14,8,14,6,15,5,16],181:[19,4,14,4,-7,void 0,4,14,4,4,5,1,7,0,10,0,12,1,15,4,void 0,15,14,15,0],185:[14,7,19,8,20,10,21,10,14],188:[26,4,19,5,20,7,21,7,14,void 0,6,0,18,21,void 0,16,11,16,7,22,7,void 0,18,11,18,0,void 0,16,0,22,0],189:[26,4,19,5,20,7,21,7,14,void 0,6,0,18,21,void 0,15,4,15,5,16,6,17,7,19,7,20,6,20,5,19,4,17,2,15,0,21,0],190:[26,4,21,10,21,8,18,9,18,10,17,11,16,11,15,10,14,8,14,6,15,5,16,void 0,6,0,18,21,void 0,16,11,16,7,22,7,void 0,18,11,18,0,void 0,16,0,22,0],215:[18,3,15,15,3,void 0,15,15,3,3],247:[22,4,9,18,9,void 0,11,15,10,14,11,13,12,14,11,15,void 0,11,5,10,4,11,3,12,4,11,5],177:[26,13,18,13,6,void 0,4,12,22,12,void 0,4,3,22,3],8304:[14,8,21,7,20,6,19,5,17,5,15,6,14,8,14,9,14,11,15,12,17,12,19,11,20,9,21,8,21],8308:[14,10,21,6,17,12,17,void 0,10,21,10,14],8309:[14,11,21,6,21,5,17,6,17,7,18,9,18,10,17,11,16,11,15,10,14,8,14,6,15,5,16],8310:[14,11,19,10,20,9,21,7,21,6,20,5,18,5,15,6,14,8,14,9,14,10,15,11,16,11,17,10,18,9,18,8,17,7,16,6,15],8311:[14,11,21,7,14,void 0,5,21,11,21],8312:[14,8,21,7,20,6,19,6,18,7,17,8,17,9,18,10,19,10,20,9,21,8,21,7,20,void 0,8,17,7,16,6,15,6,14,7,13,8,13,9,14,10,15,10,16,9,17],8313:[14,10,17,9,16,8,16,7,17,6,18,6,19,7,20,8,20,9,19,10,18,10,15,9,14,7,14,6,15,5,16],8320:[14,8,7,7,6,6,5,5,3,5,1,6,0,8,0,9,0,11,1,12,3,12,5,11,6,9,7,8,7],8321:[14,7,5,8,6,10,7,10,0],8322:[14,5,4,5,5,6,6,7,7,9,7,10,6,11,5,11,4,10,3,9,2,6,0,12,0],8323:[14,5,7,11,7,8,4,10,4,11,3,12,2,12,1,11,0,9,0,7,1,6,2,5,3],8324:[14,10,7,6,3,12,3,void 0,10,7,10,0],8776:[24,3,11,4,13,6,14,8,14,10,13,14,10,16,9,18,9,20,10,21,12,void 0,3,5,4,7,6,8,8,8,10,7,14,4,16,3,18,3,20,4,21,6],8730:[20,4,12,6,8,8,0,void 0,8,0,10,21,void 0,10,21,20,21],8731:[24,2,21,5,21,4,19,5,18,6,17,6,16,5,15,3,15,2,16,void 0,8,12,10,8,12,0,void 0,12,0,14,21,void 0,14,21,24,21],8732:[24,5,21,3,18,6,18,void 0,5,21,5,15,void 0,8,12,10,8,12,0,void 0,12,0,14,21,void 0,14,21,24,21],8960:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,void 0,6,3,16,18]},height:21,lineSpacing:2.142857142857143,letterSpacing:1,extrudeOffset:0};class h{constructor(e){this.point=e}create(e){return e.text}split(e){return e.text.split(e.separator)}replaceAll(e){return e.text.split(e.search).join(e.replaceWith)}join(e){return e.list.join(e.separator)}toString(e){return e.item.toString()}toStringEach(e){return e.list.map((e=>e.toString()))}format(e){return e.text.replace(/{(\d+)}/g,((t,r)=>void 0!==e.values[r]?e.values[r]:t))}includes(e){return e.text.includes(e.search)}startsWith(e){return e.text.startsWith(e.search)}endsWith(e){return e.text.endsWith(e.search)}indexOf(e){return e.text.indexOf(e.search)}lastIndexOf(e){return e.text.lastIndexOf(e.search)}substring(e){return e.text.substring(e.start,e.end)}slice(e){return e.text.slice(e.start,e.end)}charAt(e){return e.text.charAt(e.index)}trim(e){return e.text.trim()}trimStart(e){return e.text.trimStart()}trimEnd(e){return e.text.trimEnd()}padStart(e){return e.text.padStart(e.length,e.padString)}padEnd(e){return e.text.padEnd(e.length,e.padString)}toUpperCase(e){return e.text.toUpperCase()}toLowerCase(e){return e.text.toLowerCase()}toUpperCaseFirst(e){return e.text?e.text.charAt(0).toUpperCase()+e.text.slice(1):e.text}toLowerCaseFirst(e){return e.text?e.text.charAt(0).toLowerCase()+e.text.slice(1):e.text}repeat(e){return e.text.repeat(e.count)}reverse(e){return e.text.split("").reverse().join("")}length(e){return e.text.length}isEmpty(e){return!e.text||0===e.text.trim().length}concat(e){return e.texts.join("")}regexTest(e){return new RegExp(e.pattern,e.flags).test(e.text)}regexMatch(e){const t=new RegExp(e.pattern,e.flags),r=e.text.match(t);return r?Array.from(r):null}regexReplace(e){const t=new RegExp(e.pattern,e.flags);return e.text.replace(t,e.replaceWith)}regexSearch(e){const t=new RegExp(e.pattern,e.flags);return e.text.search(t)}regexSplit(e){const t=new RegExp(e.pattern,e.flags);return e.text.split(t)}vectorChar(e){const{xOffset:t,yOffset:r,font:i,input:n,height:s,extrudeOffset:o}=this.vectorParamsChar(e);let a=n.charCodeAt(0);a&&i[a]||(a=63);const c=[].concat(i[a]),h=(s-o)/i.height,u=o/2,l=c.shift()*h,d=[];let p=[];for(let e=0,i=c.length;e<i;e+=2){const i=h*c[e]+t,n=h*c[e+1]+r+u;void 0===c[e]?(d.push(p),p=[],e--):p.push([i,0,n])}return p.length&&d.push(p),{width:l,height:s,paths:d}}vectorText(e){const{xOffset:t,yOffset:r,height:n,align:s,extrudeOffset:o,lineSpacing:a,letterSpacing:h}=Object.assign({},c,e),u=e.text;if("string"!=typeof u)throw new Error("text must be a string");const l=n*h;let d=0,p={width:0,height:0,chars:[]},f=[];const v=()=>{d=Math.max(d,p.width),p.chars.length&&f.push(p),p={width:0,height:0,chars:[]}};let m,g=t,y=r;const b=u.length;for(let e=0;e<b;e++){const r=u[e];if("\n"===r){v(),g=t,y-=n*a;continue}m=this.vectorChar({xOffset:g,yOffset:y,height:n,extrudeOffset:o,char:r});const i=m.width+l;g+=i,p.width+=i,p.height=Math.max(p.height,m.height)," "!==r&&(p.chars=p.chars.concat(m))}if(p.chars.length&&v(),f=f.map((e=>{const t=d-e.width;return s===i.C6.horizontalAlignEnum.right?this.translateLine({x:t},e):s===i.C6.horizontalAlignEnum.center?this.translateLine({x:t/2},e):e})),e.centerOnOrigin){const e=[];f.forEach((t=>{t.chars.forEach((t=>{t.paths.forEach((t=>{e.push(...t)}))}))}));const t=this.point.boundingBoxOfPoints({points:e});f.forEach((e=>{e.chars.forEach((e=>(e.paths=e.paths.map((e=>this.point.translatePoints({points:e,translation:[-t.center[0],-t.center[1],-t.center[2]]}))),e)))}))}return f}vectorParamsChar(e){const t=Object.assign({},c,e);return t.input=e.char||t.char,t}translateLine(e,t){const{x:r,y:i}=Object.assign({x:0,y:0},e);return t.chars=t.chars.map((e=>(e.paths=e.paths.map((e=>this.point.translatePoints({points:e,translation:[r,0,i]}))),e))),t}}class u{constructor(e,t){this.math=e,this.geometryHelper=t}removeAllDuplicateVectors(e){return this.geometryHelper.removeAllDuplicateVectors(e.vectors,e.tolerance)}removeConsecutiveDuplicateVectors(e){return this.geometryHelper.removeConsecutiveVectorDuplicates(e.vectors,e.checkFirstAndLast,e.tolerance)}vectorsTheSame(e){return this.geometryHelper.vectorsTheSame(e.vec1,e.vec2,e.tolerance)}angleBetween(e){return this.math.radToDeg({number:Math.acos(this.dot({first:e.first,second:e.second})/(this.norm({vector:e.first})*this.norm({vector:e.second})))})}angleBetweenNormalized2d(e){const t=e.first[0]*e.second[1]-e.first[1]*e.second[0];return this.math.radToDeg({number:Math.atan2(t,this.dot({first:e.first,second:e.second}))})}positiveAngleBetween(e){const t=this.signedAngleBetween(e);return t<0?360+t:t}addAll(e){const t=[];for(let r=0;r<e.vectors[0].length;r++){let i=0;for(const t of e.vectors)i+=t[r];t.push(i)}return t}add(e){const t=[];for(let r=0;r<e.first.length;r++)t.push(e.first[r]+e.second[r]);return t}all(e){return e.vector.every((e=>e))}cross(e){const t=[];return t.push(e.first[1]*e.second[2]-e.first[2]*e.second[1]),t.push(e.first[2]*e.second[0]-e.first[0]*e.second[2]),t.push(e.first[0]*e.second[1]-e.first[1]*e.second[0]),t}distSquared(e){let t=0;for(let r=0;r<e.first.length;r++)t+=Math.pow(e.first[r]-e.second[r],2);return t}dist(e){return Math.sqrt(this.distSquared(e))}div(e){const t=[];for(let r=0;r<e.vector.length;r++)t.push(e.vector[r]/e.scalar);return t}domain(e){return e.vector[e.vector.length-1]-e.vector[0]}dot(e){let t=0;for(let r=0;r<e.first.length;r++)t+=e.first[r]*e.second[r];return t}finite(e){return e.vector.map((e=>isFinite(e)))}isZero(e){return 0===this.norm({vector:e.vector})}lerp(e){return this.add({first:this.mul({vector:e.first,scalar:e.fraction}),second:this.mul({vector:e.second,scalar:1-e.fraction})})}max(e){return Math.max(...e.vector)}min(e){return Math.min(...e.vector)}mul(e){const t=[];for(let r=0;r<e.vector.length;r++)t.push(e.vector[r]*e.scalar);return t}neg(e){const t=[];for(let r=0;r<e.vector.length;r++)t.push(-e.vector[r]);return t}normSquared(e){return this.dot({first:e.vector,second:e.vector})}norm(e){const t=this.normSquared(e);return 0!==t?Math.sqrt(t):t}normalized(e){if(!(this.length({vector:e.vector})<=1e-8))return this.div({scalar:this.norm(e),vector:e.vector})}onRay(e){return this.add({first:e.point,second:this.mul({vector:e.vector,scalar:e.distance})})}vectorXYZ(e){return[e.x,e.y,e.z]}vectorXY(e){return[e.x,e.y]}range(e){const t=[];for(let r=0;r<e.max;r++)t.push(r);return t}signedAngleBetween(e){const t=this.cross({first:e.first,second:e.second}),r=this.norm({vector:e.first})*this.norm({vector:e.second}),i=this.dot({first:e.first,second:e.second}),n=this.norm({vector:t})/r,s=i/r,o=Math.atan2(n,s),a=this.dot({first:e.reference,second:t})>0?o:2*Math.PI-o;return this.math.radToDeg({number:a})}span(e){const t=[];for(let r=e.min;r<=e.max;r+=e.step)t.push(r);return t}spanEaseItems(e){const t=[];for(let r=0;r<e.nrItems;r++){const i=1*r/(e.nrItems-1);t.push(this.math.ease({x:i,ease:e.ease,min:e.min,max:e.max}))}return e.intervals?t.map(((e,t,r)=>0===t?e:e-r[t-1])):t}spanLinearItems(e){const t=[],r=e.max-e.min;for(let i=0;i<e.nrItems;i++){const n=r*i/(e.nrItems-1);t.push(n+e.min)}return t}sub(e){const t=[];for(let r=0;r<e.first.length;r++)t.push(e.first[r]-e.second[r]);return t}sum(e){return e.vector.reduce(((e,t)=>e+t),0)}lengthSq(e){const t=e.vector;return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]}length(e){return Math.sqrt(this.lengthSq(e))}parseNumbers(e){return e.vector.map((e=>parseFloat(e)))}}class l{constructor(e,t){this.vector=e,this.math=t}rotationCenterAxis(e){return[this.translation(-e.center[0],-e.center[1],-e.center[2]),this.rotationAxis(e.axis,this.math.degToRad({number:e.angle})),this.translation(e.center[0],e.center[1],e.center[2])]}rotationCenterX(e){return[this.translation(-e.center[0],-e.center[1],-e.center[2]),this.rotationX(this.math.degToRad({number:e.angle})),this.translation(e.center[0],e.center[1],e.center[2])]}rotationCenterY(e){return[this.translation(-e.center[0],-e.center[1],-e.center[2]),this.rotationY(this.math.degToRad({number:e.angle})),this.translation(e.center[0],e.center[1],e.center[2])]}rotationCenterZ(e){return[this.translation(-e.center[0],-e.center[1],-e.center[2]),this.rotationZ(this.math.degToRad({number:e.angle})),this.translation(e.center[0],e.center[1],e.center[2])]}rotationCenterYawPitchRoll(e){return[this.translation(-e.center[0],-e.center[1],-e.center[2]),this.rotationYawPitchRoll(this.math.degToRad({number:e.yaw}),this.math.degToRad({number:e.pitch}),this.math.degToRad({number:e.roll})),this.translation(e.center[0],e.center[1],e.center[2])]}scaleCenterXYZ(e){return[this.translation(-e.center[0],-e.center[1],-e.center[2]),this.scaling(e.scaleXyz[0],e.scaleXyz[1],e.scaleXyz[2]),this.translation(e.center[0],e.center[1],e.center[2])]}scaleXYZ(e){return[this.scaling(e.scaleXyz[0],e.scaleXyz[1],e.scaleXyz[2])]}stretchDirFromCenter(e){return[this.translation(-e.center[0],-e.center[1],-e.center[2]),this.stretchDirection(e.direction,e.scale),this.translation(e.center[0],e.center[1],e.center[2])]}uniformScale(e){return[this.scaling(e.scale,e.scale,e.scale)]}uniformScaleFromCenter(e){return[this.translation(-e.center[0],-e.center[1],-e.center[2]),this.scaling(e.scale,e.scale,e.scale),this.translation(e.center[0],e.center[1],e.center[2])]}translationXYZ(e){return[this.translation(e.translation[0],e.translation[1],e.translation[2])]}translationsXYZ(e){return e.translations.map((e=>[this.translation(e[0],e[1],e[2])]))}identity(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}translation(e,t,r){return[1,0,0,0,0,1,0,0,0,0,1,0,e,t,r,1]}scaling(e,t,r){return[e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1]}rotationAxis(e,t){const r=Math.sin(-t),i=Math.cos(-t),n=1-i,s=this.vector.normalized({vector:e}),o=s[0],a=s[1],c=s[2],h=this.identity();return h[0]=o*o*n+i,h[1]=o*a*n-c*r,h[2]=o*c*n+a*r,h[3]=0,h[4]=a*o*n+c*r,h[5]=a*a*n+i,h[6]=a*c*n-o*r,h[7]=0,h[8]=c*o*n-a*r,h[9]=c*a*n+o*r,h[10]=c*c*n+i,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}rotationX(e){const t=Math.sin(e),r=Math.cos(e);return[1,0,0,0,0,r,t,0,0,-t,r,0,0,0,0,1]}rotationY(e){const t=Math.sin(e),r=Math.cos(e);return[r,0,-t,0,0,1,0,0,t,0,r,0,0,0,0,1]}rotationZ(e){const t=Math.sin(e),r=Math.cos(e);return[r,t,0,0,-t,r,0,0,0,0,1,0,0,0,0,1]}rotationYawPitchRoll(e,t,r){const i=.5*r,n=.5*t,s=.5*e,o=Math.sin(i),a=Math.cos(i),c=Math.sin(n),h=Math.cos(n),u=Math.sin(s),l=Math.cos(s),d=l*c*a+u*h*o,p=u*h*a-l*c*o,f=l*h*o-u*c*a,v=l*h*a+u*c*o;return this.rotationMatrixFromQuat(d,p,f,v)}rotationMatrixFromQuat(e,t,r,i){const n=e*e,s=t*t,o=r*r,a=e*t,c=r*i,h=r*e,u=t*i,l=t*r,d=e*i,p=this.identity();return p[0]=1-2*(s+o),p[1]=2*(a+c),p[2]=2*(h-u),p[3]=0,p[4]=2*(a-c),p[5]=1-2*(o+n),p[6]=2*(l+d),p[7]=0,p[8]=2*(h+u),p[9]=2*(l-d),p[10]=1-2*(s+n),p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}stretchDirection(e,t){const r=this.vector.normalized({vector:e}),[i,n,s]=r;if(isNaN(i)||0===i&&0===n&&0===s)return console.warn("Stretch direction vector is zero or invalid. Returning identity matrix."),this.identity();const o=t-1;return[1+o*i*i,o*n*i,o*s*i,0,o*i*n,1+o*n*n,o*s*n,0,o*i*s,o*n*s,1+o*s*s,0,0,0,0,1]}}class d{constructor(){this.getArrayDepth=e=>Array.isArray(e)?1+Math.max(...e.map(this.getArrayDepth)):0}transformControlPoints(e,t){return this.getFlatTransformations(e).forEach((e=>{t=this.transformPointsByMatrixArray(t,e)})),t}getFlatTransformations(e){let t=[];return 3===this.getArrayDepth(e)?e.forEach((e=>{t.push(...e)})):t=e,t}transformPointsByMatrixArray(e,t){return this.transformPointsCoordinates(e,t)}transformPointsCoordinates(e,t){const r=[];for(const i of e){const e=this.transformCoordinates(i[0],i[1],i[2],t);r.push(e)}return r}removeAllDuplicateVectors(e,t=1e-7){const r=[];return e.forEach((e=>{r.some((r=>this.vectorsTheSame(e,r,t)))||r.push(e)})),r}removeConsecutiveVectorDuplicates(e,t=!0,r=1e-7){const i=[];if(e.length>1){for(let t=1;t<e.length;t++){const n=e[t],s=e[t-1];this.vectorsTheSame(n,s,r)||i.push(s),t===e.length-1&&i.push(n)}if(t){const e=i[0],t=i[i.length-1];this.vectorsTheSame(e,t,r)&&i.pop()}}else 1===e.length&&i.push(...e);return i}vectorsTheSame(e,t,r){let i=!1;if(e.length!==t.length)return i;i=!0;for(let n=0;n<e.length;n++)if(!this.approxEq(e[n],t[n],r)){i=!1;break}return i}approxEq(e,t,r){return Math.abs(e-t)<r}removeConsecutivePointDuplicates(e,t=!0,r=1e-7){const i=[];if(e.length>1){for(let t=1;t<e.length;t++){const n=e[t],s=e[t-1];this.arePointsTheSame(n,s,r)||i.push(s),t===e.length-1&&i.push(n)}if(t){const e=i[0],t=i[i.length-1];this.arePointsTheSame(e,t,r)&&i.pop()}}else 1===e.length&&i.push(...e);return i}arePointsTheSame(e,t,r){let i=!1;return 2===e.length&&2===t.length?this.approxEq(e[0],t[0],r)&&this.approxEq(e[1],t[1],r)&&(i=!0):3===e.length&&3===t.length&&this.approxEq(e[0],t[0],r)&&this.approxEq(e[1],t[1],r)&&this.approxEq(e[2],t[2],r)&&(i=!0),i}transformCoordinates(e,t,r,i){const n=i,s=e*n[0]+t*n[4]+r*n[8]+n[12],o=e*n[1]+t*n[5]+r*n[9]+n[13],a=e*n[2]+t*n[6]+r*n[10]+n[14],c=1/(e*n[3]+t*n[7]+r*n[11]+n[15]);return[s*c,o*c,a*c]}}class p{constructor(e,t,r){this.vector=e,this.point=t,this.geometryHelper=r}getStartPoint(e){return e.line.start}getEndPoint(e){return e.line.end}length(e){return this.point.distance({startPoint:e.line.start,endPoint:e.line.end})}reverse(e){return{start:e.line.end,end:e.line.start}}transformLine(e){const t=e.transformation;let r=[e.line.start,e.line.end];return r=this.geometryHelper.transformControlPoints(t,r),{start:r[0],end:r[1]}}transformsForLines(e){return e.lines.map(((t,r)=>{const i=e.transformation[r];let n=[t.start,t.end];return n=this.geometryHelper.transformControlPoints(i,n),{start:n[0],end:n[1]}}))}create(e){return{start:e.start,end:e.end}}createSegment(e){return[e.start,e.end]}getPointOnLine(e){const t=e.line.start,r=e.line.end,i=e.param,n=[r[0]-t[0],r[1]-t[1],r[2]-t[2]];return[t[0]+i*n[0],t[1]+i*n[1],t[2]+i*n[2]]}linesBetweenPoints(e){const t=[];for(let r=1;r<e.points.length;r++){const i=e.points[r-1],n=e.points[r];t.push({start:i,end:n})}return t}linesBetweenStartAndEndPoints(e){return e.startPoints.map(((t,r)=>({start:t,end:e.endPoints[r]}))).filter((e=>0!==this.point.distance({startPoint:e.start,endPoint:e.end})))}lineToSegment(e){return[e.line.start,e.line.end]}linesToSegments(e){return e.lines.map((e=>[e.start,e.end]))}segmentToLine(e){return{start:e.segment[0],end:e.segment[1]}}segmentsToLines(e){return e.segments.map((e=>({start:e[0],end:e[1]})))}lineLineIntersection(e){const t=e.tolerance||1e-6,r=e.checkSegmentsOnly,i=e.line1,n=e.line2;if(!((null==i?void 0:i.start)&&i.end&&(null==n?void 0:n.start)&&n.end&&3===i.start.length&&3===i.end.length&&3===n.start.length&&3===n.end.length))return void console.error("Invalid line input to lineLineIntersection");const s=i.start,o=this.vector.sub({first:i.end,second:i.start}),a=n.start,c=this.vector.sub({first:n.end,second:n.start}),h=this.vector.sub({first:a,second:s}),u=this.vector.lengthSq({vector:o}),l=this.vector.lengthSq({vector:c});if(u<t*t||l<t*t)return;const d=this.vector.cross({first:o,second:c});if(this.vector.lengthSq({vector:d})<t*t){const e=this.vector.cross({first:h,second:o}),i=t*t*u;if(this.vector.lengthSq({vector:e})<i){if(r){const e=u<t*t?1:u,r=this.vector.dot({first:o,second:h})/e,i=this.vector.sub({first:n.end,second:s}),a=this.vector.dot({first:o,second:i})/e,c=[Math.min(r,a),Math.max(r,a)],l=[0,1];return Math.max(l[0],c[0]),void Math.min(l[1],c[1])}return s}return}const p=this.vector.dot({first:h,second:d}),f=t*t*t;if(Math.abs(p)>f)return;const v=u,m=l,g=this.vector.dot({first:o,second:c}),y=this.vector.dot({first:o,second:h}),b=this.vector.dot({first:c,second:h}),w=v*m-g*g;if(Math.abs(w)<t*t)return void console.error("Internal error: Denominator near zero after non-parallel check.");const S=(m*y-g*b)/w,E=(g*y-v*b)/w;if(r&&(S<-t||S>1+t||E<-t||E>1+t))return;const x=this.getPointOnLine({param:S,line:i});return[Math.abs(x[0])<t?0:x[0],Math.abs(x[1])<t?0:x[1],Math.abs(x[2])<t?0:x[2]]}}class f{constructor(e,t,r,i){this.vector=e,this.point=t,this.line=r,this.geometryHelper=i}length(e){let t=0;for(let r=1;r<e.polyline.points.length;r++){const i=e.polyline.points[r-1],n=e.polyline.points[r];t+=this.point.distance({startPoint:i,endPoint:n})}return t}countPoints(e){return e.polyline.points.length}getPoints(e){return e.polyline.points}reverse(e){return{points:e.polyline.points.reverse()}}transformPolyline(e){const t=e.transformation;let r=e.polyline.points;return r=this.geometryHelper.transformControlPoints(t,r),{points:r}}create(e){var t;return{points:e.points,isClosed:null!==(t=e.isClosed)&&void 0!==t&&t}}polylineToLines(e){return this.polylineToSegments(e).map((e=>({start:e[0],end:e[1]})))}polylineToSegments(e){const t=e.polyline,r=[],i=t.points,n=i.length;if(n<2)return r;for(let e=0;e<n-1;e++)r.push([i[e],i[e+1]]);return t.isClosed&&n>=2&&(this.point.twoPointsAlmostEqual({point1:i[n-1],point2:i[0],tolerance:1e-9})||r.push([i[n-1],i[0]])),r}polylineSelfIntersection(e){const{polyline:t,tolerance:r}=e,i=this.polylineToLines({polyline:t}),n=i.length;if(n<3)return[];const s=[],o=null!=r?r:1e-6;for(let e=0;e<n;e++)for(let r=e+1;r<n;r++){let a=r===e+1;if(!a&&t.isClosed&&0===e&&r===n-1&&(a=!0),a)continue;const c=this.line.lineLineIntersection({line1:i[e],line2:i[r],checkSegmentsOnly:!0,tolerance:o});if(c){let e=!1;for(const t of s)if(this.point.twoPointsAlmostEqual({point1:c,point2:t,tolerance:o})){e=!0;break}e||s.push(c)}}return s}twoPolylineIntersection(e){const{polyline1:t,polyline2:r,tolerance:i}=e,n=this.polylineToLines({polyline:t}),s=this.polylineToLines({polyline:r}),o=[],a=null!=i?i:1e-6;for(const e of n)for(const t of s){const r=this.line.lineLineIntersection({line1:e,line2:t,checkSegmentsOnly:!0,tolerance:a});if(r){let e=!1;for(const t of o)if(this.point.twoPointsAlmostEqual({point1:r,point2:t,tolerance:a})){e=!0;break}e||o.push(r)}}return o}sortSegmentsIntoPolylines(e){var t;const r=null!==(t=e.tolerance)&&void 0!==t?t:1e-5,i=e.segments;if(!i||0===i.length)return[];const n=r*r,s=i.length,o=new Array(s).fill(!1),a=[],c=new Map,h=1/r,u=e=>`${Math.round(e[0]*h)},${Math.round(e[1]*h)},${Math.round(e[2]*h)}`;for(let e=0;e<s;e++){const t=i[e];if(this.point.twoPointsAlmostEqual({point1:t[0],point2:t[1],tolerance:r})){o[e]=!0;continue}const n=u(t[0]),s=u(t[1]),a={segmentIndex:e,endpointIndex:0,coords:t[0]},h={segmentIndex:e,endpointIndex:1,coords:t[1]};c.has(n)||c.set(n,[]),c.get(n).push(a),s!==n?(c.has(s)||c.set(s,[]),c.get(s).push(h)):c.get(n).push(h)}const l=e=>{const t=[],i=Math.round(e[0]*h),s=Math.round(e[1]*h),a=Math.round(e[2]*h);for(let e=-1;e<=1;e++)for(let r=-1;r<=1;r++)for(let n=-1;n<=1;n++)t.push(`${i+e},${s+r},${a+n}`);let u,l=n;for(const i of t){const t=c.get(i);if(t)for(const i of t)if(!o[i.segmentIndex]){const t=this.vector.sub({first:i.coords,second:e}),n=this.vector.lengthSq({vector:t});n<l&&this.point.twoPointsAlmostEqual({point1:i.coords,point2:e,tolerance:r})&&(u=i,l=n)}}if(u&&!o[u.segmentIndex])return u};for(let e=0;e<s;e++){if(o[e])continue;o[e]=!0;const t=i[e],n=[t[0],t[1]];let c=t[0],h=t[1],u=!1,d=0;for(;d++<s;){const e=l(h);if(!e)break;const t=i[e.segmentIndex],s=0===e.endpointIndex?t[1]:t[0];if(this.point.twoPointsAlmostEqual({point1:s,point2:c,tolerance:r})){u=!0,o[e.segmentIndex]=!0;break}o[e.segmentIndex]=!0,n.push(s),h=s}if(d=0,!u)for(;d++<s;){const e=l(c);if(!e)break;const t=i[e.segmentIndex],s=0===e.endpointIndex?t[1]:t[0];if(this.point.twoPointsAlmostEqual({point1:s,point2:h,tolerance:r})){u=!0,o[e.segmentIndex]=!0;break}o[e.segmentIndex]=!0,n.unshift(s),c=s}!u&&n.length>=2&&(u=this.point.twoPointsAlmostEqual({point1:c,point2:h,tolerance:r})),u&&n.length>2&&this.point.twoPointsAlmostEqual({point1:n[n.length-1],point2:n[0],tolerance:r})&&n.pop(),a.push({points:n,isClosed:u})}return a}maxFilletsHalfLine(e){return this.point.maxFilletsHalfLine({points:e.polyline.points,checkLastWithFirst:e.polyline.isClosed,tolerance:e.tolerance})}safestFilletRadius(e){const t=this.maxFilletsHalfLine(e);if(0===t.length)return 0;const r=Math.min(...t);return Math.max(0,r)}}class v{constructor(e,t){this.vector=e,this.polyline=t}signedDistanceToPlane(e){return this.vector.dot({first:e.plane.normal,second:e.point})-e.plane.d}calculateTrianglePlane(e){const t=Math.pow(e.tolerance||1e-7,2),r=this.vector.sub({first:e.triangle[1],second:e.triangle[0]}),i=this.vector.sub({first:e.triangle[2],second:e.triangle[0]}),n=this.vector.cross({first:r,second:i});if(this.vector.lengthSq({vector:n})<t)return;const s=this.vector.normalized({vector:n});return{normal:s,d:this.vector.dot({first:s,second:e.triangle[0]})}}triangleTriangleIntersection(e){const t=e.triangle1,r=e.triangle2,i=e.tolerance||1e-7,n=t[0],s=t[1],o=t[2],a=r[0],c=r[1],h=r[2],u=this.calculateTrianglePlane({triangle:t,tolerance:i}),l=this.calculateTrianglePlane({triangle:r,tolerance:i});if(!u||!l)return;const d=[this.signedDistanceToPlane({point:a,plane:u}),this.signedDistanceToPlane({point:c,plane:u}),this.signedDistanceToPlane({point:h,plane:u})];if(d[0]>i&&d[1]>i&&d[2]>i||d[0]<-i&&d[1]<-i&&d[2]<-i)return;const p=[this.signedDistanceToPlane({point:n,plane:l}),this.signedDistanceToPlane({point:s,plane:l}),this.signedDistanceToPlane({point:o,plane:l})];if(p[0]>i&&p[1]>i&&p[2]>i||p[0]<-i&&p[1]<-i&&p[2]<-i)return;const f=p.every((e=>Math.abs(e)<i)),v=d.every((e=>Math.abs(e)<i));if(f&&v)return;const m=this.vector.cross({first:u.normal,second:l.normal}),g=this.vector.dot({first:m,second:m});if(g<i*i)return;const y=[],b=[],w=[[n,s],[s,o],[o,n]],S=p;for(let e=0;e<3;++e){const t=w[e][0],r=w[e][1],n=S[e],s=S[(e+1)%3];if(Math.abs(n)<i&&y.push(t),n*s<0&&Math.abs(n-s)>i){const e=n/(n-s);y.push(this.computeIntersectionPoint(t,r,e))}}const E=[[a,c],[c,h],[h,a]],x=d;for(let e=0;e<3;++e){const t=E[e][0],r=E[e][1],n=x[e],s=x[(e+1)%3];if(Math.abs(n)<i&&b.push(t),n*s<0&&Math.abs(n-s)>i){const e=n/(n-s);b.push(this.computeIntersectionPoint(t,r,e))}}if(y.length<2||b.length<2)return;const T=u.normal,P=l.normal,N=u.d,C=l.d,k=this.vector.mul({vector:P,scalar:N}),D=this.vector.mul({vector:T,scalar:C}),O=this.vector.sub({first:k,second:D}),A=this.vector.cross({first:O,second:m}),F=this.vector.mul({vector:A,scalar:1/g}),R=y.map((e=>this.vector.dot({first:this.vector.sub({first:e,second:F}),second:m}))),B=b.map((e=>this.vector.dot({first:this.vector.sub({first:e,second:F}),second:m}))),M=[Math.min(...R),Math.max(...R)],L=[Math.min(...B),Math.max(...B)],I=Math.max(M[0],L[0]),W=Math.min(M[1],L[1]);if(I<W-i*g){const e=this.vector.add({first:F,second:this.vector.mul({vector:m,scalar:I/g})}),t=this.vector.add({first:F,second:this.vector.mul({vector:m,scalar:W/g})}),r=this.vector.sub({first:e,second:t});return this.vector.lengthSq({vector:r})>i*i?[e,t]:void 0}}meshMeshIntersectionSegments(e){const t=e.mesh1,r=e.mesh2,i=[];for(let n=0;n<t.length;++n)for(let s=0;s<r.length;++s){const o=t[n],a=r[s],c=this.triangleTriangleIntersection({triangle1:o,triangle2:a,tolerance:e.tolerance});c&&i.push(c)}return i}meshMeshIntersectionPolylines(e){const t=this.meshMeshIntersectionSegments(e);return this.polyline.sortSegmentsIntoPolylines({segments:t,tolerance:e.tolerance})}meshMeshIntersectionPoints(e){return this.meshMeshIntersectionPolylines(e).map((e=>e.isClosed?[...e.points,e.points[0]]:e.points))}computeIntersectionPoint(e,t,r){return this.vector.add({first:e,second:this.vector.mul({vector:this.vector.sub({first:t,second:e}),scalar:r})})}}class m{constructor(){this.entityHandle=256,this.colorFormat="aci",this.acadVersion="AC1009"}generateDxf(e){this.colorFormat=e.colorFormat||"aci",this.acadVersion=e.acadVersion||"AC1009";const t=[];return t.push(...this.generateHeader()),t.push(...this.generateTables(e)),t.push(...this.generateBlocks()),t.push(...this.generateEntities(e)),t.push("0","EOF"),t.join("\n")}generateHeader(){const e=["0","SECTION","2","HEADER","9","$ACADVER","1",this.acadVersion];return"AC1009"===this.acadVersion?e.push("9","$DWGCODEPAGE","3","ascii","9","$HANDSEED","5","0"):e.push("9","$DWGCODEPAGE","3","ANSI_1252","9","$LASTSAVEDBY","1","bitbybit.dev","9","$HANDSEED","5","20000"),e.push("0","ENDSEC"),e}generateTables(e){const t=["0","SECTION","2","TABLES"];return"AC1009"===this.acadVersion&&t.push(...this.generateVportTable()),t.push(...this.generateLineTypeTable()),t.push(...this.generateLayerTable(e)),t.push(...this.generateStyleTable()),"AC1009"===this.acadVersion&&(t.push(...this.generateViewTable()),t.push(...this.generateUcsTable()),t.push(...this.generateAppidTable()),t.push(...this.generateDimstyleTable())),t.push("0","ENDSEC"),t}generateLineTypeTable(){const e=["0","TABLE","2","LTYPE","70","1"];return"AC1015"===this.acadVersion&&e.push("5","5","100","AcDbSymbolTable"),e.push("0","LTYPE","2","CONTINUOUS","70","AC1009"===this.acadVersion?"64":"0","3","Solid line","72","65","73","0","40","0.0"),"AC1015"===this.acadVersion&&e.splice(e.indexOf("LTYPE")+1,0,"5","14","100","AcDbSymbolTableRecord","100","AcDbLinetypeTableRecord"),e.push("0","ENDTAB"),e}generateStyleTable(){const e=["0","TABLE","2","STYLE","70","1"];return"AC1015"===this.acadVersion&&e.push("5","3","100","AcDbSymbolTable"),e.push("0","STYLE","2","STANDARD","70","0","40","0.0","41","1.0","50","0.0","71","0","42","0.2","3","txt","4",""),"AC1015"===this.acadVersion&&e.splice(e.indexOf("STYLE")+1,0,"5","11","100","AcDbSymbolTableRecord","100","AcDbTextStyleTableRecord"),e.push("0","ENDTAB"),e}generateVportTable(){return["0","TABLE","2","VPORT","70","2","0","VPORT","2","*ACTIVE","70","0","10","0.0","20","0.0","11","1.0","21","1.0","12","15.0","22","11.101231","13","0.0","23","0.0","14","0.1","24","0.1","15","0.5","25","0.5","16","0.0","26","0.0","36","1.0","17","0.0","27","0.0","37","0.0","40","22.202462","41","1.351201","42","50.0","43","0.0","44","0.0","50","0.0","51","0.0","71","0","72","100","73","1","74","1","75","1","76","0","77","0","78","0","0","ENDTAB"]}generateViewTable(){return["0","TABLE","2","VIEW","70","0","0","ENDTAB"]}generateUcsTable(){return["0","TABLE","2","UCS","70","0","0","ENDTAB"]}generateAppidTable(){return["0","TABLE","2","APPID","70","1","0","APPID","2","ACAD","70","64","0","ENDTAB"]}generateDimstyleTable(){return["0","TABLE","2","DIMSTYLE","70","0","0","ENDTAB"]}generateBlocks(){return["0","SECTION","2","BLOCKS","0","ENDSEC"]}generateLayerTable(e){const t=new Set;e.dxfPathsParts&&e.dxfPathsParts.forEach((e=>{e.layer&&t.add(e.layer)})),0===t.size&&t.add("0");const r=["0","TABLE","2","LAYER","70",t.size.toString()];return"AC1015"===this.acadVersion&&r.splice(4,0,"5","2","100","AcDbSymbolTable"),t.forEach((e=>{if(r.push("0","LAYER","2",e,"70","0","62","7","6","CONTINUOUS"),"AC1015"===this.acadVersion){const e=r.lastIndexOf("LAYER")+1;r.splice(e,0,"5",this.getNextHandle(),"100","AcDbSymbolTableRecord","100","AcDbLayerTableRecord")}})),r.push("0","ENDTAB"),r}generateEntities(e){const t=["0","SECTION","2","ENTITIES"];return e.dxfPathsParts&&e.dxfPathsParts.forEach((e=>{e.paths&&e.paths.forEach((r=>{r.segments&&r.segments.forEach((r=>{t.push(...this.generateSegmentEntity(r,e))}))}))})),t.push("0","ENDSEC"),t}generateSegmentEntity(e,t){return this.isLineSegment(e)?this.generateLineEntity(e,t):this.isArcSegment(e)?this.generateArcEntity(e,t):this.isCircleSegment(e)?this.generateCircleEntity(e,t):this.isPolylineSegment(e)?this.generatePolylineEntity(e,t):this.isSplineSegment(e)?this.generateSplineEntity(e,t):[]}isLineSegment(e){return void 0!==e.start&&void 0!==e.end&&void 0===e.radius}isArcSegment(e){return void 0!==e.center&&void 0!==e.radius&&void 0!==e.startAngle&&void 0!==e.endAngle}isCircleSegment(e){return void 0!==e.center&&void 0!==e.radius&&void 0===e.startAngle}isPolylineSegment(e){return void 0!==e.points&&Array.isArray(e.points)}isSplineSegment(e){return void 0!==e.controlPoints&&Array.isArray(e.controlPoints)}generateLineEntity(e,t){const r=["0","LINE","8",t.layer||"0"];if(void 0!==t.color&&this.convertColorToDxf(t.color).forEach((e=>r.push(e.code,e.value))),r.push("10",e.start[0].toFixed(6),"20",e.start[1].toFixed(6),"30","0.00","11",e.end[0].toFixed(6),"21",e.end[1].toFixed(6),"31","0.00"),"AC1015"===this.acadVersion){r.splice(2,0,"5",this.getNextHandle(),"100","AcDbEntity");const e=r.indexOf("10");r.splice(e,0,"100","AcDbLine")}return r}generateCircleEntity(e,t){const r=["0","CIRCLE","8",t.layer||"0"];if(void 0!==t.color&&this.convertColorToDxf(t.color).forEach((e=>r.push(e.code,e.value))),r.push("10",e.center[0].toFixed(6),"20",e.center[1].toFixed(6),"30","0.00","40",e.radius.toFixed(6)),"AC1015"===this.acadVersion){r.splice(2,0,"5",this.getNextHandle(),"100","AcDbEntity");const e=r.indexOf("10");r.splice(e,0,"100","AcDbCircle")}return r}generateArcEntity(e,t){const r=["0","ARC","8",t.layer||"0"];if("AC1009"===this.acadVersion&&r.push("6"," "),void 0!==t.color&&this.convertColorToDxf(t.color).forEach((e=>r.push(e.code,e.value))),r.push("10",e.center[0].toFixed(6),"20",e.center[1].toFixed(6),"30","AC1009"===this.acadVersion?"":"0.0","40",e.radius.toFixed(6),"50",e.startAngle.toFixed(6),"51",e.endAngle.toFixed(6)),"AC1015"===this.acadVersion){r.splice(2,0,"5",this.getNextHandle(),"100","AcDbEntity");const e=r.indexOf("10");r.splice(e,0,"100","AcDbCircle");const t=r.indexOf("50");r.splice(t,0,"100","AcDbArc")}return r}generatePolylineEntity(e,t){const r=["0","LWPOLYLINE","8",t.layer||"0"];void 0!==t.color&&this.convertColorToDxf(t.color).forEach((e=>r.push(e.code,e.value)));const i=e.closed||e.points.length>2&&this.isClosedPolyline(e.points);if(r.push("90",e.points.length.toString(),"70",i?"1":"0"),"AC1015"===this.acadVersion){r.splice(2,0,"5",this.getNextHandle(),"100","AcDbEntity");const e=r.indexOf("90");r.splice(e,0,"100","AcDbPolyline")}return e.points.forEach(((t,i)=>{if(r.push("10",t[0].toFixed(6),"20",t[1].toFixed(6)),e.bulges&&e.bulges.length>i){const t=e.bulges[i];0!==t&&r.push("42",t.toFixed(6))}})),r}generateSplineEntity(e,t){const r=["0","SPLINE","8",t.layer||"0"];void 0!==t.color&&this.convertColorToDxf(t.color).forEach((e=>r.push(e.code,e.value)));const i=e.degree||3,n=e.controlPoints.length,s=n+i+1,o=e.closed?9:8;if(r.push("210","0.0","220","0.0","230","1.0","70",o.toString(),"71",i.toString(),"72",s.toString(),"73",n.toString(),"74","0"),"AC1015"===this.acadVersion){r.splice(2,0,"5",this.getNextHandle(),"100","AcDbEntity");const e=r.indexOf("210");r.splice(e,0,"100","AcDbSpline")}for(let e=0;e<s;e++)r.push("40",e.toFixed(6));return e.controlPoints.forEach((e=>{r.push("10",e[0].toFixed(6),"20",e[1].toFixed(6),"30","0.0")})),r}isClosedPolyline(e){if(e.length<3)return!1;const t=e[0],r=e[e.length-1];return Math.abs(t[0]-r[0])<1e-10&&Math.abs(t[1]-r[1])<1e-10}getNextHandle(){return(++this.entityHandle).toString(16).toUpperCase()}convertColorToDxf(e){if(/^\d+$/.test(e)){const t=parseInt(e,10);if(t>=1&&t<=255)return[{code:"62",value:e}]}if(e.startsWith("#")){const t=e.substring(1);if(6===t.length){const e=parseInt(t.substring(0,2),16),r=parseInt(t.substring(2,4),16),i=parseInt(t.substring(4,6),16);return"truecolor"===this.colorFormat?[{code:"62",value:"256"},{code:"420",value:(65536*e+256*r+i).toString()}]:[{code:"62",value:this.rgbToAciColorIndex(e,r,i).toString()}]}}return[{code:"62",value:"7"}]}rgbToAciColorIndex(e,t,r){const i={1:[255,0,0],2:[255,255,0],3:[0,255,0],4:[0,255,255],5:[0,0,255],6:[255,0,255],7:[255,255,255],8:[128,128,128],9:[192,192,192]};if(e<30&&t<30&&r<30)return 7;let n=7,s=1/0;for(const[o,[a,c,h]]of Object.entries(i)){const i=Math.sqrt(Math.pow(e-a,2)+Math.pow(t-c,2)+Math.pow(r-h,2));i<s&&(s=i,n=parseInt(o))}return n}}class g{constructor(){this.dxfGenerator=new m}lineSegment(e){return e}arcSegment(e){return e}circleSegment(e){return e}polylineSegment(e){return e}splineSegment(e){return e}path(e){return e}pathsPart(e){return e}dxfCreate(e){return this.dxfGenerator.generateDxf(e)}}class y{constructor(){this.dxf=new g}}class b{}b.BITBYBIT_CDN_URL="https://git-cdn.bitbybit.dev/v1.0.0-rc.1";var w=r(216)},216:(e,t,r)=>{var i;r.d(t,{C:()=>i}),function(e){let t,r,i,n;!function(e){e.left="left",e.center="center",e.right="right"}(t=e.horizontalAlignEnum||(e.horizontalAlignEnum={})),function(e){e.top="top",e.middle="middle",e.bottom="bottom"}(r=e.verticalAlignmentEnum||(e.verticalAlignmentEnum={})),function(e){e.top="top",e.bottom="bottom"}(i=e.topBottomEnum||(e.topBottomEnum={})),function(e){e.topLeft="topLeft",e.topMid="topMid",e.topRight="topRight",e.midLeft="midLeft",e.midMid="midMid",e.midRight="midRight",e.bottomLeft="bottomLeft",e.bottomMid="bottomMid",e.bottomRight="bottomRight"}(n=e.basicAlignmentEnum||(e.basicAlignmentEnum={}))}(i||(i={}))},656:(e,t,r)=>{var i,n,s,o,a,c,h,u;r.d(t,{C6:()=>m.C,Q1:()=>i,AO:()=>l,IO:()=>v,N1:()=>d,Q8:()=>n,V2:()=>s,zU:()=>o,e:()=>f,bR:()=>a,Ro:()=>p,EY:()=>c,gB:()=>u,Mi:()=>h}),function(e){e.HexDto=class{constructor(e){this.color="#0000ff",void 0!==e&&(this.color=e)}},e.Rgb255Dto=class{constructor(e){this.colorRgb={r:0,g:0,b:255},void 0!==e&&(this.colorRgb=e)}},e.Rgb1Dto=class{constructor(e){this.colorRgb={r:0,g:0,b:1},void 0!==e&&(this.colorRgb=e)}},e.Rgba255Dto=class{constructor(e){this.colorRgba={r:0,g:0,b:255,a:1},void 0!==e&&(this.colorRgba=e)}},e.Rgba1Dto=class{constructor(e){this.colorRgba={r:0,g:0,b:1,a:1},void 0!==e&&(this.colorRgba=e)}},e.RgbAttomic255Dto=class{constructor(e,t,r){this.r=0,this.g=0,this.b=255,void 0!==e&&(this.r=e),void 0!==t&&(this.g=t),void 0!==r&&(this.b=r)}},e.RgbaAttomic255Dto=class{constructor(e,t,r,i){this.r=0,this.g=0,this.b=255,this.a=1,void 0!==e&&(this.r=e),void 0!==t&&(this.g=t),void 0!==r&&(this.b=r),void 0!==i&&(this.a=i)}},e.RgbAttomic1Dto=class{constructor(e,t,r){this.r=0,this.g=0,this.b=1,void 0!==e&&(this.r=e),void 0!==t&&(this.g=t),void 0!==r&&(this.b=r)}},e.RgbaAttomic1Dto=class{constructor(e,t,r,i){this.r=0,this.g=0,this.b=1,this.a=1,void 0!==e&&(this.r=e),void 0!==t&&(this.g=t),void 0!==r&&(this.b=r),void 0!==i&&(this.a=i)}},e.InvertHexDto=class{constructor(e){this.color="#0000ff",this.blackAndWhite=!1,void 0!==e&&(this.color=e)}},e.HexDtoMapped=class{constructor(e,t,r){this.color="#0000ff",this.from=0,this.to=255,void 0!==e&&(this.color=e),void 0!==t&&(this.from=t),void 0!==r&&(this.to=r)}},e.RGBObjectMaxDto=class{constructor(e,t){this.min=0,this.max=255,void 0!==e&&(this.rgb=e),void 0!==t&&(this.max=t)}},e.RGBMinMaxDto=class{constructor(e,t,r,i,n){this.r=255,this.g=255,this.b=255,this.min=0,this.max=255,void 0!==e&&(this.r=e),void 0!==t&&(this.g=t),void 0!==r&&(this.b=r),void 0!==i&&(this.min=i),void 0!==n&&(this.max=n)}},e.RGBObjectDto=class{constructor(e){void 0!==e&&(this.rgb=e)}}}(i||(i={})),function(e){let t;!function(e){e.first="first",e.last="last"}(t=e.firstLastEnum||(e.firstLastEnum={})),e.ListItemDto=class{constructor(e,t,r){this.index=0,this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.index=t),void 0!==r&&(this.clone=r)}},e.SubListDto=class{constructor(e,t,r,i){this.indexStart=0,this.indexEnd=1,this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.indexStart=t),void 0!==r&&(this.indexEnd=r),void 0!==i&&(this.clone=i)}},e.ListCloneDto=class{constructor(e,t){this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.clone=t)}},e.RepeatInPatternDto=class{constructor(e){this.clone=!0,this.lengthLimit=100,void 0!==e&&(this.list=e)}},e.SortDto=class{constructor(e,t,r){this.clone=!0,this.orderAsc=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.clone=t),void 0!==r&&(this.orderAsc=r)}},e.SortJsonDto=class{constructor(e,t,r){this.clone=!0,this.orderAsc=!0,this.property="propName",void 0!==e&&(this.list=e),void 0!==t&&(this.clone=t),void 0!==r&&(this.orderAsc=r)}},e.ListDto=class{constructor(e){void 0!==e&&(this.list=e)}},e.GroupListDto=class{constructor(e,t,r){this.nrElements=2,this.keepRemainder=!1,void 0!==e&&(this.list=e),void 0!==t&&(this.nrElements=t),void 0!==r&&(this.keepRemainder=r)}},e.MultiplyItemDto=class{constructor(e,t){void 0!==e&&(this.item=e),void 0!==t&&(this.times=t)}},e.AddItemAtIndexDto=class{constructor(e,t,r,i){this.index=0,this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.item=t),void 0!==r&&(this.index=r),void 0!==i&&(this.clone=i)}},e.AddItemAtIndexesDto=class{constructor(e,t,r,i){this.indexes=[0],this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.item=t),void 0!==r&&(this.indexes=r),void 0!==i&&(this.clone=i)}},e.AddItemsAtIndexesDto=class{constructor(e,t,r,i){this.indexes=[0],this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.items=t),void 0!==r&&(this.indexes=r),void 0!==i&&(this.clone=i)}},e.RemoveItemAtIndexDto=class{constructor(e,t,r){this.index=0,this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.index=t),void 0!==r&&(this.clone=r)}},e.RemoveItemsAtIndexesDto=class{constructor(e,t,r){this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.indexes=t),void 0!==r&&(this.clone=r)}},e.RemoveNthItemDto=class{constructor(e,t,r,i){this.nth=2,this.offset=0,this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.nth=t),void 0!==r&&(this.offset=r),void 0!==i&&(this.clone=i)}},e.RandomThresholdDto=class{constructor(e,t,r){this.threshold=1,this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.threshold=t),void 0!==r&&(this.clone=r)}},e.RemoveDuplicatesDto=class{constructor(e,t){this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.clone=t)}},e.RemoveDuplicatesToleranceDto=class{constructor(e,t,r){this.tolerance=1e-7,this.clone=!0,void 0!==e&&(this.list=e),void 0!==r&&(this.tolerance=r),void 0!==t&&(this.clone=t)}},e.GetByPatternDto=class{constructor(e,t){this.pattern=[!0,!0,!1],void 0!==e&&(this.list=e),void 0!==t&&(this.pattern=t)}},e.GetNthItemDto=class{constructor(e,t,r,i){this.nth=2,this.offset=0,this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.nth=t),void 0!==r&&(this.offset=r),void 0!==i&&(this.clone=i)}},e.GetLongestListLength=class{constructor(e){void 0!==e&&(this.lists=e)}},e.MergeElementsOfLists=class{constructor(e,t){this.level=0,void 0!==e&&(this.lists=e),void 0!==t&&(this.level=t)}},e.AddItemDto=class{constructor(e,t,r){this.clone=!0,void 0!==e&&(this.list=e),void 0!==t&&(this.item=t),void 0!==r&&(this.clone=r)}},e.AddItemFirstLastDto=class{constructor(e,r,i,n){this.position=t.last,this.clone=!0,void 0!==e&&(this.list=e),void 0!==r&&(this.item=r),void 0!==i&&(this.position=i),void 0!==n&&(this.clone=n)}},e.ConcatenateDto=class{constructor(e,t){this.clone=!0,void 0!==e&&(this.lists=e),void 0!==t&&(this.clone=t)}},e.IncludesDto=class{constructor(e,t){void 0!==e&&(this.list=e),void 0!==t&&(this.item=t)}},e.InterleaveDto=class{constructor(e,t){this.clone=!0,void 0!==e&&(this.lists=e),void 0!==t&&(this.clone=t)}}}(n||(n={})),function(e){let t;!function(e){e.less="<",e.lessOrEqual="<=",e.greater=">",e.greaterOrEqual=">=",e.tripleEqual="===",e.tripleNotEqual="!==",e.equal="==",e.notEqual="!="}(t=e.BooleanOperatorsEnum||(e.BooleanOperatorsEnum={})),e.ComparisonDto=class{constructor(e,t,r){void 0!==e&&(this.first=e),void 0!==t&&(this.second=t),void 0!==r&&(this.operator=r)}},e.BooleanDto=class{constructor(e){this.boolean=!1,void 0!==e&&(this.boolean=e)}},e.BooleanListDto=class{constructor(e){void 0!==e&&(this.booleans=e)}},e.ValueGateDto=class{constructor(e,t){this.boolean=!1,void 0!==e&&(this.value=e),void 0!==t&&(this.boolean=t)}},e.TwoValueGateDto=class{constructor(e,t){void 0!==e&&(this.value1=e),void 0!==t&&(this.value2=t)}},e.RandomBooleansDto=class{constructor(e){this.length=10,this.trueThreshold=.5,void 0!==e&&(this.length=e)}},e.TwoThresholdRandomGradientDto=class{},e.ThresholdBooleanListDto=class{},e.ThresholdGapsBooleanListDto=class{}}(s||(s={})),function(e){let t,r,i;!function(e){e.add="add",e.subtract="subtract",e.multiply="multiply",e.divide="divide",e.power="power",e.modulus="modulus"}(t=e.mathTwoNrOperatorEnum||(e.mathTwoNrOperatorEnum={})),function(e){e.absolute="absolute",e.negate="negate",e.ln="ln",e.log10="log10",e.tenPow="tenPow",e.round="round",e.floor="floor",e.ceil="ceil",e.sqrt="sqrt",e.sin="sin",e.cos="cos",e.tan="tan",e.asin="asin",e.acos="acos",e.atan="atan",e.log="log",e.exp="exp",e.radToDeg="radToDeg",e.degToRad="degToRad"}(r=e.mathOneNrOperatorEnum||(e.mathOneNrOperatorEnum={})),function(e){e.easeInSine="easeInSine",e.easeOutSine="easeOutSine",e.easeInOutSine="easeInOutSine",e.easeInQuad="easeInQuad",e.easeOutQuad="easeOutQuad",e.easeInOutQuad="easeInOutQuad",e.easeInCubic="easeInCubic",e.easeOutCubic="easeOutCubic",e.easeInOutCubic="easeInOutCubic",e.easeInQuart="easeInQuart",e.easeOutQuart="easeOutQuart",e.easeInOutQuart="easeInOutQuart",e.easeInQuint="easeInQuint",e.easeOutQuint="easeOutQuint",e.easeInOutQuint="easeInOutQuint",e.easeInExpo="easeInExpo",e.easeOutExpo="easeOutExpo",e.easeInOutExpo="easeInOutExpo",e.easeInCirc="easeInCirc",e.easeOutCirc="easeOutCirc",e.easeInOutCirc="easeInOutCirc",e.easeInElastic="easeInElastic",e.easeOutElastic="easeOutElastic",e.easeInOutElastic="easeInOutElastic",e.easeInBack="easeInBack",e.easeOutBack="easeOutBack",e.easeInOutBack="easeInOutBack",e.easeInBounce="easeInBounce",e.easeOutBounce="easeOutBounce",e.easeInOutBounce="easeInOutBounce"}(i=e.easeEnum||(e.easeEnum={})),e.ModulusDto=class{constructor(e,t){this.number=1,this.modulus=2,void 0!==e&&(this.number=e),void 0!==t&&(this.modulus=t)}},e.NumberDto=class{constructor(e){this.number=1,void 0!==e&&(this.number=e)}},e.EaseDto=class{constructor(e){this.x=.5,this.min=0,this.max=1,void 0!==e&&(this.x=e)}},e.RoundToDecimalsDto=class{constructor(e,t){this.number=1.123456,this.decimalPlaces=2,void 0!==e&&(this.number=e),void 0!==t&&(this.decimalPlaces=t)}},e.ActionOnTwoNumbersDto=class{constructor(e,t,r){this.first=1,this.second=1,void 0!==e&&(this.first=e),void 0!==t&&(this.second=t),void 0!==r&&(this.operation=r)}},e.TwoNumbersDto=class{constructor(e,t){this.first=1,this.second=2,void 0!==e&&(this.first=e),void 0!==t&&(this.second=t)}},e.ActionOnOneNumberDto=class{constructor(e,t){this.number=1,void 0!==e&&(this.number=e),void 0!==t&&(this.operation=t)}},e.RemapNumberDto=class{constructor(e,t,r,i,n){this.number=.5,this.fromLow=0,this.fromHigh=1,this.toLow=1,this.toHigh=2,void 0!==e&&(this.number=e),void 0!==t&&(this.fromLow=t),void 0!==r&&(this.fromHigh=r),void 0!==i&&(this.toLow=i),void 0!==n&&(this.toHigh=n)}},e.RandomNumberDto=class{constructor(e,t){this.low=0,this.high=1,void 0!==e&&(this.low=e),void 0!==t&&(this.high=t)}},e.RandomNumbersDto=class{constructor(e,t,r){this.low=0,this.high=1,this.count=10,void 0!==e&&(this.low=e),void 0!==t&&(this.high=t),void 0!==r&&(this.count=r)}},e.ToFixedDto=class{constructor(e,t){this.decimalPlaces=2,void 0!==e&&(this.number=e),void 0!==t&&(this.decimalPlaces=t)}},e.ClampDto=class{constructor(e,t,r){this.number=.5,this.min=0,this.max=1,void 0!==e&&(this.number=e),void 0!==t&&(this.min=t),void 0!==r&&(this.max=r)}},e.LerpDto=class{constructor(e,t,r){this.start=0,this.end=1,this.t=.5,void 0!==e&&(this.start=e),void 0!==t&&(this.end=t),void 0!==r&&(this.t=r)}},e.InverseLerpDto=class{constructor(e,t,r){this.start=0,this.end=1,this.value=.5,void 0!==e&&(this.start=e),void 0!==t&&(this.end=t),void 0!==r&&(this.value=r)}},e.WrapDto=class{constructor(e,t,r){this.number=1.5,this.min=0,this.max=1,void 0!==e&&(this.number=e),void 0!==t&&(this.min=t),void 0!==r&&(this.max=r)}},e.PingPongDto=class{constructor(e,t){this.t=.5,this.length=1,void 0!==e&&(this.t=e),void 0!==t&&(this.length=t)}},e.MoveTowardsDto=class{constructor(e,t,r){this.current=0,this.target=1,this.maxDelta=.1,void 0!==e&&(this.current=e),void 0!==t&&(this.target=t),void 0!==r&&(this.maxDelta=r)}}}(o||(o={})),function(e){e.PointDto=class{constructor(e){void 0!==e&&(this.point=e)}},e.PointXYZDto=class{constructor(e,t,r){this.x=0,this.y=0,this.z=0,void 0!==e&&(this.x=e),void 0!==t&&(this.y=t),void 0!==r&&(this.z=r)}},e.PointXYDto=class{constructor(e,t){this.x=0,this.y=0,void 0!==e&&(this.x=e),void 0!==t&&(this.y=t)}},e.PointsDto=class{constructor(e){void 0!==e&&(this.points=e)}},e.TwoPointsDto=class{constructor(e,t){void 0!==e&&(this.point1=e),void 0!==t&&(this.point2=t)}},e.DrawPointDto=class{constructor(e,t,r,i,n,s){this.opacity=1,this.size=3,this.colours="#444444",this.updatable=!1,void 0!==e&&(this.point=e),void 0!==t&&(this.opacity=t),void 0!==r&&(this.size=r),void 0!==i&&(this.colours=i),void 0!==n&&(this.updatable=n),void 0!==s&&(this.pointMesh=s)}},e.DrawPointsDto=class{constructor(e,t,r,i,n,s){this.opacity=1,this.size=.1,this.colours="#444444",this.updatable=!1,void 0!==e&&(this.points=e),void 0!==t&&(this.opacity=t),void 0!==r&&(this.size=r),void 0!==i&&(this.colours=i),void 0!==n&&(this.updatable=n),void 0!==s&&(this.pointsMesh=s)}},e.TransformPointDto=class{constructor(e,t){void 0!==e&&(this.point=e),void 0!==t&&(this.transformation=t)}},e.TransformPointsDto=class{constructor(e,t){void 0!==e&&(this.points=e),void 0!==t&&(this.transformation=t)}},e.TranslatePointsWithVectorsDto=class{constructor(e,t){void 0!==e&&(this.points=e),void 0!==t&&(this.translations=t)}},e.TranslatePointsDto=class{constructor(e,t){void 0!==e&&(this.points=e),void 0!==t&&(this.translation=t)}},e.TranslateXYZPointsDto=class{constructor(e,t,r,i){this.x=0,this.y=1,this.z=0,void 0!==e&&(this.points=e),void 0!==t&&(this.x=t),void 0!==r&&(this.y=r),void 0!==i&&(this.z=i)}},e.ScalePointsCenterXYZDto=class{constructor(e,t,r){this.center=[0,0,0],this.scaleXyz=[1,1,1],void 0!==e&&(this.points=e),void 0!==t&&(this.center=t),void 0!==r&&(this.scaleXyz=r)}},e.StretchPointsDirFromCenterDto=class{constructor(e,t,r,i){this.center=[0,0,0],this.direction=[0,0,1],this.scale=2,void 0!==e&&(this.points=e),void 0!==t&&(this.center=t),void 0!==r&&(this.direction=r),void 0!==i&&(this.scale=i)}},e.RotatePointsCenterAxisDto=class{constructor(e,t,r,i){this.angle=90,this.axis=[0,1,0],this.center=[0,0,0],void 0!==e&&(this.points=e),void 0!==t&&(this.angle=t),void 0!==r&&(this.axis=r),void 0!==i&&(this.center=i)}},e.TransformsForPointsDto=class{constructor(e,t){void 0!==e&&(this.points=e),void 0!==t&&(this.transformation=t)}},e.ThreePointsNormalDto=class{constructor(e,t,r,i){this.reverseNormal=!1,void 0!==e&&(this.point1=e),void 0!==t&&(this.point2=t),void 0!==r&&(this.point3=r),void 0!==i&&(this.reverseNormal=i)}},e.ThreePointsToleranceDto=class{constructor(e,t,r,i){this.tolerance=1e-7,void 0!==e&&(this.start=e),void 0!==t&&(this.center=t),void 0!==r&&(this.end=r),void 0!==i&&(this.tolerance=i)}},e.PointsMaxFilletsHalfLineDto=class{constructor(e,t,r){this.checkLastWithFirst=!1,this.tolerance=1e-7,void 0!==e&&(this.points=e),void 0!==t&&(this.checkLastWithFirst=t),void 0!==r&&(this.tolerance=r)}},e.RemoveConsecutiveDuplicatesDto=class{constructor(e,t,r){this.tolerance=1e-7,this.checkFirstAndLast=!1,void 0!==e&&(this.points=e),void 0!==t&&(this.tolerance=t),void 0!==r&&(this.checkFirstAndLast=r)}},e.ClosestPointFromPointsDto=class{constructor(e,t){void 0!==e&&(this.points=e),void 0!==t&&(this.point=t)}},e.TwoPointsToleranceDto=class{constructor(e,t,r){this.tolerance=1e-7,void 0!==e&&(this.point1=e),void 0!==t&&(this.point2=t),void 0!==r&&(this.tolerance=r)}},e.StartEndPointsDto=class{constructor(e,t){void 0!==e&&(this.startPoint=e),void 0!==t&&(this.endPoint=t)}},e.StartEndPointsListDto=class{constructor(e,t){void 0!==e&&(this.startPoint=e),void 0!==t&&(this.endPoints=t)}},e.MultiplyPointDto=class{constructor(e,t){void 0!==e&&(this.point=e),void 0!==t&&(this.amountOfPoints=t)}},e.SpiralDto=class{constructor(e,t,r,i,n){this.phi=.9,this.numberPoints=200,this.widening=3,this.radius=6,this.factor=1,void 0!==e&&(this.radius=e),void 0!==t&&(this.numberPoints=t),void 0!==r&&(this.widening=r),void 0!==i&&(this.factor=i),void 0!==n&&(this.phi=n)}},e.HexGridScaledToFitDto=class{constructor(e,t,r,i,n,s){this.width=10,this.height=10,this.nrHexagonsInWidth=10,this.nrHexagonsInHeight=10,this.flatTop=!1,this.extendTop=!1,this.extendBottom=!1,this.extendLeft=!1,this.extendRight=!1,this.centerGrid=!1,this.pointsOnGround=!1,void 0!==e&&(this.width=e),void 0!==t&&(this.height=t),void 0!==r&&(this.nrHexagonsInHeight=r),void 0!==i&&(this.nrHexagonsInWidth=i),void 0!==n&&(this.centerGrid=n),void 0!==s&&(this.pointsOnGround=s)}},e.HexGridCentersDto=class{constructor(e,t,r,i,n){this.nrHexagonsY=21,this.nrHexagonsX=21,this.orientOnCenter=!1,this.pointsOnGround=!1,void 0!==e&&(this.nrHexagonsX=e),void 0!==t&&(this.nrHexagonsY=t),void 0!==r&&(this.radiusHexagon=r),void 0!==i&&(this.orientOnCenter=i),void 0!==n&&(this.pointsOnGround=n)}}}(a||(a={})),function(e){e.TextDto=class{constructor(e){this.text="Hello World",void 0!==e&&(this.text=e)}},e.TextSplitDto=class{constructor(e,t){this.text="a,b,c",this.separator=",",void 0!==e&&(this.text=e),void 0!==t&&(this.separator=t)}},e.TextReplaceDto=class{constructor(e,t,r){this.text="a-c",this.search="-",this.replaceWith="b",void 0!==e&&(this.text=e),void 0!==t&&(this.search=t),void 0!==r&&(this.replaceWith=r)}},e.TextJoinDto=class{constructor(e,t){this.separator=",",void 0!==e&&(this.list=e),void 0!==t&&(this.separator=t)}},e.ToStringDto=class{constructor(e){void 0!==e&&(this.item=e)}},e.ToStringEachDto=class{constructor(e){void 0!==e&&(this.list=e)}},e.TextFormatDto=class{constructor(e,t){this.text="Hello {0}",this.values=["World"],void 0!==e&&(this.text=e),void 0!==t&&(this.values=t)}},e.TextSearchDto=class{constructor(e,t){this.text="hello world",this.search="world",void 0!==e&&(this.text=e),void 0!==t&&(this.search=t)}},e.TextSubstringDto=class{constructor(e,t,r){this.text="hello world",this.start=0,this.end=5,void 0!==e&&(this.text=e),void 0!==t&&(this.start=t),void 0!==r&&(this.end=r)}},e.TextIndexDto=class{constructor(e,t){this.text="hello",this.index=0,void 0!==e&&(this.text=e),void 0!==t&&(this.index=t)}},e.TextPadDto=class{constructor(e,t,r){this.text="x",this.length=3,this.padString="a",void 0!==e&&(this.text=e),void 0!==t&&(this.length=t),void 0!==r&&(this.padString=r)}},e.TextRepeatDto=class{constructor(e,t){this.text="ha",this.count=3,void 0!==e&&(this.text=e),void 0!==t&&(this.count=t)}},e.TextConcatDto=class{constructor(e){this.texts=["hello"," ","world"],void 0!==e&&(this.texts=e)}},e.TextRegexDto=class{constructor(e,t,r){this.text="hello123world",this.pattern="[0-9]+",this.flags="g",void 0!==e&&(this.text=e),void 0!==t&&(this.pattern=t),void 0!==r&&(this.flags=r)}},e.TextRegexReplaceDto=class{constructor(e,t,r,i){this.text="hello123world456",this.pattern="[0-9]+",this.flags="g",this.replaceWith="X",void 0!==e&&(this.text=e),void 0!==t&&(this.pattern=t),void 0!==r&&(this.flags=r),void 0!==i&&(this.replaceWith=i)}},e.VectorCharDto=class{constructor(e,t,r,i,n){this.char="A",this.xOffset=0,this.yOffset=0,this.height=1,this.extrudeOffset=0,void 0!==e&&(this.char=e),void 0!==t&&(this.xOffset=t),void 0!==r&&(this.yOffset=r),void 0!==i&&(this.height=i),void 0!==n&&(this.extrudeOffset=n)}},e.VectorTextDto=class{constructor(e,t,r,i,n,s,o,a,c){this.xOffset=0,this.yOffset=0,this.height=1,this.lineSpacing=1.4,this.letterSpacing=0,this.extrudeOffset=0,this.centerOnOrigin=!1,void 0!==e&&(this.text=e),void 0!==t&&(this.xOffset=t),void 0!==r&&(this.yOffset=r),void 0!==i&&(this.height=i),void 0!==n&&(this.lineSpacing=n),void 0!==s&&(this.letterSpacing=s),void 0!==o&&(this.align=o),void 0!==a&&(this.extrudeOffset=a),void 0!==c&&(this.centerOnOrigin=c)}}}(c||(c={})),function(e){e.TwoVectorsDto=class{constructor(e,t){void 0!==e&&(this.first=e),void 0!==t&&(this.second=t)}},e.VectorBoolDto=class{constructor(e){void 0!==e&&(this.vector=e)}},e.RemoveAllDuplicateVectorsDto=class{constructor(e,t){this.tolerance=1e-7,void 0!==e&&(this.vectors=e),void 0!==t&&(this.tolerance=t)}},e.RemoveConsecutiveDuplicateVectorsDto=class{constructor(e,t,r){this.checkFirstAndLast=!1,this.tolerance=1e-7,void 0!==e&&(this.vectors=e),void 0!==t&&(this.checkFirstAndLast=t),void 0!==r&&(this.tolerance=r)}},e.VectorsTheSameDto=class{constructor(e,t,r){this.tolerance=1e-7,void 0!==e&&(this.vec1=e),void 0!==t&&(this.vec2=t),void 0!==r&&(this.tolerance=r)}},e.VectorDto=class{constructor(e){void 0!==e&&(this.vector=e)}},e.VectorStringDto=class{constructor(e){void 0!==e&&(this.vector=e)}},e.Vector3Dto=class{constructor(e){void 0!==e&&(this.vector=e)}},e.RangeMaxDto=class{constructor(e){void 0!==e&&(this.max=e)}},e.VectorXYZDto=class{constructor(e,t,r){void 0!==e&&(this.x=e),void 0!==t&&(this.y=t),void 0!==r&&(this.z=r)}},e.VectorXYDto=class{constructor(e,t){void 0!==e&&(this.x=e),void 0!==t&&(this.y=t)}},e.SpanDto=class{constructor(e,t,r){this.step=.1,this.min=0,this.max=1,void 0!==e&&(this.step=e),void 0!==t&&(this.min=t),void 0!==r&&(this.max=r)}},e.SpanEaseItemsDto=class{constructor(e,t,r,i){this.nrItems=100,this.min=0,this.max=1,this.ease=o.easeEnum.easeInSine,this.intervals=!1,void 0!==e&&(this.nrItems=e),void 0!==t&&(this.min=t),void 0!==r&&(this.max=r),void 0!==i&&(this.ease=i)}},e.SpanLinearItemsDto=class{constructor(e,t,r){this.nrItems=100,this.min=0,this.max=1,void 0!==e&&(this.nrItems=e),void 0!==t&&(this.min=t),void 0!==r&&(this.max=r)}},e.RayPointDto=class{constructor(e,t,r){void 0!==e&&(this.point=e),void 0!==t&&(this.distance=t),void 0!==r&&(this.vector=r)}},e.VectorsDto=class{constructor(e){void 0!==e&&(this.vectors=e)}},e.FractionTwoVectorsDto=class{constructor(e,t,r){this.fraction=.5,void 0!==e&&(this.fraction=e),void 0!==t&&(this.first=t),void 0!==r&&(this.second=r)}},e.VectorScalarDto=class{constructor(e,t){void 0!==e&&(this.scalar=e),void 0!==t&&(this.vector=t)}},e.TwoVectorsReferenceDto=class{constructor(e,t,r){void 0!==e&&(this.reference=e),void 0!==t&&(this.first=t),void 0!==r&&(this.second=r)}}}(h||(h={})),function(e){e.RotationCenterAxisDto=class{constructor(e,t,r){this.angle=90,this.axis=[0,1,0],this.center=[0,0,0],void 0!==e&&(this.angle=e),void 0!==t&&(this.axis=t),void 0!==r&&(this.center=r)}},e.RotationCenterDto=class{constructor(e,t){this.angle=90,this.center=[0,0,0],void 0!==e&&(this.angle=e),void 0!==t&&(this.center=t)}},e.RotationCenterYawPitchRollDto=class{constructor(e,t,r,i){this.yaw=0,this.pitch=0,this.roll=0,this.center=[0,0,0],void 0!==e&&(this.yaw=e),void 0!==t&&(this.pitch=t),void 0!==r&&(this.roll=r),void 0!==i&&(this.center=i)}},e.ScaleXYZDto=class{constructor(e){this.scaleXyz=[1,1,1],void 0!==e&&(this.scaleXyz=e)}},e.StretchDirCenterDto=class{constructor(e,t,r){this.center=[0,0,0],this.direction=[0,0,1],this.scale=2,void 0!==e&&(this.scale=e),void 0!==t&&(this.center=t),void 0!==r&&(this.direction=r)}},e.ScaleCenterXYZDto=class{constructor(e,t){this.center=[0,0,0],this.scaleXyz=[1,1,1],void 0!==e&&(this.center=e),void 0!==t&&(this.scaleXyz=t)}},e.UniformScaleDto=class{constructor(e){this.scale=1,void 0!==e&&(this.scale=e)}},e.UniformScaleFromCenterDto=class{constructor(e,t){this.scale=1,this.center=[0,0,0],void 0!==e&&(this.scale=e),void 0!==t&&(this.center=t)}},e.TranslationXYZDto=class{constructor(e){this.translation=[0,0,0],void 0!==e&&(this.translation=e)}},e.TranslationsXYZDto=class{constructor(e){void 0!==e&&(this.translations=e)}}}(u||(u={}));var l,d,p,f,v,m=r(216);!function(e){e.DateDto=class{constructor(e){void 0!==e&&(this.date=e)}},e.DateStringDto=class{constructor(e){void 0!==e&&(this.dateString=e)}},e.DateSecondsDto=class{constructor(e,t){this.seconds=30,void 0!==e&&(this.date=e),void 0!==t&&(this.seconds=t)}},e.DateDayDto=class{constructor(e,t){this.day=1,void 0!==e&&(this.date=e),void 0!==t&&(this.day=t)}},e.DateYearDto=class{constructor(e,t){this.year=1,void 0!==e&&(this.date=e),void 0!==t&&(this.year=t)}},e.DateMonthDto=class{constructor(e,t){this.month=1,void 0!==e&&(this.date=e),void 0!==t&&(this.month=t)}},e.DateHoursDto=class{constructor(e,t){this.hours=1,void 0!==e&&(this.date=e),void 0!==t&&(this.hours=t)}},e.DateMinutesDto=class{constructor(e,t){this.minutes=1,void 0!==e&&(this.date=e),void 0!==t&&(this.minutes=t)}},e.DateMillisecondsDto=class{constructor(e,t){this.milliseconds=1,void 0!==e&&(this.date=e),void 0!==t&&(this.milliseconds=t)}},e.DateTimeDto=class{constructor(e,t){this.time=1,void 0!==e&&(this.date=e),void 0!==t&&(this.time=t)}},e.CreateFromUnixTimeStampDto=class{constructor(e){this.unixTimeStamp=1,void 0!==e&&(this.unixTimeStamp=e)}},e.CreateDateDto=class{constructor(e,t,r,i,n,s,o){this.year=1,this.month=1,this.day=1,this.hours=1,this.minutes=1,this.seconds=1,this.milliseconds=1,void 0!==e&&(this.year=e),void 0!==t&&(this.month=t),void 0!==r&&(this.day=r),void 0!==i&&(this.hours=i),void 0!==n&&(this.minutes=n),void 0!==s&&(this.seconds=s),void 0!==o&&(this.milliseconds=o)}}}(l||(l={})),function(e){e.LinePointsDto=class{constructor(e,t){void 0!==e&&(this.start=e),void 0!==t&&(this.end=t)}},e.LineStartEndPointsDto=class{constructor(e,t){void 0!==e&&(this.startPoints=e),void 0!==t&&(this.endPoints=t)}},e.DrawLineDto=class{constructor(e,t,r,i,n,s){this.opacity=1,this.colours="#444444",this.size=3,this.updatable=!1,void 0!==e&&(this.line=e),void 0!==t&&(this.opacity=t),void 0!==r&&(this.colours=r),void 0!==i&&(this.size=i),void 0!==n&&(this.updatable=n),void 0!==s&&(this.lineMesh=s)}},e.DrawLinesDto=class{constructor(e,t,r,i,n,s){this.opacity=1,this.colours="#444444",this.size=3,this.updatable=!1,void 0!==e&&(this.lines=e),void 0!==t&&(this.opacity=t),void 0!==r&&(this.colours=r),void 0!==i&&(this.size=i),void 0!==n&&(this.updatable=n),void 0!==s&&(this.linesMesh=s)}},e.PointsLinesDto=class{constructor(e){void 0!==e&&(this.points=e)}},e.LineDto=class{constructor(e){void 0!==e&&(this.line=e)}},e.SegmentDto=class{constructor(e){void 0!==e&&(this.segment=e)}},e.SegmentsDto=class{constructor(e){void 0!==e&&(this.segments=e)}},e.LinesDto=class{constructor(e){void 0!==e&&(this.lines=e)}},e.LineLineIntersectionDto=class{constructor(e,t,r){this.checkSegmentsOnly=!0,void 0!==e&&(this.line1=e),void 0!==t&&(this.line2=t),void 0!==r&&(this.tolerance=r)}},e.PointOnLineDto=class{constructor(e,t){this.param=.5,void 0!==e&&(this.line=e),void 0!==t&&(this.param=t)}},e.TransformLineDto=class{constructor(e,t){void 0!==e&&(this.line=e),void 0!==t&&(this.transformation=t)}},e.TransformsLinesDto=class{constructor(e,t){void 0!==e&&(this.lines=e),void 0!==t&&(this.transformation=t)}},e.TransformLinesDto=class{constructor(e,t){void 0!==e&&(this.lines=e),void 0!==t&&(this.transformation=t)}}}(d||(d={})),function(e){e.PolylineCreateDto=class{constructor(e,t){this.isClosed=!1,void 0!==e&&(this.points=e),void 0!==t&&(this.isClosed=t)}},e.PolylinePropertiesDto=class{constructor(e,t){this.isClosed=!1,void 0!==e&&(this.points=e),void 0!==t&&(this.isClosed=t)}},e.PolylineDto=class{constructor(e){void 0!==e&&(this.polyline=e)}},e.PolylinesDto=class{constructor(e){void 0!==e&&(this.polylines=e)}},e.TransformPolylineDto=class{constructor(e,t){void 0!==e&&(this.polyline=e),void 0!==t&&(this.transformation=t)}},e.DrawPolylineDto=class{constructor(e,t,r,i,n,s){this.opacity=1,this.colours="#444444",this.size=3,this.updatable=!1,void 0!==e&&(this.polyline=e),void 0!==t&&(this.opacity=t),void 0!==r&&(this.colours=r),void 0!==i&&(this.size=i),void 0!==n&&(this.updatable=n),void 0!==s&&(this.polylineMesh=s)}},e.DrawPolylinesDto=class{constructor(e,t,r,i,n,s){this.opacity=1,this.colours="#444444",this.size=3,this.updatable=!1,void 0!==e&&(this.polylines=e),void 0!==t&&(this.opacity=t),void 0!==r&&(this.colours=r),void 0!==i&&(this.size=i),void 0!==n&&(this.updatable=n),void 0!==s&&(this.polylinesMesh=s)}},e.SegmentsToleranceDto=class{constructor(e){this.tolerance=1e-5,void 0!==e&&(this.segments=e)}},e.PolylineToleranceDto=class{constructor(e,t){this.tolerance=1e-5,void 0!==e&&(this.polyline=e),void 0!==t&&(this.tolerance=t)}},e.TwoPolylinesToleranceDto=class{constructor(e,t,r){this.tolerance=1e-5,void 0!==e&&(this.polyline1=e),void 0!==t&&(this.polyline2=t),void 0!==r&&(this.tolerance=r)}}}(p||(p={})),function(e){e.SignedDistanceFromPlaneToPointDto=class{constructor(e,t){void 0!==e&&(this.point=e),void 0!==t&&(this.plane=t)}},e.TriangleDto=class{constructor(e){void 0!==e&&(this.triangle=e)}},e.TriangleToleranceDto=class{constructor(e){this.tolerance=1e-7,void 0!==e&&(this.triangle=e)}},e.TriangleTriangleToleranceDto=class{constructor(e,t,r){this.tolerance=1e-7,void 0!==e&&(this.triangle1=e),void 0!==t&&(this.triangle2=t),void 0!==r&&(this.tolerance=r)}},e.MeshMeshToleranceDto=class{constructor(e,t,r){this.tolerance=1e-7,void 0!==e&&(this.mesh1=e),void 0!==t&&(this.mesh2=t),void 0!==r&&(this.tolerance=r)}}}(f||(f={})),function(e){e.DxfLineSegmentDto=class{constructor(e,t){void 0!==e&&(this.start=e),void 0!==t&&(this.end=t)}},e.DxfArcSegmentDto=class{constructor(e,t,r,i){void 0!==e&&(this.center=e),void 0!==t&&(this.radius=t),void 0!==r&&(this.startAngle=r),void 0!==i&&(this.endAngle=i)}},e.DxfCircleSegmentDto=class{constructor(e,t){void 0!==e&&(this.center=e),void 0!==t&&(this.radius=t)}},e.DxfPolylineSegmentDto=class{constructor(e,t,r){this.closed=!1,void 0!==e&&(this.points=e),void 0!==t&&(this.closed=t),void 0!==r&&(this.bulges=r)}},e.DxfSplineSegmentDto=class{constructor(e,t,r){this.degree=3,this.closed=!1,void 0!==e&&(this.controlPoints=e),void 0!==t&&(this.degree=t),void 0!==r&&(this.closed=r)}},e.DxfPathDto=class{constructor(e){void 0!==e&&(this.segments=e)}},e.DxfPathsPartDto=class{constructor(e,t,r){this.layer="Default",this.color="#000000",void 0!==e&&(this.layer=e),void 0!==t&&(this.color=t),void 0!==r&&(this.paths=r)}},e.DxfModelDto=class{constructor(e,t,r){this.colorFormat="aci",this.acadVersion="AC1009",void 0!==e&&(this.dxfPathsParts=e),void 0!==t&&(this.colorFormat=t),void 0!==r&&(this.acadVersion=r)}}}(v||(v={}))},466:(e,t,r)=>{var i,n;r.d(t,{Wl:()=>D,hS:()=>A}),(n=i||(i={})).loading="loading",n.loaded="loaded",n.initialised="initialised",n.computing="computing";const s="occ-shape",o="occ-entity",a="shapeToMesh",c="shapesToMeshes",h="deleteShape",u="deleteShapes",l="startedTheRun",d="cleanAllCache",p="addOc",f="saveShapeSTEP",v=new Set([a,c,h,u,l,d,p,f]);function m(e){return{type:s,hash:e}}class g{constructor(e){this.cacheHelper=e}resolveShapeReferences(e){return this.resolveRecursively(e)}resolveRecursively(e){if(null==e)return e;if("object"!=typeof e)return e;if(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)return e;if("undefined"!=typeof Blob&&e instanceof Blob)throw new Error("File/Blob objects cannot be passed directly to the worker. The data should have been converted to ArrayBuffer on the main thread. This is a bug in the API layer - please report it.");if(function(e){return null!==e&&"object"==typeof e&&"type"in e&&"hash"in e&&e.type===s}(e))return this.resolveFromCache(e.hash,"shape");if(function(e){return null!==e&&"object"==typeof e&&"type"in e&&"hash"in e&&e.type===o}(e))return this.resolveFromCache(e.hash,"entity");if(Array.isArray(e))return e.map((e=>this.resolveRecursively(e)));const t={};for(const r of Object.keys(e))t[r]=this.resolveRecursively(e[r]);return t}resolveFromCache(e,t){const r=this.cacheHelper.checkCache(e);if(!r)throw new Error(`${"shape"===t?"Shape":"Entity"} with hash ${e} not found in cache. The cache may have been cleaned. Please regenerate the object.`);return r}}class y{constructor(e){this.cacheHelper=e}serializeResult(e){return this.serializeRecursively(e)}serializeRecursively(e){if(null==e)return e;if("object"!=typeof e)return e;if(ArrayBuffer.isView(e))return e;if(this.cacheHelper.isShape(e)&&!Array.isArray(e))return m(e.hash);if(this.cacheHelper.isEntityHandle(e)&&!Array.isArray(e))return t=e.hash,{type:o,hash:t};var t;if(Array.isArray(e))return e.length>0&&this.cacheHelper.isShape(e[0])?e.map((e=>m(e.hash))):e.map((e=>this.serializeRecursively(e)));if(this.isObjectDefinition(e))return this.serializeObjectDefinition(e);const r={};for(const t of Object.keys(e))r[t]=this.serializeRecursively(e[t]);return r}isObjectDefinition(e){if(null===e||"object"!=typeof e)return!1;const t=e;return"compound"in t&&"data"in t&&"shapes"in t&&Array.isArray(t.shapes)&&t.shapes.length>0}serializeObjectDefinition(e){return Object.assign(Object.assign({},e),{compound:m(e.compound.hash),shapes:e.shapes.map((e=>({id:e.id,shape:m(e.shape.hash)})))})}}class b{callFunction(e,t,r){const i=t.split(".");let n=e;for(let e=0;e<i.length-1;e++){if(null==n||"object"!=typeof n)throw new Error(`Cannot resolve path "${t}": "${i[e]}" is not an object`);n=n[i[e]]}const s=i[i.length-1];if(null==n||"object"!=typeof n)throw new Error(`Cannot resolve path "${t}": parent is not an object`);const o=n[s];if("function"!=typeof o)throw new Error(`"${t}" is not a function`);return o.call(n,r)}}const w={[a]:(e,t)=>{const r=t.shapeResolver.resolveShapeReferences(e);return{handled:!0,result:t.openCascade.shapeToMesh(r)}},[c]:(e,t)=>{const r=e.shapes;if(!r||!Array.isArray(r)||0===r.length)throw new Error("No shapes detected");const i=t.shapeResolver.resolveShapeReferences(e);return{handled:!0,result:t.openCascade.shapesToMeshes(i)}},[h]:(e,t)=>{const r=e.shape;return t.cacheHelper.cleanCacheForHash(r.hash),{handled:!0,result:{}}},[u]:(e,t)=>(e.shapes.forEach((e=>t.cacheHelper.cleanCacheForHash(e.hash))),{handled:!0,result:{}}),[l]:(e,t)=>(Object.keys(t.cacheHelper.usedHashes).length>1e4&&t.cacheHelper.cleanAllCache(),{handled:!0,result:{}}),[d]:(e,t)=>(t.cacheHelper.cleanAllCache(),{handled:!0,result:{}}),[p]:(e,t)=>{var r;return(null===(r=t.openCascade)||void 0===r?void 0:r.plugins)?Object.keys(e).forEach((r=>{t.openCascade.plugins.dependencies[r]=e[r]})):Object.keys(e).forEach((r=>{t.addPendingDependency(r,e[r])})),{handled:!0,result:void 0}},[f]:(e,t)=>{const r=t.shapeResolver.resolveShapeReferences(e);return{handled:!0,result:t.openCascade.io.saveShapeSTEP(r)}}};var S=r(154);class E{constructor(e){this.occ=e,this.hashesFromPreviousRun={},this.usedHashes={},this.argCache={}}cleanAllCache(){Object.keys(this.argCache).forEach((e=>{if(this.argCache[e])try{const t=this.argCache[e];this.isOCCTObject(t)&&(Array.isArray(t)?t.forEach((e=>{try{this.isShape(e)&&(this.occ.BRepTools_Clean_Force(e,!0),this.occ.BRepTools_CleanGeometry(e)),e.delete()}catch(e){}})):(this.isShape(t)&&(this.occ.BRepTools_Clean_Force(t,!0),this.occ.BRepTools_CleanGeometry(t)),t.delete()))}catch(e){}})),this.argCache={},this.usedHashes={},this.hashesFromPreviousRun={}}cleanCacheForHash(e){if(this.argCache[e])try{const t=this.argCache[e];this.isOCCTObject(t)&&(Array.isArray(t)?t.forEach((e=>{try{this.isShape(e)&&(this.occ.BRepTools_Clean_Force(e,!0),this.occ.BRepTools_CleanGeometry(e)),e.delete()}catch(e){}})):(this.isShape(t)&&(this.occ.BRepTools_Clean_Force(t,!0),this.occ.BRepTools_CleanGeometry(t)),t.delete()))}catch(e){}delete this.argCache[e],delete this.usedHashes[e],delete this.hashesFromPreviousRun[e]}cleanUpCache(){const e=Object.keys(this.usedHashes),t=Object.keys(this.hashesFromPreviousRun);let r=[];t.length>0&&(r=t.filter((t=>!e.includes(t)))),r.length>0&&r.forEach((e=>{if(this.argCache[e]){try{const t=this.argCache[e];this.isOCCTObject(t)&&(Array.isArray(t)?t.forEach((e=>{try{this.isShape(e)&&(this.occ.BRepTools_Clean_Force(e,!0),this.occ.BRepTools_CleanGeometry(e)),e.delete()}catch(e){}})):(this.isShape(t)&&(this.occ.BRepTools_Clean_Force(t,!0),this.occ.BRepTools_CleanGeometry(t)),t.delete()))}catch(e){}delete this.argCache[e]}delete this.usedHashes[e]})),this.hashesFromPreviousRun=Object.assign({},this.usedHashes)}isOCCTObject(e){return null!=e&&!Array.isArray(e)&&void 0!==e.$$||Array.isArray(e)&&e.length>0&&void 0!==e[0].$$}isShape(e){return null!=e&&void 0!==e.$$&&"function"==typeof e.ShapeType}isEntityHandle(e){return null!=e&&void 0!==e.$$&&"function"!=typeof e.ShapeType}cacheOp(e,t){let r=null;const i=this.computeHash(e);this.usedHashes[i]=i,this.hashesFromPreviousRun[i]=i;const n=this.checkCache(i);if(n)this.isOCCTObject(n)?(r=n,r.hash=n.hash):n.value&&(r=n.value);else if(r=t(),Array.isArray(r)&&this.isOCCTObject(r))r.forEach(((t,r)=>{const i=this.computeHash(Object.assign(Object.assign({},e),{index:r}));t.hash=i,this.addToCache(i,t)}));else if(this.isOCCTObject(r))r.hash=i,this.addToCache(i,r);else if(r&&r.compound&&r.data&&r.shapes&&r.shapes.length>0){const t=r,n=this.computeHash(Object.assign(Object.assign({},e),{index:"compound"}));t.compound.hash=n,this.addToCache(n,t.compound),t.shapes.forEach(((t,r)=>{const i=this.computeHash(Object.assign(Object.assign({},e),{index:r}));t.shape.hash=i,this.addToCache(i,t.shape)})),this.addToCache(i,{value:t})}else if(r&&"object"==typeof r&&"success"in r&&"document"in r&&this.isEntityHandle(r.document)){const t=this.computeHash(Object.assign(Object.assign({},e),{index:"document"}));r.document.hash=t,this.addToCache(t,r.document),this.addToCache(i,{value:r})}else this.addToCache(i,{value:r});return r}checkCache(e){const t=this.argCache[e];if(!t)return null;if(this.isOCCTObject(t))if(Array.isArray(t))for(const r of t)try{if(r.IsNull&&r.IsNull())return delete this.argCache[e],null}catch(t){return delete this.argCache[e],null}else try{if(t.IsNull&&t.IsNull())return delete this.argCache[e],null}catch(t){return delete this.argCache[e],null}return t}addToCache(e,t){const r=t;return null!==r&&"object"==typeof r&&(r.hash=e),this.argCache[e]=r,e}computeHash(e,t){let r=JSON.stringify(e);r=r.replace(/("ptr":(-?[0-9]*?),)/g,""),r=r.replace(/("ptr":(-?[0-9]*))/g,""),r.includes("ptr")&&console.error("YOU DONE MESSED UP YOUR REGEX.");const i=Math.random.toString()+r;return t?i:this.stringToHash(i)}stringToHash(e){let t=0;if(0===e.length)return t;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}remove(e,t){return e.filter((e=>e.hash!==t.hash||e.ptr!==t.ptr))}}let x,T,P,N,C;const k={},D=(e,t,r)=>{T=new E(e);const i=new S.V0,n=new S.yd;return x=new S.vk(e,new S.G6(i,n,e)),P=new g(T),N=new y(T),C=new b,t&&(x.plugins=t,Object.entries(k).forEach((([e,t])=>{x.plugins.dependencies[e]=t}))),r||postMessage("occ-initialised"),T};function O(e,t){let r="";return(null==t?void 0:t.inputs)&&(r=`Input values were: {${Object.entries(t.inputs).map((([e,t])=>`${e}: ${JSON.stringify(t)}`)).join(",")}}. `),`OCCT computation failed. ${e} While executing function ${(null==t?void 0:t.functionName)?`- ${t.functionName}`:""}. ${r}`}const A=(e,t)=>{let r;t("busy");try{const{functionName:i,inputs:n}=e.action,s=function(e){return w[e]}(i);s?r=s(n,{openCascade:x,cacheHelper:T,shapeResolver:P,addPendingDependency:(e,t)=>{k[e]=t}}).result:v.has(i)||(r=function(e){const t=P.resolveShapeReferences(e.inputs),r=T.cacheOp(e,(()=>C.callFunction(x,e.functionName,t)));return N.serializeResult(r)}(e.action)),t({uid:e.uid,result:r})}catch(r){t({uid:e.uid,result:void 0,error:O(r,e.action)})}}},139:(e,t,r)=>{r.a(e,(async(e,i)=>{try{async function s(e={}){var t=e,i=!!globalThis.window,n=!!globalThis.WorkerGlobalScope,s=globalThis.process?.versions?.node&&"renderer"!=globalThis.process?.type,o=n&&self.name?.startsWith("em-pthread");if(s){const{createRequire:_P}=await Promise.resolve().then(r.t.bind(r,93,23));var a=_P("file:///Users/matasubarevicius/Documents/MyProjects/bitbybit-ui/projects/bitbybit-runners/browser-babylon/node_modules/@bitbybit-dev/occt/bitbybit-dev-occt-64-bit-mt/bitbybit-dev-occt-64-bit-mt.js"),c=a("worker_threads");r.g.Worker=c.Worker,n=!c.isMainThread,o=n&&"em-pthread"==c.workerData}var h,u,l="./this.program",d=(e,t)=>{throw t},p="file:///Users/matasubarevicius/Documents/MyProjects/bitbybit-ui/projects/bitbybit-runners/browser-babylon/node_modules/@bitbybit-dev/occt/bitbybit-dev-occt-64-bit-mt/bitbybit-dev-occt-64-bit-mt.js",f="";if(s){var v=a("fs");p.startsWith("file:")&&(f=a("path").dirname(a("url").fileURLToPath(p))+"/"),u=e=>(e=U(e)?new URL(e):e,v.readFileSync(e)),h=async(e,t=!0)=>(e=U(e)?new URL(e):e,v.readFileSync(e,t?void 0:"utf8")),process.argv.length>1&&(l=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),d=(e,t)=>{throw process.exitCode=e,t}}else if(i||n){try{f=new URL(".",p).href}catch{}s||(n&&(u=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),h=async e=>{if(U(e))return new Promise(((t,r)=>{var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=()=>{200==i.status||0==i.status&&i.response?t(i.response):r(i.status)},i.onerror=r,i.send(null)}));var t=await fetch(e,{credentials:"same-origin"});if(t.ok)return t.arrayBuffer();throw new Error(t.status+" : "+t.url)})}var m=console.log.bind(console),g=console.error.bind(console);if(s){var y=a("util"),b=e=>"object"==typeof e?y.inspect(e):e;m=(...e)=>v.writeSync(1,e.map(b).join(" ")+"\n"),g=(...e)=>v.writeSync(2,e.map(b).join(" ")+"\n")}var w,S,E,x,T,P,N,C,k,D,O,A,F,R,B,M,L=m,I=g,W=!1,U=e=>e.startsWith("file://");function _(){ve.buffer!=N.buffer&&j()}if(s&&o){var H=c.parentPort;H.on("message",(e=>r.g.onmessage?.({data:e}))),Object.assign(globalThis,{self:r.g,postMessage:e=>H.postMessage(e)}),process.on("uncaughtException",(e=>{postMessage({cmd:"uncaughtException",error:e}),process.exit(1)}))}if(o){var G=!1;function HP(e){try{var r=e.data,i=r.cmd;if("load"===i){let e=[];self.onmessage=t=>e.push(t),P=()=>{postMessage({cmd:"loaded"});for(let t of e)HP(t);self.onmessage=HP};for(const e of r.handlers)t[e]&&!t[e].proxy||(t[e]=(...t)=>{postMessage({cmd:"callHandler",handler:e,args:t})},"print"==e&&(L=t[e]),"printErr"==e&&(I=t[e]));ve=r.wasmMemory,j(),S=r.wasmModule,Z(),UP()}else if("run"===i){n=r.pthread_ptr,s=Number((_(),M)[(n+88)/8]),o=Number((_(),M)[(n+96)/8]),Nn(s,s-o),le(s),mn(r.pthread_ptr,0,0,1,0,0),ge.threadInitTLS(),hi(r.pthread_ptr),G||(dn(),G=!0);try{Se(r.start_routine,r.arg)}catch(e){if("unwind"!=e)throw e}}else"setimmediate"===r.target||("checkMailbox"===i?G&&ui():i&&(I(`worker: received unknown command ${i}`),I(r)))}catch(e){throw gn(),e}var n,s,o}self.onunhandledrejection=e=>{throw e.reason||e},self.onmessage=HP}var V,z=!1;function j(){var e=ve.buffer;N=new Int8Array(e),k=new Int16Array(e),C=new Uint8Array(e),D=new Uint16Array(e),O=new Int32Array(e),A=new Uint32Array(e),F=new Float32Array(e),R=new Float64Array(e),B=new BigInt64Array(e),M=new BigUint64Array(e)}function $(){if(z=!0,o)return P();t.noFSInit||ct.initialized||ct.init(),tt.init(),Mn.Kv(),ct.ignorePermissions=!1}function q(e){t.onAbort?.(e),I(e="Aborted("+e+")"),W=!0,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw T?.(r),r}async function Y(e,t,r){if(!e&&!U(t)&&!s)try{var i=fetch(t,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(i,r)}catch(e){I(`wasm streaming compile failed: ${e}`),I("falling back to ArrayBuffer instantiation")}return async function(e,t){try{var r=await async function(e){if(!w)try{var t=await h(e);return new Uint8Array(t)}catch{}return function(e){if(e==V&&w)return new Uint8Array(w);if(u)return u(e);throw"both async and sync fetching of the wasm failed"}(e)}(e);return await WebAssembly.instantiate(r,t)}catch(e){I(`failed to asynchronously prepare wasm: ${e}`),q(e)}}(t,r)}function X(){return{a:{Ir:In,su:Pe,ga:ke,_a:Oe,b:Be,k:Me,Aa:Le,mb:Ie,tk:We,t:Ue,lu:_e,wu:Ve,j:ze,Nu:lt,Ou:dt,nl:vt,Iu:mt,Qu:gt,Gu:yt,zu:bt,Fu:wt,op:St,kp:Et,Hu:xt,lp:Tt,vu:Pt,Et:Mt,vj:Ht,bu:Gt,xa:mr,Wd:Sr,ca:Er,P:xr,hg:Pr,St:Ar,Mc:Rr,Fa:Mr,Xo:Ir,ja:Wr,kg:Ur,Tc:_r,tj:Gr,_t:zr,hl:Jr,Me:Kr,Hd:ei,ou:ti,Cu:ri,ku:si,pu:li,xu:pi,uu:fi,mp:vi,Bu:hi,Ku:mi,mu:gi,Pd:Ei,et:kr,xt:xi,ut:Ti,Jv:Pi,_d:Ni,rt:Ci,yt:ki,st:Di,iv:Oi,yu:Bi,ju:Ii,Pu:Wi,Mu:Gi,np:Vi,Lu:Ui,Ju:zi,ns:$i,qu:Yi,Xh:Li,ru:Xi,nu:Ji,Du:tn,Eu:rn,_k:me,ml:nn,qp:on,Au:an,pp:hn,Gi:bs,Na:zp,Ga:Yh,Se:yb,Vl:nE,jf:QE,Bj:AP,sc:Po,od:xy,m:rs,R:za,Xc:sc,vd:nc,zo:zu,mj:vl,wf:ip,Yb:wv,rk:Cg,dn:kg,Qr:Dg,cd:ru,yk:Om,th:Km,Tr:vg,Im:Db,C:Es,oc:Xd,Ok:Pf,Fc:mP,eb:Wc,Gp:WT,Tj:_S,So:ec,J:Ns,wd:dP,xe:Wu,kd:Zd,lo:Pd,vf:Np,Hs:Up,Ji:ng,bj:rp,Dj:aP,kb:Au,Is:Wp,$m:Jg,nn:Jm,rh:sg,Rc:eg,Hm:Ob,df:pl,Ze:Jp,xn:sm,ce:Wy,fj:od,oe:ES,ro:Ml,Vu:bP,hp:MP,rb:rh,ah:Ea,_f:gf,yh:Tf,Pl:BE,Nf:ao,qs:vv,Kn:Cv,Nk:kf,Do:xu,Co:Tu,rj:Pu,bo:_p,Ul:cE,pj:Fu,cf:Il,os:kv,Fk:Nv,Ek:Ov,ti:aw,nf:Sm,_s:gd,Tn:Cf,Wc:dc,ch:PT,Wf:Ey,Pc:bS,un:gm,H:tu,Nt:Ja,oa:af,Bi:ky,Wh:uo,wj:ra,$o:Vo,Od:zs,Th:jo,_h:Ys,fq:gx,gi:ZS,To:Ha,Ml:$s,Ym:Ss,$n:jp,zv:Tx,Ak:om,Og:Yd,hi:XS,sg:rS,im:iS,i:ms,Ia:Ll,Tk:Wd,gf:sa,Cs:xf,Mi:lm,yn:im,wo:tl,Tl:pE,mo:fd,Bm:Hb,Cm:_b,Gq:IS,Ki:Dm,Yc:$a,Wi:Of,$b:va,Dr:by,mn:tg,cs:Bm,fr:fw,ed:Gy,Uj:RS,ad:Sp,Gv:FE,$g:Da,Ls:Cp,dt:kl,yb:ha,Ns:gp,Cr:Sy,Dg:Dy,ub:da,it:Ku,Re:MS,ji:US,Fi:Vg,v:$n,Pb:sl,$l:WS,br:Nw,oh:tw,hn:fg,ph:$g,Fo:mu,S:Ho,ic:$c,$r:_m,cc:os,Sd:hd,pi:Cw,wn:pm,tc:oo,xh:Hf,_l:jS,Zp:Wx,Of:so,de:By,Ta:Mg,Zh:ST,y:Tg,fa:Bx,O:$S,qk:Rg,ar:Dw,$:gs,xg:Cb,Vr:ag,Ev:IE,Jm:Nb,Zl:YS,Fq:qS,_u:uP,vm:nw,vb:ss,Kr:Zg,Sr:mg,Bv:zE,Hg:ds,mf:xg,js:$v,ih:KS,Ii:ug,Ur:cg,l:ns,Pa:Ko,xb:eh,Ff:Zh,vn:vm,Zn:Zp,nj:$u,$f:Kp,Dt:nh,Wr:og,fn:bg,_m:ey,Jc:ou,_r:$m,fb:Xh,_g:Oa,kl:PP,_b:qc,gc:ll,cn:Ig,jh:jw,qd:Rf,of:bm,pq:YE,bn:Hg,sk:Pg,Gk:gv,D:Hn,vr:tb,ht:nl,Ni:Xv,Oa:ts,kf:Xw,iq:dx,Bb:Sg,ui:rw,jp:NP,qg:oE,Xi:mf,sd:Zl,ie:Gl,qf:nm,Wu:gP,gq:mx,Y:jn,Uf:Pw,Ll:ex,Fn:Hv,Aj:LP,Bd:Zm,ae:Sb,Km:wb,Nl:jE,ir:Yb,vi:ew,n:zn,Gb:Ul,re:Ng,ms:Rv,Wg:bc,Pg:Nd,Oq:mS,Jr:Qg,nm:xw,um:sw,on:jm,Hi:Eg,so:Dl,Gc:Bs,Gn:Mv,Lk:qf,Yh:tP,Nn:fv,ua:Td,Ag:ab,Fg:jg,md:pP,lm:Aw,hc:Gg,In:Fv,ql:cP,Cn:Yv,id:wf,Nr:Wg,Nd:$E,Un:bf,pe:Hy,Ig:Pv,Lr:_g,Vf:Xy,nh:kw,ok:Xg,zs:Uf,oq:XE,nq:KE,wb:JE,qh:Bg,Yu:no,Ei:Kg,fk:sb,I:rc,Lb:Vh,yg:xb,zg:bb,qi:Rs,en:wg,Ua:Pp,Rr:gg,Fe:wy,mr:Eb,nr:gb,Rq:pS,Qq:fS,kr:Pb,Oi:Gv,gn:yg,om:Ew,an:zg,Zr:Ym,Nm:nb,Om:ib,jr:Fb,qa:vh,Yf:wm,Yr:Xm,jo:$d,zm:Xb,Ti:tv,Ha:_v,Qj:aE,Hn:Bv,Sq:lS,Tm:$y,tp:nP,Ja:Rc,Xe:Af,xm:Qb,Aq:bE,ot:gu,ka:rg,gs:mm,ki:hS,Ee:jb,$u:sP,sp:oP,pl:hP,Sm:qy,mc:Sc,ps:Sv,Ql:kE,be:jy,Qd:qm,gk:zy,tg:hw,zi:cb,Vd:xc,Mm:ob,Ms:bp,Ke:Sh,Vi:If,Ph:Dh,lh:Gw,Tf:$w,vt:Oh,Yj:Yw,Dv:WE,li:cS,ni:nS,dl:ph,wt:kh,em:uS,hm:oS,At:fh,zt:Ch,Po:Eh,p:cs,zb:ys,Kp:OT,ol:yP,Cj:TP,Pk:ff,c:hs,ba:vs,hb:Ph,Eb:Nh,rl:iP,Lo:jh,ik:vy,Lt:ic,cl:Ah,bm:NS,te:Vv,ws:jf,gg:hh,kt:Bu,Kh:Pl,Kf:Tc,An:Kv,pk:qg,tq:LE,ve:sf,Xr:Qm,yf:Od,af:Fd,Dh:Bd,dg:xl,Lh:Tl,Ih:Al,f:Jn,Bf:al,Hf:xh,Or:Ag,Bo:Mu,gt:ol,s:Ps,mk:hy,ds:Cm,fi:tE,$k:uu,ej:cd,Qi:Tv,Xm:my,Xu:fP,ha:Fs,ip:kP,cm:SS,Vo:Ba,Md:Fo,oo:dd,Xq:Zw,Sh:Sa,Jf:Ic,Ot:Za,No:Bh,lk:uy,$a:ps,cg:ld,Iq:AS,Ac:ca,Wj:OS,Su:EP,Yk:gl,zr:Qy,xr:Ky,yr:Jy,e:Wn,aa:Cs,_:ks,jd:of,ye:Wh,$i:Mp,kc:_a,du:BP,Vn:uf,ck:zb,Yi:Xp,jt:ju,jb:oa,nk:sy,bl:$h,Yo:pa,mm:Tw,sb:Dc,Kd:wa,sj:qh,Ld:fa,wr:eb,T:Ds,Ho:hu,Dc:Vd,Ck:Uv,na:Ma,je:Kc,Jh:Ol,Rg:ku,kk:dy,qc:Zc,Gf:Mh,Rb:Ms,rs:hv,Ae:kc,Rl:yE,On:cv,z:Un,Ec:dl,Gs:tf,xs:Vf,Er:py,E:Th,Fr:oy,Eg:ay,Qs:sp,Xl:eE,rd:qd,bb:lf,eu:RP,Cd:_f,Ai:Ry,Cg:Fy,Qg:Xl,Br:Ay,zf:_l,tf:pf,ts:iv,Qn:rv,Ys:xd,qo:id,po:sd,Wk:$l,at:Yl,Qa:_E,cj:jd,Hc:as,Fv:RE,bi:ZE,rq:GE,r:Zn,Sa:Lc,Za:Qu,Kc:uh,_e:Qp,qj:Ou,Xs:kd,rm:lw,$q:Ow,Gh:ql,Td:Ru,Je:Lu,si:bw,Cq:uE,Ci:ly,Ng:Op,Wm:gy,Vm:Ty,Ka:Nc,Gg:pg,Zb:Ld,Qk:cf,rf:rm,Es:df,ue:Ef,he:td,Tb:rd,Uu:wP,L:us,zh:Fp,bc:$p,uo:hl,Wl:rE,hj:Kl,Xk:Cl,Dq:hE,_n:qp,wa:Qo,jj:jl,Hh:Vl,dh:Ax,ab:ls,Js:Dp,we:zd,Gr:ry,Ws:Ad,Fs:hf,bd:qn,Ub:vc,rc:Zo,Wb:Wa,Tu:SP,Xd:ka,Ik:nv,pc:_h,ff:Ga,U:Xn,Sg:Uh,Li:ym,Tg:Ih,ap:Ao,Ro:sh,Sc:Yc,Cf:el,vo:il,uj:Ra,Wt:Io,Qt:Ia,Vh:go,Zt:Ro,Yt:Bo,Xt:Mo,Uh:Lo,fm:Is,Ib:io,lr:Tb,fd:Cy,zd:Ny,Zd:Ws,hd:tm,gj:nd,ep:xo,ac:As,lg:bo,Mf:wo,yj:So,fp:Eo,ao:Hp,Pe:Ks,Up:Qs,au:Co,It:Uc,Oe:Wo,He:ed,zc:Oc,sf:pv,ag:wp,$c:dv,Rk:Ap,Tt:Yo,ig:Hc,al:nu,Jo:su,vp:eP,Mb:ma,$t:ko,Nj:Vs,ll:ho,bp:Oo,Sl:Gs,hh:Hs,cu:vo,il:mo,Lj:js,Zo:ta,qt:au,Pt:Ya,uc:Dd,vs:$f,En:jv,pv:Js,ak:Fw,Gt:Gc,jl:fo,bh:Jo,hf:po,ob:_s,Nc:ga,Ud:Kh,zn:em,to:bl,Ht:_c,Xb:Xs,Oc:qs,dp:No,Em:Lb,gr:dw,Pm:rb,Be:ro,Ic:Ud,nd:Ls,Id:Fc,Ce:tS,Ne:Ac,Ut:zo,gp:IP,d:_n,K:Jc,sa:tc,tb:wc,Kb:cc,Zs:yd,yc:Lh,Mo:zh,Af:yl,Lf:ua,dk:Vb,ci:OE,oj:Gu,kh:Vw,Ye:Nf,fg:Uu,Uo:La,Ss:tp,jq:ux,Zk:rl,wl:RT,mi:sS,Zj:zw,go:Qn,io:ap,wc:ml,Os:pp,ek:Ub,gm:aS,eg:Ju,Bc:Pm,De:Os,Dm:Ib,Rm:Yy,ge:dm,Ip:LT,Fp:GT,Zm:iy,ho:cp,Ba:ea,Ie:Hu,Ri:yv,Vs:Qd,tn:xm,uf:Gp,Hq:BS,Lc:Qc,da:Ta,me:Pa,Rh:Na,Ra:Lp,Ko:Jh,Ct:ah,aj:mp,Cc:Bp,Wn:nf,El:Zs,gd:Yg,tt:Hh,Jg:zf,M:$o,Fd:_u,ud:oc,Ln:xv,_c:Ev,fs:Em,Zq:Lw,us:ev,X:qo,pt:du,Dn:qv,Mj:AE,va:lu,Yq:Iw,wh:uv,fh:ax,Gd:ch,jk:fy,x:Yn,gb:Qa,Cb:ul,fe:km,vh:hm,zk:cm,Mg:Ip,Nh:vu,cp:Do,Vg:Vc,Rd:bd,Bg:Vy,Ed:Hl,rn:Um,Ap:YT,V:es,bv:eo,Ge:zv,Ve:um,ii:HS,Mt:Ka,Ca:lo,ee:Am,Ya:My,Uc:vf,cq:Ex,Df:Cu,Qf:NT,av:KT,cv:TT,Fj:DT,dv:ET,yl:kT,ij:Ql,vl:UT,ul:_T,es:Tm,bk:pw,Rt:Aa,as:Im,Zg:qa,bf:Sd,Jk:Qf,gl:Xa,yp:ZT,vk:Wm,W:Rh,Db:$b,cb:Rp,pb:ya,Zc:Ca,Zf:Jf,se:Fm,Jp:BT,wp:JT,Pn:av,Hk:ov,q:xs,Ol:ME,dj:Id,uv:Ux,Qe:GS,Fb:to,dc:Tp,tl:HT,Vj:FS,Xf:Fg,Kg:Wf,lv:lT,kv:dT,Hp:IT,Ui:Kf,Ts:Kd,Wo:Fa,la:eu,Bk:Jv,ln:hg,Ar:Uy,Eh:Ed,Wa:Mx,yi:Wb,sl:$T,Jb:ep,mg:CT,If:ih,Ob:cl,ys:Gf,fl:zc,Cv:UE,g:Vn,u:ws,Q:na,Ea:ia,jc:mc,Dd:Cd,nb:Ua,Kk:Xf,Jn:Dv,Ds:yf,rp:vP,sn:Nm,Zi:Yp,Kt:uc,Um:Py,Oo:Fh,Xg:yc,Il:vx,xl:AT,Io:cu,uq:CE,ta:Iu,ib:ba,hu:DP,sh:ig,Ue:yy,Pr:Og,$e:Hd,Jd:pc,wv:Lx,wi:Kb,uk:zm,Jq:DS,ya:hc,Sk:Ep,el:Xc,Bt:lh,ei:fE,ec:ud,lb:la,bs:Mm,uh:Gm,Ah:xp,lt:wu,Bp:qT,nc:xa,Oh:iu,le:lc,er:mw,o:is,xc:Zu,ef:pu,Yg:gc,Yl:JS,Ao:Vu,ft:fl,jn:dg,Hr:ty,Fm:Bb,Sf:dS,zp:XT,Ks:kp,Rf:VS,xp:QT,B:Gn,yo:qu,xo:Yu,Go:fu,cr:Sw,Qm:Zy,ug:iw,qb:Sf,Ad:cy,kj:Wl,hq:fx,iu:CP,co:yp,fu:FP,lc:co,$j:Rw,hv:mT,Gj:gT,aq:Nx,Jj:px,wg:Rb,km:Hw,bt:zl,db:Ts,Bn:Zv,Dp:zT,Ep:VT,xi:qb,_q:Bw,xj:To,Ru:xP,Ej:FT,jv:fT,Hj:vT,Gl:kx,$h:lx,oi:Uw,bq:xx,Bs:Df,gv:yT,fv:bT,F:wd,jg:fc,Vb:Xu,lq:nx,Ch:hp,Lg:Ff,Bq:dE,or:vb,h:fs,Z:Pc,Va:Gh,We:lv,Sb:op,hr:cw,nv:hT,eo:fp,tm:ow,Uk:Md,$p:Cx,Jt:Mc,yv:Dx,Hv:DE,sq:HE,dd:ja,jm:qw,gu:OP,Pf:MT,Lq:TS,Xn:rf,Nb:Go,ld:Rd,Iv:PE,hk:_y,ev:wT,fc:ad,qn:Hm,pn:Vm,Fh:md,Kq:PS,Oj:mE,ls:Lv,nt:yu,A:Kn,Ug:th,yq:SE,no:pd,pa:_o,Ft:jc,Eo:Eu,Eq:iE,ri:ww,dm:wS,fo:lp,ss:sv,Lm:mb,Ps:dp,Cp:jT,Rs:np,Qb:Du,rv:Gx,kq:cx,vv:Ix,_j:_w,Fl:Ox,tv:_x,vc:wl,up:rP,vg:Mb,sv:Hx,ke:Ec,Kj:hx,zj:WP,Mp:pT,Jl:ox,gh:qE,zl:eT,Xp:qx,Wp:Yx,Al:Kx,ng:jx,Vp:Xx,Cl:Zx,Dl:$x,Tp:Jx,Bl:Qx,mv:uT,Yp:zx,Pp:nT,Rp:rT,Sp:tT,ov:cT,Ij:oT,Qp:iT,Op:sT,Np:aT,w:yo,ma:Nl,Da:Bl,Bh:up,Am:Gb,Te:Oy,Mq:yS,$d:kb,_i:Vp,qe:Lg,vq:TE,Nq:gS,dq:Sx,mt:bu,ea:Us,pd:Yf,qq:VE,Mh:Nu,Rn:Zf,$s:Jl,dr:gw,pm:yw,Dk:Av,pf:fm,hs:am,wk:Lm,di:vE,eq:wx,ai:ix,yd:Ww,kn:lg,Kl:sx,ne:NE,pr:fb,qr:pb,Yd:sE,Mn:bv,qv:Vx,tr:ub,ur:hb,rr:db,sr:lb,G:aa,ia:ac,Ab:oh,Ef:Qh,bg:vp,is:Qv,ym:Zb,Pi:Wv,ks:Iv,lf:Ly,qm:vw,xf:Gd,Us:Jd,As:Bf,Mk:Lf,Sn:Mf,Di:ny,sm:uw,xd:kS,lj:Rl,Ma:Cc,_p:Fx,Gm:Ab,_o:Xo,eh:yx,pg:gE,Av:rx,xk:Rm,xq:EE,wq:xE,N:Bc,La:El,Rj:QS,wm:Jb,rg:CS,Xj:xS,ct:Fl,Si:mv,zq:wE,Xa:Sl,Vt:Uo,Sj:zS,Zu:lP,og:bx,Yn:ef,za:Va,Pq:vS,Vq:Jw,Wq:Qw,mh:Mw,Mr:Ug,am:LS,Hl:Px,Hb:dh,Pj:lE,xv:Rx,td:Su,Qc:Iy,Vk:vd,Vc:mh,ko:_d,Tq:eS,Uq:Kw,mq:tx,ze:bh,Le:wh,Qh:gh,Qo:yh,Lp:xT,ra:un,a:ve,tu:pe}}}async function Z(){function e(e,r){return Mn=function(e){var t,r=e=>t=>Number(e(BigInt(t))),i=e=>()=>Number(e()),n=e=>t=>e(BigInt(t));return(e=Object.assign({},e)).Lv=r(e.Lv),e.Ov=i(e.Ov),e.Pv=r(e.Pv),e.Rv=n(e.Rv),e.Tv=(t=e.Tv,(e,r,i,n,s,o)=>t(BigInt(e),r,i,n,s,o)),e.Wv=(e=>(t,r,i,n,s)=>e(t,BigInt(r),i,BigInt(n),s))(e.Wv),e.Xv=n(e.Xv),e.Yv=n(e.Yv),e.$v=n(e.$v),e.bw=(e=>(t,r)=>e(BigInt(t),BigInt(r)))(e.bw),e.cw=n(e.cw),e.dw=r(e.dw),e.ew=i(e.ew),e.fw=n(e.fw),e.gw=n(e.gw),e.hw=(e=>(t,r,i)=>e(BigInt(t),BigInt(r),BigInt(i)))(e.hw),e.iw=r(e.iw),e}(Mn=e.exports),xe(Mn.Sv),function(e){ln=e.Lv,dn=e.Mv,t._BitbybitOcct_Init=e.Nv,pn=e.Ov,fn=e.Pv,vn=e.Rv,e.Sv,mn=e.Tv,gn=e.Uv,yn=e.Vv,bn=e.Wv,wn=e.Xv,Sn=e.Yv,En=e.Zv,xn=e._v,Tn=e.$v,Pn=e.aw,Nn=e.bw,Cn=e.cw,kn=e.dw,Dn=e.ew,On=e.fw,An=e.gw,Fn=e.hw,Rn=e.iw,Bn=e.Qv}(Mn),S=r,Mn}var i,n,s=X();return t.instantiateWasm?new Promise(((r,i)=>{t.instantiateWasm(s,((t,i)=>{r(e(t,i))}))})):o?e(new WebAssembly.Instance(S,X()),S):(V??=t.locateFile?(i="bitbybit-dev-occt-64-bit-mt.c14311b1.wasm",t.locateFile?t.locateFile(i,f):f+i):new URL(r(306),r.b).href,e((n=await Y(w,V,s)).instance,n.module))}class Q{name="ExitStatus";constructor(e){this.message=`Program terminated with exit(${e})`,this.status=e}}var J=e=>{e.terminate(),e.onmessage=e=>{}},K=e=>{var t=ge.pthreads[e];ge.returnWorkerToPool(t)},ee=e=>{for(;e.length>0;)e.shift()(t)},te=[],re=e=>te.push(e),ie=0,ne=null,se=e=>{if(ie--,t.monitorRunDependencies?.(ie),0==ie&&ne){var r=ne;ne=null,r()}},oe=e=>{ie++,t.monitorRunDependencies?.(ie)},ae=e=>{var t=ge.getNewWorker();if(!t)return 6;ge.runningWorkers.push(t),ge.pthreads[e.pthread_ptr]=t,t.pthread_ptr=e.pthread_ptr;var r={cmd:"run",start_routine:e.startRoutine,arg:e.arg,pthread_ptr:e.pthread_ptr};return s&&t.unref(),t.postMessage(r,e.transferList),0},ce=0,he=()=>Ee||ce>0,ue=()=>Dn(),le=e=>Cn(e),de=(e,t,r,...i)=>{var n=8*i.length*2,s=ue(),o=kn(n),a=o/8;for(var c of i)"bigint"==typeof c?((_(),B)[a++]=1n,(_(),B)[a++]=c):((_(),B)[a++]=0n,(_(),R)[a++]=c);var h=bn(e,t,n,o,r);return le(s),h};function pe(e){if(o)return de(0,0,1,e);E=e,he()||(ge.terminateAllThreads(),t.onExit?.(e),W=!0),d(e,new Q(e))}function fe(e){if(o)return de(1,0,0,e);me(e)}var ve,me=(e,t)=>{if(E=e,o)throw fe(e),"unwind";pe(e)},ge={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init(){o||ge.initMainThread()},initMainThread(){for(var e=navigator.hardwareConcurrency;e--;)ge.allocateUnusedWorker();re((async()=>{var e=ge.loadWasmModuleToAllWorkers();oe(),await e,se()}))},terminateAllThreads:()=>{for(var e of ge.runningWorkers)J(e);for(var e of ge.unusedWorkers)J(e);ge.unusedWorkers=[],ge.runningWorkers=[],ge.pthreads={}},returnWorkerToPool:e=>{var t=e.pthread_ptr;delete ge.pthreads[t],ge.unusedWorkers.push(e),ge.runningWorkers.splice(ge.runningWorkers.indexOf(e),1),e.pthread_ptr=0,wn(t)},threadInitTLS(){ge.tlsInitFunctions.forEach((e=>e()))},loadWasmModuleToWorker:e=>new Promise((r=>{e.onmessage=i=>{var n=i.data,o=n.cmd;if(n.targetThread&&n.targetThread!=pn()){var a=ge.pthreads[n.targetThread];a?a.postMessage(n,n.transferList):I(`Internal error! Worker sent a message "${o}" to target pthread ${n.targetThread}, but that thread no longer exists!`)}else"checkMailbox"===o?ui():"spawnThread"===o?ae(n):"cleanupThread"===o?ai((()=>K(n.thread))):"loaded"===o?(e.loaded=!0,s&&!e.pthread_ptr&&e.unref(),r(e)):"setimmediate"===n.target?e.postMessage(n):"uncaughtException"===o?e.onerror(n.error):"callHandler"===o?t[n.handler](...n.args):o&&I(`worker sent an unknown command ${o}`)},e.onerror=e=>{throw I(`worker sent an error! ${e.filename}:${e.lineno}: ${e.message}`),e},s&&(e.on("message",(t=>e.onmessage({data:t}))),e.on("error",(t=>e.onerror(t))));var i=[];for(var n of["onExit","onAbort","print","printErr"])t.propertyIsEnumerable(n)&&i.push(n);e.postMessage({cmd:"load",handlers:i,wasmMemory:ve,wasmModule:S})})),async loadWasmModuleToAllWorkers(){if(!o)return Promise.all(ge.unusedWorkers.map(ge.loadWasmModuleToWorker))},allocateUnusedWorker(){var e;if(t.mainScriptUrlOrBlob){var i=t.mainScriptUrlOrBlob;"string"!=typeof i&&(i=URL.createObjectURL(i)),e=new Worker(i,{type:"module",workerData:"em-pthread",name:"em-pthread"})}else e=new Worker(new URL(r.p+r.u(602),r.b),{type:"module",workerData:"em-pthread",name:"em-pthread"});ge.unusedWorkers.push(e)},getNewWorker:()=>(0==ge.unusedWorkers.length&&(ge.allocateUnusedWorker(),ge.loadWasmModuleToWorker(ge.unusedWorkers[0])),ge.unusedWorkers.pop())},ye=[],be=e=>ye.push(e),we=e=>Bn.get(BigInt(e)),Se=(e,t)=>{var r,i;ce=0,Ee=0,r=t,i=we(e).call(null,BigInt(r)),he()?E=i:Sn(i)},Ee=!0,xe=e=>ge.tlsInitFunctions.push(e),Te=e=>e<-9007199254740992||e>9007199254740992?NaN:Number(e);function Pe(e,t){return e=Te(e),we(e)(t)}var Ne=[],Ce=0,ke=function(e){e=Te(e);var t,r=((t=new Ae(e)).get_caught()||(t.set_caught(!0),Ce--),t.set_rethrown(!1),Ne.push(t),Rn(e));return BigInt(r)},De=0,Oe=()=>{Tn(0,0);var e=Ne.pop();On(e.excPtr),De=0};class Ae{constructor(e){this.excPtr=e,this.ptr=e-48}set_type(e){(_(),M)[(this.ptr+8)/8]=BigInt(e)}get_type(){return Number((_(),M)[(this.ptr+8)/8])}set_destructor(e){(_(),M)[(this.ptr+16)/8]=BigInt(e)}get_destructor(){return Number((_(),M)[(this.ptr+16)/8])}set_caught(e){e=e?1:0,(_(),N)[this.ptr+24]=e}get_caught(){return 0!=(_(),N)[this.ptr+24]}set_rethrown(e){e=e?1:0,(_(),N)[this.ptr+25]=e}get_rethrown(){return 0!=(_(),N)[this.ptr+25]}init(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)}set_adjusted_ptr(e){(_(),M)[(this.ptr+32)/8]=BigInt(e)}get_adjusted_ptr(){return Number((_(),M)[(this.ptr+32)/8])}}var Fe=e=>Pn(e),Re=e=>{var t=De;if(!t)return Fe(0),0;var r=new Ae(t);r.set_adjusted_ptr(t);var i=r.get_type();if(!i)return Fe(0),t;for(var n of e){if(0===n||n===i)break;var s=r.ptr+32;if(Fn(n,i,s))return Fe(n),t}return Fe(i),t},Be=()=>BigInt(Re([])),Me=e=>(e=Te(e),BigInt(Re([e]))),Le=(e,t)=>(e=Te(e),t=Te(t),BigInt(Re([e,t]))),Ie=(e,t,r)=>(e=Te(e),t=Te(t),r=Te(r),BigInt(Re([e,t,r]))),We=()=>{var e=Ne.pop();e||q("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(Ne.push(e),e.set_rethrown(!0),e.set_caught(!1),Ce++),An(t),De=t};function Ue(e,t,r){throw e=Te(e),t=Te(t),r=Te(r),new Ae(e).init(t,r),An(e),Ce++,De=e}var _e=()=>Ce;function He(e,t,r,i){return o?de(2,0,1,e,t,r,i):Ve(e,t,r,i)}var Ge=()=>!!globalThis.SharedArrayBuffer;function Ve(e,t,r,i){if(e=Te(e),t=Te(t),r=Te(r),i=Te(i),!Ge())return 6;var n=[];if(o&&0===n.length)return He(e,t,r,i);var s={startRoutine:r,pthread_ptr:e,arg:i,transferList:n};return o?(s.cmd="spawnThread",postMessage(s,n),0):ae(s)}function ze(e){throw e=Te(e),De||(De=e),De}var je={isAbs:e=>"/"===e.charAt(0),splitPath:e=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1),normalizeArray:(e,t)=>{for(var r=0,i=e.length-1;i>=0;i--){var n=e[i];"."===n?e.splice(i,1):".."===n?(e.splice(i,1),r++):r&&(e.splice(i,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},normalize:e=>{var t=je.isAbs(e),r="/"===e.slice(-1);return(e=je.normalizeArray(e.split("/").filter((e=>!!e)),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},dirname:e=>{var t=je.splitPath(e),r=t[0],i=t[1];return r||i?(i&&(i=i.slice(0,-1)),r+i):"."},basename:e=>e&&e.match(/([^\/]+|\/)\/*$/)[1],join:(...e)=>je.normalize(e.join("/")),join2:(e,t)=>je.normalize(e+"/"+t)},$e=e=>{($e=e=>e.set(crypto.getRandomValues(new Uint8Array(e.byteLength))))(e)},qe={resolve:(...e)=>{for(var t="",r=!1,i=e.length-1;i>=-1&&!r;i--){var n=i>=0?e[i]:ct.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";t=n+"/"+t,r=je.isAbs(n)}return(r?"/":"")+(t=je.normalizeArray(t.split("/").filter((e=>!!e)),!r).join("/"))||"."},relative:(e,t)=>{function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=qe.resolve(e).slice(1),t=qe.resolve(t).slice(1);for(var i=r(e.split("/")),n=r(t.split("/")),s=Math.min(i.length,n.length),o=s,a=0;a<s;a++)if(i[a]!==n[a]){o=a;break}var c=[];for(a=o;a<i.length;a++)c.push("..");return(c=c.concat(n.slice(o))).join("/")}},Ye=new TextDecoder,Xe=(e,t,r,i)=>{var n=t+r;if(i)return n;for(;e[t]&&!(t>=n);)++t;return t},Ze=(e,t=0,r,i)=>{var n=Xe(e,t,r,i);return Ye.decode(e.buffer?e.slice(t,n):new Uint8Array(e.slice(t,n)))},Qe=[],Je=e=>{for(var t=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i<=127?t++:i<=2047?t+=2:i>=55296&&i<=57343?(t+=4,++r):t+=3}return t},Ke=(e,t,r,i)=>{if(!(i>0))return 0;for(var n=r,s=r+i-1,o=0;o<e.length;++o){var a=e.codePointAt(o);if(a<=127){if(r>=s)break;t[r++]=a}else if(a<=2047){if(r+1>=s)break;t[r++]=192|a>>6,t[r++]=128|63&a}else if(a<=65535){if(r+2>=s)break;t[r++]=224|a>>12,t[r++]=128|a>>6&63,t[r++]=128|63&a}else{if(r+3>=s)break;t[r++]=240|a>>18,t[r++]=128|a>>12&63,t[r++]=128|a>>6&63,t[r++]=128|63&a,o++}}return t[r]=0,r-n},et=(e,t,r)=>{var i=r>0?r:Je(e)+1,n=new Array(i),s=Ke(e,n,0,n.length);return t&&(n.length=s),n},tt={ttys:[],init(){},shutdown(){},register(e,t){tt.ttys[e]={input:[],output:[],ops:t},ct.registerDevice(e,tt.stream_ops)},stream_ops:{open(e){var t=tt.ttys[e.node.rdev];if(!t)throw new ct.ErrnoError(43);e.tty=t,e.seekable=!1},close(e){e.tty.ops.fsync(e.tty)},fsync(e){e.tty.ops.fsync(e.tty)},read(e,t,r,i,n){if(!e.tty||!e.tty.ops.get_char)throw new ct.ErrnoError(60);for(var s=0,o=0;o<i;o++){var a;try{a=e.tty.ops.get_char(e.tty)}catch(e){throw new ct.ErrnoError(29)}if(void 0===a&&0===s)throw new ct.ErrnoError(6);if(null==a)break;s++,t[r+o]=a}return s&&(e.node.atime=Date.now()),s},write(e,t,r,i,n){if(!e.tty||!e.tty.ops.put_char)throw new ct.ErrnoError(60);try{for(var s=0;s<i;s++)e.tty.ops.put_char(e.tty,t[r+s])}catch(e){throw new ct.ErrnoError(29)}return i&&(e.node.mtime=e.node.ctime=Date.now()),s}},default_tty_ops:{get_char:e=>(()=>{if(!Qe.length){var e=null;if(s){var t=Buffer.alloc(256),r=0,i=process.stdin.fd;try{r=v.readSync(i,t,0,256)}catch(e){if(!e.toString().includes("EOF"))throw e;r=0}r>0&&(e=t.slice(0,r).toString("utf-8"))}else globalThis.window?.prompt&&null!==(e=window.prompt("Input: "))&&(e+="\n");if(!e)return null;Qe=et(e,!0)}return Qe.shift()})(),put_char(e,t){null===t||10===t?(L(Ze(e.output)),e.output=[]):0!=t&&e.output.push(t)},fsync(e){e.output?.length>0&&(L(Ze(e.output)),e.output=[])},ioctl_tcgets:e=>({c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),ioctl_tcsets:(e,t,r)=>0,ioctl_tiocgwinsz:e=>[24,80]},default_tty1_ops:{put_char(e,t){null===t||10===t?(I(Ze(e.output)),e.output=[]):0!=t&&e.output.push(t)},fsync(e){e.output?.length>0&&(I(Ze(e.output)),e.output=[])}}},rt=e=>{q()},it={ops_table:null,mount:e=>it.createNode(null,"/",16895,0),createNode(e,t,r,i){if(ct.isBlkdev(r)||ct.isFIFO(r))throw new ct.ErrnoError(63);it.ops_table||={dir:{node:{getattr:it.node_ops.getattr,setattr:it.node_ops.setattr,lookup:it.node_ops.lookup,mknod:it.node_ops.mknod,rename:it.node_ops.rename,unlink:it.node_ops.unlink,rmdir:it.node_ops.rmdir,readdir:it.node_ops.readdir,symlink:it.node_ops.symlink},stream:{llseek:it.stream_ops.llseek}},file:{node:{getattr:it.node_ops.getattr,setattr:it.node_ops.setattr},stream:{llseek:it.stream_ops.llseek,read:it.stream_ops.read,write:it.stream_ops.write,mmap:it.stream_ops.mmap,msync:it.stream_ops.msync}},link:{node:{getattr:it.node_ops.getattr,setattr:it.node_ops.setattr,readlink:it.node_ops.readlink},stream:{}},chrdev:{node:{getattr:it.node_ops.getattr,setattr:it.node_ops.setattr},stream:ct.chrdev_stream_ops}};var n=ct.createNode(e,t,r,i);return ct.isDir(n.mode)?(n.node_ops=it.ops_table.dir.node,n.stream_ops=it.ops_table.dir.stream,n.contents={}):ct.isFile(n.mode)?(n.node_ops=it.ops_table.file.node,n.stream_ops=it.ops_table.file.stream,n.usedBytes=0,n.contents=null):ct.isLink(n.mode)?(n.node_ops=it.ops_table.link.node,n.stream_ops=it.ops_table.link.stream):ct.isChrdev(n.mode)&&(n.node_ops=it.ops_table.chrdev.node,n.stream_ops=it.ops_table.chrdev.stream),n.atime=n.mtime=n.ctime=Date.now(),e&&(e.contents[t]=n,e.atime=e.mtime=e.ctime=n.atime),n},getFileDataAsTypedArray:e=>e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0),expandFileStorage(e,t){var r=e.contents?e.contents.length:0;if(!(r>=t)){t=Math.max(t,r*(r<1048576?2:1.125)>>>0),0!=r&&(t=Math.max(t,256));var i=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(i.subarray(0,e.usedBytes),0)}},resizeFileStorage(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var r=e.contents;e.contents=new Uint8Array(t),r&&e.contents.set(r.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr(e){var t={};return t.dev=ct.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,ct.isDir(e.mode)?t.size=4096:ct.isFile(e.mode)?t.size=e.usedBytes:ct.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.atime),t.mtime=new Date(e.mtime),t.ctime=new Date(e.ctime),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr(e,t){for(const r of["mode","atime","mtime","ctime"])null!=t[r]&&(e[r]=t[r]);void 0!==t.size&&it.resizeFileStorage(e,t.size)},lookup(e,t){throw it.doesNotExistError||(it.doesNotExistError=new ct.ErrnoError(44),it.doesNotExistError.stack="<generic error, no stack>"),it.doesNotExistError},mknod:(e,t,r,i)=>it.createNode(e,t,r,i),rename(e,t,r){var i;try{i=ct.lookupNode(t,r)}catch(e){}if(i){if(ct.isDir(e.mode))for(var n in i.contents)throw new ct.ErrnoError(55);ct.hashRemoveNode(i)}delete e.parent.contents[e.name],t.contents[r]=e,e.name=r,t.ctime=t.mtime=e.parent.ctime=e.parent.mtime=Date.now()},unlink(e,t){delete e.contents[t],e.ctime=e.mtime=Date.now()},rmdir(e,t){var r=ct.lookupNode(e,t);for(var i in r.contents)throw new ct.ErrnoError(55);delete e.contents[t],e.ctime=e.mtime=Date.now()},readdir:e=>[".","..",...Object.keys(e.contents)],symlink(e,t,r){var i=it.createNode(e,t,41471,0);return i.link=r,i},readlink(e){if(!ct.isLink(e.mode))throw new ct.ErrnoError(28);return e.link}},stream_ops:{read(e,t,r,i,n){var s=e.node.contents;if(n>=e.node.usedBytes)return 0;var o=Math.min(e.node.usedBytes-n,i);if(o>8&&s.subarray)t.set(s.subarray(n,n+o),r);else for(var a=0;a<o;a++)t[r+a]=s[n+a];return o},write(e,t,r,i,n,s){if(t.buffer===(_(),N).buffer&&(s=!1),!i)return 0;var o=e.node;if(o.mtime=o.ctime=Date.now(),t.subarray&&(!o.contents||o.contents.subarray)){if(s)return o.contents=t.subarray(r,r+i),o.usedBytes=i,i;if(0===o.usedBytes&&0===n)return o.contents=t.slice(r,r+i),o.usedBytes=i,i;if(n+i<=o.usedBytes)return o.contents.set(t.subarray(r,r+i),n),i}if(it.expandFileStorage(o,n+i),o.contents.subarray&&t.subarray)o.contents.set(t.subarray(r,r+i),n);else for(var a=0;a<i;a++)o.contents[n+a]=t[r+a];return o.usedBytes=Math.max(o.usedBytes,n+i),i},llseek(e,t,r){var i=t;if(1===r?i+=e.position:2===r&&ct.isFile(e.node.mode)&&(i+=e.node.usedBytes),i<0)throw new ct.ErrnoError(28);return i},mmap(e,t,r,i,n){if(!ct.isFile(e.node.mode))throw new ct.ErrnoError(43);var s,o,a=e.node.contents;if(2&n||!a||a.buffer!==(_(),N).buffer){if(o=!0,!(s=rt()))throw new ct.ErrnoError(48);a&&((r>0||r+t<a.length)&&(a=a.subarray?a.subarray(r,r+t):Array.prototype.slice.call(a,r,r+t)),(_(),N).set(a,s))}else o=!1,s=a.byteOffset;return{ptr:s,allocated:o}},msync:(e,t,r,i,n)=>(it.stream_ops.write(e,t,0,i,r,!1),0)}},nt=(e,t)=>{var r=0;return e&&(r|=365),t&&(r|=146),r},st=(...e)=>ct.createDataFile(...e),ot=[],at=async(e,t,r,i,n,s,o,a)=>{var c=t?qe.resolve(je.join2(e,t)):e;oe();try{var u=r;"string"==typeof r&&(u=await(async e=>{var t=await h(e);return new Uint8Array(t)})(r)),u=await(async(e,t)=>{for(var r of("undefined"!=typeof Browser&&Browser.init(),ot))if(r.canHandle(t))return r.handle(e,t);return e})(u,c),a?.(),s||st(e,t,u,i,n,o)}finally{se()}},ct={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,filesystems:null,syncFSRequests:0,readFiles:{},ErrnoError:class{name="ErrnoError";constructor(e){this.errno=e}},FSStream:class{shared={};get object(){return this.node}set object(e){this.node=e}get isRead(){return 1!=(2097155&this.flags)}get isWrite(){return!!(2097155&this.flags)}get isAppend(){return 1024&this.flags}get flags(){return this.shared.flags}set flags(e){this.shared.flags=e}get position(){return this.shared.position}set position(e){this.shared.position=e}},FSNode:class{node_ops={};stream_ops={};readMode=365;writeMode=146;mounted=null;constructor(e,t,r,i){e||(e=this),this.parent=e,this.mount=e.mount,this.id=ct.nextInode++,this.name=t,this.mode=r,this.rdev=i,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(e){e?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(e){e?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return ct.isDir(this.mode)}get isDevice(){return ct.isChrdev(this.mode)}},lookupPath(e,t={}){if(!e)throw new ct.ErrnoError(44);t.follow_mount??=!0,je.isAbs(e)||(e=ct.cwd()+"/"+e);e:for(var r=0;r<40;r++){for(var i=e.split("/").filter((e=>!!e)),n=ct.root,s="/",o=0;o<i.length;o++){var a=o===i.length-1;if(a&&t.parent)break;if("."!==i[o])if(".."!==i[o]){s=je.join2(s,i[o]);try{n=ct.lookupNode(n,i[o])}catch(e){if(44===e?.errno&&a&&t.noent_okay)return{path:s};throw e}if(!ct.isMountpoint(n)||a&&!t.follow_mount||(n=n.mounted.root),ct.isLink(n.mode)&&(!a||t.follow)){if(!n.node_ops.readlink)throw new ct.ErrnoError(52);var c=n.node_ops.readlink(n);je.isAbs(c)||(c=je.dirname(s)+"/"+c),e=c+"/"+i.slice(o+1).join("/");continue e}}else{if(s=je.dirname(s),ct.isRoot(n)){e=s+"/"+i.slice(o+1).join("/"),r--;continue e}n=n.parent}}return{path:s,node:n}}throw new ct.ErrnoError(32)},getPath(e){for(var t;;){if(ct.isRoot(e)){var r=e.mount.mountpoint;return t?"/"!==r[r.length-1]?`${r}/${t}`:r+t:r}t=t?`${e.name}/${t}`:e.name,e=e.parent}},hashName(e,t){for(var r=0,i=0;i<t.length;i++)r=(r<<5)-r+t.charCodeAt(i)|0;return(e+r>>>0)%ct.nameTable.length},hashAddNode(e){var t=ct.hashName(e.parent.id,e.name);e.name_next=ct.nameTable[t],ct.nameTable[t]=e},hashRemoveNode(e){var t=ct.hashName(e.parent.id,e.name);if(ct.nameTable[t]===e)ct.nameTable[t]=e.name_next;else for(var r=ct.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode(e,t){var r=ct.mayLookup(e);if(r)throw new ct.ErrnoError(r);for(var i=ct.hashName(e.id,t),n=ct.nameTable[i];n;n=n.name_next){var s=n.name;if(n.parent.id===e.id&&s===t)return n}return ct.lookup(e,t)},createNode(e,t,r,i){var n=new ct.FSNode(e,t,r,i);return ct.hashAddNode(n),n},destroyNode(e){ct.hashRemoveNode(e)},isRoot:e=>e===e.parent,isMountpoint:e=>!!e.mounted,isFile:e=>32768==(61440&e),isDir:e=>16384==(61440&e),isLink:e=>40960==(61440&e),isChrdev:e=>8192==(61440&e),isBlkdev:e=>24576==(61440&e),isFIFO:e=>4096==(61440&e),isSocket:e=>!(49152&~e),flagsToPermissionString(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:(e,t)=>ct.ignorePermissions||(!t.includes("r")||292&e.mode)&&(!t.includes("w")||146&e.mode)&&(!t.includes("x")||73&e.mode)?0:2,mayLookup:e=>ct.isDir(e.mode)?ct.nodePermissions(e,"x")||(e.node_ops.lookup?0:2):54,mayCreate(e,t){if(!ct.isDir(e.mode))return 54;try{return ct.lookupNode(e,t),20}catch(e){}return ct.nodePermissions(e,"wx")},mayDelete(e,t,r){var i;try{i=ct.lookupNode(e,t)}catch(e){return e.errno}var n=ct.nodePermissions(e,"wx");if(n)return n;if(r){if(!ct.isDir(i.mode))return 54;if(ct.isRoot(i)||ct.getPath(i)===ct.cwd())return 10}else if(ct.isDir(i.mode))return 31;return 0},mayOpen:(e,t)=>e?ct.isLink(e.mode)?32:ct.isDir(e.mode)&&("r"!==ct.flagsToPermissionString(t)||576&t)?31:ct.nodePermissions(e,ct.flagsToPermissionString(t)):44,checkOpExists(e,t){if(!e)throw new ct.ErrnoError(t);return e},MAX_OPEN_FDS:4096,nextfd(){for(var e=0;e<=ct.MAX_OPEN_FDS;e++)if(!ct.streams[e])return e;throw new ct.ErrnoError(33)},getStreamChecked(e){var t=ct.getStream(e);if(!t)throw new ct.ErrnoError(8);return t},getStream:e=>ct.streams[e],createStream:(e,t=-1)=>(e=Object.assign(new ct.FSStream,e),-1==t&&(t=ct.nextfd()),e.fd=t,ct.streams[t]=e,e),closeStream(e){ct.streams[e]=null},dupStream(e,t=-1){var r=ct.createStream(e,t);return r.stream_ops?.dup?.(r),r},doSetAttr(e,t,r){var i=e?.stream_ops.setattr,n=i?e:t;i??=t.node_ops.setattr,ct.checkOpExists(i,63),i(n,r)},chrdev_stream_ops:{open(e){var t=ct.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open?.(e)},llseek(){throw new ct.ErrnoError(70)}},major:e=>e>>8,minor:e=>255&e,makedev:(e,t)=>e<<8|t,registerDevice(e,t){ct.devices[e]={stream_ops:t}},getDevice:e=>ct.devices[e],getMounts(e){for(var t=[],r=[e];r.length;){var i=r.pop();t.push(i),r.push(...i.mounts)}return t},syncfs(e,t){"function"==typeof e&&(t=e,e=!1),ct.syncFSRequests++,ct.syncFSRequests>1&&I(`warning: ${ct.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var r=ct.getMounts(ct.root.mount),i=0;function n(e){return ct.syncFSRequests--,t(e)}function s(e){if(e)return s.errored?void 0:(s.errored=!0,n(e));++i>=r.length&&n(null)}for(var o of r)o.type.syncfs?o.type.syncfs(o,e,s):s(null)},mount(e,t,r){var i,n="/"===r,s=!r;if(n&&ct.root)throw new ct.ErrnoError(10);if(!n&&!s){var o=ct.lookupPath(r,{follow_mount:!1});if(r=o.path,i=o.node,ct.isMountpoint(i))throw new ct.ErrnoError(10);if(!ct.isDir(i.mode))throw new ct.ErrnoError(54)}var a={type:e,opts:t,mountpoint:r,mounts:[]},c=e.mount(a);return c.mount=a,a.root=c,n?ct.root=c:i&&(i.mounted=a,i.mount&&i.mount.mounts.push(a)),c},unmount(e){var t=ct.lookupPath(e,{follow_mount:!1});if(!ct.isMountpoint(t.node))throw new ct.ErrnoError(28);var r=t.node,i=r.mounted,n=ct.getMounts(i);for(var[s,o]of Object.entries(ct.nameTable))for(;o;){var a=o.name_next;n.includes(o.mount)&&ct.destroyNode(o),o=a}r.mounted=null;var c=r.mount.mounts.indexOf(i);r.mount.mounts.splice(c,1)},lookup:(e,t)=>e.node_ops.lookup(e,t),mknod(e,t,r){var i=ct.lookupPath(e,{parent:!0}).node,n=je.basename(e);if(!n)throw new ct.ErrnoError(28);if("."===n||".."===n)throw new ct.ErrnoError(20);var s=ct.mayCreate(i,n);if(s)throw new ct.ErrnoError(s);if(!i.node_ops.mknod)throw new ct.ErrnoError(63);return i.node_ops.mknod(i,n,t,r)},statfs:e=>ct.statfsNode(ct.lookupPath(e,{follow:!0}).node),statfsStream:e=>ct.statfsNode(e.node),statfsNode(e){var t={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:ct.nextInode,ffree:ct.nextInode-1,fsid:42,flags:2,namelen:255};return e.node_ops.statfs&&Object.assign(t,e.node_ops.statfs(e.mount.opts.root)),t},create:(e,t=438)=>(t&=4095,t|=32768,ct.mknod(e,t,0)),mkdir:(e,t=511)=>(t&=1023,t|=16384,ct.mknod(e,t,0)),mkdirTree(e,t){var r=e.split("/"),i="";for(var n of r)if(n){(i||je.isAbs(e))&&(i+="/"),i+=n;try{ct.mkdir(i,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:(e,t,r)=>(void 0===r&&(r=t,t=438),t|=8192,ct.mknod(e,t,r)),symlink(e,t){if(!qe.resolve(e))throw new ct.ErrnoError(44);var r=ct.lookupPath(t,{parent:!0}).node;if(!r)throw new ct.ErrnoError(44);var i=je.basename(t),n=ct.mayCreate(r,i);if(n)throw new ct.ErrnoError(n);if(!r.node_ops.symlink)throw new ct.ErrnoError(63);return r.node_ops.symlink(r,i,e)},rename(e,t){var r,i,n=je.dirname(e),s=je.dirname(t),o=je.basename(e),a=je.basename(t);if(r=ct.lookupPath(e,{parent:!0}).node,i=ct.lookupPath(t,{parent:!0}).node,!r||!i)throw new ct.ErrnoError(44);if(r.mount!==i.mount)throw new ct.ErrnoError(75);var c,h=ct.lookupNode(r,o),u=qe.relative(e,s);if("."!==u.charAt(0))throw new ct.ErrnoError(28);if("."!==(u=qe.relative(t,n)).charAt(0))throw new ct.ErrnoError(55);try{c=ct.lookupNode(i,a)}catch(e){}if(h!==c){var l=ct.isDir(h.mode),d=ct.mayDelete(r,o,l);if(d)throw new ct.ErrnoError(d);if(d=c?ct.mayDelete(i,a,l):ct.mayCreate(i,a))throw new ct.ErrnoError(d);if(!r.node_ops.rename)throw new ct.ErrnoError(63);if(ct.isMountpoint(h)||c&&ct.isMountpoint(c))throw new ct.ErrnoError(10);if(i!==r&&(d=ct.nodePermissions(r,"w")))throw new ct.ErrnoError(d);ct.hashRemoveNode(h);try{r.node_ops.rename(h,i,a),h.parent=i}catch(e){throw e}finally{ct.hashAddNode(h)}}},rmdir(e){var t=ct.lookupPath(e,{parent:!0}).node,r=je.basename(e),i=ct.lookupNode(t,r),n=ct.mayDelete(t,r,!0);if(n)throw new ct.ErrnoError(n);if(!t.node_ops.rmdir)throw new ct.ErrnoError(63);if(ct.isMountpoint(i))throw new ct.ErrnoError(10);t.node_ops.rmdir(t,r),ct.destroyNode(i)},readdir(e){var t=ct.lookupPath(e,{follow:!0}).node;return ct.checkOpExists(t.node_ops.readdir,54)(t)},unlink(e){var t=ct.lookupPath(e,{parent:!0}).node;if(!t)throw new ct.ErrnoError(44);var r=je.basename(e),i=ct.lookupNode(t,r),n=ct.mayDelete(t,r,!1);if(n)throw new ct.ErrnoError(n);if(!t.node_ops.unlink)throw new ct.ErrnoError(63);if(ct.isMountpoint(i))throw new ct.ErrnoError(10);t.node_ops.unlink(t,r),ct.destroyNode(i)},readlink(e){var t=ct.lookupPath(e).node;if(!t)throw new ct.ErrnoError(44);if(!t.node_ops.readlink)throw new ct.ErrnoError(28);return t.node_ops.readlink(t)},stat(e,t){var r=ct.lookupPath(e,{follow:!t}).node;return ct.checkOpExists(r.node_ops.getattr,63)(r)},fstat(e){var t=ct.getStreamChecked(e),r=t.node,i=t.stream_ops.getattr,n=i?t:r;return i??=r.node_ops.getattr,ct.checkOpExists(i,63),i(n)},lstat:e=>ct.stat(e,!0),doChmod(e,t,r,i){ct.doSetAttr(e,t,{mode:4095&r|-4096&t.mode,ctime:Date.now(),dontFollow:i})},chmod(e,t,r){var i;i="string"==typeof e?ct.lookupPath(e,{follow:!r}).node:e,ct.doChmod(null,i,t,r)},lchmod(e,t){ct.chmod(e,t,!0)},fchmod(e,t){var r=ct.getStreamChecked(e);ct.doChmod(r,r.node,t,!1)},doChown(e,t,r){ct.doSetAttr(e,t,{timestamp:Date.now(),dontFollow:r})},chown(e,t,r,i){var n;n="string"==typeof e?ct.lookupPath(e,{follow:!i}).node:e,ct.doChown(null,n,i)},lchown(e,t,r){ct.chown(e,t,r,!0)},fchown(e,t,r){var i=ct.getStreamChecked(e);ct.doChown(i,i.node,!1)},doTruncate(e,t,r){if(ct.isDir(t.mode))throw new ct.ErrnoError(31);if(!ct.isFile(t.mode))throw new ct.ErrnoError(28);var i=ct.nodePermissions(t,"w");if(i)throw new ct.ErrnoError(i);ct.doSetAttr(e,t,{size:r,timestamp:Date.now()})},truncate(e,t){if(t<0)throw new ct.ErrnoError(28);var r;r="string"==typeof e?ct.lookupPath(e,{follow:!0}).node:e,ct.doTruncate(null,r,t)},ftruncate(e,t){var r=ct.getStreamChecked(e);if(t<0||!(2097155&r.flags))throw new ct.ErrnoError(28);ct.doTruncate(r,r.node,t)},utime(e,t,r){var i=ct.lookupPath(e,{follow:!0}).node;ct.checkOpExists(i.node_ops.setattr,63)(i,{atime:t,mtime:r})},open(e,r,i=438){if(""===e)throw new ct.ErrnoError(44);var n,s;if(i=64&(r="string"==typeof r?(e=>{var t={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[e];if(void 0===t)throw new Error(`Unknown file open mode: ${e}`);return t})(r):r)?4095&i|32768:0,"object"==typeof e)n=e;else{s=e.endsWith("/");var o=ct.lookupPath(e,{follow:!(131072&r),noent_okay:!0});n=o.node,e=o.path}var a=!1;if(64&r)if(n){if(128&r)throw new ct.ErrnoError(20)}else{if(s)throw new ct.ErrnoError(31);n=ct.mknod(e,511|i,0),a=!0}if(!n)throw new ct.ErrnoError(44);if(ct.isChrdev(n.mode)&&(r&=-513),65536&r&&!ct.isDir(n.mode))throw new ct.ErrnoError(54);if(!a){var c=ct.mayOpen(n,r);if(c)throw new ct.ErrnoError(c)}512&r&&!a&&ct.truncate(n,0),r&=-131713;var h=ct.createStream({node:n,path:ct.getPath(n),flags:r,seekable:!0,position:0,stream_ops:n.stream_ops,ungotten:[],error:!1});return h.stream_ops.open&&h.stream_ops.open(h),a&&ct.chmod(n,511&i),!t.logReadFiles||1&r||e in ct.readFiles||(ct.readFiles[e]=1),h},close(e){if(ct.isClosed(e))throw new ct.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{ct.closeStream(e.fd)}e.fd=null},isClosed:e=>null===e.fd,llseek(e,t,r){if(ct.isClosed(e))throw new ct.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new ct.ErrnoError(70);if(0!=r&&1!=r&&2!=r)throw new ct.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read(e,t,r,i,n){if(i<0||n<0)throw new ct.ErrnoError(28);if(ct.isClosed(e))throw new ct.ErrnoError(8);if(1==(2097155&e.flags))throw new ct.ErrnoError(8);if(ct.isDir(e.node.mode))throw new ct.ErrnoError(31);if(!e.stream_ops.read)throw new ct.ErrnoError(28);var s=void 0!==n;if(s){if(!e.seekable)throw new ct.ErrnoError(70)}else n=e.position;var o=e.stream_ops.read(e,t,r,i,n);return s||(e.position+=o),o},write(e,t,r,i,n,s){if(i<0||n<0)throw new ct.ErrnoError(28);if(ct.isClosed(e))throw new ct.ErrnoError(8);if(!(2097155&e.flags))throw new ct.ErrnoError(8);if(ct.isDir(e.node.mode))throw new ct.ErrnoError(31);if(!e.stream_ops.write)throw new ct.ErrnoError(28);e.seekable&&1024&e.flags&&ct.llseek(e,0,2);var o=void 0!==n;if(o){if(!e.seekable)throw new ct.ErrnoError(70)}else n=e.position;var a=e.stream_ops.write(e,t,r,i,n,s);return o||(e.position+=a),a},mmap(e,t,r,i,n){if(2&i&&!(2&n)&&2!=(2097155&e.flags))throw new ct.ErrnoError(2);if(1==(2097155&e.flags))throw new ct.ErrnoError(2);if(!e.stream_ops.mmap)throw new ct.ErrnoError(43);if(!t)throw new ct.ErrnoError(28);return e.stream_ops.mmap(e,t,r,i,n)},msync:(e,t,r,i,n)=>e.stream_ops.msync?e.stream_ops.msync(e,t,r,i,n):0,ioctl(e,t,r){if(!e.stream_ops.ioctl)throw new ct.ErrnoError(59);return e.stream_ops.ioctl(e,t,r)},readFile(e,t={}){t.flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding&&q(`Invalid encoding type "${t.encoding}"`);var r=ct.open(e,t.flags),i=ct.stat(e).size,n=new Uint8Array(i);return ct.read(r,n,0,i,0),"utf8"===t.encoding&&(n=Ze(n)),ct.close(r),n},writeFile(e,t,r={}){r.flags=r.flags||577;var i=ct.open(e,r.flags,r.mode);"string"==typeof t&&(t=new Uint8Array(et(t,!0))),ArrayBuffer.isView(t)?ct.write(i,t,0,t.byteLength,void 0,r.canOwn):q("Unsupported data type"),ct.close(i)},cwd:()=>ct.currentPath,chdir(e){var t=ct.lookupPath(e,{follow:!0});if(null===t.node)throw new ct.ErrnoError(44);if(!ct.isDir(t.node.mode))throw new ct.ErrnoError(54);var r=ct.nodePermissions(t.node,"x");if(r)throw new ct.ErrnoError(r);ct.currentPath=t.path},createDefaultDirectories(){ct.mkdir("/tmp"),ct.mkdir("/home"),ct.mkdir("/home/web_user")},createDefaultDevices(){ct.mkdir("/dev"),ct.registerDevice(ct.makedev(1,3),{read:()=>0,write:(e,t,r,i,n)=>i,llseek:()=>0}),ct.mkdev("/dev/null",ct.makedev(1,3)),tt.register(ct.makedev(5,0),tt.default_tty_ops),tt.register(ct.makedev(6,0),tt.default_tty1_ops),ct.mkdev("/dev/tty",ct.makedev(5,0)),ct.mkdev("/dev/tty1",ct.makedev(6,0));var e=new Uint8Array(1024),t=0,r=()=>(0===t&&($e(e),t=e.byteLength),e[--t]);ct.createDevice("/dev","random",r),ct.createDevice("/dev","urandom",r),ct.mkdir("/dev/shm"),ct.mkdir("/dev/shm/tmp")},createSpecialDirectories(){ct.mkdir("/proc");var e=ct.mkdir("/proc/self");ct.mkdir("/proc/self/fd"),ct.mount({mount(){var t=ct.createNode(e,"fd",16895,73);return t.stream_ops={llseek:it.stream_ops.llseek},t.node_ops={lookup(e,t){var r=+t,i=ct.getStreamChecked(r),n={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>i.path},id:r+1};return n.parent=n,n},readdir:()=>Array.from(ct.streams.entries()).filter((([e,t])=>t)).map((([e,t])=>e.toString()))},t}},{},"/proc/self/fd")},createStandardStreams(e,t,r){e?ct.createDevice("/dev","stdin",e):ct.symlink("/dev/tty","/dev/stdin"),t?ct.createDevice("/dev","stdout",null,t):ct.symlink("/dev/tty","/dev/stdout"),r?ct.createDevice("/dev","stderr",null,r):ct.symlink("/dev/tty1","/dev/stderr"),ct.open("/dev/stdin",0),ct.open("/dev/stdout",1),ct.open("/dev/stderr",1)},staticInit(){ct.nameTable=new Array(4096),ct.mount(it,{},"/"),ct.createDefaultDirectories(),ct.createDefaultDevices(),ct.createSpecialDirectories(),ct.filesystems={MEMFS:it}},init(e,r,i){ct.initialized=!0,e??=t.stdin,r??=t.stdout,i??=t.stderr,ct.createStandardStreams(e,r,i)},quit(){for(var e of(ct.initialized=!1,ct.streams))e&&ct.close(e)},findObject(e,t){var r=ct.analyzePath(e,t);return r.exists?r.object:null},analyzePath(e,t){try{e=(i=ct.lookupPath(e,{follow:!t})).path}catch(e){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var i=ct.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=i.path,r.parentObject=i.node,r.name=je.basename(e),i=ct.lookupPath(e,{follow:!t}),r.exists=!0,r.path=i.path,r.object=i.node,r.name=i.node.name,r.isRoot="/"===i.path}catch(e){r.error=e.errno}return r},createPath(e,t,r,i){e="string"==typeof e?e:ct.getPath(e);for(var n=t.split("/").reverse();n.length;){var s=n.pop();if(s){var o=je.join2(e,s);try{ct.mkdir(o)}catch(e){if(20!=e.errno)throw e}e=o}}return o},createFile(e,t,r,i,n){var s=je.join2("string"==typeof e?e:ct.getPath(e),t),o=nt(i,n);return ct.create(s,o)},createDataFile(e,t,r,i,n,s){var o=t;e&&(e="string"==typeof e?e:ct.getPath(e),o=t?je.join2(e,t):e);var a=nt(i,n),c=ct.create(o,a);if(r){if("string"==typeof r){for(var h=new Array(r.length),u=0,l=r.length;u<l;++u)h[u]=r.charCodeAt(u);r=h}ct.chmod(c,146|a);var d=ct.open(c,577);ct.write(d,r,0,r.length,0,s),ct.close(d),ct.chmod(c,a)}},createDevice(e,t,r,i){var n=je.join2("string"==typeof e?e:ct.getPath(e),t),s=nt(!!r,!!i);ct.createDevice.major??=64;var o=ct.makedev(ct.createDevice.major++,0);return ct.registerDevice(o,{open(e){e.seekable=!1},close(e){i?.buffer?.length&&i(10)},read(e,t,i,n,s){for(var o=0,a=0;a<n;a++){var c;try{c=r()}catch(e){throw new ct.ErrnoError(29)}if(void 0===c&&0===o)throw new ct.ErrnoError(6);if(null==c)break;o++,t[i+a]=c}return o&&(e.node.atime=Date.now()),o},write(e,t,r,n,s){for(var o=0;o<n;o++)try{i(t[r+o])}catch(e){throw new ct.ErrnoError(29)}return n&&(e.node.mtime=e.node.ctime=Date.now()),o}}),ct.mkdev(n,s,o)},forceLoadFile(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(globalThis.XMLHttpRequest)q("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");else try{e.contents=u(e.url)}catch(e){throw new ct.ErrnoError(29)}},createLazyFile(e,t,r,i,s){class o{lengthKnown=!1;chunks=[];get(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,r=e/this.chunkSize|0;return this.getter(r)[t]}}setDataGetter(e){this.getter=e}cacheLength(){var e=new XMLHttpRequest;e.open("HEAD",r,!1),e.send(null),e.status>=200&&e.status<300||304===e.status||q("Couldn't load "+r+". Status: "+e.status);var t,i=Number(e.getResponseHeader("Content-length")),n=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,s=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,o=1048576;n||(o=i);var a=this;a.setDataGetter((e=>{var t=e*o,n=(e+1)*o-1;return n=Math.min(n,i-1),void 0===a.chunks[e]&&(a.chunks[e]=((e,t)=>{e>t&&q("invalid range ("+e+", "+t+") or no bytes requested!"),t>i-1&&q("only "+i+" bytes available! programmer error!");var n=new XMLHttpRequest;return n.open("GET",r,!1),i!==o&&n.setRequestHeader("Range","bytes="+e+"-"+t),n.responseType="arraybuffer",n.overrideMimeType&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.send(null),n.status>=200&&n.status<300||304===n.status||q("Couldn't load "+r+". Status: "+n.status),void 0!==n.response?new Uint8Array(n.response||[]):et(n.responseText||"",!0)})(t,n)),void 0===a.chunks[e]&&q("doXHR failed!"),a.chunks[e]})),!s&&i||(o=i=1,i=this.getter(0).length,o=i,L("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=i,this._chunkSize=o,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(globalThis.XMLHttpRequest){n||q("Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc");var a={isDevice:!1,contents:new o}}else a={isDevice:!1,url:r};var c=ct.createFile(e,t,a,i,s);a.contents?c.contents=a.contents:a.url&&(c.contents=null,c.url=a.url),Object.defineProperties(c,{usedBytes:{get:function(){return this.contents.length}}});var h={};for(const[e,t]of Object.entries(c.stream_ops))h[e]=(...e)=>(ct.forceLoadFile(c),t(...e));function u(e,t,r,i,n){var s=e.node.contents;if(n>=s.length)return 0;var o=Math.min(s.length-n,i);if(s.slice)for(var a=0;a<o;a++)t[r+a]=s[n+a];else for(a=0;a<o;a++)t[r+a]=s.get(n+a);return o}return h.read=(e,t,r,i,n)=>(ct.forceLoadFile(c),u(e,t,r,i,n)),h.mmap=(e,t,r,i,n)=>{ct.forceLoadFile(c);var s=rt();if(!s)throw new ct.ErrnoError(48);return u(e,(_(),N),s,t,r),{ptr:s,allocated:!0}},c.stream_ops=h,c}},ht=(e,t,r)=>{if(!e)return"";var i=Xe((_(),C),e,t,r);return Ye.decode((_(),C).slice(e,i))},ut={calculateAt(e,t,r){if(je.isAbs(t))return t;var i;if(i=-100===e?ct.cwd():ut.getStreamFromFD(e).path,0==t.length){if(!r)throw new ct.ErrnoError(44);return i}return i+"/"+t},writeStat(e,t){(_(),A)[e/4]=t.dev,(_(),A)[(e+4)/4]=t.mode,(_(),M)[(e+8)/8]=BigInt(t.nlink),(_(),A)[(e+16)/4]=t.uid,(_(),A)[(e+20)/4]=t.gid,(_(),A)[(e+24)/4]=t.rdev,(_(),B)[(e+32)/8]=BigInt(t.size),(_(),O)[(e+40)/4]=4096,(_(),O)[(e+44)/4]=t.blocks;var r=t.atime.getTime(),i=t.mtime.getTime(),n=t.ctime.getTime();return(_(),B)[(e+48)/8]=BigInt(Math.floor(r/1e3)),(_(),M)[(e+56)/8]=BigInt(r%1e3*1e3*1e3),(_(),B)[(e+64)/8]=BigInt(Math.floor(i/1e3)),(_(),M)[(e+72)/8]=BigInt(i%1e3*1e3*1e3),(_(),B)[(e+80)/8]=BigInt(Math.floor(n/1e3)),(_(),M)[(e+88)/8]=BigInt(n%1e3*1e3*1e3),(_(),B)[(e+96)/8]=BigInt(t.ino),0},writeStatFs(e,t){(_(),A)[(e+8)/4]=t.bsize,(_(),A)[(e+72)/4]=t.bsize,(_(),B)[(e+16)/8]=BigInt(t.blocks),(_(),B)[(e+24)/8]=BigInt(t.bfree),(_(),B)[(e+32)/8]=BigInt(t.bavail),(_(),B)[(e+40)/8]=BigInt(t.files),(_(),B)[(e+48)/8]=BigInt(t.ffree),(_(),A)[(e+56)/4]=t.fsid,(_(),A)[(e+80)/4]=t.flags,(_(),A)[(e+64)/4]=t.namelen},doMsync(e,t,r,i,n){if(!ct.isFile(t.node.mode))throw new ct.ErrnoError(43);if(2&i)return 0;var s=(_(),C).slice(e,e+r);ct.msync(t,s,n,r,i)},getStreamFromFD:e=>ct.getStreamChecked(e),varargs:void 0,getStr:e=>ht(e)};function lt(e,t){if(o)return de(3,0,1,e,t);e=Te(e);try{return e=ut.getStr(e),ct.chmod(e,t),0}catch(e){if(void 0===ct||"ErrnoError"!==e.name)throw e;return-e.errno}}function dt(e,t,r,i){if(o)return de(4,0,1,e,t,r,i);t=Te(t);try{if(t=ut.getStr(t),t=ut.calculateAt(e,t),-8&r)return-28;var n=ct.lookupPath(t,{follow:!0}).node;if(!n)return-44;var s="";return 4&r&&(s+="r"),2&r&&(s+="w"),1&r&&(s+="x"),s&&ct.nodePermissions(n,s)?-2:0}catch(e){if(void 0===ct||"ErrnoError"!==e.name)throw e;return-e.errno}}var pt=()=>{var e=Number((_(),M)[ut.varargs/8]);return ut.varargs+=8,e},ft=()=>{var e=(_(),O)[+ut.varargs/4];return ut.varargs+=4,e};function vt(e,t,r){if(o)return de(5,0,1,e,t,r);r=Te(r),ut.varargs=r;try{var i=ut.getStreamFromFD(e);switch(t){case 0:if((n=ft())<0)return-28;for(;ct.streams[n];)n++;return ct.dupStream(i,n).fd;case 1:case 2:case 6:case 7:return 0;case 3:return i.flags;case 4:var n=ft();return i.flags|=n,0;case 5:return n=pt(),(_(),k)[(n+0)/2]=2,0}return-28}catch(e){if(void 0===ct||"ErrnoError"!==e.name)throw e;return-e.errno}}function mt(e,t){if(o)return de(6,0,1,e,t);t=Te(t);try{return ut.writeStat(t,ct.fstat(e))}catch(e){if(void 0===ct||"ErrnoError"!==e.name)throw e;return-e.errno}}function gt(e,t,r){if(o)return de(7,0,1,e,t,r);r=Te(r),ut.varargs=r;try{var i=ut.getStreamFromFD(e);switch(t){case 21509:case 21510:case 21511:case 21512:case 21524:case 21515:return i.tty?0:-59;case 21505:if(!i.tty)return-59;if(i.tty.ops.ioctl_tcgets){var n=i.tty.ops.ioctl_tcgets(i),s=pt();(_(),O)[s/4]=n.c_iflag||0,(_(),O)[(s+4)/4]=n.c_oflag||0,(_(),O)[(s+8)/4]=n.c_cflag||0,(_(),O)[(s+12)/4]=n.c_lflag||0;for(var a=0;a<32;a++)(_(),N)[s+a+17]=n.c_cc[a]||0;return 0}return 0;case 21506:case 21507:case 21508:if(!i.tty)return-59;if(i.tty.ops.ioctl_tcsets){s=pt();var c=(_(),O)[s/4],h=(_(),O)[(s+4)/4],u=(_(),O)[(s+8)/4],l=(_(),O)[(s+12)/4],d=[];for(a=0;a<32;a++)d.push((_(),N)[s+a+17]);return i.tty.ops.ioctl_tcsets(i.tty,t,{c_iflag:c,c_oflag:h,c_cflag:u,c_lflag:l,c_cc:d})}return 0;case 21519:return i.tty?(s=pt(),(_(),O)[s/4]=0,0):-59;case 21520:return i.tty?-28:-59;case 21537:case 21531:return s=pt(),ct.ioctl(i,t,s);case 21523:if(!i.tty)return-59;if(i.tty.ops.ioctl_tiocgwinsz){var p=i.tty.ops.ioctl_tiocgwinsz(i.tty);s=pt(),(_(),k)[s/2]=p[0],(_(),k)[(s+2)/2]=p[1]}return 0;default:return-28}}catch(e){if(void 0===ct||"ErrnoError"!==e.name)throw e;return-e.errno}}function yt(e,t){if(o)return de(8,0,1,e,t);e=Te(e),t=Te(t);try{return e=ut.getStr(e),ut.writeStat(t,ct.lstat(e))}catch(e){if(void 0===ct||"ErrnoError"!==e.name)throw e;return-e.errno}}function bt(e,t,r){if(o)return de(9,0,1,e,t,r);t=Te(t);try{return t=ut.getStr(t),t=ut.calculateAt(e,t),ct.mkdir(t,r,0),0}catch(e){if(void 0===ct||"ErrnoError"!==e.name)throw e;return-e.errno}}function wt(e,t,r,i){if(o)return de(10,0,1,e,t,r,i);t=Te(t),r=Te(r);try{t=ut.getStr(t);var n=256&i,s=4096&i;return i&=-6401,t=ut.calculateAt(e,t,s),ut.writeStat(r,n?ct.lstat(t):ct.stat(t))}catch(e){if(void 0===ct||"ErrnoError"!==e.name)throw e;return-e.errno}}function St(e,t,r,i){if(o)return de(11,0,1,e,t,r,i);t=Te(t),i=Te(i),ut.varargs=i;try{t=ut.getStr(t),t=ut.calculateAt(e,t);var n=i?ft():0;return ct.open(t,r,n).fd}catch(e){if(void 0===ct||"ErrnoError"!==e.name)throw e;return-e.errno}}function Et(e){if(o)return de(12,0,1,e);e=Te(e);try{return e=ut.getStr(e),ct.rmdir(e),0}catch(e){if(void 0===ct||"ErrnoError"!==e.name)throw e;return-e.errno}}function xt(e,t){if(o)return de(13,0,1,e,t);e=Te(e),t=Te(t);try{return e=ut.getStr(e),ut.writeStat(t,ct.stat(e))}catch(e){if(void 0===ct||"ErrnoError"!==e.name)throw e;return-e.errno}}function Tt(e,t,r){if(o)return de(14,0,1,e,t,r);t=Te(t);try{if(t=ut.getStr(t),t=ut.calculateAt(e,t),r){if(512!==r)return-28;ct.rmdir(t)}else ct.unlink(t);return 0}catch(e){if(void 0===ct||"ErrnoError"!==e.name)throw e;return-e.errno}}var Pt=()=>q(""),Nt={},Ct=e=>{for(;e.length;){var t=e.pop();e.pop()(t)}};function kt(e){return this.fromWireType(Number((_(),M)[e/8]))}var Dt={},Ot={},At={},Ft=class extends Error{constructor(e){super(e),this.name="InternalError"}},Rt=e=>{throw new Ft(e)},Bt=(e,t,r)=>{function i(t){var i=r(t);i.length!==e.length&&Rt("Mismatched type converter count");for(var n=0;n<e.length;++n)Ut(e[n],i[n])}e.forEach((e=>At[e]=t));var n=new Array(t.length),s=[],o=0;for(let[e,r]of t.entries())Ot.hasOwnProperty(r)?n[e]=Ot[r]:(s.push(r),Dt.hasOwnProperty(r)||(Dt[r]=[]),Dt[r].push((()=>{n[e]=Ot[r],++o===s.length&&i(n)})));0===s.length&&i(n)},Mt=function(e){e=Te(e);var t=Nt[e];delete Nt[e];var r=t.rawConstructor,i=t.rawDestructor,n=t.fields,s=n.map((e=>e.getterReturnType)).concat(n.map((e=>e.setterArgumentType)));Bt([e],s,(e=>{var s={};for(var[o,a]of n.entries()){const t=e[o],r=a.getter,i=a.getterContext,c=e[o+n.length],h=a.setter,u=a.setterContext;s[a.fieldName]={read:e=>t.fromWireType(r(i,e)),write:(e,t)=>{var r=[];h(u,e,c.toWireType(r,t)),Ct(r)},optional:t.optional}}return[{name:t.name,fromWireType:e=>{var t={};for(var r in s)t[r]=s[r].read(e);return i(e),t},toWireType:(e,t)=>{for(var n in s)if(!(n in t)&&!s[n].optional)throw new TypeError(`Missing field: "${n}"`);var o=r();for(n in s)s[n].write(o,t[n]);return null!==e&&e.push(i,o),o},readValueFromPointer:kt,destructorFunction:i}]}))},Lt=e=>{for(var t="";;){var r=(_(),C)[e++];if(!r)return t;t+=String.fromCharCode(r)}},It=class extends Error{constructor(e){super(e),this.name="BindingError"}},Wt=e=>{throw new It(e)};function Ut(e,t,r={}){return function(e,t,r={}){var i=t.name;if(e||Wt(`type "${i}" must have a positive integer typeid pointer`),Ot.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;Wt(`Cannot register type '${i}' twice`)}if(Ot[e]=t,delete At[e],Dt.hasOwnProperty(e)){var n=Dt[e];delete Dt[e],n.forEach((e=>e()))}}(e,t,r)}var _t=(e,t,r)=>{switch(t){case 1:return r?e=>(_(),N)[e]:e=>(_(),C)[e];case 2:return r?e=>(_(),k)[e/2]:e=>(_(),D)[e/2];case 4:return r?e=>(_(),O)[e/4]:e=>(_(),A)[e/4];case 8:return r?e=>(_(),B)[e/8]:e=>(_(),M)[e/8];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Ht=function(e,t,r,i,n){e=Te(e),t=Te(t),r=Te(r),t=Lt(t);const s=0n===i;let o=e=>e;if(s){const e=8*r;o=t=>"number"==typeof t?t>>>0:BigInt.asUintN(e,t),n=o(n)}Ut(e,{name:t,fromWireType:o,toWireType:(e,t)=>("number"==typeof t&&(t=BigInt(t)),t),readValueFromPointer:_t(t,r,!s),destructorFunction:null})};function Gt(e,t,r,i){e=Te(e),t=Te(t),Ut(e,{name:t=Lt(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:i},readValueFromPointer:function(e){return this.fromWireType((_(),C)[e])},destructorFunction:null})}var Vt=e=>{Wt(e.$$.ptrType.registeredClass.name+" instance already deleted")},zt=!1,jt=e=>{},$t=e=>{e.count.value-=1,0===e.count.value&&(e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)})(e)},qt=e=>globalThis.FinalizationRegistry?(zt=new FinalizationRegistry((e=>{$t(e.$$)})),qt=e=>{var t=e.$$;if(t.smartPtr){var r={$$:t};zt.register(e,r,e)}return e},jt=e=>zt.unregister(e),qt(e)):(qt=e=>e,e),Yt=[];function Xt(){}var Zt=(e,t)=>Object.defineProperty(t,"name",{value:e}),Qt={},Jt=(e,t,r)=>{if(void 0===e[t].overloadTable){var i=e[t];e[t]=function(...i){return e[t].overloadTable.hasOwnProperty(i.length)||Wt(`Function '${r}' called with an invalid number of arguments (${i.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[i.length].apply(this,i)},e[t].overloadTable=[],e[t].overloadTable[i.argCount]=i}},Kt=(e,r,i)=>{t.hasOwnProperty(e)?((void 0===i||void 0!==t[e].overloadTable&&void 0!==t[e].overloadTable[i])&&Wt(`Cannot register public name '${e}' twice`),Jt(t,e,e),t[e].overloadTable.hasOwnProperty(i)&&Wt(`Cannot register multiple overloads of a function with the same number of arguments (${i})!`),t[e].overloadTable[i]=r):(t[e]=r,t[e].argCount=i)},er=e=>{var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=48&&t<=57?`_${e}`:e};function tr(e,t,r,i,n,s,o,a){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=i,this.baseClass=n,this.getActualType=s,this.upcast=o,this.downcast=a,this.pureVirtualFunctions=[]}var rr=(e,t,r)=>{for(;t!==r;)t.upcast||Wt(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e},ir=e=>{if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e};function nr(e,t){if(null===t)return this.isReference&&Wt(`null is not a valid ${this.name}`),0;t.$$||Wt(`Cannot pass "${ir(t)}" as a ${this.name}`),t.$$.ptr||Wt(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=t.$$.ptrType.registeredClass;return rr(t.$$.ptr,r,this.registeredClass)}function sr(e,t){var r;if(null===t)return this.isReference&&Wt(`null is not a valid ${this.name}`),this.isSmartPointer?(r=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,r),r):0;t&&t.$$||Wt(`Cannot pass "${ir(t)}" as a ${this.name}`),t.$$.ptr||Wt(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&Wt(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var i=t.$$.ptrType.registeredClass;if(r=rr(t.$$.ptr,i,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&Wt("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:Wt(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var n=t.clone();r=this.rawShare(r,Dr.toHandle((()=>n.delete()))),null!==e&&e.push(this.rawDestructor,r)}break;default:Wt("Unsupported sharing policy")}return r}function or(e,t){if(null===t)return this.isReference&&Wt(`null is not a valid ${this.name}`),0;t.$$||Wt(`Cannot pass "${ir(t)}" as a ${this.name}`),t.$$.ptr||Wt(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&Wt(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var r=t.$$.ptrType.registeredClass;return rr(t.$$.ptr,r,this.registeredClass)}var ar=(e,t,r)=>{if(t===r)return e;if(void 0===r.baseClass)return null;var i=ar(e,t,r.baseClass);return null===i?null:r.downcast(i)},cr={},hr=(e,t)=>(t.ptrType&&t.ptr||Rt("makeClassHandle requires ptr and ptrType"),!!t.smartPtrType!=!!t.smartPtr&&Rt("Both smartPtrType and smartPtr must be specified"),t.count={value:1},qt(Object.create(e,{$$:{value:t,writable:!0}})));function ur(e,t,r,i,n,s,o,a,c,h,u){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=i,this.isSmartPointer=n,this.pointeeType=s,this.sharingPolicy=o,this.rawGetPointee=a,this.rawConstructor=c,this.rawShare=h,this.rawDestructor=u,n||void 0!==t.baseClass?this.toWireType=sr:i?(this.toWireType=nr,this.destructorFunction=null):(this.toWireType=or,this.destructorFunction=null)}var lr=(e,r,i)=>{t.hasOwnProperty(e)||Rt("Replacing nonexistent public symbol"),void 0!==t[e].overloadTable&&void 0!==i?t[e].overloadTable[i]=r:(t[e]=r,t[e].argCount=i)},dr=(e,t,r=!1)=>{var i=(e=Lt(e)).includes("p")?((e,t,r=!1)=>(...i)=>((e,t,r=[],i=!1)=>{for(var n=1;n<e.length;++n)"p"==e[n]&&(r[n-1]=BigInt(r[n-1]));return s=we(t)(...r),"p"==e[0]?Number(s):s;var s})(e,t,i,r))(e,t,r):we(t);return"function"!=typeof i&&Wt(`unknown function pointer with signature ${e}: ${t}`),i};class pr extends Error{}var fr=e=>{var t=ln(e),r=Lt(t);return vn(t),r},vr=(e,t)=>{var r=[],i={};throw t.forEach((function e(t){i[t]||Ot[t]||(At[t]?At[t].forEach(e):(r.push(t),i[t]=!0))})),new pr(`${e}: `+r.map(fr).join([", "]))};function mr(e,t,r,i,n,s,o,a,c,h,u,l,d){e=Te(e),t=Te(t),r=Te(r),i=Te(i),n=Te(n),s=Te(s),o=Te(o),a=Te(a),c=Te(c),h=Te(h),u=Te(u),l=Te(l),d=Te(d),u=Lt(u),s=dr(n,s),a&&=dr(o,a),h&&=dr(c,h),d=dr(l,d);var p=er(u);Kt(p,(function(){vr(`Cannot construct ${u} due to unbound types`,[i])})),Bt([e,t,r],i?[i]:[],(t=>{var r,n;t=t[0],n=i?(r=t.registeredClass).instancePrototype:Xt.prototype;var o=Zt(u,(function(...e){if(Object.getPrototypeOf(this)!==c)throw new It(`Use 'new' to construct ${u}`);if(void 0===l.constructor_body)throw new It(`${u} has no accessible constructor`);var t=l.constructor_body[e.length];if(void 0===t)throw new It(`Tried to invoke ctor of ${u} with invalid number of parameters (${e.length}) - expected (${Object.keys(l.constructor_body).toString()}) parameters instead!`);return t.apply(this,e)})),c=Object.create(n,{constructor:{value:o}});o.prototype=c;var l=new tr(u,o,c,d,r,s,a,h);l.baseClass&&(l.baseClass.__derivedClasses??=[],l.baseClass.__derivedClasses.push(l));var f=new ur(u,l,!0,!1,!1),v=new ur(u+"*",l,!1,!1,!1),m=new ur(u+" const*",l,!1,!0,!1);return Qt[e]={pointerType:v,constPointerType:m},lr(p,o),[f,v,m]}))}function gr(e){for(var t=1;t<e.length;++t)if(null!==e[t]&&void 0===e[t].destructorFunction)return!0;return!1}function yr(e,t,r,i,n,s){var o=t.length;o<2&&Wt("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==t[1]&&null!==r,c=gr(t),h=!t[0].isVoid,u=t[0],l=t[1],d=[e,Wt,i,n,Ct,u.fromWireType.bind(u),l?.toWireType.bind(l)],p=2;p<o;++p){var f=t[p];d.push(f.toWireType.bind(f))}if(!c)for(p=a?1:2;p<t.length;++p)null!==t[p].destructorFunction&&d.push(t[p].destructorFunction);let v=function(e,t,r,i){var n=gr(e),s=e.length-2,o=[],a=["fn"];t&&a.push("thisWired");for(var c=0;c<s;++c)o.push(`arg${c}`),a.push(`arg${c}Wired`);o=o.join(","),a=a.join(",");var h=`return function (${o}) {\n`;n&&(h+="var destructors = [];\n");var u=n?"destructors":"null",l=["humanName","throwBindingError","invoker","fn","runDestructors","fromRetWire","toClassParamWire"];for(t&&(h+=`var thisWired = toClassParamWire(${u}, this);\n`),c=0;c<s;++c){var d=`toArg${c}Wire`;h+=`var arg${c}Wired = ${d}(${u}, arg${c});\n`,l.push(d)}if(h+=(r||i?"var rv = ":"")+`invoker(${a});\n`,n)h+="runDestructors(destructors);\n";else for(c=t?1:2;c<e.length;++c){var p=1===c?"thisWired":"arg"+(c-2)+"Wired";null!==e[c].destructorFunction&&(h+=`${p}_dtor(${p});\n`,l.push(`${p}_dtor`))}return r&&(h+="var ret = fromRetWire(rv);\nreturn ret;\n"),h+="}\n",new Function(l,h)}(t,a,h,s);var m=v(...d);return Zt(e,m)}var br=(e,t)=>{for(var r=[],i=0;i<e;i++)r.push(Number((_(),M)[(t+8*i)/8]));return r},wr=e=>{const t=(e=e.trim()).indexOf("(");return-1===t?e:e.slice(0,t)},Sr=function(e,t,r,i,n,s,o,a,c){e=Te(e),t=Te(t),i=Te(i),n=Te(n),s=Te(s),o=Te(o);var h=br(r,i);t=Lt(t),t=wr(t),s=dr(n,s,a),Bt([],[e],(e=>{var i=`${(e=e[0]).name}.${t}`;function n(){vr(`Cannot call ${i} due to unbound types`,h)}t.startsWith("@@")&&(t=Symbol[t.substring(2)]);var c=e.registeredClass.constructor;return void 0===c[t]?(n.argCount=r-1,c[t]=n):(Jt(c,t,i),c[t].overloadTable[r-1]=n),Bt([],h,(n=>{var h=[n[0],null].concat(n.slice(1)),u=yr(i,h,null,s,o,a);if(void 0===c[t].overloadTable?(u.argCount=r-1,c[t]=u):c[t].overloadTable[r-1]=u,e.registeredClass.__derivedClasses)for(const r of e.registeredClass.__derivedClasses)r.constructor.hasOwnProperty(t)||(r.constructor[t]=u);return[]})),[]}))},Er=function(e,t,r,i,n,s){e=Te(e),r=Te(r),i=Te(i),n=Te(n),s=Te(s);var o=br(t,r);n=dr(i,n),Bt([],[e],(e=>{var r=`constructor ${(e=e[0]).name}`;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new It(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${e.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return e.registeredClass.constructor_body[t-1]=()=>{vr(`Cannot construct ${e.name} due to unbound types`,o)},Bt([],o,(i=>(i.splice(1,0,null),e.registeredClass.constructor_body[t-1]=yr(r,i,null,n,s),[]))),[]}))},xr=function(e,t,r,i,n,s,o,a,c,h){e=Te(e),t=Te(t),i=Te(i),n=Te(n),s=Te(s),o=Te(o);var u=br(r,i);t=Lt(t),t=wr(t),s=dr(n,s,c),Bt([],[e],(e=>{var i=`${(e=e[0]).name}.${t}`;function n(){vr(`Cannot call ${i} due to unbound types`,u)}t.startsWith("@@")&&(t=Symbol[t.substring(2)]),a&&e.registeredClass.pureVirtualFunctions.push(t);var h=e.registeredClass.instancePrototype,l=h[t];return void 0===l||void 0===l.overloadTable&&l.className!==e.name&&l.argCount===r-2?(n.argCount=r-2,n.className=e.name,h[t]=n):(Jt(h,t,i),h[t].overloadTable[r-2]=n),Bt([],u,(n=>{var a=yr(i,n,e,s,o,c);return void 0===h[t].overloadTable?(a.argCount=r-2,h[t]=a):h[t].overloadTable[r-2]=a,[]})),[]}))},Tr=(e,t,r)=>(e instanceof Object||Wt(`${r} with invalid "this": ${e}`),e instanceof t.registeredClass.constructor||Wt(`${r} incompatible with "this" of type ${e.constructor.name}`),e.$$.ptr||Wt(`cannot call emscripten binding method ${r} on deleted object`),rr(e.$$.ptr,e.$$.ptrType.registeredClass,t.registeredClass)),Pr=function(e,t,r,i,n,s,o,a,c,h){e=Te(e),t=Te(t),r=Te(r),i=Te(i),n=Te(n),s=Te(s),o=Te(o),a=Te(a),c=Te(c),h=Te(h),t=Lt(t),n=dr(i,n),Bt([],[e],(e=>{var i=`${(e=e[0]).name}.${t}`,u={get(){vr(`Cannot access ${i} due to unbound types`,[r,o])},enumerable:!0,configurable:!0};return u.set=c?()=>vr(`Cannot access ${i} due to unbound types`,[r,o]):e=>Wt(i+" is a read-only property"),Object.defineProperty(e.registeredClass.instancePrototype,t,u),Bt([],c?[r,o]:[r],(r=>{var o=r[0],u={get(){var t=Tr(this,e,i+" getter");return o.fromWireType(n(s,t))},enumerable:!0};if(c){c=dr(a,c);var l=r[1];u.set=function(t){var r=Tr(this,e,i+" setter"),n=[];c(h,r,l.toWireType(n,t)),Ct(n)}}return Object.defineProperty(e.registeredClass.instancePrototype,t,u),[]})),[]}))},Nr=[],Cr=[0,1,,1,null,1,!0,1,!1,1];function kr(e){(e=Te(e))>9&&0==--Cr[e+1]&&(Cr[e]=void 0,Nr.push(e))}var Dr={toValue:e=>(e||Wt(`Cannot use deleted val. handle = ${e}`),Cr[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const t=Nr.pop()||Cr.length;return Cr[t]=e,Cr[t+1]=1,t}}}},Or={name:"emscripten::val",fromWireType:e=>{var t=Dr.toValue(e);return kr(e),t},toWireType:(e,t)=>Dr.toHandle(t),readValueFromPointer:kt,destructorFunction:null};function Ar(e){return Ut(e=Te(e),Or)}var Fr=(e,t,r)=>{switch(t){case 1:return r?function(e){return this.fromWireType((_(),N)[e])}:function(e){return this.fromWireType((_(),C)[e])};case 2:return r?function(e){return this.fromWireType((_(),k)[e/2])}:function(e){return this.fromWireType((_(),D)[e/2])};case 4:return r?function(e){return this.fromWireType((_(),O)[e/4])}:function(e){return this.fromWireType((_(),A)[e/4])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}};function Rr(e,r,i,n,s){e=Te(e),r=Te(r),i=Te(i),r=Lt(r);const o=function(e){return 0===e?"object":1===e?"number":"string"}(s);switch(o){case"object":{function c(){}c.values={},Ut(e,{name:r,constructor:c,valueType:o,fromWireType:function(e){return this.constructor.values[e]},toWireType:(e,t)=>t.value,readValueFromPointer:Fr(r,i,n),destructorFunction:null}),Kt(r,c);break}case"number":Ut(e,{name:r,keysMap:a={},valueType:o,fromWireType:e=>e,toWireType:(e,t)=>t,readValueFromPointer:Fr(r,i,n),destructorFunction:null}),Kt(r,a),delete t[r].argCount;break;case"string":var a;Ut(e,{name:r,valuesMap:{},reverseMap:{},keysMap:a={},valueType:o,fromWireType:function(e){return this.reverseMap[e]},toWireType:function(e,t){return this.valuesMap[t]},readValueFromPointer:Fr(r,i,n),destructorFunction:null}),Kt(r,a),delete t[r].argCount}}var Br=(e,t)=>{var r=Ot[e];return void 0===r&&Wt(`${t} has unknown type ${fr(e)}`),r};function Mr(e,t,r){e=Te(e),t=Te(t);var i=Br(e,"enum");switch(t=Lt(t),i.valueType){case"object":var n=i.constructor,s=Object.create(i.constructor.prototype,{value:{value:r},constructor:{value:Zt(`${i.name}_${t}`,(function(){}))}});n.values[r]=s,n[t]=s;break;case"number":i.keysMap[t]=r;break;case"string":i.valuesMap[t]=r,i.reverseMap[r]=t,i.keysMap[t]=t}}var Lr=(e,t)=>{switch(t){case 4:return function(e){return this.fromWireType((_(),F)[e/4])};case 8:return function(e){return this.fromWireType((_(),R)[e/8])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},Ir=function(e,t,r){e=Te(e),t=Te(t),r=Te(r),Ut(e,{name:t=Lt(t),fromWireType:e=>e,toWireType:(e,t)=>t,readValueFromPointer:Lr(t,r),destructorFunction:null})};function Wr(e,t,r,i,n,s,o,a){e=Te(e),r=Te(r),i=Te(i),n=Te(n),s=Te(s);var c=br(t,r);e=Lt(e),e=wr(e),n=dr(i,n,o),Kt(e,(function(){vr(`Cannot call ${e} due to unbound types`,c)}),t-1),Bt([],c,(r=>{var i=[r[0],null].concat(r.slice(1));return lr(e,yr(e,i,null,n,s,o),t-1),[]}))}var Ur=function(e,t,r,i,n){e=Te(e),t=Te(t),r=Te(r),t=Lt(t);let s=e=>e;if(0===i){var o=32-8*r;s=e=>e<<o>>>o,n=s(n)}Ut(e,{name:t,fromWireType:s,toWireType:(e,t)=>t,readValueFromPointer:_t(t,r,0!==i),destructorFunction:null})};function _r(e,t,r){e=Te(e),r=Te(r);var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][t];function n(e){var t=Number((_(),M)[e/8]),r=Number((_(),M)[(e+8)/8]);return new i((_(),N).buffer,r,t)}Ut(e,{name:r=Lt(r),fromWireType:n,readValueFromPointer:n},{ignoreDuplicateRegistrations:!0})}var Hr=Object.assign({optional:!0},Or);function Gr(e,t){e=Te(e),t=Te(t),Ut(e,Hr)}var Vr=(e,t,r)=>Ke(e,(_(),C),t,r);function zr(e,t){e=Te(e),t=Te(t),Ut(e,{name:t=Lt(t),fromWireType(e){var t,r=Number((_(),M)[e/8]);return t=ht(e+8,r,!0),vn(e),t},toWireType(e,t){var r;t instanceof ArrayBuffer&&(t=new Uint8Array(t));var i="string"==typeof t;i||ArrayBuffer.isView(t)&&1==t.BYTES_PER_ELEMENT||Wt("Cannot pass non-string to std::string"),r=i?Je(t):t.length;var n=fn(8+r+1),s=n+8;return(_(),M)[n/8]=BigInt(r),i?Vr(t,s,r+1):(_(),C).set(t,s),null!==e&&e.push(vn,n),n},readValueFromPointer:kt,destructorFunction(e){vn(e)}})}var jr=new TextDecoder("utf-16le"),$r=(e,t,r)=>{var i=e/2,n=Xe((_(),D),i,t/2,r);return jr.decode((_(),D).slice(i,n))},qr=(e,t,r)=>{if(r??=2147483647,r<2)return 0;for(var i=t,n=(r-=2)<2*e.length?r/2:e.length,s=0;s<n;++s){var o=e.charCodeAt(s);(_(),k)[t/2]=o,t+=2}return(_(),k)[t/2]=0,t-i},Yr=e=>2*e.length,Xr=(e,t,r)=>{for(var i="",n=e/4,s=0;!(s>=t/4);s++){var o=(_(),A)[n+s];if(!o&&!r)break;i+=String.fromCodePoint(o)}return i},Zr=(e,t,r)=>{if(r??=2147483647,r<4)return 0;for(var i=t,n=i+r-4,s=0;s<e.length;++s){var o=e.codePointAt(s);if(o>65535&&s++,(_(),O)[t/4]=o,(t+=4)+4>n)break}return(_(),O)[t/4]=0,t-i},Qr=e=>{for(var t=0,r=0;r<e.length;++r)e.codePointAt(r)>65535&&r++,t+=4;return t};function Jr(e,t,r){var i,n,s;e=Te(e),t=Te(t),r=Te(r),r=Lt(r),2===t?(i=$r,n=qr,s=Yr):(i=Xr,n=Zr,s=Qr),Ut(e,{name:r,fromWireType:e=>{var r=Number((_(),M)[e/8]),n=i(e+8,r*t,!0);return vn(e),n},toWireType:(e,i)=>{"string"!=typeof i&&Wt(`Cannot pass non-string to C++ string type ${r}`);var o=s(i),a=fn(8+o+t);return(_(),M)[a/8]=BigInt(o/t),n(i,a+8,o+t),null!==e&&e.push(vn,a),a},readValueFromPointer:kt,destructorFunction(e){vn(e)}})}function Kr(e,t,r,i,n,s){e=Te(e),t=Te(t),r=Te(r),i=Te(i),n=Te(n),s=Te(s),Nt[e]={name:Lt(t),rawConstructor:dr(r,i),rawDestructor:dr(n,s),fields:[]}}function ei(e,t,r,i,n,s,o,a,c,h){e=Te(e),t=Te(t),r=Te(r),i=Te(i),n=Te(n),s=Te(s),o=Te(o),a=Te(a),c=Te(c),h=Te(h),Nt[e].fields.push({fieldName:Lt(t),getterReturnType:r,getter:dr(i,n),getterContext:s,setterArgumentType:o,setter:dr(a,c),setterContext:h})}var ti=function(e,t){e=Te(e),t=Te(t),Ut(e,{isVoid:!0,name:t=Lt(t),fromWireType:()=>{},toWireType:(e,t)=>{}})};function ri(e){e=Te(e),mn(e,!n,1,!i,16777216,!1),ge.threadInitTLS()}var ii=e=>{for(var t=e.split("."),r=0;r<4;r++){var i=Number(t[r]);if(isNaN(i))return null;t[r]=i}return(t[0]|t[1]<<8|t[2]<<16|t[3]<<24)>>>0},ni={address_map:{id:1,addrs:{},names:{}},lookup_name(e){var t,r=ii(e);if(null!==r)return e;if(null!==(r=(e=>{var t,r,i,n,s=[];if(!/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i.test(e))return null;if("::"===e)return[0,0,0,0,0,0,0,0];for((e=e.startsWith("::")?e.replace("::","Z:"):e.replace("::",":Z:")).indexOf(".")>0?((t=(e=e.replace(new RegExp("[.]","g"),":")).split(":"))[t.length-4]=Number(t[t.length-4])+256*Number(t[t.length-3]),t[t.length-3]=Number(t[t.length-2])+256*Number(t[t.length-1]),t=t.slice(0,t.length-2)):t=e.split(":"),i=0,n=0,r=0;r<t.length;r++)if("string"==typeof t[r])if("Z"===t[r]){for(n=0;n<8-t.length+1;n++)s[r+n]=0;i=n-1}else s[r+i]=yn(parseInt(t[r],16));else s[r+i]=t[r];return[s[1]<<16|s[0],s[3]<<16|s[2],s[5]<<16|s[4],s[7]<<16|s[6]]})(e)))return e;if(ni.address_map.addrs[e])t=ni.address_map.addrs[e];else{var i=ni.address_map.id++;t="172.29."+(255&i)+"."+(65280&i),ni.address_map.names[t]=e,ni.address_map.addrs[e]=t}return t},lookup_addr:e=>ni.address_map.names[e]?ni.address_map.names[e]:null};function si(e){e=Te(e);var t=ht(e);return ii(ni.lookup_name(t))}var oi=e=>{if(e instanceof Q||"unwind"==e)return E;d(1,e)},ai=e=>{if(!W)try{e(),(()=>{if(!he())try{if(o)return void(pn()&&Sn(E));me(E)}catch(e){oi(e)}})()}catch(e){oi(e)}},ci=!Atomics.waitAsync||globalThis.navigator?.userAgent&&Number((navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)||[])[2])<91;function hi(e){if(e=Te(e),!ci){Atomics.waitAsync((_(),O),e/4,e).value.then(ui);var t=e+228;Atomics.store((_(),O),t/4,1)}}var ui=()=>ai((()=>{var e=pn();e&&(hi(e),xn())}));function li(e,t){if((e=Te(e))==(t=Te(t)))setTimeout(ui);else if(o)postMessage({targetThread:e,cmd:"checkMailbox"});else{var r=ge.pthreads[e];if(!r)return;r.postMessage({cmd:"checkMailbox"})}}var di=[];function pi(e,t,r,i,n){t=Te(t),r=Te(r),n=Te(n),di.length=0;for(var s=n/8,o=(n+i)/8;s<o;){var a;a=(_(),B)[s++]?(_(),B)[s++]:(_(),R)[s++],di.push(a)}var c=Ln[e];ge.currentProxiedOperationCallerThread=r;var h=c(...di);return ge.currentProxiedOperationCallerThread=0,"bigint"==typeof h&&(h=Te(h)),h}var fi=()=>{Ee=!1,ce=0};function vi(e){e=Te(e),o?postMessage({cmd:"cleanupThread",thread:e}):K(e)}function mi(e){e=Te(e),s&&ge.pthreads[e].ref()}var gi=()=>{throw 1/0},yi=[],bi=(e,t,r)=>{var i=[],n=e(i,r);return i.length&&((_(),M)[t/8]=BigInt(Dr.toHandle(i))),n},wi={},Si=e=>{var t=wi[e];return void 0===t?Lt(e):t},Ei=function(e,t,r){t=Te(t);var i=(()=>{var[i,...n]=((e,t)=>{for(var r=new Array(e),i=0;i<e;++i)r[i]=Br(Number((_(),M)[(t+8*i)/8]),`parameter ${i}`);return r})(e,t),s=i.toWireType.bind(i),o=n.map((e=>e.readValueFromPointer.bind(e)));e--;var a,c={toValue:Dr.toValue},h=o.map(((e,t)=>{var r=`argFromPtr${t}`;return c[r]=e,`${r}(args${t?"+"+16*t:""})`}));switch(r){case 0:a="toValue(handle)";break;case 2:a="new (toValue(handle))";break;case 3:a="";break;case 1:c.getStringOrSymbol=Si,a="toValue(handle)[getStringOrSymbol(methodName)]"}a+=`(${h})`,i.isVoid||(c.toReturnWire=s,c.emval_returnValue=bi,a=`return emval_returnValue(toReturnWire, destructorsRef, ${a})`),a=`return function (handle, methodName, destructorsRef, args) {\n  ${a}\n  }`;var u,l,d=new Function(Object.keys(c),a)(...Object.values(c)),p=`methodCaller<(${n.map((e=>e.name))}) => ${i.name}>`;return u=Zt(p,d),l=yi.length,yi.push(u),l})();return BigInt(i)},xi=function(e){var t=(e=Te(e))?(e=Si(e),Dr.toHandle(globalThis[e])):Dr.toHandle(globalThis);return BigInt(t)},Ti=function(e,t){e=Te(e),t=Te(t);var r=(e=Dr.toValue(e),t=Dr.toValue(t),Dr.toHandle(e[t]));return BigInt(r)};function Pi(e){(e=Te(e))>9&&(Cr[e+1]+=1)}function Ni(e,t,r,i,n){return e=Te(e),t=Te(t),r=Te(r),i=Te(i),n=Te(n),yi[e](t,r,i,n)}function Ci(e,t,r,i,n){return Ni(e=Te(e),t=Te(t),r=Te(r),i=Te(i),n=Te(n))}var ki=()=>BigInt(Dr.toHandle([])),Di=e=>(e=Te(e),BigInt(Dr.toHandle(Si(e))));function Oi(e){e=Te(e);var t=Dr.toValue(e);Ct(t),kr(e)}var Ai=[0,31,60,91,121,152,182,213,244,274,305,335],Fi=[0,31,59,90,120,151,181,212,243,273,304,334],Ri=e=>{var t;return((t=e.getFullYear())%4!=0||t%100==0&&t%400!=0?Fi:Ai)[e.getMonth()]+e.getDate()-1};function Bi(e,t){e=Te(e),t=Te(t);var r=new Date(1e3*e);(_(),O)[t/4]=r.getSeconds(),(_(),O)[(t+4)/4]=r.getMinutes(),(_(),O)[(t+8)/4]=r.getHours(),(_(),O)[(t+12)/4]=r.getDate(),(_(),O)[(t+16)/4]=r.getMonth(),(_(),O)[(t+20)/4]=r.getFullYear()-1900,(_(),O)[(t+24)/4]=r.getDay();var i=0|Ri(r);(_(),O)[(t+28)/4]=i,(_(),B)[(t+40)/8]=BigInt(-60*r.getTimezoneOffset());var n=new Date(r.getFullYear(),0,1),s=new Date(r.getFullYear(),6,1).getTimezoneOffset(),o=n.getTimezoneOffset(),a=0|(s!=o&&r.getTimezoneOffset()==Math.min(o,s));(_(),O)[(t+32)/4]=a}var Mi={},Li=()=>performance.timeOrigin+performance.now();function Ii(e,t){if(o)return de(15,0,1,e,t);if(Mi[e]&&(clearTimeout(Mi[e].id),delete Mi[e]),!t)return 0;var r=setTimeout((()=>{delete Mi[e],ai((()=>En(e,Li())))}),t);return Mi[e]={id:r,timeout_ms:t},0}var Wi=function(e,t,r,i){e=Te(e),t=Te(t),r=Te(r),i=Te(i);var n=(new Date).getFullYear(),s=new Date(n,0,1),o=new Date(n,6,1),a=s.getTimezoneOffset(),c=o.getTimezoneOffset(),h=Math.max(a,c);(_(),M)[e/8]=BigInt(60*h),(_(),O)[t/4]=Number(a!=c);var u=e=>{var t=e>=0?"-":"+",r=Math.abs(e);return`UTC${t}${String(Math.floor(r/60)).padStart(2,"0")}${String(r%60).padStart(2,"0")}`},l=u(a),d=u(c);c<a?(Vr(l,r,17),Vr(d,i,17)):(Vr(l,i,17),Vr(d,r,17))},Ui=()=>Date.now(),_i=1,Hi=e=>e>=0&&e<=3;function Gi(e,t,r){if(t=Te(t),r=Te(r),!Hi(e))return 28;var i;if(0===e)i=Ui();else{if(!_i)return 52;i=Li()}var n=Math.round(1e3*i*1e3);return(_(),B)[r/8]=BigInt(n),0}var Vi=()=>{},zi=()=>{throw ce+=1,"unwind"},ji=e=>{var t=(new Error).stack.toString(),r=t.split("\n");t="";var i=new RegExp("\\s*(.*?)@(.*?):([0-9]+):([0-9]+)"),n=new RegExp("\\s*at (.*?) \\((.*):(.*):(.*)\\)");for(var s of r){var o="",a="",c=0,h=0,u=n.exec(s);if(5==u?.length)o=u[1],a=u[2],c=u[3],h=u[4];else{if(u=i.exec(s),!(u?.length>=4)){t+=s+"\n";continue}o=u[1],a=u[2],c=u[3],h=0|u[4]}"_emscripten_log"!=o&&"_emscripten_get_callstack"!=o?24&e&&(64&e&&(a=a.substring(a.replace(/\\/g,"/").lastIndexOf("/")+1)),t+=`    at ${o} (${a}:${c}:${h})\n`):t=""}return t.replace(/\s+$/,"")};function $i(e,t,r){t=Te(t);var i=ji(e);return!t||r<=0?Je(i)+1:Vr(i,t,r)+1}var qi=()=>17179869184,Yi=()=>BigInt(qi()),Xi=()=>s?a("os").cpus().length:navigator.hardwareConcurrency,Zi=(e,t)=>Math.ceil(e/t)*t,Qi=e=>{var t=(e-ve.buffer.byteLength+65535)/65536|0;try{return ve.grow(BigInt(t)),j(),1}catch(e){}};function Ji(e){e=Te(e);var t=(_(),C).length;if(e<=t)return!1;var r=qi();if(e>r)return!1;for(var i=1;i<=4;i*=2){var n=t*(1+.2/i);n=Math.min(n,e+100663296);var s=Math.min(r,Zi(Math.max(e,n),65536));if(Qi(s))return!0}return!1}var Ki={},en=()=>{if(!en.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(globalThis.navigator?.language??"C").replace("-","_")+".UTF-8",_:l||"./this.program"};for(var t in Ki)void 0===Ki[t]?delete e[t]:e[t]=Ki[t];var r=[];for(var t in e)r.push(`${t}=${e[t]}`);en.strings=r}return en.strings};function tn(e,t){if(o)return de(16,0,1,e,t);e=Te(e),t=Te(t);var r=0,i=0;for(var n of en()){var s=t+r;(_(),M)[(e+i)/8]=BigInt(s),r+=Vr(n,s,1/0)+1,i+=8}return 0}function rn(e,t){if(o)return de(17,0,1,e,t);e=Te(e),t=Te(t);var r=en();(_(),M)[e/8]=BigInt(r.length);var i=0;for(var n of r)i+=Je(n)+1;return(_(),M)[t/8]=BigInt(i),0}function nn(e){if(o)return de(18,0,1,e);try{var t=ut.getStreamFromFD(e);return ct.close(t),0}catch(e){if(void 0===ct||"ErrnoError"!==e.name)throw e;return e.errno}}var sn=(e,t,r,i)=>{for(var n=0,s=0;s<r;s++){var o=Number((_(),M)[t/8]),a=Number((_(),M)[(t+8)/8]);t+=16;var c=ct.read(e,(_(),N),o,a,i);if(c<0)return-1;if(n+=c,c<a)break;void 0!==i&&(i+=c)}return n};function on(e,t,r,i){if(o)return de(19,0,1,e,t,r,i);t=Te(t),r=Te(r),i=Te(i);try{var n=ut.getStreamFromFD(e),s=sn(n,t,r);return(_(),M)[i/8]=BigInt(s),0}catch(e){if(void 0===ct||"ErrnoError"!==e.name)throw e;return e.errno}}function an(e,t,r,i){if(o)return de(20,0,1,e,t,r,i);t=Te(t),i=Te(i);try{if(isNaN(t))return 61;var n=ut.getStreamFromFD(e);return ct.llseek(n,t,r),(_(),B)[i/8]=BigInt(n.position),n.getdents&&0===t&&0===r&&(n.getdents=null),0}catch(e){if(void 0===ct||"ErrnoError"!==e.name)throw e;return e.errno}}var cn=(e,t,r,i)=>{for(var n=0,s=0;s<r;s++){var o=Number((_(),M)[t/8]),a=Number((_(),M)[(t+8)/8]);t+=16;var c=ct.write(e,(_(),N),o,a,i);if(c<0)return-1;if(n+=c,c<a)break;void 0!==i&&(i+=c)}return n};function hn(e,t,r,i){if(o)return de(21,0,1,e,t,r,i);t=Te(t),r=Te(r),i=Te(i);try{var n=ut.getStreamFromFD(e),s=cn(n,t,r);return(_(),M)[i/8]=BigInt(s),0}catch(e){if(void 0===ct||"ErrnoError"!==e.name)throw e;return e.errno}}function un(e){return Te(e)}if(ge.init(),ct.createPreloadedFile=(e,t,r,i,n,s,o,a,c,h)=>{at(e,t,r,i,n,a,c,h).then(s).catch(o)},ct.preloadFile=at,ct.staticInit(),(()=>{let e=Xt.prototype;Object.assign(e,{isAliasOf(e){if(!(this instanceof Xt))return!1;if(!(e instanceof Xt))return!1;var t=this.$$.ptrType.registeredClass,r=this.$$.ptr;e.$$=e.$$;for(var i=e.$$.ptrType.registeredClass,n=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;i.baseClass;)n=i.upcast(n),i=i.baseClass;return t===i&&r===n},clone(){if(this.$$.ptr||Vt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e,t=qt(Object.create(Object.getPrototypeOf(this),{$$:{value:(e=this.$$,{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType})}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t},delete(){this.$$.ptr||Vt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Wt("Object already scheduled for deletion"),jt(this),$t(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Vt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Wt("Object already scheduled for deletion"),Yt.push(this),Yt.length,this.$$.deleteScheduled=!0,this}});const t=Symbol.dispose;t&&(e[t]=e.delete)})(),Object.assign(ur.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor?.(e)},readValueFromPointer:kt,fromWireType:function(e){e=Te(e);var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=((e,t)=>(t=((e,t)=>{for(void 0===t&&Wt("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t})(e,t),cr[t]))(this.registeredClass,t);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var i=r.clone();return this.destructor(e),i}function n(){return this.isSmartPointer?hr(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):hr(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var s,o=this.registeredClass.getActualType(t),a=Qt[o];if(!a)return n.call(this);s=this.isConst?a.constPointerType:a.pointerType;var c=ar(t,this.registeredClass,s.registeredClass);return null===c?n.call(this):this.isSmartPointer?hr(s.registeredClass.instancePrototype,{ptrType:s,ptr:c,smartPtrType:this,smartPtr:e}):hr(s.registeredClass.instancePrototype,{ptrType:s,ptr:c})}}),function(){if(!o){if(t.wasmMemory)ve=t.wasmMemory;else{var e=t.INITIAL_MEMORY||536870912;ve=new WebAssembly.Memory({initial:BigInt(e/65536),maximum:262144n,shared:!0,address:"i64"})}j()}}(),t.noExitRuntime&&(Ee=t.noExitRuntime),t.preloadPlugins&&(ot=t.preloadPlugins),t.print&&(L=t.print),t.printErr&&(I=t.printErr),t.wasmBinary&&(w=t.wasmBinary),t.arguments&&t.arguments,t.thisProgram&&(l=t.thisProgram),t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.shift()();t.addRunDependency=oe,t.removeRunDependency=se,t.FS_preloadFile=at,t.FS_unlink=(...e)=>ct.unlink(...e),t.FS_createPath=(...e)=>ct.createPath(...e),t.FS_createDevice=(...e)=>ct.createDevice(...e),t.FS=ct,t.FS_createDataFile=st,t.FS_createLazyFile=(...e)=>ct.createLazyFile(...e);var ln,dn,pn,fn,vn,mn,gn,yn,bn,wn,Sn,En,xn,Tn,Pn,Nn,Cn,kn,Dn,On,An,Fn,Rn,Bn,Mn,Ln=[pe,fe,He,lt,dt,vt,mt,gt,yt,bt,wt,St,Et,xt,Tt,Ii,tn,rn,nn,on,an,hn];function In(){return t.HEAP8.length}function Wn(e,t,r){var i=ue();try{return we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;return Tn(1,0),0n}}function Un(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;return Tn(1,0),0n}}function _n(e,t){var r=ue();try{we(Number(e))(t)}catch(e){if(le(r),e!==e+0)throw e;Tn(1,0)}}function Hn(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function Gn(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Vn(e,t,r){var i=ue();try{we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;Tn(1,0)}}function zn(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function jn(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function $n(e,t,r){var i=ue();try{return we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;Tn(1,0)}}function qn(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function Yn(e,t,r){var i=ue();try{we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;Tn(1,0)}}function Xn(e){var t=ue();try{we(Number(e))()}catch(e){if(le(t),e!==e+0)throw e;Tn(1,0)}}function Zn(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;return Tn(1,0),0n}}function Qn(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Jn(e,t,r){var i=ue();try{return we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;return Tn(1,0),0n}}function Kn(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function es(e,t,r,i){var n=ue();try{we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function ts(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function rs(e,t){var r=ue();try{return we(Number(e))(t)}catch(e){if(le(r),e!==e+0)throw e;Tn(1,0)}}function is(e,t,r,i){var n=ue();try{we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function ns(e,t,r){var i=ue();try{return we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;Tn(1,0)}}function ss(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function os(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function as(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function cs(e){var t=ue();try{return we(Number(e))()}catch(e){if(le(t),e!==e+0)throw e;return Tn(1,0),0n}}function hs(e,t){var r=ue();try{return we(Number(e))(t)}catch(e){if(le(r),e!==e+0)throw e;return Tn(1,0),0n}}function us(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;return Tn(1,0),0n}}function ls(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function ds(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function ps(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;return Tn(1,0),0n}}function fs(e,t,r,i){var n=ue();try{we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function vs(e,t,r){var i=ue();try{return we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;return Tn(1,0),0n}}function ms(e,t){var r=ue();try{return we(Number(e))(t)}catch(e){if(le(r),e!==e+0)throw e;Tn(1,0)}}function gs(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function ys(e,t){var r=ue();try{return we(Number(e))(t)}catch(e){if(le(r),e!==e+0)throw e;return Tn(1,0),0n}}function bs(e){var t=ue();try{return we(Number(e))()}catch(e){if(le(t),e!==e+0)throw e;Tn(1,0)}}function ws(e,t,r,i){var n=ue();try{we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function Ss(e,t,r){var i=ue();try{return we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;Tn(1,0)}}function Es(e,t,r){var i=ue();try{return we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;Tn(1,0)}}function xs(e,t,r,i){var n=ue();try{we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function Ts(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Ps(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;return Tn(1,0),0n}}function Ns(e,t,r){var i=ue();try{return we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;Tn(1,0)}}function Cs(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;return Tn(1,0),0n}}function ks(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;return Tn(1,0),0n}}function Ds(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function Os(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function As(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Fs(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function Rs(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Bs(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Ms(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;return Tn(1,0),0n}}function Ls(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Is(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Ws(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Us(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function _s(e,t,r){var i=ue();try{we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;Tn(1,0)}}function Hs(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Gs(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Vs(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function zs(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function js(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function $s(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function qs(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Ys(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Xs(e,t,r,i){var n=ue();try{we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function Zs(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Qs(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function Js(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Ks(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function eo(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function to(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function ro(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function io(e,t,r,i){var n=ue();try{we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function no(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function so(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function oo(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function ao(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function co(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function ho(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function uo(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function lo(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function po(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f){var v=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f)}catch(e){if(le(v),e!==e+0)throw e;Tn(1,0)}}function fo(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function vo(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function mo(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function go(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function yo(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function bo(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function wo(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function So(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function Eo(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function xo(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function To(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Po(e,t,r){var i=ue();try{return we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;Tn(1,0)}}function No(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Co(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function ko(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Do(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Oo(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function Ao(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m){var g=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m)}catch(e){if(le(g),e!==e+0)throw e;Tn(1,0)}}function Fo(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function Ro(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g){var y=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g)}catch(e){if(le(y),e!==e+0)throw e;Tn(1,0)}}function Bo(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b){var w=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b)}catch(e){if(le(w),e!==e+0)throw e;Tn(1,0)}}function Mo(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E){var x=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E)}catch(e){if(le(x),e!==e+0)throw e;Tn(1,0)}}function Lo(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N){var C=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N)}catch(e){if(le(C),e!==e+0)throw e;Tn(1,0)}}function Io(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b){var w=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b)}catch(e){if(le(w),e!==e+0)throw e;Tn(1,0)}}function Wo(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function Uo(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v){var m=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v)}catch(e){if(le(m),e!==e+0)throw e;Tn(1,0)}}function _o(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Ho(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function Go(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Vo(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function zo(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function jo(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function $o(e,t,r,i){var n=ue();try{we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function qo(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Yo(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function Xo(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Zo(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;return Tn(1,0),0n}}function Qo(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function Jo(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function Ko(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function ea(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function ta(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v){var m=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v)}catch(e){if(le(m),e!==e+0)throw e;Tn(1,0)}}function ra(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f){var v=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f)}catch(e){if(le(v),e!==e+0)throw e;Tn(1,0)}}function ia(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function na(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function sa(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function oa(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;return Tn(1,0),0n}}function aa(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function ca(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;return Tn(1,0),0n}}function ha(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function ua(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function la(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function da(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function pa(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function fa(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;return Tn(1,0),0n}}function va(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function ma(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function ga(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function ya(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function ba(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function wa(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function Sa(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;return Tn(1,0),0n}}function Ea(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function xa(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Ta(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Pa(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Na(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function Ca(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function ka(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;return Tn(1,0),0n}}function Da(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Oa(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Aa(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function Fa(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Ra(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Ba(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;return Tn(1,0),0n}}function Ma(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;return Tn(1,0),0n}}function La(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Ia(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Wa(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function Ua(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function _a(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;return Tn(1,0),0n}}function Ha(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Ga(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;return Tn(1,0),0n}}function Va(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function za(e,t,r){var i=ue();try{return we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;Tn(1,0)}}function ja(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function $a(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function qa(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Ya(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b){var w=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b)}catch(e){if(le(w),e!==e+0)throw e;Tn(1,0)}}function Xa(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Za(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;return Tn(1,0),0n}}function Qa(e,t,r,i){var n=ue();try{we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function Ja(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Ka(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function ec(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function tc(e,t,r,i){var n=ue();try{we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function rc(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function ic(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;return Tn(1,0),0n}}function nc(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function sc(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function oc(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function ac(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function cc(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function hc(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function uc(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function lc(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function dc(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function pc(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function fc(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function vc(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function mc(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function gc(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function yc(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function bc(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function wc(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Sc(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Ec(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function xc(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Tc(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;return Tn(1,0),0n}}function Pc(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Nc(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;return Tn(1,0),0n}}function Cc(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function kc(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function Dc(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function Oc(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Ac(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Fc(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Rc(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Bc(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Mc(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Lc(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;return Tn(1,0),0n}}function Ic(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f){var v=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f)}catch(e){if(le(v),e!==e+0)throw e;return Tn(1,0),0n}}function Wc(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function Uc(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function _c(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function Hc(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Gc(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function Vc(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function zc(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function jc(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function $c(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function qc(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Yc(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Xc(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Zc(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function Qc(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Jc(e,t,r){var i=ue();try{we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;Tn(1,0)}}function Kc(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function eh(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function th(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function rh(e){var t=ue();try{return we(Number(e))()}catch(e){if(le(t),e!==e+0)throw e;Tn(1,0)}}function ih(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function nh(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function sh(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function oh(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function ah(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function ch(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function hh(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;return Tn(1,0),0n}}function uh(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function lh(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function dh(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function ph(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v){var m=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v)}catch(e){if(le(m),e!==e+0)throw e;Tn(1,0)}}function fh(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b){var w=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b)}catch(e){if(le(w),e!==e+0)throw e;Tn(1,0)}}function vh(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function mh(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function gh(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f){var v=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f)}catch(e){if(le(v),e!==e+0)throw e;Tn(1,0)}}function yh(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g){var y=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g)}catch(e){if(le(y),e!==e+0)throw e;Tn(1,0)}}function bh(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function wh(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function Sh(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Eh(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N){var C=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N)}catch(e){if(le(C),e!==e+0)throw e;Tn(1,0)}}function xh(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;return Tn(1,0),0n}}function Th(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;return Tn(1,0),0n}}function Ph(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;return Tn(1,0),0n}}function Nh(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;return Tn(1,0),0n}}function Ch(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T){var P=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T)}catch(e){if(le(P),e!==e+0)throw e;Tn(1,0)}}function kh(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m){var g=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m)}catch(e){if(le(g),e!==e+0)throw e;Tn(1,0)}}function Dh(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function Oh(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function Ah(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function Fh(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Rh(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Bh(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T){var P=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T)}catch(e){if(le(P),e!==e+0)throw e;return Tn(1,0),0n}}function Mh(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;return Tn(1,0),0n}}function Lh(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Ih(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Wh(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function Uh(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function _h(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;return Tn(1,0),0n}}function Hh(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function Gh(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Vh(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function zh(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function jh(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function $h(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function qh(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function Yh(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function Xh(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Zh(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Qh(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Jh(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Kh(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function eu(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function tu(e,t){var r=ue();try{return we(Number(e))(t)}catch(e){if(le(r),e!==e+0)throw e;Tn(1,0)}}function ru(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function iu(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function nu(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function su(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function ou(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function au(e,t,r,i){var n=ue();try{we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function cu(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function hu(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;return Tn(1,0),0n}}function uu(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;return Tn(1,0),0n}}function lu(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function du(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function pu(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function fu(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function vu(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function mu(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function gu(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function yu(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function bu(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m){var g=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m)}catch(e){if(le(g),e!==e+0)throw e;Tn(1,0)}}function wu(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Su(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Eu(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function xu(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Tu(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function Pu(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v){var m=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v)}catch(e){if(le(m),e!==e+0)throw e;Tn(1,0)}}function Nu(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Cu(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function ku(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function Du(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Ou(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;return Tn(1,0),0n}}function Au(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function Fu(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Ru(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function Bu(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function Mu(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function Lu(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function Iu(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Wu(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Uu(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function _u(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Hu(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Gu(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Vu(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function zu(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function ju(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;return Tn(1,0),0n}}function $u(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function qu(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Yu(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Xu(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Zu(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Qu(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function Ju(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Ku(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function el(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function tl(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function rl(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function il(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function nl(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function sl(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function ol(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;return Tn(1,0),0n}}function al(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;return Tn(1,0),0n}}function cl(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function hl(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function ul(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function ll(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function dl(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;return Tn(1,0),0n}}function pl(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function fl(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function vl(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function ml(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function gl(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;return Tn(1,0),0n}}function yl(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function bl(e,t,r,i){var n=ue();try{we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function wl(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Sl(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function El(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function xl(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;return Tn(1,0),0n}}function Tl(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function Pl(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function Nl(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Cl(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function kl(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Dl(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Ol(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function Al(e,t,r){var i=ue();try{return we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;return Tn(1,0),0n}}function Fl(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Rl(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Bl(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Ml(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Ll(e,t,r){var i=ue();try{return we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;Tn(1,0)}}function Il(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Wl(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Ul(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function _l(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;return Tn(1,0),0n}}function Hl(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Gl(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Vl(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;return Tn(1,0),0n}}function zl(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function jl(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;return Tn(1,0),0n}}function $l(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;return Tn(1,0),0n}}function ql(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function Yl(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f){var v=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f)}catch(e){if(le(v),e!==e+0)throw e;return Tn(1,0),0n}}function Xl(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function Zl(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Ql(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Jl(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Kl(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function ed(e,t,r){var i=ue();try{we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;Tn(1,0)}}function td(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;return Tn(1,0),0n}}function rd(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function id(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function nd(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function sd(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;return Tn(1,0),0n}}function od(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function ad(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function cd(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;return Tn(1,0),0n}}function hd(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function ud(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function ld(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function dd(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;return Tn(1,0),0n}}function pd(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function fd(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function vd(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function md(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function gd(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function yd(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function bd(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function wd(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Sd(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Ed(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function xd(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;return Tn(1,0),0n}}function Td(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Pd(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Nd(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function Cd(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function kd(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;return Tn(1,0),0n}}function Dd(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Od(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function Ad(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;return Tn(1,0),0n}}function Fd(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function Rd(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Bd(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function Md(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Ld(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function Id(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Wd(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function Ud(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function _d(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function Hd(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Gd(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Vd(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function zd(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function jd(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function $d(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function qd(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;return Tn(1,0),0n}}function Yd(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Xd(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function Zd(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Qd(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function Jd(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function Kd(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function ep(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function tp(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function rp(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function ip(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function np(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function sp(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;return Tn(1,0),0n}}function op(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function ap(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function cp(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function hp(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function up(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function lp(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function dp(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function pp(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function fp(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function vp(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function mp(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function gp(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function yp(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function bp(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f){var v=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f)}catch(e){if(le(v),e!==e+0)throw e;Tn(1,0)}}function wp(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function Sp(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Ep(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function xp(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Tp(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Pp(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Np(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Cp(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function kp(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Dp(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function Op(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function Ap(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Fp(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function Rp(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Bp(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Mp(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function Lp(e,t,r,i){var n=ue();try{we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function Ip(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Wp(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Up(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function _p(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Hp(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Gp(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Vp(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function zp(e,t,r){var i=ue();try{return we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;Tn(1,0)}}function jp(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function $p(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function qp(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function Yp(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Xp(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function Zp(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Qp(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function Jp(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Kp(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function ef(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function tf(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function rf(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function nf(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function sf(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;return Tn(1,0),0n}}function of(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function af(e,t,r){var i=ue();try{return we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;Tn(1,0)}}function cf(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function hf(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function uf(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;return Tn(1,0),0n}}function lf(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function df(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function pf(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function ff(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;return Tn(1,0),0n}}function vf(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function mf(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function gf(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function yf(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function bf(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function wf(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Sf(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Ef(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function xf(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Tf(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Pf(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Nf(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Cf(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function kf(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function Df(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Of(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function Af(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Ff(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Rf(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Bf(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function Mf(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function Lf(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function If(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function Wf(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Uf(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function _f(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;return Tn(1,0),0n}}function Hf(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Gf(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Vf(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function zf(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function jf(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function $f(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function qf(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Yf(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Xf(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function Zf(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function Qf(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Jf(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Kf(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function ev(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function tv(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function rv(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;return Tn(1,0),0n}}function iv(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function nv(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function sv(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function ov(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function av(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function cv(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function hv(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function uv(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function lv(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function dv(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function pv(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function fv(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function vv(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function mv(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function gv(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function yv(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function bv(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function wv(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Sv(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Ev(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function xv(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Tv(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;return Tn(1,0),0n}}function Pv(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E){var x=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E)}catch(e){if(le(x),e!==e+0)throw e;Tn(1,0)}}function Nv(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Cv(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function kv(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Dv(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function Ov(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Av(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function Fv(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Rv(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function Bv(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Mv(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Lv(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Iv(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function Wv(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function Uv(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function _v(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Hv(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Gv(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Vv(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function zv(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function jv(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function $v(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function qv(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Yv(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function Xv(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Zv(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Qv(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function Jv(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Kv(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;return Tn(1,0),0n}}function em(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function tm(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function rm(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g){var y=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g)}catch(e){if(le(y),e!==e+0)throw e;return Tn(1,0),0n}}function im(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function nm(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function sm(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function om(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function am(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function cm(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function hm(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function um(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function lm(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function dm(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function pm(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function fm(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function vm(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function mm(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function gm(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function ym(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function bm(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function wm(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Sm(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function Em(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function xm(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Tm(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Pm(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Nm(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Cm(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function km(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Dm(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Om(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Am(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Fm(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Rm(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Bm(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Mm(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Lm(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Im(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function Wm(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function Um(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function _m(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Hm(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Gm(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Vm(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function zm(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function jm(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function $m(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function qm(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Ym(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Xm(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Zm(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Qm(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function Jm(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Km(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function eg(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function tg(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function rg(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function ig(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function ng(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function sg(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function og(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function ag(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function cg(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f){var v=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f)}catch(e){if(le(v),e!==e+0)throw e;Tn(1,0)}}function hg(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function ug(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function lg(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function dg(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function pg(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function fg(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function vg(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function mg(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function gg(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function yg(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function bg(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function wg(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Sg(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Eg(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function xg(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Tg(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Pg(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Ng(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Cg(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function kg(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function Dg(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Og(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Ag(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;return Tn(1,0),0n}}function Fg(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Rg(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Bg(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Mg(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Lg(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Ig(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Wg(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Ug(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function _g(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Hg(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Gg(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Vg(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function zg(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function jg(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function $g(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function qg(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function Yg(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Xg(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Zg(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Qg(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function Jg(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Kg(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function ey(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function ty(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function ry(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;return Tn(1,0),0n}}function iy(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function ny(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function sy(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;return Tn(1,0),0n}}function oy(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function ay(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function cy(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function hy(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;return Tn(1,0),0n}}function uy(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P){var N=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P)}catch(e){if(le(N),e!==e+0)throw e;return Tn(1,0),0n}}function ly(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function dy(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;return Tn(1,0),0n}}function py(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function fy(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function vy(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;return Tn(1,0),0n}}function my(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;return Tn(1,0),0n}}function gy(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;return Tn(1,0),0n}}function yy(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function by(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function wy(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Sy(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Ey(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function xy(e,t,r){var i=ue();try{return we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;Tn(1,0)}}function Ty(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f){var v=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f)}catch(e){if(le(v),e!==e+0)throw e;return Tn(1,0),0n}}function Py(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function Ny(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Cy(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function ky(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Dy(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function Oy(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Ay(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function Fy(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function Ry(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function By(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function My(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Ly(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function Iy(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function Wy(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Uy(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function _y(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Hy(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g){var y=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g)}catch(e){if(le(y),e!==e+0)throw e;Tn(1,0)}}function Gy(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function Vy(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function zy(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function jy(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function $y(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function qy(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function Yy(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Xy(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v){var m=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v)}catch(e){if(le(m),e!==e+0)throw e;Tn(1,0)}}function Zy(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x){var T=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x)}catch(e){if(le(T),e!==e+0)throw e;Tn(1,0)}}function Qy(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;return Tn(1,0),0n}}function Jy(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function Ky(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;return Tn(1,0),0n}}function eb(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function tb(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function rb(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function ib(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w){var S=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w)}catch(e){if(le(S),e!==e+0)throw e;Tn(1,0)}}function nb(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E){var x=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E)}catch(e){if(le(x),e!==e+0)throw e;Tn(1,0)}}function sb(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function ob(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function ab(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function cb(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b){var w=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b)}catch(e){if(le(w),e!==e+0)throw e;Tn(1,0)}}function hb(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C,k,D,O,A){var F=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C,k,D,O,A)}catch(e){if(le(F),e!==e+0)throw e;Tn(1,0)}}function ub(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C,k,D,O,A,F){var R=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C,k,D,O,A,F)}catch(e){if(le(R),e!==e+0)throw e;Tn(1,0)}}function lb(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P){var N=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P)}catch(e){if(le(N),e!==e+0)throw e;Tn(1,0)}}function db(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N){var C=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N)}catch(e){if(le(C),e!==e+0)throw e;Tn(1,0)}}function pb(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P){var N=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P)}catch(e){if(le(N),e!==e+0)throw e;Tn(1,0)}}function fb(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N){var C=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N)}catch(e){if(le(C),e!==e+0)throw e;Tn(1,0)}}function vb(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C,k,D,O,A,F){var R=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C,k,D,O,A,F)}catch(e){if(le(R),e!==e+0)throw e;Tn(1,0)}}function mb(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function gb(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function yb(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function bb(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function wb(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function Sb(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v){var m=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v)}catch(e){if(le(m),e!==e+0)throw e;Tn(1,0)}}function Eb(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function xb(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v){var m=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v)}catch(e){if(le(m),e!==e+0)throw e;Tn(1,0)}}function Tb(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Pb(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Nb(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Cb(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function kb(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Db(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Ob(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Ab(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Fb(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function Rb(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Bb(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Mb(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function Lb(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Ib(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Wb(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Ub(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function _b(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function Hb(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function Gb(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function Vb(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function zb(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;return Tn(1,0),0n}}function jb(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function $b(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function qb(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Yb(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Xb(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m){var g=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m)}catch(e){if(le(g),e!==e+0)throw e;Tn(1,0)}}function Zb(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f){var v=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f)}catch(e){if(le(v),e!==e+0)throw e;Tn(1,0)}}function Qb(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g){var y=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g)}catch(e){if(le(y),e!==e+0)throw e;Tn(1,0)}}function Jb(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f){var v=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f)}catch(e){if(le(v),e!==e+0)throw e;Tn(1,0)}}function Kb(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function ew(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function tw(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function rw(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function iw(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function nw(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function sw(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function ow(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function aw(e,t,r){var i=ue();try{return we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;Tn(1,0)}}function cw(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function hw(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function uw(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function lw(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;return Tn(1,0),0n}}function dw(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function pw(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function fw(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function vw(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function mw(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function gw(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function yw(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function bw(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function ww(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function Sw(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Ew(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function xw(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Tw(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function Pw(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Nw(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Cw(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function kw(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Dw(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function Ow(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;return Tn(1,0),0n}}function Aw(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Fw(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Rw(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Bw(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Mw(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Lw(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Iw(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Ww(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Uw(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function _w(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function Hw(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Gw(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T){var P=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T)}catch(e){if(le(P),e!==e+0)throw e;Tn(1,0)}}function Vw(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function zw(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function jw(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function $w(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C,k,D){var O=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C,k,D)}catch(e){if(le(O),e!==e+0)throw e;Tn(1,0)}}function qw(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Yw(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m){var g=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m)}catch(e){if(le(g),e!==e+0)throw e;Tn(1,0)}}function Xw(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Zw(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function Qw(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function Jw(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function Kw(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b){var w=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b)}catch(e){if(le(w),e!==e+0)throw e;Tn(1,0)}}function eS(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m){var g=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m)}catch(e){if(le(g),e!==e+0)throw e;Tn(1,0)}}function tS(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function rS(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b){var w=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b)}catch(e){if(le(w),e!==e+0)throw e;Tn(1,0)}}function iS(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C,k){var D=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C,k)}catch(e){if(le(D),e!==e+0)throw e;Tn(1,0)}}function nS(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C,k){var D=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C,k)}catch(e){if(le(D),e!==e+0)throw e;Tn(1,0)}}function sS(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function oS(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C,k,D,O,A,F){var R=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C,k,D,O,A,F)}catch(e){if(le(R),e!==e+0)throw e;Tn(1,0)}}function aS(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function cS(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C){var k=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C)}catch(e){if(le(k),e!==e+0)throw e;Tn(1,0)}}function hS(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function uS(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C,k,D,O,A){var F=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C,k,D,O,A)}catch(e){if(le(F),e!==e+0)throw e;Tn(1,0)}}function lS(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function dS(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function pS(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f){var v=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f)}catch(e){if(le(v),e!==e+0)throw e;Tn(1,0)}}function fS(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function vS(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function mS(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function gS(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function yS(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function bS(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function wS(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function SS(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;return Tn(1,0),0n}}function ES(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function xS(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function TS(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function PS(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m){var g=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m)}catch(e){if(le(g),e!==e+0)throw e;Tn(1,0)}}function NS(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function CS(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function kS(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function DS(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function OS(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;return Tn(1,0),0n}}function AS(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function FS(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function RS(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function BS(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function MS(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function LS(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function IS(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f){var v=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f)}catch(e){if(le(v),e!==e+0)throw e;Tn(1,0)}}function WS(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function US(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function _S(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function HS(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function GS(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function VS(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function zS(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function jS(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function $S(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function qS(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function YS(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function XS(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function ZS(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function QS(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function JS(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function KS(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function eE(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;return Tn(1,0),0n}}function tE(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function rE(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;return Tn(1,0),0n}}function iE(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function nE(e,t,r){var i=ue();try{return we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;Tn(1,0)}}function sE(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function oE(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function aE(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function cE(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function hE(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;return Tn(1,0),0n}}function uE(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function lE(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function dE(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function pE(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function fE(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function vE(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function mE(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function gE(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function yE(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function bE(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f){var v=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f)}catch(e){if(le(v),e!==e+0)throw e;Tn(1,0)}}function wE(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function SE(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function EE(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function xE(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function TE(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function PE(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function NE(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function CE(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function kE(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b){var w=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b)}catch(e){if(le(w),e!==e+0)throw e;Tn(1,0)}}function DE(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function OE(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function AE(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function FE(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function RE(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function BE(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function ME(e,t,r,i,n){var s=ue();try{we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function LE(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;return Tn(1,0),0n}}function IE(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function WE(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f){var v=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f)}catch(e){if(le(v),e!==e+0)throw e;Tn(1,0)}}function UE(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function _E(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;return Tn(1,0),0n}}function HE(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function GE(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function VE(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function zE(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function jE(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function $E(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function qE(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function YE(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function XE(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function ZE(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function QE(e,t){var r=ue();try{return we(Number(e))(t)}catch(e){if(le(r),e!==e+0)throw e;Tn(1,0)}}function JE(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function KE(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function ex(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function tx(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function rx(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function ix(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function nx(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function sx(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function ox(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function ax(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function cx(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function hx(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function ux(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function lx(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function dx(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function px(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v){var m=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v)}catch(e){if(le(m),e!==e+0)throw e;Tn(1,0)}}function fx(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function vx(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function mx(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function gx(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function yx(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function bx(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function wx(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Sx(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function Ex(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function xx(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function Tx(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function Px(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Nx(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f){var v=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f)}catch(e){if(le(v),e!==e+0)throw e;Tn(1,0)}}function Cx(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function kx(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function Dx(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Ox(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Ax(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function Fx(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function Rx(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function Bx(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Mx(e,t,r,i,n,s){var o=ue();try{we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function Lx(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function Ix(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Wx(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function Ux(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function _x(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function Hx(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function Gx(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function Vx(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function zx(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w){var S=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w)}catch(e){if(le(S),e!==e+0)throw e;Tn(1,0)}}function jx(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f){var v=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f)}catch(e){if(le(v),e!==e+0)throw e;Tn(1,0)}}function $x(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E){var x=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E)}catch(e){if(le(x),e!==e+0)throw e;Tn(1,0)}}function qx(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function Yx(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g){var y=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g)}catch(e){if(le(y),e!==e+0)throw e;Tn(1,0)}}function Xx(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m){var g=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m)}catch(e){if(le(g),e!==e+0)throw e;Tn(1,0)}}function Zx(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y){var b=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y)}catch(e){if(le(b),e!==e+0)throw e;Tn(1,0)}}function Qx(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N){var C=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N)}catch(e){if(le(C),e!==e+0)throw e;Tn(1,0)}}function Jx(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T){var P=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T)}catch(e){if(le(P),e!==e+0)throw e;Tn(1,0)}}function Kx(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function eT(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function tT(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x){var T=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x)}catch(e){if(le(T),e!==e+0)throw e;Tn(1,0)}}function rT(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function iT(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E){var x=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E)}catch(e){if(le(x),e!==e+0)throw e;Tn(1,0)}}function nT(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function sT(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function oT(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function aT(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g){var y=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g)}catch(e){if(le(y),e!==e+0)throw e;Tn(1,0)}}function cT(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function hT(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function uT(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C,k,D,O,A,F,R,B,M,L,I,W){var U=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C,k,D,O,A,F,R,B,M,L,I,W)}catch(e){if(le(U),e!==e+0)throw e;Tn(1,0)}}function lT(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P){var N=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P)}catch(e){if(le(N),e!==e+0)throw e;Tn(1,0)}}function dT(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C){var k=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C)}catch(e){if(le(k),e!==e+0)throw e;Tn(1,0)}}function pT(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function fT(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function vT(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function mT(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function gT(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function yT(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function bT(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function wT(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function ST(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function ET(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function xT(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E){var x=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E)}catch(e){if(le(x),e!==e+0)throw e;Tn(1,0)}}function TT(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E){var x=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E)}catch(e){if(le(x),e!==e+0)throw e;Tn(1,0)}}function PT(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function NT(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function CT(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function kT(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function DT(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y){var b=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y)}catch(e){if(le(b),e!==e+0)throw e;Tn(1,0)}}function OT(e,t,r){var i=ue();try{return we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;return Tn(1,0),0n}}function AT(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function FT(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function RT(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function BT(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function MT(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function LT(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function IT(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function WT(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function UT(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m){var g=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m)}catch(e){if(le(g),e!==e+0)throw e;Tn(1,0)}}function _T(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function HT(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function GT(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C){var k=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C)}catch(e){if(le(k),e!==e+0)throw e;Tn(1,0)}}function VT(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function zT(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function jT(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;Tn(1,0)}}function $T(e,t,r,i,n,s,o,a,c){var h=ue();try{we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function qT(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function YT(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function XT(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f){var v=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f)}catch(e){if(le(v),e!==e+0)throw e;Tn(1,0)}}function ZT(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function QT(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function JT(e,t,r,i,n,s,o,a,c,h){var u=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function KT(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x){var T=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x)}catch(e){if(le(T),e!==e+0)throw e;Tn(1,0)}}function eP(e,t){var r=ue();try{we(Number(e))(t)}catch(e){if(le(r),e!==e+0)throw e;Tn(1,0)}}function tP(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function rP(e,t,r,i,n,s,o,a){var c=ue();try{we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;Tn(1,0)}}function iP(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;return Tn(1,0),0n}}function nP(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function sP(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;Tn(1,0)}}function oP(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function aP(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;Tn(1,0)}}function cP(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function hP(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function uP(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function lP(e,t,r,i,n,s,o,a,c,h,u,l,d){var p=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d)}catch(e){if(le(p),e!==e+0)throw e;Tn(1,0)}}function dP(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function pP(e,t,r,i,n,s,o,a,c){var h=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c)}catch(e){if(le(h),e!==e+0)throw e;Tn(1,0)}}function fP(e,t,r,i,n,s,o,a,c,h,u,l,d,p){var f=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p)}catch(e){if(le(f),e!==e+0)throw e;return Tn(1,0),0n}}function vP(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function mP(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function gP(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function yP(e,t,r){var i=ue();try{return we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;return Tn(1,0),0n}}function bP(e,t,r){var i=ue();try{return we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;Tn(1,0)}}function wP(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function SP(e,t,r,i,n,s,o,a){var c=ue();try{return we(Number(e))(t,r,i,n,s,o,a)}catch(e){if(le(c),e!==e+0)throw e;return Tn(1,0),0n}}function EP(e,t,r,i,n){var s=ue();try{return we(Number(e))(t,r,i,n)}catch(e){if(le(s),e!==e+0)throw e;return Tn(1,0),0n}}function xP(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function TP(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;return Tn(1,0),0n}}function PP(e,t,r,i,n,s){var o=ue();try{return we(Number(e))(t,r,i,n,s)}catch(e){if(le(o),e!==e+0)throw e;Tn(1,0)}}function NP(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E){var x=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E)}catch(e){if(le(x),e!==e+0)throw e;Tn(1,0)}}function CP(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S){var E=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S)}catch(e){if(le(E),e!==e+0)throw e;Tn(1,0)}}function kP(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;return Tn(1,0),0n}}function DP(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function OP(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function AP(e,t,r){var i=ue();try{return we(Number(e))(t,r)}catch(e){if(le(i),e!==e+0)throw e;Tn(1,0)}}function FP(e,t,r,i,n,s,o){var a=ue();try{we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;Tn(1,0)}}function RP(e,t,r,i,n,s,o){var a=ue();try{return we(Number(e))(t,r,i,n,s,o)}catch(e){if(le(a),e!==e+0)throw e;return Tn(1,0),0n}}function BP(e,t,r,i,n,s,o,a,c,h){var u=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h)}catch(e){if(le(u),e!==e+0)throw e;return Tn(1,0),0n}}function MP(e,t,r,i){var n=ue();try{return we(Number(e))(t,r,i)}catch(e){if(le(n),e!==e+0)throw e;Tn(1,0)}}function LP(e,t,r,i,n,s,o,a,c,h,u,l){var d=ue();try{return we(Number(e))(t,r,i,n,s,o,a,c,h,u,l)}catch(e){if(le(d),e!==e+0)throw e;Tn(1,0)}}function IP(e,t,r,i,n,s,o,a,c,h,u){var l=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u)}catch(e){if(le(l),e!==e+0)throw e;Tn(1,0)}}function WP(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v){var m=ue();try{we(Number(e))(t,r,i,n,s,o,a,c,h,u,l,d,p,f,v)}catch(e){if(le(m),e!==e+0)throw e;Tn(1,0)}}function UP(){if(ie>0)ne=UP;else{if(o)return x?.(t),void $();!function(){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)re(t.preRun.shift());ee(te)}(),ie>0?ne=UP:t.setStatus?(t.setStatus("Running..."),setTimeout((()=>{setTimeout((()=>t.setStatus("")),1),e()}),1)):e()}function e(){t.calledRun=!0,W||($(),x?.(t),t.onRuntimeInitialized?.(),function(){if(!o){if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;)be(t.postRun.shift());ee(ye)}}())}}return o||(Mn=await Z(),UP()),z?t:new Promise(((e,t)=>{x=e,T=t}))}r.d(t,{A:()=>o});const o=s;var n=globalThis.self?.name?.startsWith("em-pthread");globalThis.process?.versions?.node&&"renderer"!=globalThis.process?.type&&(n="em-pthread"===(await Promise.resolve().then(r.t.bind(r,693,23))).workerData),n&&s(),i()}catch(a){i(a)}}),1)},154:(e,t,r)=>{r.d(t,{G0:()=>i,vk:()=>te,G6:()=>j,$9:()=>re,yd:()=>a,V0:()=>c});var i={};r.r(i),r.d(i,{Base:()=>s.C6,Color:()=>o.Q1,Dates:()=>o.AO,IO:()=>o.IO,Line:()=>o.N1,Lists:()=>o.Q8,Logic:()=>o.V2,Math:()=>o.zU,Mesh:()=>o.e,OCCT:()=>n,Point:()=>o.bR,Polyline:()=>o.Ro,Text:()=>o.EY,Transforms:()=>o.gB,Vector:()=>o.Mi});var n,s=r(975);!function(e){let t,r,i,n,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T;!function(e){e.arc="arc",e.intersection="intersection",e.tangent="tangent"}(t=e.joinTypeEnum||(e.joinTypeEnum={})),function(e){e.skin="skin",e.pipe="pipe",e.rectoVerso="rectoVerso"}(r=e.bRepOffsetModeEnum||(e.bRepOffsetModeEnum={})),function(e){e.approxChordLength="approxChordLength",e.approxCentripetal="approxCentripetal",e.approxIsoParametric="approxIsoParametric"}(i=e.approxParametrizationTypeEnum||(e.approxParametrizationTypeEnum={})),function(e){e.outside="outside",e.inside="inside",e.middle="middle"}(n=e.directionEnum||(e.directionEnum={})),function(e){e.iges="iges",e.step="step"}(o=e.fileTypeEnum||(e.fileTypeEnum={})),function(e){e.forward="forward",e.reversed="reversed",e.internal="internal",e.external="external"}(a=e.topAbsOrientationEnum||(e.topAbsOrientationEnum={})),function(e){e.in="in",e.out="out",e.on="on",e.unknown="unknown"}(c=e.topAbsStateEnum||(e.topAbsStateEnum={})),function(e){e.unknown="unknown",e.vertex="vertex",e.edge="edge",e.wire="wire",e.face="face",e.shell="shell",e.solid="solid",e.compSolid="compSolid",e.compound="compound",e.shape="shape"}(h=e.shapeTypeEnum||(e.shapeTypeEnum={})),function(e){e.unqualified="unqualified",e.enclosing="enclosing",e.enclosed="enclosed",e.outside="outside",e.noqualifier="noqualifier"}(u=e.gccEntPositionEnum||(e.gccEntPositionEnum={})),function(e){e.keepSide1="keepSide1",e.keepSide2="keepSide2",e.all="all"}(l=e.positionResultEnum||(e.positionResultEnum={})),function(e){e.none="none",e.keepSide1="keepSide1",e.keepSide2="keepSide2"}(d=e.circleInclusionEnum||(e.circleInclusionEnum={})),function(e){e.none="none",e.outside="outside",e.inside="inside",e.outsideInside="outsideInside",e.insideOutside="insideOutside"}(p=e.twoCircleInclusionEnum||(e.twoCircleInclusionEnum={})),function(e){e.outside="outside",e.inside="inside",e.outsideInside="outsideInside",e.insideOutside="insideOutside"}(f=e.fourSidesStrictEnum||(e.fourSidesStrictEnum={})),function(e){e.outside="outside",e.inside="inside"}(v=e.twoSidesStrictEnum||(e.twoSidesStrictEnum={})),function(e){e.allWithAll="allWithAll",e.inOrder="inOrder",e.inOrderClosed="inOrderClosed"}(m=e.combinationCirclesForFaceEnum||(e.combinationCirclesForFaceEnum={})),function(e){e[e.curve=0]="curve",e[e.edge=1]="edge",e[e.wire=2]="wire",e[e.face=3]="face"}(g=e.typeSpecificityEnum||(e.typeSpecificityEnum={})),function(e){e.all="all",e.closest="closest",e.furthest="furthest",e.closestAndFurthest="closestAndFurthest"}(y=e.pointProjectionTypeEnum||(e.pointProjectionTypeEnum={})),function(e){e.isCorrectedFrenet="isCorrectedFrenet",e.isFixed="isFixed",e.isFrenet="isFrenet",e.isConstantNormal="isConstantNormal",e.isDarboux="isDarboux",e.isGuideAC="isGuideAC",e.isGuidePlan="isGuidePlan",e.isGuideACWithContact="isGuideACWithContact",e.isGuidePlanWithContact="isGuidePlanWithContact",e.isDiscreteTrihedron="isDiscreteTrihedron"}(b=e.geomFillTrihedronEnum||(e.geomFillTrihedronEnum={})),function(e){e.aci="aci",e.truecolor="truecolor"}(w=e.dxfColorFormatEnum||(e.dxfColorFormatEnum={})),function(e){e.AC1009="AC1009",e.AC1015="AC1015"}(S=e.dxfAcadVersionEnum||(e.dxfAcadVersionEnum={})),function(e){e.none="none",e.arrow="arrow"}(E=e.dimensionEndTypeEnum||(e.dimensionEndTypeEnum={})),e.DecomposedMeshDto=class{constructor(e,t){void 0!==e&&(this.faceList=e),void 0!==t&&(this.edgeList=t)}},e.DecomposedFaceDto=class{},e.DecomposedEdgeDto=class{},e.ShapesDto=class{constructor(e){void 0!==e&&(this.shapes=e)}},e.PointDto=class{constructor(e){this.point=[0,0,0],void 0!==e&&(this.point=e)}},e.XYZDto=class{constructor(e,t,r){void 0!==e&&(this.x=e),void 0!==t&&(this.y=t),void 0!==r&&(this.z=r)}},e.PointsDto=class{constructor(e){void 0!==e&&(this.points=e)}},e.ConstraintTanLinesFromPtToCircleDto=class{constructor(e,t,r,i,n){this.tolerance=1e-7,this.positionResult=l.all,this.circleRemainder=d.none,void 0!==e&&(this.circle=e),void 0!==t&&(this.point=t),void 0!==r&&(this.tolerance=r),void 0!==i&&(this.positionResult=i),void 0!==n&&(this.circleRemainder=n)}},e.ConstraintTanLinesFromTwoPtsToCircleDto=class{constructor(e,t,r,i,n,s){this.tolerance=1e-7,this.positionResult=l.all,this.circleRemainder=d.none,void 0!==e&&(this.circle=e),void 0!==t&&(this.point1=t),void 0!==r&&(this.point1=r),void 0!==i&&(this.tolerance=i),void 0!==n&&(this.positionResult=n),void 0!==s&&(this.circleRemainder=s)}},e.ConstraintTanLinesOnTwoCirclesDto=class{constructor(e,t,r,i,n){this.tolerance=1e-7,this.positionResult=l.all,this.circleRemainders=p.none,void 0!==e&&(this.circle1=e),void 0!==t&&(this.circle2=t),void 0!==r&&(this.tolerance=r),void 0!==i&&(this.positionResult=i),void 0!==n&&(this.circleRemainders=n)}},e.ConstraintTanCirclesOnTwoCirclesDto=class{constructor(e,t,r,i){this.tolerance=1e-7,this.radius=.3,void 0!==e&&(this.circle1=e),void 0!==t&&(this.circle2=t),void 0!==r&&(this.tolerance=r),void 0!==i&&(this.radius=i)}},e.ConstraintTanCirclesOnCircleAndPntDto=class{constructor(e,t,r,i){this.tolerance=1e-7,this.radius=.3,void 0!==e&&(this.circle=e),void 0!==t&&(this.point=t),void 0!==r&&(this.tolerance=r),void 0!==i&&(this.radius=i)}},e.CurveAndSurfaceDto=class{constructor(e,t){void 0!==e&&(this.curve=e),void 0!==t&&(this.surface=t)}},e.FilletTwoEdgesInPlaneDto=class{constructor(e,t,r,i,n,s){this.planeOrigin=[0,0,0],this.planeDirection=[0,1,0],this.radius=.3,this.solution=-1,void 0!==e&&(this.edge1=e),void 0!==t&&(this.edge2=t),void 0!==r&&(this.planeOrigin=r),void 0!==i&&(this.planeDirection=i),void 0!==n&&(this.radius=n),void 0!==s&&(this.solution=s)}},e.ClosestPointsOnShapeFromPointsDto=class{constructor(e,t){void 0!==e&&(this.shape=e),void 0!==t&&(this.points=t)}},e.BoundingBoxDto=class{constructor(e){void 0!==e&&(this.bbox=e)}},e.BoundingBoxPropsDto=class{constructor(e,t,r,i){this.min=[0,0,0],this.max=[0,0,0],this.center=[0,0,0],this.size=[0,0,0],void 0!==e&&(this.min=e),void 0!==t&&(this.max=t),void 0!==r&&(this.center=r),void 0!==i&&(this.size=i)}},e.BoundingSpherePropsDto=class{constructor(e,t){this.center=[0,0,0],this.radius=0,void 0!==e&&(this.center=e),void 0!==t&&(this.radius=t)}},e.SplitWireOnPointsDto=class{constructor(e,t){void 0!==e&&(this.shape=e),void 0!==t&&(this.points=t)}},e.ClosestPointsOnShapesFromPointsDto=class{constructor(e,t){void 0!==e&&(this.shapes=e),void 0!==t&&(this.points=t)}},e.ClosestPointsBetweenTwoShapesDto=class{constructor(e,t){void 0!==e&&(this.shape1=e),void 0!==t&&(this.shape2=t)}},e.FaceFromSurfaceAndWireDto=class{constructor(e,t,r){this.inside=!0,void 0!==e&&(this.surface=e),void 0!==t&&(this.wire=t),void 0!==r&&(this.inside=r)}},e.WireOnFaceDto=class{constructor(e,t){void 0!==e&&(this.wire=e),void 0!==t&&(this.face=t)}},e.DrawShapeDto=class{constructor(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S){this.faceOpacity=1,this.edgeOpacity=1,this.edgeColour="#ffffff",this.faceColour="#ff0000",this.edgeWidth=2,this.drawEdges=!0,this.drawFaces=!0,this.drawVertices=!1,this.vertexColour="#ffaaff",this.vertexSize=.03,this.precision=.01,this.drawEdgeIndexes=!1,this.edgeIndexHeight=.06,this.edgeIndexColour="#ff00ff",this.drawFaceIndexes=!1,this.faceIndexHeight=.06,this.faceIndexColour="#0000ff",this.drawTwoSided=!0,this.backFaceColour="#0000ff",this.backFaceOpacity=1,void 0!==e&&(this.shape=e),void 0!==t&&(this.faceOpacity=t),void 0!==r&&(this.edgeOpacity=r),void 0!==i&&(this.edgeColour=i),void 0!==n&&(this.faceMaterial=n),void 0!==s&&(this.faceColour=s),void 0!==u&&(this.vertexColour=u),void 0!==l&&(this.vertexSize=l),void 0!==o&&(this.edgeWidth=o),void 0!==a&&(this.drawEdges=a),void 0!==c&&(this.drawFaces=c),void 0!==h&&(this.drawVertices=h),void 0!==d&&(this.precision=d),void 0!==p&&(this.drawEdgeIndexes=p),void 0!==f&&(this.edgeIndexHeight=f),void 0!==v&&(this.edgeIndexColour=v),void 0!==m&&(this.drawFaceIndexes=m),void 0!==g&&(this.faceIndexHeight=g),void 0!==y&&(this.faceIndexColour=y),void 0!==b&&(this.drawTwoSided=b),void 0!==w&&(this.backFaceColour=w),void 0!==S&&(this.backFaceOpacity=S)}},e.DrawShapesDto=class{constructor(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S){this.faceOpacity=1,this.edgeOpacity=1,this.edgeColour="#ffffff",this.faceColour="#ff0000",this.edgeWidth=2,this.drawEdges=!0,this.drawFaces=!0,this.drawVertices=!1,this.vertexColour="#ffaaff",this.vertexSize=.03,this.precision=.01,this.drawEdgeIndexes=!1,this.edgeIndexHeight=.06,this.edgeIndexColour="#ff00ff",this.drawFaceIndexes=!1,this.faceIndexHeight=.06,this.faceIndexColour="#0000ff",this.drawTwoSided=!0,this.backFaceColour="#0000ff",this.backFaceOpacity=1,void 0!==e&&(this.shapes=e),void 0!==t&&(this.faceOpacity=t),void 0!==r&&(this.edgeOpacity=r),void 0!==i&&(this.edgeColour=i),void 0!==n&&(this.faceMaterial=n),void 0!==s&&(this.faceColour=s),void 0!==u&&(this.vertexColour=u),void 0!==l&&(this.vertexSize=l),void 0!==o&&(this.edgeWidth=o),void 0!==a&&(this.drawEdges=a),void 0!==c&&(this.drawFaces=c),void 0!==h&&(this.drawVertices=h),void 0!==d&&(this.precision=d),void 0!==p&&(this.drawEdgeIndexes=p),void 0!==f&&(this.edgeIndexHeight=f),void 0!==v&&(this.edgeIndexColour=v),void 0!==m&&(this.drawFaceIndexes=m),void 0!==g&&(this.faceIndexHeight=g),void 0!==y&&(this.faceIndexColour=y),void 0!==b&&(this.drawTwoSided=b),void 0!==w&&(this.backFaceColour=w),void 0!==S&&(this.backFaceOpacity=S)}},e.FaceSubdivisionDto=class{constructor(e,t,r,i,n,s,o,a,c){this.nrDivisionsU=10,this.nrDivisionsV=10,this.shiftHalfStepU=!1,this.removeStartEdgeU=!1,this.removeEndEdgeU=!1,this.shiftHalfStepV=!1,this.removeStartEdgeV=!1,this.removeEndEdgeV=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.nrDivisionsU=t),void 0!==r&&(this.nrDivisionsV=r),void 0!==i&&(this.shiftHalfStepU=i),void 0!==n&&(this.removeStartEdgeU=n),void 0!==s&&(this.removeEndEdgeU=s),void 0!==o&&(this.shiftHalfStepV=o),void 0!==a&&(this.removeStartEdgeV=a),void 0!==c&&(this.removeEndEdgeV=c)}},e.FaceSubdivisionToWiresDto=class{constructor(e,t,r,i,n,s){this.nrDivisions=10,this.isU=!0,this.shiftHalfStep=!1,this.removeStart=!1,this.removeEnd=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.nrDivisions=t),void 0!==r&&(this.isU=r),void 0!==i&&(this.shiftHalfStep=i),void 0!==n&&(this.removeStart=n),void 0!==s&&(this.removeEnd=s)}},e.FaceSubdivideToRectangleWiresDto=class{constructor(e,t,r,i,n,s,o,a,c){this.nrRectanglesU=10,this.nrRectanglesV=10,this.offsetFromBorderU=0,this.offsetFromBorderV=0,void 0!==e&&(this.shape=e),void 0!==t&&(this.nrRectanglesU=t),void 0!==r&&(this.nrRectanglesU=r),void 0!==i&&(this.scalePatternU=i),void 0!==n&&(this.scalePatternV=n),void 0!==s&&(this.filletPattern=s),void 0!==o&&(this.inclusionPattern=o),void 0!==a&&(this.offsetFromBorderU=a),void 0!==c&&(this.offsetFromBorderV=c)}},e.FaceSubdivideToHexagonWiresDto=class{constructor(e,t,r,i,n,s,o,a,c,h,u,l,d,p){this.nrHexagonsU=10,this.nrHexagonsV=10,this.flatU=!1,this.offsetFromBorderU=0,this.offsetFromBorderV=0,this.extendUUp=!1,this.extendUBottom=!1,this.extendVUp=!1,this.extendVBottom=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.nrHexagonsU=t),void 0!==r&&(this.nrHexagonsU=r),void 0!==i&&(this.flatU=i),void 0!==n&&(this.scalePatternU=n),void 0!==s&&(this.scalePatternV=s),void 0!==o&&(this.filletPattern=o),void 0!==a&&(this.inclusionPattern=a),void 0!==c&&(this.offsetFromBorderU=c),void 0!==h&&(this.offsetFromBorderV=h),void 0!==u&&(this.extendUUp=u),void 0!==l&&(this.extendUBottom=l),void 0!==d&&(this.extendVUp=d),void 0!==p&&(this.extendVBottom=p)}},e.FaceSubdivideToHexagonHolesDto=class{constructor(e,t,r,i,n,s,o,a,c,h,u){this.nrHexagonsU=10,this.nrHexagonsV=10,this.flatU=!1,this.holesToFaces=!1,this.offsetFromBorderU=0,this.offsetFromBorderV=0,void 0!==e&&(this.shape=e),void 0!==t&&(this.nrHexagonsU=t),void 0!==r&&(this.nrHexagonsU=r),void 0!==i&&(this.flatU=i),void 0!==n&&(this.holesToFaces=n),void 0!==s&&(this.scalePatternU=s),void 0!==o&&(this.scalePatternV=o),void 0!==a&&(this.filletPattern=a),void 0!==c&&(this.inclusionPattern=c),void 0!==h&&(this.offsetFromBorderU=h),void 0!==u&&(this.offsetFromBorderV=u)}},e.FaceSubdivideToRectangleHolesDto=class{constructor(e,t,r,i,n,s,o,a,c,h){this.nrRectanglesU=10,this.nrRectanglesV=10,this.holesToFaces=!1,this.offsetFromBorderU=0,this.offsetFromBorderV=0,void 0!==e&&(this.shape=e),void 0!==t&&(this.nrRectanglesU=t),void 0!==r&&(this.nrRectanglesU=r),void 0!==i&&(this.scalePatternU=i),void 0!==n&&(this.scalePatternV=n),void 0!==s&&(this.filletPattern=s),void 0!==o&&(this.inclusionPattern=o),void 0!==a&&(this.holesToFaces=a),void 0!==c&&(this.offsetFromBorderU=c),void 0!==h&&(this.offsetFromBorderV=h)}},e.FaceSubdivisionControlledDto=class{constructor(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f){this.nrDivisionsU=10,this.nrDivisionsV=10,this.shiftHalfStepNthU=0,this.shiftHalfStepUOffsetN=0,this.removeStartEdgeNthU=0,this.removeStartEdgeUOffsetN=0,this.removeEndEdgeNthU=0,this.removeEndEdgeUOffsetN=0,this.shiftHalfStepNthV=0,this.shiftHalfStepVOffsetN=0,this.removeStartEdgeNthV=0,this.removeStartEdgeVOffsetN=0,this.removeEndEdgeNthV=0,this.removeEndEdgeVOffsetN=0,void 0!==e&&(this.shape=e),void 0!==t&&(this.nrDivisionsU=t),void 0!==r&&(this.nrDivisionsV=r),void 0!==i&&(this.shiftHalfStepNthU=i),void 0!==n&&(this.shiftHalfStepUOffsetN=n),void 0!==s&&(this.removeStartEdgeNthU=s),void 0!==o&&(this.removeStartEdgeUOffsetN=o),void 0!==a&&(this.removeEndEdgeNthU=a),void 0!==c&&(this.removeEndEdgeUOffsetN=c),void 0!==h&&(this.shiftHalfStepNthV=h),void 0!==u&&(this.shiftHalfStepVOffsetN=u),void 0!==l&&(this.removeStartEdgeNthV=l),void 0!==d&&(this.removeStartEdgeVOffsetN=d),void 0!==p&&(this.removeEndEdgeNthV=p),void 0!==f&&(this.removeEndEdgeVOffsetN=f)}},e.FaceLinearSubdivisionDto=class{constructor(e,t,r,i,n,s,o){this.isU=!0,this.param=.5,this.nrPoints=10,this.shiftHalfStep=!1,this.removeStartPoint=!1,this.removeEndPoint=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.isU=t),void 0!==r&&(this.param=r),void 0!==i&&(this.nrPoints=i),void 0!==n&&(this.shiftHalfStep=n),void 0!==s&&(this.removeStartPoint=s),void 0!==o&&(this.removeEndPoint=o)}},e.WireAlongParamDto=class{constructor(e,t,r){this.isU=!0,this.param=.5,void 0!==e&&(this.shape=e),void 0!==t&&(this.isU=t),void 0!==r&&(this.param=r)}},e.WiresAlongParamsDto=class{constructor(e,t,r){this.isU=!0,void 0!==e&&(this.shape=e),void 0!==t&&(this.isU=t),void 0!==r&&(this.params=r)}},e.DataOnUVDto=class{constructor(e,t,r){this.paramU=.5,this.paramV=.5,void 0!==e&&(this.shape=e),void 0!==t&&(this.paramU=t),void 0!==r&&(this.paramV=r)}},e.DataOnUVsDto=class{constructor(e,t){this.paramsUV=[[.5,.5]],void 0!==e&&(this.shape=e),void 0!==t&&(this.paramsUV=t)}},e.PolygonDto=class{constructor(e){void 0!==e&&(this.points=e)}},e.PolygonsDto=class{constructor(e,t){this.returnCompound=!1,void 0!==e&&(this.polygons=e),void 0!==t&&(this.returnCompound=t)}},e.PolylineDto=class{constructor(e){void 0!==e&&(this.points=e)}},e.PolylineBaseDto=class{constructor(e){void 0!==e&&(this.polyline=e)}},e.PolylinesBaseDto=class{constructor(e){void 0!==e&&(this.polylines=e)}},e.LineBaseDto=class{constructor(e){void 0!==e&&(this.line=e)}},e.LinesBaseDto=class{constructor(e){void 0!==e&&(this.lines=e)}},e.SegmentBaseDto=class{constructor(e){void 0!==e&&(this.segment=e)}},e.SegmentsBaseDto=class{constructor(e){void 0!==e&&(this.segments=e)}},e.TriangleBaseDto=class{constructor(e){void 0!==e&&(this.triangle=e)}},e.MeshBaseDto=class{constructor(e){void 0!==e&&(this.mesh=e)}},e.PolylinesDto=class{constructor(e,t){this.returnCompound=!1,void 0!==e&&(this.polylines=e),void 0!==t&&(this.returnCompound=t)}},e.SquareDto=class{constructor(e,t,r){this.size=1,this.center=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.size=e),void 0!==t&&(this.center=t),void 0!==r&&(this.direction=r)}},e.RectangleDto=class{constructor(e,t,r,i){this.width=1,this.length=2,this.center=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.width=e),void 0!==t&&(this.length=t),void 0!==r&&(this.center=r),void 0!==i&&(this.direction=i)}};class P{constructor(e,t,r,i,s,o,a,c){this.widthFirst=1,this.lengthFirst=2,this.widthSecond=.5,this.lengthSecond=2,this.align=n.outside,this.rotation=0,this.center=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.widthFirst=e),void 0!==t&&(this.lengthFirst=t),void 0!==r&&(this.widthSecond=r),void 0!==i&&(this.lengthSecond=i),void 0!==s&&(this.align=s),void 0!==o&&(this.rotation=o),void 0!==a&&(this.center=a),void 0!==c&&(this.direction=c)}}e.LPolygonDto=P;class N{constructor(e,t,r,i,n,o,a,c){this.width=2,this.height=3,this.webThickness=.2,this.flangeThickness=.3,this.alignment=s.C6.basicAlignmentEnum.midMid,this.rotation=0,this.center=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.width=e),void 0!==t&&(this.height=t),void 0!==r&&(this.webThickness=r),void 0!==i&&(this.flangeThickness=i),void 0!==n&&(this.alignment=n),void 0!==o&&(this.rotation=o),void 0!==a&&(this.center=a),void 0!==c&&(this.direction=c)}}e.IBeamProfileDto=N;class C{constructor(e,t,r,i,n,o,a,c){this.width=2,this.height=3,this.webThickness=.2,this.flangeThickness=.3,this.alignment=s.C6.basicAlignmentEnum.midMid,this.rotation=0,this.center=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.width=e),void 0!==t&&(this.height=t),void 0!==r&&(this.webThickness=r),void 0!==i&&(this.flangeThickness=i),void 0!==n&&(this.alignment=n),void 0!==o&&(this.rotation=o),void 0!==a&&(this.center=a),void 0!==c&&(this.direction=c)}}e.HBeamProfileDto=C;class k{constructor(e,t,r,i,n,o,a,c){this.width=2,this.height=2,this.webThickness=.2,this.flangeThickness=.3,this.alignment=s.C6.basicAlignmentEnum.midMid,this.rotation=0,this.center=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.width=e),void 0!==t&&(this.height=t),void 0!==r&&(this.webThickness=r),void 0!==i&&(this.flangeThickness=i),void 0!==n&&(this.alignment=n),void 0!==o&&(this.rotation=o),void 0!==a&&(this.center=a),void 0!==c&&(this.direction=c)}}e.TBeamProfileDto=k;class D{constructor(e,t,r,i,n,o,a,c,h){this.width=2,this.height=3,this.webThickness=.2,this.flangeThickness=.3,this.flangeWidth=.5,this.alignment=s.C6.basicAlignmentEnum.midMid,this.rotation=0,this.center=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.width=e),void 0!==t&&(this.height=t),void 0!==r&&(this.webThickness=r),void 0!==i&&(this.flangeThickness=i),void 0!==n&&(this.flangeWidth=n),void 0!==o&&(this.alignment=o),void 0!==a&&(this.rotation=a),void 0!==c&&(this.center=c),void 0!==h&&(this.direction=h)}}e.UBeamProfileDto=D,e.ExtrudedSolidDto=class{constructor(e,t,r,i){this.extrusionLengthFront=1,this.extrusionLengthBack=0,this.center=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.extrusionLengthFront=e),void 0!==t&&(this.extrusionLengthBack=t),void 0!==r&&(this.center=r),void 0!==i&&(this.direction=i)}},e.IBeamProfileSolidDto=class extends N{constructor(e,t,r,i,n,s,o,a,c,h){super(e,t,r,i,n,s,o,a),this.extrusionLengthFront=1,this.extrusionLengthBack=0,void 0!==c&&(this.extrusionLengthFront=c),void 0!==h&&(this.extrusionLengthBack=h)}},e.HBeamProfileSolidDto=class extends C{constructor(e,t,r,i,n,s,o,a,c,h){super(e,t,r,i,n,s,o,a),this.extrusionLengthFront=1,this.extrusionLengthBack=0,void 0!==c&&(this.extrusionLengthFront=c),void 0!==h&&(this.extrusionLengthBack=h)}},e.TBeamProfileSolidDto=class extends k{constructor(e,t,r,i,n,s,o,a,c,h){super(e,t,r,i,n,s,o,a),this.extrusionLengthFront=1,this.extrusionLengthBack=0,void 0!==c&&(this.extrusionLengthFront=c),void 0!==h&&(this.extrusionLengthBack=h)}},e.UBeamProfileSolidDto=class extends D{constructor(e,t,r,i,n,s,o,a,c,h,u){super(e,t,r,i,n,s,o,a,c),this.extrusionLengthFront=1,this.extrusionLengthBack=0,void 0!==h&&(this.extrusionLengthFront=h),void 0!==u&&(this.extrusionLengthBack=u)}},e.BoxDto=class{constructor(e,t,r,i,n){this.width=1,this.length=2,this.height=3,this.center=[0,0,0],this.originOnCenter=!0,void 0!==e&&(this.width=e),void 0!==t&&(this.length=t),void 0!==r&&(this.height=r),void 0!==i&&(this.center=i),void 0!==n&&(this.originOnCenter=n)}},e.CubeDto=class{constructor(e,t,r){this.size=1,this.center=[0,0,0],this.originOnCenter=!0,void 0!==e&&(this.size=e),void 0!==t&&(this.center=t),void 0!==r&&(this.originOnCenter=r)}},e.BoxFromCornerDto=class{constructor(e,t,r,i){this.width=1,this.length=2,this.height=3,this.corner=[0,0,0],void 0!==e&&(this.width=e),void 0!==t&&(this.length=t),void 0!==r&&(this.height=r),void 0!==i&&(this.corner=i)}},e.SphereDto=class{constructor(e,t){this.radius=1,this.center=[0,0,0],void 0!==e&&(this.radius=e),void 0!==t&&(this.center=t)}},e.ConeDto=class{constructor(e,t,r,i,n,s){this.radius1=2,this.radius2=1,this.height=2,this.angle=360,this.center=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.radius1=e),void 0!==t&&(this.radius2=t),void 0!==r&&(this.height=r),void 0!==i&&(this.angle=i),void 0!==n&&(this.center=n),void 0!==s&&(this.direction=s)}},e.TorusDto=class{constructor(e,t,r,i,n){this.majorRadius=2,this.minorRadius=.5,this.center=[0,0,0],this.direction=[0,1,0],this.angle=360,void 0!==e&&(this.majorRadius=e),void 0!==t&&(this.minorRadius=t),void 0!==r&&(this.center=r),void 0!==i&&(this.direction=i),void 0!==n&&(this.angle=n)}},e.LineDto=class{constructor(e,t){this.start=[0,0,0],this.end=[0,1,0],void 0!==e&&(this.start=e),void 0!==t&&(this.end=t)}},e.LineWithExtensionsDto=class{constructor(e,t,r,i){this.start=[0,0,0],this.end=[0,1,0],this.extensionStart=.1,this.extensionEnd=.1,void 0!==e&&(this.start=e),void 0!==t&&(this.end=t),void 0!==r&&(this.extensionStart=r),void 0!==i&&(this.extensionEnd=i)}},e.LinesDto=class{constructor(e,t){this.returnCompound=!1,void 0!==e&&(this.lines=e),void 0!==t&&(this.returnCompound=t)}},e.ArcEdgeTwoPointsTangentDto=class{constructor(e,t,r){this.start=[0,0,0],this.tangentVec=[0,1,0],this.end=[0,0,1],void 0!==e&&(this.start=e),void 0!==t&&(this.tangentVec=t),void 0!==r&&(this.end=r)}},e.ArcEdgeCircleTwoPointsDto=class{constructor(e,t,r,i){this.start=[0,0,0],this.end=[0,0,1],this.sense=!0,void 0!==e&&(this.circle=e),void 0!==t&&(this.start=t),void 0!==r&&(this.end=r),void 0!==i&&(this.sense=i)}},e.ArcEdgeCircleTwoAnglesDto=class{constructor(e,t,r,i){this.alphaAngle1=0,this.alphaAngle2=90,this.sense=!0,void 0!==e&&(this.circle=e),void 0!==t&&(this.alphaAngle1=t),void 0!==r&&(this.alphaAngle2=r),void 0!==i&&(this.sense=i)}},e.ArcEdgeCirclePointAngleDto=class{constructor(e,t,r,i){this.alphaAngle=90,this.sense=!0,void 0!==e&&(this.circle=e),void 0!==t&&(this.alphaAngle=t),void 0!==i&&(this.sense=i)}},e.ArcEdgeThreePointsDto=class{constructor(e,t,r){this.start=[0,0,0],this.middle=[0,1,0],this.end=[0,0,1],void 0!==e&&(this.start=e),void 0!==t&&(this.middle=t),void 0!==r&&(this.end=r)}},e.CylinderDto=class{constructor(e,t,r,i,n,s){this.radius=1,this.height=2,this.center=[0,0,0],this.direction=[0,1,0],this.angle=360,this.originOnCenter=!1,void 0!==e&&(this.radius=e),void 0!==t&&(this.height=t),void 0!==r&&(this.center=r),void 0!==i&&(this.direction=i),void 0!==n&&(this.angle=n),void 0!==s&&(this.originOnCenter=s)}},e.CylindersOnLinesDto=class{constructor(e,t){void 0!==e&&(this.radius=e),void 0!==t&&(this.lines=t)}},e.FilletDto=class{constructor(e,t,r,i){this.radius=.1,void 0!==e&&(this.shape=e),void 0!==t&&(this.radius=t),void 0!==r&&(this.radiusList=r),void 0!==i&&(this.indexes=i)}},e.FilletShapesDto=class{constructor(e,t,r,i){this.radius=.1,void 0!==e&&(this.shapes=e),void 0!==t&&(this.radius=t),void 0!==r&&(this.radiusList=r),void 0!==i&&(this.indexes=i)}},e.FilletEdgesListDto=class{constructor(e,t,r){void 0!==e&&(this.shape=e),void 0!==t&&(this.edges=t),void 0!==r&&(this.radiusList=r)}},e.FilletEdgesListOneRadiusDto=class{constructor(e,t,r){this.radius=.1,void 0!==e&&(this.shape=e),void 0!==t&&(this.edges=t),void 0!==r&&(this.radius=r)}},e.FilletEdgeVariableRadiusDto=class{constructor(e,t,r,i){void 0!==e&&(this.shape=e),void 0!==t&&(this.edge=t),void 0!==r&&(this.radiusList=r),void 0!==i&&(this.paramsU=i)}},e.FilletEdgesVariableRadiusDto=class{constructor(e,t,r,i){void 0!==e&&(this.shape=e),void 0!==t&&(this.edges=t),void 0!==r&&(this.radiusLists=r),void 0!==i&&(this.paramsULists=i)}},e.FilletEdgesSameVariableRadiusDto=class{constructor(e,t,r,i){void 0!==e&&(this.shape=e),void 0!==t&&(this.edges=t),void 0!==r&&(this.radiusList=r),void 0!==i&&(this.paramsU=i)}},e.Fillet3DWiresDto=class{constructor(e,t,r,i,n){this.radius=.1,this.direction=[0,1,0],void 0!==e&&(this.shapes=e),void 0!==t&&(this.radius=t),void 0!==r&&(this.direction=r),void 0!==i&&(this.radiusList=i),void 0!==n&&(this.indexes=n)}},e.Fillet3DWireDto=class{constructor(e,t,r,i,n){this.radius=.1,this.direction=[0,1,0],void 0!==e&&(this.shape=e),void 0!==t&&(this.radius=t),void 0!==r&&(this.direction=r),void 0!==i&&(this.radiusList=i),void 0!==n&&(this.indexes=n)}},e.ChamferDto=class{constructor(e,t,r,i){this.distance=.1,void 0!==e&&(this.shape=e),void 0!==t&&(this.distance=t),void 0!==r&&(this.distanceList=r),void 0!==i&&(this.indexes=i)}},e.ChamferEdgesListDto=class{constructor(e,t,r){void 0!==e&&(this.shape=e),void 0!==t&&(this.edges=t),void 0!==r&&(this.distanceList=r)}},e.ChamferEdgeDistAngleDto=class{constructor(e,t,r,i,n){this.distance=.1,this.angle=45,void 0!==e&&(this.shape=e),void 0!==t&&(this.edge=t),void 0!==r&&(this.face=r),void 0!==i&&(this.distance=i),void 0!==n&&(this.angle=n)}},e.ChamferEdgeTwoDistancesDto=class{constructor(e,t,r,i,n){this.distance1=.1,this.distance2=.2,void 0!==e&&(this.shape=e),void 0!==t&&(this.edge=t),void 0!==r&&(this.face=r),void 0!==i&&(this.distance1=i),void 0!==n&&(this.distance2=n)}},e.ChamferEdgesTwoDistancesListsDto=class{constructor(e,t,r,i,n){void 0!==e&&(this.shape=e),void 0!==t&&(this.edges=t),void 0!==r&&(this.faces=r),void 0!==i&&(this.distances1=i),void 0!==n&&(this.distances2=n)}},e.ChamferEdgesTwoDistancesDto=class{constructor(e,t,r,i,n){this.distance1=.1,this.distance2=.2,void 0!==e&&(this.shape=e),void 0!==t&&(this.edges=t),void 0!==r&&(this.faces=r),void 0!==i&&(this.distance1=i),void 0!==n&&(this.distance2=n)}},e.ChamferEdgesDistsAnglesDto=class{constructor(e,t,r,i,n){void 0!==e&&(this.shape=e),void 0!==t&&(this.edges=t),void 0!==r&&(this.faces=r),void 0!==i&&(this.distances=i),void 0!==n&&(this.angles=n)}},e.ChamferEdgesDistAngleDto=class{constructor(e,t,r,i,n){this.distance=.1,this.angle=45,void 0!==e&&(this.shape=e),void 0!==t&&(this.edges=t),void 0!==r&&(this.faces=r),void 0!==i&&(this.distance=i),void 0!==n&&(this.angle=n)}},e.BSplineDto=class{constructor(e,t){this.closed=!1,void 0!==e&&(this.points=e),void 0!==t&&(this.closed=t)}},e.BSplinesDto=class{constructor(e,t){this.returnCompound=!1,void 0!==e&&(this.bSplines=e),void 0!==t&&(this.returnCompound=t)}},e.WireFromTwoCirclesTanDto=class{constructor(e,t,r,i,n){this.keepLines=v.outside,this.circleRemainders=f.outside,this.tolerance=1e-7,void 0!==e&&(this.circle1=e),void 0!==t&&(this.circle2=t),void 0!==r&&(this.keepLines=r),void 0!==i&&(this.circleRemainders=i),void 0!==n&&(this.tolerance=n)}},e.FaceFromMultipleCircleTanWiresDto=class{constructor(e,t,r,i){this.combination=m.allWithAll,this.unify=!0,this.tolerance=1e-7,void 0!==e&&(this.circles=e),void 0!==t&&(this.combination=t),void 0!==r&&(this.unify=r),void 0!==i&&(this.tolerance=i)}},e.FaceFromMultipleCircleTanWireCollectionsDto=class{constructor(e,t,r,i){this.combination=m.allWithAll,this.unify=!0,this.tolerance=1e-7,void 0!==e&&(this.listsOfCircles=e),void 0!==t&&(this.combination=t),void 0!==r&&(this.unify=r),void 0!==i&&(this.tolerance=i)}},e.ZigZagBetweenTwoWiresDto=class{constructor(e,t,r,i,n,s){this.nrZigZags=20,this.divideByEqualDistance=!1,this.zigZagsPerEdge=!0,void 0!==e&&(this.wire1=e),void 0!==t&&(this.wire2=t),void 0!==r&&(this.nrZigZags=r),void 0!==i&&(this.inverse=i),void 0!==n&&(this.divideByEqualDistance=n),void 0!==s&&(this.zigZagsPerEdge=s)}},e.InterpolationDto=class{constructor(e,t,r){this.periodic=!1,this.tolerance=1e-7,void 0!==e&&(this.points=e),void 0!==t&&(this.periodic=t),void 0!==r&&(this.tolerance=r)}},e.InterpolateWiresDto=class{constructor(e,t){this.returnCompound=!1,void 0!==e&&(this.interpolations=e),void 0!==t&&(this.returnCompound=t)}},e.BezierDto=class{constructor(e,t){this.closed=!1,void 0!==e&&(this.points=e),void 0!==t&&(this.closed=t)}},e.BezierWeightsDto=class{constructor(e,t,r){this.closed=!1,void 0!==e&&(this.points=e),void 0!==t&&(this.weights=t),void 0!==r&&(this.closed=r)}},e.BezierWiresDto=class{constructor(e,t){this.returnCompound=!1,void 0!==e&&(this.bezierWires=e),void 0!==t&&(this.returnCompound=t)}},e.DivideDto=class{constructor(e,t,r,i){this.nrOfDivisions=10,this.removeStartPoint=!1,this.removeEndPoint=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.nrOfDivisions=t),void 0!==r&&(this.removeStartPoint=r),void 0!==i&&(this.removeEndPoint=i)}},e.ProjectWireDto=class{constructor(e,t,r){this.direction=[0,1,0],void 0!==e&&(this.wire=e),void 0!==t&&(this.shape=t),void 0!==r&&(this.direction=r)}},e.ProjectPointsOnShapeDto=class{constructor(e,t,r,i){this.direction=[0,10,0],void 0!==e&&(this.points=e),void 0!==t&&(this.shape=t),void 0!==r&&(this.direction=r),void 0!==i&&(this.projectionType=i)}},e.WiresToPointsDto=class{constructor(e,t,r,i,n,s){this.angularDeflection=.1,this.curvatureDeflection=.1,this.minimumOfPoints=2,this.uTolerance=1e-9,this.minimumLength=1e-7,void 0!==e&&(this.shape=e),void 0!==t&&(this.angularDeflection=t),void 0!==r&&(this.curvatureDeflection=r),void 0!==i&&(this.minimumOfPoints=i),void 0!==n&&(this.uTolerance=n),void 0!==s&&(this.minimumLength=s)}},e.EdgesToPointsDto=class{constructor(e,t,r,i,n,s){this.angularDeflection=.1,this.curvatureDeflection=.1,this.minimumOfPoints=2,this.uTolerance=1e-9,this.minimumLength=1e-7,void 0!==e&&(this.shape=e),void 0!==t&&(this.angularDeflection=t),void 0!==r&&(this.curvatureDeflection=r),void 0!==i&&(this.minimumOfPoints=i),void 0!==n&&(this.uTolerance=n),void 0!==s&&(this.minimumLength=s)}},e.ProjectWiresDto=class{constructor(e,t,r){this.direction=[0,1,0],void 0!==e&&(this.wires=e),void 0!==t&&(this.shape=t),void 0!==r&&(this.direction=r)}},e.DivideShapesDto=class{constructor(e,t,r,i){this.nrOfDivisions=10,this.removeStartPoint=!1,this.removeEndPoint=!1,void 0!==e&&(this.shapes=e),void 0!==t&&(this.nrOfDivisions=t),void 0!==r&&(this.removeStartPoint=r),void 0!==i&&(this.removeEndPoint=i)}},e.DataOnGeometryAtParamDto=class{constructor(e,t){this.param=.5,void 0!==e&&(this.shape=e),void 0!==t&&(this.param=t)}},e.DataOnGeometryesAtParamDto=class{constructor(e,t){this.param=.5,void 0!==e&&(this.shapes=e),void 0!==t&&(this.param=t)}},e.PointInFaceDto=class{constructor(e,t,r,i){this.tEdgeParam=.5,this.distance2DParam=.5,void 0!==e&&(this.face=e),void 0!==t&&(this.edge=t),void 0!==r&&(this.tEdgeParam=r),void 0!==i&&(this.distance2DParam=i)}},e.PointsOnWireAtEqualLengthDto=class{constructor(e,t,r,i,n){this.length=.5,this.tryNext=!1,this.includeFirst=!1,this.includeLast=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.length=t),void 0!==r&&(this.tryNext=r),void 0!==i&&(this.includeFirst=i),void 0!==n&&(this.includeLast=n)}},e.PointsOnWireAtPatternOfLengthsDto=class{constructor(e,t,r,i,n){this.tryNext=!1,this.includeFirst=!1,this.includeLast=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.lengths=t),void 0!==r&&(this.tryNext=r),void 0!==i&&(this.includeLast=i),void 0!==n&&(this.includeLast=n)}},e.DataOnGeometryAtLengthDto=class{constructor(e,t){this.length=.5,void 0!==e&&(this.shape=e),void 0!==t&&(this.length=t)}},e.DataOnGeometryesAtLengthDto=class{constructor(e,t){this.length=.5,void 0!==e&&(this.shapes=e),void 0!==t&&(this.length=t)}},e.DataOnGeometryAtLengthsDto=class{constructor(e,t){void 0!==e&&(this.shape=e),void 0!==t&&(this.lengths=t)}},e.CircleDto=class{constructor(e,t,r){this.radius=1,this.center=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.radius=e),void 0!==t&&(this.center=t),void 0!==r&&(this.direction=r)}},e.HexagonsInGridDto=class{constructor(e,t,r,i,n,s,o,a,c,h,u,l,d){this.width=10,this.height=10,this.nrHexagonsInWidth=10,this.nrHexagonsInHeight=10,this.flatTop=!1,this.extendTop=!1,this.extendBottom=!1,this.extendLeft=!1,this.extendRight=!1,void 0!==e&&(this.width=e),void 0!==t&&(this.height=t),void 0!==r&&(this.nrHexagonsInHeight=r),void 0!==i&&(this.nrHexagonsInWidth=i),void 0!==n&&(this.flatTop=n),void 0!==s&&(this.extendTop=s),void 0!==o&&(this.extendBottom=o),void 0!==a&&(this.extendLeft=a),void 0!==c&&(this.extendRight=c),void 0!==h&&(this.scalePatternWidth=h),void 0!==u&&(this.scalePatternHeight=u),void 0!==l&&(this.filletPattern=l),void 0!==d&&(this.inclusionPattern=d)}},e.LoftDto=class{constructor(e,t){this.makeSolid=!1,void 0!==e&&(this.shapes=e),void 0!==t&&(this.makeSolid=t)}},e.LoftAdvancedDto=class{constructor(e,t,r,n,s,o,a,c,h,u,l,d){this.makeSolid=!1,this.closed=!1,this.periodic=!1,this.straight=!1,this.nrPeriodicSections=10,this.useSmoothing=!1,this.maxUDegree=3,this.tolerance=1e-7,this.parType=i.approxCentripetal,void 0!==e&&(this.shapes=e),void 0!==t&&(this.makeSolid=t),void 0!==r&&(this.closed=r),void 0!==n&&(this.periodic=n),void 0!==s&&(this.straight=s),void 0!==o&&(this.nrPeriodicSections=o),void 0!==a&&(this.useSmoothing=a),void 0!==c&&(this.maxUDegree=c),void 0!==h&&(this.tolerance=h),void 0!==u&&(this.parType=u),void 0!==l&&(this.startVertex=l),void 0!==d&&(this.endVertex=d)}},e.OffsetDto=class{constructor(e,t,r,i){this.distance=.2,this.tolerance=.1,void 0!==e&&(this.shape=e),void 0!==t&&(this.face=t),void 0!==r&&(this.distance=r),void 0!==i&&(this.tolerance=i)}},e.OffsetAdvancedDto=class{constructor(e,r,i,n,s,o){this.distance=.2,this.tolerance=.1,this.joinType=t.arc,this.removeIntEdges=!1,void 0!==e&&(this.shape=e),void 0!==r&&(this.face=r),void 0!==i&&(this.distance=i),void 0!==n&&(this.tolerance=n),void 0!==s&&(this.joinType=s),void 0!==o&&(this.removeIntEdges=o)}},e.RevolveDto=class{constructor(e,t,r,i){this.angle=360,this.direction=[0,1,0],this.copy=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.angle=t),void 0!==r&&(this.direction=r),void 0!==i&&(this.copy=i)}},e.ShapeShapesDto=class{constructor(e,t){void 0!==e&&(this.shape=e),void 0!==t&&(this.shapes=t)}},e.WiresOnFaceDto=class{constructor(e,t){void 0!==e&&(this.wires=e),void 0!==t&&(this.face=t)}},e.PipeWiresCylindricalDto=class{constructor(e,t,r,i,n){this.radius=.1,this.makeSolid=!0,this.trihedronEnum=b.isConstantNormal,this.forceApproxC1=!1,void 0!==e&&(this.shapes=e),void 0!==t&&(this.radius=t),void 0!==r&&(this.makeSolid=r),void 0!==i&&(this.trihedronEnum=i),void 0!==n&&(this.forceApproxC1=n)}},e.PipeWireCylindricalDto=class{constructor(e,t,r,i,n){this.radius=.1,this.makeSolid=!0,this.trihedronEnum=b.isConstantNormal,this.forceApproxC1=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.radius=t),void 0!==r&&(this.makeSolid=r),void 0!==i&&(this.trihedronEnum=i),void 0!==n&&(this.forceApproxC1=n)}},e.PipePolygonWireNGonDto=class{constructor(e,t,r,i,n,s){this.radius=.1,this.nrCorners=6,this.makeSolid=!0,this.trihedronEnum=b.isConstantNormal,this.forceApproxC1=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.radius=t),void 0!==r&&(this.nrCorners=r),void 0!==i&&(this.makeSolid=i),void 0!==n&&(this.trihedronEnum=n),void 0!==s&&(this.forceApproxC1=s)}},e.ExtrudeDto=class{constructor(e,t){this.direction=[0,1,0],void 0!==e&&(this.shape=e),void 0!==t&&(this.direction=t)}},e.ExtrudeShapesDto=class{constructor(e,t){this.direction=[0,1,0],void 0!==e&&(this.shapes=e),void 0!==t&&(this.direction=t)}},e.SplitDto=class{constructor(e,t){this.localFuzzyTolerance=1e-4,this.nonDestructive=!0,void 0!==e&&(this.shape=e),void 0!==t&&(this.shapes=t)}},e.UnionDto=class{constructor(e,t){this.keepEdges=!1,void 0!==e&&(this.shapes=e),void 0!==t&&(this.keepEdges=t)}},e.DifferenceDto=class{constructor(e,t,r){this.keepEdges=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.shapes=t),void 0!==r&&(this.keepEdges=r)}},e.IntersectionDto=class{constructor(e,t){this.keepEdges=!1,void 0!==e&&(this.shapes=e),void 0!==t&&(this.keepEdges=t)}},e.ShapeDto=class{constructor(e){void 0!==e&&(this.shape=e)}},e.MeshMeshIntersectionTwoShapesDto=class{constructor(e,t,r,i){this.precision1=.01,this.precision2=.01,void 0!==e&&(this.shape1=e),void 0!==t&&(this.shape2=t),void 0!==r&&(this.precision1=r),void 0!==i&&(this.precision2=i)}},e.MeshMeshesIntersectionOfShapesDto=class{constructor(e,t,r,i){this.precision=.01,void 0!==e&&(this.shape=e),void 0!==t&&(this.shapes=t),void 0!==r&&(this.precision=r),void 0!==i&&(this.precisionShapes=i)}},e.CompareShapesDto=class{constructor(e,t){void 0!==e&&(this.shape=e),void 0!==t&&(this.otherShape=t)}},e.FixSmallEdgesInWireDto=class{constructor(e,t,r){this.lockvtx=!1,this.precsmall=0,void 0!==e&&(this.shape=e),void 0!==t&&(this.lockvtx=t),void 0!==r&&(this.precsmall=r)}},e.BasicShapeRepairDto=class{constructor(e,t,r,i){this.precision=.001,this.maxTolerance=.01,this.minTolerance=1e-4,void 0!==e&&(this.shape=e),void 0!==t&&(this.precision=t),void 0!==r&&(this.maxTolerance=r),void 0!==i&&(this.minTolerance=i)}},e.FixClosedDto=class{constructor(e,t){this.precision=-.1,void 0!==e&&(this.shape=e),void 0!==t&&(this.precision=t)}},e.ShapesWithToleranceDto=class{constructor(e,t){this.tolerance=1e-7,void 0!==e&&(this.shapes=e),void 0!==t&&(this.tolerance=t)}},e.ShapeWithToleranceDto=class{constructor(e,t){this.tolerance=1e-7,void 0!==e&&(this.shape=e),void 0!==t&&(this.tolerance=t)}},e.ShapeIndexDto=class{constructor(e,t){this.index=0,void 0!==e&&(this.shape=e),void 0!==t&&(this.index=t)}},e.EdgeIndexDto=class{constructor(e,t){this.index=0,void 0!==e&&(this.shape=e),void 0!==t&&(this.index=t)}},e.RotationExtrudeDto=class{constructor(e,t,r,i){this.height=1,this.angle=360,this.makeSolid=!0,void 0!==e&&(this.shape=e),void 0!==t&&(this.height=t),void 0!==r&&(this.angle=r),void 0!==i&&(this.makeSolid=i)}},e.ThickSolidByJoinDto=class{constructor(e,r,i,n,s,o,a,c){this.offset=1,this.tolerance=.001,this.intersection=!1,this.selfIntersection=!1,this.joinType=t.arc,this.removeIntEdges=!1,void 0!==e&&(this.shape=e),void 0!==r&&(this.shapes=r),void 0!==i&&(this.offset=i),void 0!==n&&(this.tolerance=n),void 0!==s&&(this.intersection=s),void 0!==o&&(this.selfIntersection=o),void 0!==a&&(this.joinType=a),void 0!==c&&(this.removeIntEdges=c)}},e.TransformDto=class{constructor(e,t,r,i,n){this.translation=[0,0,0],this.rotationAxis=[0,1,0],this.rotationAngle=0,this.scaleFactor=1,void 0!==e&&(this.shape=e),void 0!==t&&(this.translation=t),void 0!==r&&(this.rotationAxis=r),void 0!==i&&(this.rotationAngle=i),void 0!==n&&(this.scaleFactor=n)}},e.TransformShapesDto=class{constructor(e,t,r,i,n){this.translations=[[0,0,0]],this.rotationAxes=[[0,1,0]],this.rotationAngles=[0],this.scaleFactors=[1],void 0!==e&&(this.shapes=e),void 0!==t&&(this.translations=t),void 0!==r&&(this.rotationAxes=r),void 0!==i&&(this.rotationAngles=i),void 0!==n&&(this.scaleFactors=n)}},e.TranslateDto=class{constructor(e,t){this.translation=[0,0,0],void 0!==e&&(this.shape=e),void 0!==t&&(this.translation=t)}},e.TranslateShapesDto=class{constructor(e,t){this.translations=[[0,0,0]],void 0!==e&&(this.shapes=e),void 0!==t&&(this.translations=t)}},e.AlignNormAndAxisDto=class{constructor(e,t,r,i,n,s,o){this.fromOrigin=[0,0,0],this.fromNorm=[1,0,0],this.fromAx=[0,0,1],this.toOrigin=[0,1,0],this.toNorm=[0,1,0],this.toAx=[0,1,0],void 0!==e&&(this.shape=e),void 0!==t&&(this.fromOrigin=t),void 0!==r&&(this.fromNorm=r),void 0!==i&&(this.fromAx=i),void 0!==n&&(this.toOrigin=n),void 0!==s&&(this.toNorm=s),void 0!==o&&(this.toAx=o)}},e.AlignDto=class{constructor(e,t,r,i,n){this.fromOrigin=[0,0,0],this.fromDirection=[0,0,1],this.toOrigin=[0,1,0],this.toDirection=[0,1,0],void 0!==e&&(this.shape=e),void 0!==t&&(this.fromOrigin=t),void 0!==r&&(this.fromDirection=r),void 0!==i&&(this.toOrigin=i),void 0!==n&&(this.toDirection=n)}},e.AlignShapesDto=class{constructor(e,t,r,i,n){this.fromOrigins=[[0,0,0]],this.fromDirections=[[0,0,1]],this.toOrigins=[[0,1,0]],this.toDirections=[[0,1,0]],void 0!==e&&(this.shapes=e),void 0!==t&&(this.fromOrigins=t),void 0!==r&&(this.fromDirections=r),void 0!==i&&(this.toOrigins=i),void 0!==n&&(this.toDirections=n)}},e.MirrorDto=class{constructor(e,t,r){this.origin=[0,0,0],this.direction=[0,0,1],void 0!==e&&(this.shape=e),void 0!==t&&(this.origin=t),void 0!==r&&(this.direction=r)}},e.MirrorShapesDto=class{constructor(e,t,r){this.origins=[[0,0,0]],this.directions=[[0,0,1]],void 0!==e&&(this.shapes=e),void 0!==t&&(this.origins=t),void 0!==r&&(this.directions=r)}},e.MirrorAlongNormalDto=class{constructor(e,t,r){this.origin=[0,0,0],this.normal=[0,0,1],void 0!==e&&(this.shape=e),void 0!==t&&(this.origin=t),void 0!==r&&(this.normal=r)}},e.MirrorAlongNormalShapesDto=class{constructor(e,t,r){this.origins=[[0,0,0]],this.normals=[[0,0,1]],void 0!==e&&(this.shapes=e),void 0!==t&&(this.origins=t),void 0!==r&&(this.normals=r)}},e.AlignAndTranslateDto=class{constructor(e,t,r){this.direction=[0,1,0],this.center=[0,0,0],void 0!==e&&(this.shape=e),void 0!==t&&(this.direction=t),void 0!==r&&(this.center=r)}},e.UnifySameDomainDto=class{constructor(e,t,r,i){this.unifyEdges=!0,this.unifyFaces=!0,this.concatBSplines=!0,void 0!==e&&(this.shape=e),void 0!==t&&(this.unifyEdges=t),void 0!==r&&(this.unifyFaces=r),void 0!==i&&(this.concatBSplines=i)}},e.FilterFacesPointsDto=class{constructor(e,t,r,i,n,s,o,a,c,h){this.tolerance=1e-4,this.useBndBox=!1,this.gapTolerance=.1,this.keepIn=!0,this.keepOn=!0,this.keepOut=!1,this.keepUnknown=!1,this.flatPointsArray=!0,void 0!==e&&(this.shapes=e),void 0!==t&&(this.points=t),void 0!==r&&(this.tolerance=r),void 0!==i&&(this.useBndBox=i),void 0!==n&&(this.gapTolerance=n),void 0!==s&&(this.keepIn=s),void 0!==o&&(this.keepOn=o),void 0!==a&&(this.keepOut=a),void 0!==c&&(this.keepUnknown=c),void 0!==h&&(this.flatPointsArray=h)}},e.FilterFacePointsDto=class{constructor(e,t,r,i,n,s,o,a,c){this.tolerance=1e-4,this.useBndBox=!1,this.gapTolerance=.1,this.keepIn=!0,this.keepOn=!0,this.keepOut=!1,this.keepUnknown=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.points=t),void 0!==r&&(this.tolerance=r),void 0!==i&&(this.useBndBox=i),void 0!==n&&(this.gapTolerance=n),void 0!==s&&(this.keepIn=s),void 0!==o&&(this.keepOn=o),void 0!==a&&(this.keepOut=a),void 0!==c&&(this.keepUnknown=c)}},e.FilterSolidPointsDto=class{constructor(e,t,r,i,n,s,o){this.tolerance=1e-4,this.keepIn=!0,this.keepOn=!0,this.keepOut=!1,this.keepUnknown=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.points=t),void 0!==r&&(this.tolerance=r),void 0!==i&&(this.keepIn=i),void 0!==n&&(this.keepOn=n),void 0!==s&&(this.keepOut=s),void 0!==o&&(this.keepUnknown=o)}},e.AlignAndTranslateShapesDto=class{constructor(e,t,r){this.directions=[[0,1,0]],this.centers=[[0,0,0]],void 0!==e&&(this.shapes=e),void 0!==t&&(this.directions=t),void 0!==r&&(this.centers=r)}},e.RotateDto=class{constructor(e,t,r){this.axis=[0,0,1],this.angle=0,void 0!==e&&(this.shape=e),void 0!==t&&(this.axis=t),void 0!==r&&(this.angle=r)}},e.RotateAroundCenterDto=class{constructor(e,t,r,i){this.angle=0,this.center=[0,0,0],this.axis=[0,0,1],void 0!==e&&(this.shape=e),void 0!==t&&(this.angle=t),void 0!==r&&(this.center=r),void 0!==i&&(this.axis=i)}},e.RotateShapesDto=class{constructor(e,t,r){this.angles=[0],void 0!==e&&(this.shapes=e),void 0!==t&&(this.axes=t),void 0!==r&&(this.angles=r)}},e.RotateAroundCenterShapesDto=class{constructor(e,t,r,i){this.angles=[0],this.centers=[[0,0,0]],this.axes=[[0,0,1]],void 0!==e&&(this.shapes=e),void 0!==t&&(this.angles=t),void 0!==r&&(this.centers=r),void 0!==i&&(this.axes=i)}},e.ScaleDto=class{constructor(e,t){this.factor=1,void 0!==e&&(this.shape=e),void 0!==t&&(this.factor=t)}},e.ScaleShapesDto=class{constructor(e,t){this.factors=[1],void 0!==e&&(this.shapes=e),void 0!==t&&(this.factors=t)}},e.Scale3DDto=class{constructor(e,t,r){this.scale=[1,1,1],this.center=[0,0,0],void 0!==e&&(this.shape=e),void 0!==t&&(this.scale=t),void 0!==r&&(this.center=r)}},e.Scale3DShapesDto=class{constructor(e,t,r){this.scales=[[1,1,1]],this.centers=[[0,0,0]],void 0!==e&&(this.shapes=e),void 0!==t&&(this.scales=t),void 0!==r&&(this.centers=r)}},e.ShapeToMeshDto=class{constructor(e,t,r){this.precision=.01,this.adjustYtoZ=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.precision=t),void 0!==r&&(this.adjustYtoZ=r)}},e.ShapeFacesToPolygonPointsDto=class{constructor(e,t,r,i){this.precision=.01,this.adjustYtoZ=!1,this.reversedPoints=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.precision=t),void 0!==r&&(this.adjustYtoZ=r),void 0!==i&&(this.reversedPoints=i)}},e.ShapesToMeshesDto=class{constructor(e,t,r){this.precision=.01,this.adjustYtoZ=!1,void 0!==e&&(this.shapes=e),void 0!==t&&(this.precision=t),void 0!==r&&(this.adjustYtoZ=r)}},e.SaveStepDto=class{constructor(e,t,r,i){this.fileName="shape.step",this.adjustYtoZ=!1,this.fromRightHanded=!1,this.tryDownload=!0,void 0!==e&&(this.shape=e),void 0!==t&&(this.fileName=t),void 0!==r&&(this.adjustYtoZ=r),void 0!==i&&(this.tryDownload=i)}},e.SaveStlDto=class{constructor(e,t,r,i,n,s){this.fileName="shape.stl",this.precision=.01,this.adjustYtoZ=!1,this.tryDownload=!0,this.binary=!0,void 0!==e&&(this.shape=e),void 0!==t&&(this.fileName=t),void 0!==r&&(this.precision=r),void 0!==i&&(this.adjustYtoZ=i),void 0!==n&&(this.tryDownload=n),void 0!==s&&(this.binary=s)}},e.ShapeToDxfPathsDto=class{constructor(e,t,r,i,n,s){this.angularDeflection=.1,this.curvatureDeflection=.1,this.minimumOfPoints=2,this.uTolerance=1e-9,this.minimumLength=1e-7,void 0!==e&&(this.shape=e),void 0!==t&&(this.angularDeflection=t),void 0!==r&&(this.curvatureDeflection=r),void 0!==i&&(this.minimumOfPoints=i),void 0!==n&&(this.uTolerance=n),void 0!==s&&(this.minimumLength=s)}},e.DxfPathsWithLayerDto=class{constructor(e,t,r){this.layer="Default",this.color="#000000",void 0!==e&&(this.paths=e),void 0!==t&&(this.layer=t),void 0!==r&&(this.color=r)}},e.DxfPathsPartsListDto=class{constructor(e,t,r,i){this.colorFormat=w.aci,this.acadVersion=S.AC1009,this.fileName="bitbybit-dev.dxf",this.tryDownload=!0,void 0!==e&&(this.pathsParts=e),void 0!==t&&(this.colorFormat=t),void 0!==r&&(this.acadVersion=r),void 0!==i&&(this.tryDownload=i)}},e.SaveDxfDto=class{constructor(e,t,r,i,n,s,o,a){this.fileName="shape.dxf",this.tryDownload=!0,this.angularDeflection=.1,this.curvatureDeflection=.1,this.minimumOfPoints=2,this.uTolerance=1e-9,this.minimumLength=1e-7,void 0!==e&&(this.shape=e),void 0!==t&&(this.fileName=t),void 0!==r&&(this.tryDownload=r),void 0!==i&&(this.angularDeflection=i),void 0!==n&&(this.curvatureDeflection=n),void 0!==s&&(this.minimumOfPoints=s),void 0!==o&&(this.uTolerance=o),void 0!==a&&(this.minimumLength=a)}},e.ImportStepIgesFromTextDto=class{constructor(e,t,r){this.fileType=o.step,this.adjustZtoY=!0,void 0!==e&&(this.text=e),void 0!==t&&(this.fileType=t),void 0!==r&&(this.adjustZtoY=r)}},e.ImportStepIgesDto=class{constructor(e,t){this.adjustZtoY=!0,void 0!==e&&(this.assetFile=e),void 0!==t&&(this.adjustZtoY=t)}},e.LoadStepOrIgesDto=class{constructor(e,t,r){this.fileName="shape.step",this.adjustZtoY=!0,void 0!==e&&(this.filetext=e),void 0!==t&&(this.fileName=t),void 0!==r&&(this.adjustZtoY=r)}},e.ParseStepAssemblyToJsonDto=class{constructor(e){void 0!==e&&(this.stepData=e)}},e.ConvertStepToGltfDto=class{constructor(e){this.meshPrecision=.1,void 0!==e&&(this.stepData=e)}},function(e){e.empty="empty",e.product="product",e.instance="instance",e.instanceOrProduct="instanceOrProduct",e.productOrInstance="productOrInstance",e.productAndInstance="productAndInstance",e.productAndInstanceAndOcaf="productAndInstanceAndOcaf"}(x=e.gltfNameFormatEnum||(e.gltfNameFormatEnum={})),function(e){e.compact="compact",e.mat4="mat4",e.trs="trs"}(T=e.gltfTransformFormatEnum||(e.gltfTransformFormatEnum={})),e.ConvertStepToGltfAdvancedDto=class{constructor(e){this.readColors=!0,this.readNames=!0,this.readMaterials=!0,this.readLayers=!1,this.readProps=!1,this.meshDeflection=.1,this.meshAngle=.5,this.meshParallel=!0,this.faceCountThreshold=5e4,this.mergeFaces=!0,this.splitIndices16=!0,this.parallelWrite=!0,this.embedTextures=!0,this.forceUVExport=!1,this.nodeNameFormat=x.instance,this.meshNameFormat=x.instance,this.transformFormat=T.compact,this.adjustZtoY=!0,this.scale=1,void 0!==e&&(this.stepData=e)}},e.BuildAssemblyDocumentDto=class{constructor(e,t){void 0!==e&&(this.structure=e),void 0!==t&&(this.existingDocument=t)}},e.CreateAssemblyPartDto=class{constructor(e,t,r,i){void 0!==e&&(this.id=e),void 0!==t&&(this.shape=t),void 0!==r&&(this.name=r),void 0!==i&&(this.colorRgba=i)}},e.CreateAssemblyNodeDto=class{constructor(e,t,r,i){this.colorRgba={r:.5,g:.5,b:.5,a:1},void 0!==e&&(this.id=e),void 0!==t&&(this.name=t),void 0!==r&&(this.parentId=r),void 0!==i&&(this.colorRgba=i)}},e.CreateInstanceNodeDto=class{constructor(e,t,r,i,n,s,o,a){this.translation=[0,0,0],this.rotation=[0,0,0],this.scale=1,void 0!==e&&(this.id=e),void 0!==t&&(this.partId=t),void 0!==r&&(this.name=r),void 0!==i&&(this.parentId=i),void 0!==n&&(this.translation=n),void 0!==s&&(this.rotation=s),void 0!==o&&(this.scale=o),void 0!==a&&(this.colorRgba=a)}},e.CreatePartUpdateDto=class{constructor(e,t,r,i){void 0!==e&&(this.label=e),void 0!==t&&(this.shape=t),void 0!==r&&(this.name=r),void 0!==i&&(this.colorRgba=i)}},e.CombineAssemblyStructureDto=class{constructor(e,t,r,i,n){this.parts=[],this.nodes=[],this.clearDocument=!1,void 0!==e&&(this.parts=e),void 0!==t&&(this.nodes=t),void 0!==r&&(this.removals=r),void 0!==i&&(this.partUpdates=i),void 0!==n&&(this.clearDocument=n)}},e.SetDocLabelColorDto=class{constructor(e,t,r,i,n,s){this.r=.5,this.g=.5,this.b=.5,this.a=1,void 0!==e&&(this.document=e),void 0!==t&&(this.label=t),void 0!==r&&(this.r=r),void 0!==i&&(this.g=i),void 0!==n&&(this.b=n),void 0!==s&&(this.a=s)}},e.SetDocLabelNameDto=class{constructor(e,t,r){this.name="Renamed",void 0!==e&&(this.document=e),void 0!==t&&(this.label=t),void 0!==r&&(this.name=r)}},e.DocumentQueryDto=class{constructor(e){void 0!==e&&(this.document=e)}},e.DocumentLabelQueryDto=class{constructor(e,t){void 0!==e&&(this.document=e),void 0!==t&&(this.label=t)}},e.LoadStepToDocDto=class{constructor(e){void 0!==e&&(this.stepData=e)}},e.ExportDocumentToStepDto=class{constructor(e,t,r,i,n,s){this.fileName="assembly.step",this.author="Bitbybit user",this.organization="Bitbybit",this.compress=!1,this.tryDownload=!1,void 0!==e&&(this.document=e),void 0!==t&&(this.fileName=t),void 0!==r&&(this.author=r),void 0!==i&&(this.organization=i),void 0!==n&&(this.compress=n),void 0!==s&&(this.tryDownload=s)}},e.ExportDocumentToGltfDto=class{constructor(e,t,r,i,n,s,o){this.meshDeflection=.1,this.meshAngle=.5,this.mergeFaces=!1,this.forceUVExport=!1,this.fileName="assembly.glb",this.tryDownload=!1,void 0!==e&&(this.document=e),void 0!==t&&(this.meshDeflection=t),void 0!==r&&(this.meshAngle=r),void 0!==i&&(this.mergeFaces=i),void 0!==n&&(this.forceUVExport=n),void 0!==s&&(this.fileName=s),void 0!==o&&(this.tryDownload=o)}},e.CompoundShapesDto=class{constructor(e){void 0!==e&&(this.shapes=e)}},e.ThisckSolidSimpleDto=class{constructor(e,t){this.offset=1,void 0!==e&&(this.shape=e),void 0!==t&&(this.offset=t)}},e.Offset3DWireDto=class{constructor(e,t,r){this.offset=1,this.direction=[0,1,0],void 0!==e&&(this.shape=e),void 0!==t&&(this.offset=t),void 0!==r&&(this.direction=r)}},e.FaceFromWireDto=class{constructor(e,t){this.planar=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.planar=t)}},e.FaceFromWireOnFaceDto=class{constructor(e,t,r){this.inside=!0,void 0!==e&&(this.wire=e),void 0!==t&&(this.face=t),void 0!==r&&(this.inside=r)}},e.FacesFromWiresOnFaceDto=class{constructor(e,t,r){this.inside=!0,void 0!==e&&(this.wires=e),void 0!==t&&(this.face=t),void 0!==r&&(this.inside=r)}},e.FaceFromWiresDto=class{constructor(e,t){this.planar=!1,void 0!==e&&(this.shapes=e),void 0!==t&&(this.planar=t)}},e.FacesFromWiresDto=class{constructor(e,t){this.planar=!1,void 0!==e&&(this.shapes=e),void 0!==t&&(this.planar=t)}},e.FaceFromWiresOnFaceDto=class{constructor(e,t,r){this.inside=!0,void 0!==e&&(this.wires=e),void 0!==t&&(this.face=t),void 0!==r&&(this.inside=r)}},e.SewDto=class{constructor(e,t){this.tolerance=1e-7,void 0!==e&&(this.shapes=e),void 0!==t&&(this.tolerance=t)}},e.FaceIsoCurveAtParamDto=class{constructor(e,t,r){this.dir="u",void 0!==e&&(this.shape=e),void 0!==t&&(this.param=t),void 0!==r&&(this.dir=r)}},e.DivideFaceToUVPointsDto=class{constructor(e,t,r,i){this.nrOfPointsU=10,this.nrOfPointsV=10,this.flat=!1,void 0!==e&&(this.shape=e),void 0!==t&&(this.nrOfPointsU=t),void 0!==r&&(this.nrOfPointsV=r),void 0!==i&&(this.flat=i)}},e.Geom2dEllipseDto=class{constructor(e,t,r,i,n){this.center=[0,0],this.direction=[1,0],this.radiusMinor=1,this.radiusMajor=2,this.sense=!1,void 0!==e&&(this.center=e),void 0!==t&&(this.direction=t),void 0!==r&&(this.radiusMinor=r),void 0!==i&&(this.radiusMajor=i),void 0!==n&&(this.sense=n)}},e.Geom2dCircleDto=class{constructor(e,t,r,i){this.center=[0,0],this.direction=[1,0],this.radius=1,this.sense=!1,void 0!==e&&(this.center=e),void 0!==t&&(this.direction=t),void 0!==r&&(this.radius=r),void 0!==i&&(this.sense=i)}};class O{constructor(e,t,r,i,n,s,o,a,c,h){this.height=6,this.innerDist=1.5,this.outerDist=3,this.nrSkirts=5,this.trunkHeight=1,this.trunkWidth=1,this.half=!1,this.rotation=0,this.origin=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.height=e),void 0!==t&&(this.innerDist=t),void 0!==r&&(this.outerDist=r),void 0!==i&&(this.nrSkirts=i),void 0!==n&&(this.trunkHeight=n),void 0!==s&&(this.trunkWidth=s),void 0!==o&&(this.half=o),void 0!==a&&(this.rotation=a),void 0!==c&&(this.origin=c),void 0!==h&&(this.direction=h)}}e.ChristmasTreeDto=O;class A{constructor(e,t,r,i,n,s,o){this.center=[0,0,0],this.direction=[0,1,0],this.numRays=7,this.half=!1,void 0!==e&&(this.outerRadius=e),void 0!==t&&(this.innerRadius=t),void 0!==r&&(this.numRays=r),void 0!==i&&(this.center=i),void 0!==n&&(this.direction=n),void 0!==s&&(this.offsetOuterEdges=s),void 0!==o&&(this.half=o)}}e.StarDto=A;class F{constructor(e,t,r,i,n,s){this.center=[0,0,0],this.direction=[0,1,0],this.aroundCenter=!0,this.width=2,this.height=1,this.angle=15,void 0!==e&&(this.center=e),void 0!==t&&(this.direction=t),void 0!==r&&(this.aroundCenter=r),void 0!==i&&(this.width=i),void 0!==n&&(this.height=n),void 0!==s&&(this.angle=s)}}e.ParallelogramDto=F;class R{constructor(e,t,r,i){this.center=[0,0,0],this.direction=[0,1,0],this.rotation=0,this.sizeApprox=2,void 0!==e&&(this.center=e),void 0!==t&&(this.direction=t),void 0!==r&&(this.rotation=r),void 0!==i&&(this.sizeApprox=i)}}e.Heart2DDto=R;class B{constructor(e,t,r,i){this.center=[0,0,0],this.direction=[0,1,0],this.nrCorners=6,this.radius=1,void 0!==e&&(this.center=e),void 0!==t&&(this.direction=t),void 0!==r&&(this.nrCorners=r),void 0!==i&&(this.radius=i)}}e.NGonWireDto=B,e.EllipseDto=class{constructor(e,t,r,i){this.center=[0,0,0],this.direction=[0,1,0],this.radiusMinor=1,this.radiusMajor=2,void 0!==e&&(this.center=e),void 0!==t&&(this.direction=t),void 0!==r&&(this.radiusMinor=r),void 0!==i&&(this.radiusMajor=i)}},e.HelixWireDto=class{constructor(e,t,r,i,n,s,o){this.radius=1,this.pitch=1,this.height=5,this.center=[0,0,0],this.direction=[0,1,0],this.clockwise=!1,this.tolerance=1e-4,void 0!==e&&(this.radius=e),void 0!==t&&(this.pitch=t),void 0!==r&&(this.height=r),void 0!==i&&(this.center=i),void 0!==n&&(this.direction=n),void 0!==s&&(this.clockwise=s),void 0!==o&&(this.tolerance=o)}},e.HelixWireByTurnsDto=class{constructor(e,t,r,i,n,s,o){this.radius=1,this.pitch=1,this.numTurns=5,this.center=[0,0,0],this.direction=[0,1,0],this.clockwise=!1,this.tolerance=1e-4,void 0!==e&&(this.radius=e),void 0!==t&&(this.pitch=t),void 0!==r&&(this.numTurns=r),void 0!==i&&(this.center=i),void 0!==n&&(this.direction=n),void 0!==s&&(this.clockwise=s),void 0!==o&&(this.tolerance=o)}},e.TaperedHelixWireDto=class{constructor(e,t,r,i,n,s,o,a){this.startRadius=2,this.endRadius=.5,this.pitch=1,this.height=5,this.center=[0,0,0],this.direction=[0,1,0],this.clockwise=!1,this.tolerance=1e-4,void 0!==e&&(this.startRadius=e),void 0!==t&&(this.endRadius=t),void 0!==r&&(this.pitch=r),void 0!==i&&(this.height=i),void 0!==n&&(this.center=n),void 0!==s&&(this.direction=s),void 0!==o&&(this.clockwise=o),void 0!==a&&(this.tolerance=a)}},e.FlatSpiralWireDto=class{constructor(e,t,r,i,n,s,o){this.startRadius=.5,this.endRadius=5,this.numTurns=5,this.center=[0,0,0],this.direction=[0,1,0],this.clockwise=!1,this.tolerance=1e-4,void 0!==e&&(this.startRadius=e),void 0!==t&&(this.endRadius=t),void 0!==r&&(this.numTurns=r),void 0!==i&&(this.center=i),void 0!==n&&(this.direction=n),void 0!==s&&(this.clockwise=s),void 0!==o&&(this.tolerance=o)}},e.TextWiresDto=class{constructor(e,t,r,i,n,s,o,a,c,h,u,l){this.text="Hello World",this.xOffset=0,this.yOffset=0,this.height=1,this.lineSpacing=2,this.letterSpacing=0,this.extrudeOffset=0,this.centerOnOrigin=!1,void 0!==e&&(this.text=e),void 0!==t&&(this.xOffset=t),void 0!==r&&(this.yOffset=r),void 0!==i&&(this.height=i),void 0!==n&&(this.lineSpacing=n),void 0!==s&&(this.letterSpacing=s),void 0!==o&&(this.align=o),void 0!==a&&(this.extrudeOffset=a),void 0!==l&&(this.centerOnOrigin=l)}},e.GeomCylindricalSurfaceDto=class{constructor(e,t,r){this.radius=1,this.center=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.radius=e),void 0!==t&&(this.center=t),void 0!==r&&(this.direction=r)}},e.Geom2dTrimmedCurveDto=class{constructor(e,t,r,i,n){this.u1=0,this.u2=1,this.sense=!0,this.adjustPeriodic=!0,void 0!==e&&(this.shape=e),void 0!==t&&(this.u1=t),void 0!==r&&(this.u2=r),void 0!==i&&(this.sense=i),void 0!==n&&(this.adjustPeriodic=n)}},e.Geom2dSegmentDto=class{constructor(e,t){this.start=[0,0],this.end=[1,0],void 0!==e&&(this.start=e),void 0!==t&&(this.end=t)}},e.SliceDto=class{constructor(e,t,r){this.step=.1,this.direction=[0,1,0],void 0!==e&&(this.shape=e),void 0!==t&&(this.step=t),void 0!==r&&(this.direction=r)}},e.SliceInStepPatternDto=class{constructor(e,t,r){this.steps=[.1,.2],this.direction=[0,1,0],void 0!==e&&(this.shape=e),void 0!==t&&(this.steps=t),void 0!==r&&(this.direction=r)}},e.SimpleLinearLengthDimensionDto=class{constructor(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m){this.offsetFromPoints=0,this.crossingSize=.2,this.decimalPlaces=2,this.labelSuffix="(cm)",this.labelSize=.1,this.labelOffset=.3,this.labelRotation=0,this.endType=E.none,this.arrowSize=.3,this.arrowAngle=30,this.arrowsFlipped=!1,this.labelFlipHorizontal=!1,this.labelFlipVertical=!1,this.labelOverwrite="1*val",this.removeTrailingZeros=!1,void 0!==e&&(this.start=e),void 0!==t&&(this.end=t),void 0!==r&&(this.direction=r),void 0!==i&&(this.offsetFromPoints=i),void 0!==n&&(this.crossingSize=n),void 0!==s&&(this.labelSuffix=s),void 0!==o&&(this.labelSize=o),void 0!==a&&(this.labelOffset=a),void 0!==c&&(this.labelRotation=c),void 0!==h&&(this.endType=h),void 0!==u&&(this.arrowSize=u),void 0!==l&&(this.arrowAngle=l),void 0!==d&&(this.arrowsFlipped=d),void 0!==p&&(this.labelFlipHorizontal=p),void 0!==f&&(this.labelFlipVertical=f),void 0!==v&&(this.labelOverwrite=v),void 0!==m&&(this.removeTrailingZeros=m)}},e.SimpleAngularDimensionDto=class{constructor(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y){this.direction1=[1,0,0],this.direction2=[0,0,1],this.center=[0,0,0],this.radius=4,this.offsetFromCenter=.5,this.extraSize=0,this.decimalPlaces=2,this.labelSuffix="(deg)",this.labelSize=.1,this.labelOffset=.3,this.radians=!1,this.endType=E.none,this.arrowSize=.3,this.arrowAngle=30,this.arrowsFlipped=!1,this.labelRotation=0,this.labelFlipHorizontal=!1,this.labelFlipVertical=!1,this.labelOverwrite="1*val",this.removeTrailingZeros=!1,void 0!==e&&(this.direction1=e),void 0!==t&&(this.direction2=t),void 0!==r&&(this.center=r),void 0!==i&&(this.radius=i),void 0!==n&&(this.offsetFromCenter=n),void 0!==s&&(this.extraSize=s),void 0!==o&&(this.radians=o),void 0!==a&&(this.labelSuffix=a),void 0!==c&&(this.labelSize=c),void 0!==h&&(this.labelOffset=h),void 0!==u&&(this.endType=u),void 0!==l&&(this.arrowSize=l),void 0!==d&&(this.arrowAngle=d),void 0!==p&&(this.arrowsFlipped=p),void 0!==f&&(this.labelRotation=f),void 0!==v&&(this.labelFlipHorizontal=v),void 0!==m&&(this.labelFlipVertical=m),void 0!==g&&(this.labelOverwrite=g),void 0!==y&&(this.removeTrailingZeros=y)}},e.PinWithLabelDto=class{constructor(e,t,r,i,n,s,o,a,c,h,u,l,d,p){this.startPoint=[0,0,0],this.endPoint=[0,5,2],this.direction=[0,0,1],this.offsetFromStart=0,this.label="Pin",this.labelOffset=.3,this.labelSize=.1,this.endType=E.none,this.arrowSize=.3,this.arrowAngle=30,this.arrowsFlipped=!1,this.labelRotation=0,this.labelFlipHorizontal=!1,this.labelFlipVertical=!1,void 0!==e&&(this.startPoint=e),void 0!==t&&(this.endPoint=t),void 0!==r&&(this.direction=r),void 0!==i&&(this.offsetFromStart=i),void 0!==n&&(this.label=n),void 0!==s&&(this.labelOffset=s),void 0!==o&&(this.labelSize=o),void 0!==a&&(this.endType=a),void 0!==c&&(this.arrowSize=c),void 0!==h&&(this.arrowAngle=h),void 0!==u&&(this.arrowsFlipped=u),void 0!==l&&(this.labelRotation=l),void 0!==d&&(this.labelFlipHorizontal=d),void 0!==p&&(this.labelFlipVertical=p)}},e.StarSolidDto=class extends A{constructor(e,t,r,i,n,s,o,a,c){super(e,t,r,i,n,s,o),this.extrusionLengthFront=1,this.extrusionLengthBack=0,void 0!==a&&(this.extrusionLengthFront=a),void 0!==c&&(this.extrusionLengthBack=c)}},e.NGonSolidDto=class extends B{constructor(e,t,r,i,n,s){super(e,t,r,i),this.extrusionLengthFront=1,this.extrusionLengthBack=0,void 0!==n&&(this.extrusionLengthFront=n),void 0!==s&&(this.extrusionLengthBack=s)}},e.ParallelogramSolidDto=class extends F{constructor(e,t,r,i,n,s,o,a){super(e,t,r,i,n,s),this.extrusionLengthFront=1,this.extrusionLengthBack=0,void 0!==o&&(this.extrusionLengthFront=o),void 0!==a&&(this.extrusionLengthBack=a)}},e.HeartSolidDto=class extends R{constructor(e,t,r,i,n,s){super(e,t,r,i),this.extrusionLengthFront=1,this.extrusionLengthBack=0,void 0!==n&&(this.extrusionLengthFront=n),void 0!==s&&(this.extrusionLengthBack=s)}},e.ChristmasTreeSolidDto=class extends O{constructor(e,t,r,i,n,s,o,a,c,h,u,l){super(e,t,r,i,n,s,o,a,c,h),this.extrusionLengthFront=1,this.extrusionLengthBack=0,void 0!==u&&(this.extrusionLengthFront=u),void 0!==l&&(this.extrusionLengthBack=l)}},e.LPolygonSolidDto=class extends P{constructor(e,t,r,i,n,s,o,a,c,h){super(e,t,r,i,n,s,o,a),this.extrusionLengthFront=1,this.extrusionLengthBack=0,void 0!==c&&(this.extrusionLengthFront=c),void 0!==h&&(this.extrusionLengthBack=h)}}}(n||(n={}));var o=r(656);class a{starLines(e,t,r,i,n){let s=[];const o=2*Math.PI/r;for(let i=0;i<r;i++){const r=i*o,a=n||0,c=[t*Math.cos(r),a,t*Math.sin(r)],h=[e*Math.cos(r+o/2),0,e*Math.sin(r+o/2)],u=[t*Math.cos(r+o),a,t*Math.sin(r+o)];s.push({start:c,end:h}),s.push({start:h,end:u})}return i&&(s=s.slice(0,s.length/2)),s}parallelogram(e,t,r,i){const n=r*Math.PI/180;let s,o,a,c,h,u,l,d;i?(s=-e/2,o=-t/2,a=e/2,c=-t/2,h=e/2,u=t/2,l=-e/2,d=t/2):(s=0,o=0,a=e,c=0,h=e,u=t,l=0,d=t);const p=t*Math.tan(n)/2;s+=p,a+=p,h-=p,l-=p;const f=[s,0,o],v=[a,0,c],m=[h,0,u],g=[l,0,d];return[{start:f,end:v},{start:v,end:m},{start:m,end:g},{start:g,end:f}]}ngon(e,t,r){const i=2*Math.PI/e,n=[];for(let s=0;s<e;s++){const e=[r[0]+t*Math.cos(s*i),0,r[1]+t*Math.sin(s*i)],o=[r[0]+t*Math.cos((s+1)*i),0,r[1]+t*Math.sin((s+1)*i)];n.push({start:e,end:o})}return n}polygonL(e,t,r,i){return[[0,0,0],[t,0,0],[t,0,-e],[-r,0,-e],[-r,0,i],[0,0,i]]}polygonLInverted(e,t,r,i){return e>=i&&(e=i-1e-6,console.warn("width first is bigger than length second, to make it work, width second is set to length first - 1e-6")),r>=t&&(r=t-1e-6,console.warn("width second is bigger than length first, to make it work, width second is set to length first - 1e-6")),[[0,0,0],[t,0,0],[t,0,e],[r,0,e],[r,0,i],[0,0,i]]}polygonLMiddle(e,t,r,i){return e>=i&&(e=i-1e-6,console.warn("width first is bigger than length second, to make it work, width second is set to length first - 1e-6")),r>=t&&(r=t-1e-6,console.warn("width second is bigger than length first, to make it work, width second is set to length first - 1e-6")),[[r/2,0,e/2],[r/2,0,i],[-r/2,0,i],[-r/2,0,-e/2],[t,0,-e/2],[t,0,e/2]]}beamIProfile(e,t,r,i,n){const s=e/2,o=t/2,a=r/2,c=[[-s,0,o],[s,0,o],[s,0,o-i],[a,0,o-i],[a,0,-o+i],[s,0,-o+i],[s,0,-o],[-s,0,-o],[-s,0,-o+i],[-a,0,-o+i],[-a,0,o-i],[-s,0,o-i]];return this.applyBeamAlignment(c,e,t,n)}beamHProfile(e,t,r,i,n){const s=e/2,o=t/2,a=r/2,c=[[-s,0,o],[-s+i,0,o],[-s+i,0,a],[s-i,0,a],[s-i,0,o],[s,0,o],[s,0,-o],[s-i,0,-o],[s-i,0,-a],[-s+i,0,-a],[-s+i,0,-o],[-s,0,-o]];return this.applyBeamAlignment(c,e,t,n)}beamTProfile(e,t,r,i,n){const s=e/2,o=t/2,a=r/2,c=[[-s,0,o],[s,0,o],[s,0,o-i],[a,0,o-i],[a,0,-o],[-a,0,-o],[-a,0,o-i],[-s,0,o-i]];return this.applyBeamAlignment(c,e,t,n)}beamUProfile(e,t,r,i,n,s){const o=e/2,a=t/2,c=[[-o,0,a],[-o+i,0,a],[-o+i,0,-a+n],[o-r,0,-a+n],[o-r,0,a],[o,0,a],[o,0,-a],[-o,0,-a]];return this.applyBeamAlignment(c,e,t,s)}applyBeamAlignment(e,t,r,i){let n=0,o=0;switch(i){case s.C6.basicAlignmentEnum.topLeft:n=t/2,o=-r/2;break;case s.C6.basicAlignmentEnum.topMid:n=0,o=-r/2;break;case s.C6.basicAlignmentEnum.topRight:n=-t/2,o=-r/2;break;case s.C6.basicAlignmentEnum.midLeft:n=t/2,o=0;break;case s.C6.basicAlignmentEnum.midMid:n=0,o=0;break;case s.C6.basicAlignmentEnum.midRight:n=-t/2,o=0;break;case s.C6.basicAlignmentEnum.bottomLeft:n=t/2,o=r/2;break;case s.C6.basicAlignmentEnum.bottomMid:n=0,o=r/2;break;case s.C6.basicAlignmentEnum.bottomRight:n=-t/2,o=r/2}return e.map((e=>[e[0]+n,e[1],e[2]+o]))}}class c{constructor(){this.tolerance=1e-5}degToRad(e){return e*(Math.PI/180)}remap(e,t,r,i,n){return(e-t)/(r-t)*(n-i)+i}removeAllDuplicateVectors(e,t=1e-7){const r=[];return e.forEach((e=>{r.some((r=>this.vectorsTheSame(e,r,t)))||r.push(e)})),r}removeConsecutiveDuplicates(e,t=!0){const r=[];if(e.length>1){for(let t=1;t<e.length;t++){const i=e[t],n=e[t-1];this.vectorsTheSame(i,n,this.tolerance)||r.push(n),t===e.length-1&&r.push(i)}if(t){const e=r[0],t=r[r.length-1];this.vectorsTheSame(e,t,this.tolerance)&&r.pop()}}else 1===e.length&&r.push(...e);return r}vectorsTheSame(e,t,r){let i=!1;if(e.length!==t.length)return i;i=!0;for(let n=0;n<e.length;n++)if(!this.approxEq(e[n],t[n],r)){i=!1;break}return i}approxEq(e,t,r){return Math.abs(e-t)<r}averageVector(e){return e.reduce(((e,t)=>e.map(((e,r)=>e+t[r]))),[0,0,0]).map((t=>t/e.length))}magnitude(e){return Math.sqrt(e.reduce(((e,t)=>e+t*t),0))}normalize(e){const t=this.magnitude(e);return e.map((e=>e/t))}translatePoint(e,t,r){return[e[0]+t[0]*r,e[1]+t[1]*r,e[2]+t[2]*r]}angleBetweenVectors(e,t){const r=e[0]*t[0]+e[1]*t[1]+e[2]*t[2],i=this.magnitude(e),n=this.magnitude(t);return Math.acos(r/(i*n))}distanceBetweenPoints(e,t){const r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(r*r+i*i+n*n)}}class h{constructor(e,t){this.occ=e,this.och=t}geom2dEllipse(e){const t=[-e.direction[1],e.direction[0]],r=this.och.entitiesService.gpAx22d(e.center,e.direction,t),i=this.occ.CreateGeom2d_Ellipse(r,e.radiusMajor,e.radiusMinor);return r.delete(),i}geom2dCircle(e){const t=[-e.direction[1],e.direction[0]],r=this.och.entitiesService.gpAx22d(e.center,e.direction,t),i=this.occ.CreateGeom2d_Circle(r,e.radius);return r.delete(),i}geom2dTrimmedCurve(e){return this.occ.CreateGeom2d_TrimmedCurve(e.shape,e.u1,e.u2)}geom2dSegment(e){const t=this.och.entitiesService.gpPnt2d(e.start),r=this.och.entitiesService.gpPnt2d(e.end),i=this.occ.CreateGeom2d_Segment(t,r);return t.delete(),r.delete(),i}get2dPointFrom2dCurveOnParam(e){const t=e.shape.Value(e.param),r=[t.X(),t.Y()];return t.delete(),r}geomCircleCurve(e){return this.och.entitiesService.createCircle(e.radius,e.center,e.direction,n.typeSpecificityEnum.wire)}geomEllipseCurve(e){return this.och.entitiesService.createEllipse(e.radiusMinor,e.radiusMajor,e.center,e.direction,n.typeSpecificityEnum.wire)}}class u{constructor(e,t){this.occ=e,this.och=t}cylindricalSurface(e){const t=this.och.entitiesService.gpAx3_4(e.center,e.direction),r=new this.occ.Geom_CylindricalSurface(t,e.radius);return t.delete(),r}surfaceFromFace(e){return this.och.surfaceFromFace(e)}}class l{constructor(e,t){this.curves=new h(e,t),this.surfaces=new u(e,t)}}class d{constructor(e,t){this.occ=e,this.och=t}fromBaseLine(e){return this.line(e.line)}fromBaseLines(e){return e.lines.map((e=>this.line(e)))}fromBaseSegment(e){return this.line({start:e.segment[0],end:e.segment[1]})}fromBaseSegments(e){return e.segments.map((e=>this.line({start:e[0],end:e[1]})))}fromPoints(e){const t=[];for(let r=0;r<e.points.length-1;r++){const i=e.points[r],n=e.points[r+1];t.push(this.line({start:i,end:n}))}return t}fromBasePolyline(e){const t=e.polyline.points;return e.polyline.isClosed&&t.push(t[0]),this.fromPoints({points:t})}fromBaseTriangle(e){const t=e.triangle;return this.fromBasePolyline({polyline:{points:t,isClosed:!0}})}fromBaseMesh(e){const t=[];return e.mesh.forEach((e=>{try{t.push(this.fromBaseTriangle({triangle:e}))}catch(t){console.warn("Failed to make edges for triangle",e)}})),t.flat()}makeEdgeFromGeom2dCurveAndSurface(e){return this.och.edgesService.makeEdgeFromGeom2dCurveAndSurface(e)}line(e){return this.och.edgesService.lineEdge(e)}arcThroughThreePoints(e){return this.och.edgesService.arcThroughThreePoints(e)}arcThroughTwoPointsAndTangent(e){return this.och.edgesService.arcThroughTwoPointsAndTangent(e)}arcFromCircleAndTwoPoints(e){return this.och.edgesService.arcFromCircleAndTwoPoints(e)}arcFromCircleAndTwoAngles(e){return this.och.edgesService.arcFromCircleAndTwoAngles(e)}arcFromCirclePointAndAngle(e){return this.och.edgesService.arcFromCirclePointAndAngle(e)}createCircleEdge(e){return this.och.entitiesService.createCircle(e.radius,e.center,e.direction,n.typeSpecificityEnum.edge)}createEllipseEdge(e){return this.och.entitiesService.createEllipse(e.radiusMinor,e.radiusMajor,e.center,e.direction,n.typeSpecificityEnum.edge)}removeInternalEdges(e){return this.occ.ShapeUpgrade_UnifySameDomain_Perform(e.shape,!0,!0,!1)}getEdge(e){return this.och.shapeGettersService.getEdge(e)}edgesToPoints(e){return this.och.edgesService.edgesToPoints(e)}reversedEdge(e){const t=e.shape.Reversed(),r=this.och.converterService.getActualTypeOfShape(t);return t.delete(),r}pointOnEdgeAtParam(e){return this.och.edgesService.pointOnEdgeAtParam(e)}pointsOnEdgesAtParam(e){return e.shapes.map((t=>this.och.edgesService.pointOnEdgeAtParam({shape:t,param:e.param})))}tangentOnEdgeAtParam(e){return this.och.edgesService.tangentOnEdgeAtParam(e)}tangentsOnEdgesAtParam(e){return e.shapes.map((t=>this.och.edgesService.tangentOnEdgeAtParam({shape:t,param:e.param})))}startPointOnEdge(e){return this.och.edgesService.startPointOnEdge(e)}startPointsOnEdges(e){return e.shapes.map((e=>this.och.edgesService.startPointOnEdge({shape:e})))}endPointOnEdge(e){return this.och.edgesService.endPointOnEdge(e)}endPointsOnEdges(e){return e.shapes.map((e=>this.och.edgesService.endPointOnEdge({shape:e})))}pointOnEdgeAtLength(e){return this.och.edgesService.pointOnEdgeAtLength(e)}pointsOnEdgesAtLength(e){return e.shapes.map((t=>this.och.edgesService.pointOnEdgeAtLength({shape:t,length:e.length})))}tangentOnEdgeAtLength(e){return this.och.edgesService.tangentOnEdgeAtLength(e)}tangentsOnEdgesAtLength(e){return e.shapes.map((t=>this.och.edgesService.tangentOnEdgeAtLength({shape:t,length:e.length})))}divideEdgeByParamsToPoints(e){return this.och.edgesService.divideEdgeByParamsToPoints(e)}divideEdgesByParamsToPoints(e){return e.shapes.map((t=>this.divideEdgeByParamsToPoints({shape:t,nrOfDivisions:e.nrOfDivisions,removeEndPoint:e.removeEndPoint,removeStartPoint:e.removeStartPoint})))}divideEdgeByEqualDistanceToPoints(e){return this.och.edgesService.divideEdgeByEqualDistanceToPoints(e)}divideEdgesByEqualDistanceToPoints(e){return e.shapes.map((t=>this.divideEdgeByEqualDistanceToPoints({shape:t,nrOfDivisions:e.nrOfDivisions,removeEndPoint:e.removeEndPoint,removeStartPoint:e.removeStartPoint})))}isEdgeLinear(e){return this.och.edgesService.isEdgeLinear(e)}isEdgeCircular(e){return this.och.edgesService.isEdgeCircular(e)}getEdges(e){return this.och.shapeGettersService.getEdges(e)}getEdgesAlongWire(e){return this.och.edgesService.getEdgesAlongWire(e)}getCircularEdgesAlongWire(e){return this.och.edgesService.getCircularEdgesAlongWire(e)}getLinearEdgesAlongWire(e){return this.och.edgesService.getLinearEdgesAlongWire(e)}getEdgeLength(e){return this.och.edgesService.getEdgeLength(e)}getEdgeLengthsOfShape(e){return this.och.edgesService.getEdgeLengthsOfShape(e)}getEdgesLengths(e){return this.och.edgesService.getEdgesLengths(e)}getEdgeCenterOfMass(e){return this.och.geomService.getLinearCenterOfMass(e)}getEdgesCentersOfMass(e){return this.och.edgesService.getEdgesCentersOfMass(e)}getCornerPointsOfEdgesForShape(e){return this.och.edgesService.getCornerPointsOfEdgesForShape(e)}getCircularEdgeCenterPoint(e){return this.och.edgesService.getCircularEdgeCenterPoint(e)}getCircularEdgeRadius(e){return this.och.edgesService.getCircularEdgeRadius(e)}getCircularEdgePlaneDirection(e){return this.och.edgesService.getCircularEdgePlaneDirection(e)}constraintTanLinesFromTwoPtsToCircle(e){return this.och.edgesService.constraintTanLinesFromTwoPtsToCircle(e)}constraintTanLinesFromPtToCircle(e){return this.och.edgesService.constraintTanLinesFromPtToCircle(e)}constraintTanLinesOnTwoCircles(e){return this.och.edgesService.constraintTanLinesOnTwoCircles(e)}constraintTanCirclesOnTwoCircles(e){return this.och.edgesService.constraintTanCirclesOnTwoCircles(e)}constraintTanCirclesOnCircleAndPnt(e){return this.och.edgesService.constraintTanCirclesOnCircleAndPnt(e)}createSymmetricPeriodicBSplineEdge(e){return this.och.edgesService.createSymmetricPeriodicBSplineEdge(e)}}class p{constructor(e,t){this.occ=e,this.och=t}fromBaseTriangle(e){const t=this.och.wiresService.createPolygonWire({points:e.triangle});return this.createFaceFromWire({shape:t,planar:!0})}fromBaseMesh(e){const t=[];return e.mesh.forEach((e=>{try{t.push(this.fromBaseTriangle({triangle:e}))}catch(t){console.warn("Failed to make face for triangle",e)}})),t.flat()}createFaceFromWire(e){return this.och.facesService.createFaceFromWire(e)}createFaceFromWireOnFace(e){return this.och.facesService.createFaceFromWireOnFace(e)}createFacesFromWiresOnFace(e){return this.och.facesService.createFacesFromWiresOnFace(e)}createFaceFromWires(e){return this.och.facesService.createFaceFromWires(e)}createFacesFromWires(e){return this.och.facesService.createFacesFromWires(e)}createFaceFromWiresOnFace(e){return this.och.facesService.createFaceFromWiresOnFace(e)}faceFromSurface(e){return this.och.facesService.faceFromSurface(e)}faceFromSurfaceAndWire(e){return this.och.facesService.faceFromSurfaceAndWire(e)}getUMinBound(e){return this.och.facesService.getUMinBound(e)}getUMaxBound(e){return this.och.facesService.getUMaxBound(e)}getVMinBound(e){return this.och.facesService.getVMinBound(e)}getVMaxBound(e){return this.och.facesService.getVMaxBound(e)}subdivideToPointsControlled(e){return this.och.facesService.subdivideToPointsControlled(e)}subdivideToPoints(e){return this.och.facesService.subdivideToPoints(e)}subdivideToWires(e){return this.och.facesService.subdivideToWires(e)}subdivideToRectangleWires(e){return this.och.facesService.subdivideToRectangleWires(e)}subdivideToRectangleHoles(e){return this.och.facesService.subdivideToRectangleHoles(e)}subdivideToHexagonWires(e){return this.och.facesService.subdivideToHexagonWires(e)}subdivideToHexagonHoles(e){return this.och.facesService.subdivideToHexagonHoles(e)}subdivideToNormals(e){return this.och.facesService.subdivideToNormals(e)}subdivideToPointsOnParam(e){return this.och.facesService.subdivideToPointsOnParam(e)}wireAlongParam(e){return this.och.facesService.wireAlongParam(e)}wiresAlongParams(e){return this.och.facesService.wiresAlongParams(e)}subdivideToUVOnParam(e){return this.och.facesService.subdivideToUVOnParam(e)}subdivideToUV(e){return this.och.facesService.subdivideToUV(e)}uvOnFace(e){return this.och.facesService.uvOnFace(e)}pointsOnUVs(e){return this.och.facesService.pointsOnUVs(e)}normalsOnUVs(e){return this.och.facesService.normalsOnUVs(e)}pointOnUV(e){return this.och.facesService.pointOnUV(e)}normalOnUV(e){return this.och.facesService.faceNormalOnUV(e)}createPolygonFace(e){return this.och.facesService.createPolygonFace(e)}createCircleFace(e){return this.och.entitiesService.createCircle(e.radius,e.center,e.direction,n.typeSpecificityEnum.face)}hexagonsInGrid(e){const t=this.och.wiresService.hexagonsInGrid(e);return this.och.facesService.createFacesFromWires({shapes:t,planar:!0})}createEllipseFace(e){return this.och.entitiesService.createEllipse(e.radiusMinor,e.radiusMajor,e.center,e.direction,n.typeSpecificityEnum.face)}createSquareFace(e){return this.och.facesService.createSquareFace(e)}createRectangleFace(e){return this.och.facesService.createRectangleFace(e)}createLPolygonFace(e){const t=this.och.wiresService.createLPolygonWire(e);return this.createFaceFromWire({shape:t,planar:!0})}createIBeamProfileFace(e){const t=this.och.wiresService.createIBeamProfileWire(e);return this.createFaceFromWire({shape:t,planar:!0})}createHBeamProfileFace(e){const t=this.och.wiresService.createHBeamProfileWire(e);return this.createFaceFromWire({shape:t,planar:!0})}createTBeamProfileFace(e){const t=this.och.wiresService.createTBeamProfileWire(e);return this.createFaceFromWire({shape:t,planar:!0})}createUBeamProfileFace(e){const t=this.och.wiresService.createUBeamProfileWire(e);return this.createFaceFromWire({shape:t,planar:!0})}createStarFace(e){const t=this.och.wiresService.createStarWire(e);return this.createFaceFromWire({shape:t,planar:!0})}createChristmasTreeFace(e){const t=this.och.wiresService.createChristmasTreeWire(e);return this.createFaceFromWire({shape:t,planar:!0})}createParallelogramFace(e){const t=this.och.wiresService.createParallelogramWire(e);return this.createFaceFromWire({shape:t,planar:!0})}createHeartFace(e){const t=this.och.wiresService.createHeartWire(e);return this.createFaceFromWire({shape:t,planar:!0})}createNGonFace(e){const t=this.och.wiresService.createNGonWire(e);return this.createFaceFromWire({shape:t,planar:!0})}createFaceFromMultipleCircleTanWireCollections(e){return this.och.facesService.createFaceFromMultipleCircleTanWireCollections(e)}createFaceFromMultipleCircleTanWires(e){return this.och.facesService.createFaceFromMultipleCircleTanWires(e)}getFace(e){return this.och.shapeGettersService.getFace(e)}getFaces(e){return this.och.shapeGettersService.getFaces(e)}reversedFace(e){const t=e.shape.Reversed(),r=this.och.converterService.getActualTypeOfShape(t);return t.delete(),r}getFaceArea(e){return this.och.facesService.getFaceArea(e)}getFacesAreas(e){return this.och.facesService.getFacesAreas(e)}getFaceCenterOfMass(e){return this.och.facesService.getFaceCenterOfMass(e)}getFacesCentersOfMass(e){return this.och.facesService.getFacesCentersOfMass(e)}filterFacePoints(e){return this.och.facesService.filterFacePoints(e)}filterFacesPoints(e){let t=e.shapes.map((t=>this.och.facesService.filterFacePoints(Object.assign(Object.assign({},e),{shape:t}))));return e.flatPointsArray&&(t=t.flat()),t}}class f{constructor(e,t){this.occ=e,this.och=t}makeCompound(e){return this.och.converterService.makeCompound(e)}getShapesOfCompound(e){return this.och.shapeGettersService.getShapesOfCompound(e)}}class v{constructor(e,t){this.occ=e,this.och=t}vertexFromXYZ(e){return this.och.verticesService.vertexFromXYZ(e)}vertexFromPoint(e){return this.och.verticesService.vertexFromPoint(e)}verticesFromPoints(e){return this.och.verticesService.verticesFromPoints(e)}verticesCompoundFromPoints(e){return this.och.verticesService.verticesCompoundFromPoints(e)}getVertices(e){return this.och.verticesService.getVertices(e)}getVerticesAsPoints(e){return this.och.verticesService.getVerticesAsPoints(e)}verticesToPoints(e){return this.och.verticesService.verticesToPoints(e)}vertexToPoint(e){return this.och.verticesService.vertexToPoint(e)}projectPoints(e){return this.och.verticesService.projectPoints(e)}}class m{constructor(e,t){this.occ=e,this.och=t}purgeInternalEdges(e){return e.shape}unifySameDomain(e){return this.occ.ShapeUpgrade_UnifySameDomain_Perform(e.shape,e.unifyEdges,e.unifyFaces,e.concatBSplines)}isClosed(e){return e.shape.Closed()}isConvex(e){return e.shape.Convex()}isChecked(e){return e.shape.Checked()}isFree(e){return e.shape.Free()}isInfinite(e){return e.shape.Infinite()}isModified(e){return e.shape.Modified()}isLocked(e){return e.shape.Locked()}isNull(e){return e.shape.IsNull()}isEqual(e){return e.shape.IsEqual(e.otherShape)}isNotEqual(e){return e.shape.IsNotEqual(e.otherShape)}isPartner(e){return e.shape.IsPartner(e.otherShape)}isSame(e){return e.shape.IsSame(e.otherShape)}getOrientation(e){const t=e.shape.Orientation();let r;return t===this.occ.TopAbs_Orientation.FORWARD?r=n.topAbsOrientationEnum.forward:t===this.occ.TopAbs_Orientation.REVERSED?r=n.topAbsOrientationEnum.reversed:t===this.occ.TopAbs_Orientation.INTERNAL?r=n.topAbsOrientationEnum.internal:t===this.occ.TopAbs_Orientation.EXTERNAL&&(r=n.topAbsOrientationEnum.external),r}getShapeType(e){return this.och.enumService.getShapeTypeEnum(e.shape)}}class g{constructor(e,t){this.occ=e,this.och=t}sewFaces(e){return this.och.shellsService.sewFaces(e)}isClosed(e){return this.occ.BRep_Tool_IsClosed(e.shape)}getShellSurfaceArea(e){return this.och.shellsService.getShellSurfaceArea(e)}}class y{constructor(e,t){this.occ=e,this.och=t}fromClosedShell(e){return this.och.solidsService.fromClosedShell(e)}createBox(e){return this.och.solidsService.createBox(e)}createCube(e){return this.och.solidsService.createCube(e)}createBoxFromCorner(e){return this.och.solidsService.createBoxFromCorner(e)}createCylinder(e){return this.och.solidsService.createCylinder(e)}createCylindersOnLines(e){return this.och.solidsService.createCylindersOnLines(e)}createSphere(e){return this.och.solidsService.createSphere(e)}createCone(e){return this.och.solidsService.createCone(e)}createTorus(e){return this.och.solidsService.createTorus(e)}createIBeamProfileSolid(e){const t=this.och.wiresService.createIBeamProfileWire(e),r=this.och.facesService.createFaceFromWire({shape:t,planar:!0});return this.extrudeFaceToSolid(r,e.direction,e.extrusionLengthFront,e.extrusionLengthBack)}createHBeamProfileSolid(e){const t=this.och.wiresService.createHBeamProfileWire(e),r=this.och.facesService.createFaceFromWire({shape:t,planar:!0});return this.extrudeFaceToSolid(r,e.direction,e.extrusionLengthFront,e.extrusionLengthBack)}createTBeamProfileSolid(e){const t=this.och.wiresService.createTBeamProfileWire(e),r=this.och.facesService.createFaceFromWire({shape:t,planar:!0});return this.extrudeFaceToSolid(r,e.direction,e.extrusionLengthFront,e.extrusionLengthBack)}createUBeamProfileSolid(e){const t=this.och.wiresService.createUBeamProfileWire(e),r=this.och.facesService.createFaceFromWire({shape:t,planar:!0});return this.extrudeFaceToSolid(r,e.direction,e.extrusionLengthFront,e.extrusionLengthBack)}createStarSolid(e){const t=this.och.wiresService.createStarWire(e),r=this.och.facesService.createFaceFromWire({shape:t,planar:!0});return this.extrudeFaceToSolid(r,e.direction,e.extrusionLengthFront,e.extrusionLengthBack)}createNGonSolid(e){const t=this.och.wiresService.createNGonWire(e),r=this.och.facesService.createFaceFromWire({shape:t,planar:!0});return this.extrudeFaceToSolid(r,e.direction,e.extrusionLengthFront,e.extrusionLengthBack)}createParallelogramSolid(e){const t=this.och.wiresService.createParallelogramWire(e),r=this.och.facesService.createFaceFromWire({shape:t,planar:!0});return this.extrudeFaceToSolid(r,e.direction,e.extrusionLengthFront,e.extrusionLengthBack)}createHeartSolid(e){const t=this.och.wiresService.createHeartWire(e),r=this.och.facesService.createFaceFromWire({shape:t,planar:!0});return this.extrudeFaceToSolid(r,e.direction,e.extrusionLengthFront,e.extrusionLengthBack)}createChristmasTreeSolid(e){const t=this.och.wiresService.createChristmasTreeWire(e),r=this.och.facesService.createFaceFromWire({shape:t,planar:!0});return this.extrudeFaceToSolid(r,e.direction,e.extrusionLengthFront,e.extrusionLengthBack)}createLPolygonSolid(e){const t=this.och.wiresService.createLPolygonWire(e),r=this.och.facesService.createFaceFromWire({shape:t,planar:!0});return this.extrudeFaceToSolid(r,e.direction,e.extrusionLengthFront,e.extrusionLengthBack)}extrudeFaceToSolid(e,t,r,i){if(0===r&&0===i)throw e.delete(),new Error("Cannot create solid: both extrusionLengthFront and extrusionLengthBack are 0");const n=this.occ.CastToFace(e),s=this.och.facesService.getUMinBound({shape:n}),o=this.och.facesService.getUMaxBound({shape:n}),a=this.och.facesService.getVMinBound({shape:n}),c=this.och.facesService.getVMaxBound({shape:n}),h=((s+o)/2-s)/(o-s),u=((a+c)/2-a)/(c-a),l=this.och.facesService.normalOnUV({shape:n,paramU:h,paramV:u});let d;if(r>0){const t=new this.occ.gp_Vec(l[0]*r,l[1]*r,l[2]*r),i=new this.occ.BRepPrimAPI_MakePrism(e,t);d=i.Shape(),i.delete(),t.delete()}if(i>0){const t=new this.occ.gp_Vec(-l[0]*i,-l[1]*i,-l[2]*i),n=new this.occ.BRepPrimAPI_MakePrism(e,t),s=n.Shape();if(n.delete(),t.delete(),r>0){const e=this.och.booleansService.union({shapes:[d,s],keepEdges:!1});d.delete(),s.delete(),d=e}else d=s}return e.delete(),this.och.converterService.getActualTypeOfShape(d)}getSolidSurfaceArea(e){return this.och.solidsService.getSolidSurfaceArea(e)}getSolidVolume(e){return this.och.solidsService.getSolidVolume(e)}getSolidsVolumes(e){return this.och.solidsService.getSolidsVolumes(e)}getSolidCenterOfMass(e){return this.och.solidsService.getSolidCenterOfMass(e)}getSolidsCentersOfMass(e){return this.och.solidsService.getSolidsCentersOfMass(e)}getSolids(e){return this.och.solidsService.getSolids(e)}filterSolidPoints(e){return this.och.solidsService.filterSolidPoints(e)}}class b{constructor(e,t){this.occ=e,this.och=t}fromBaseLine(e){return this.createLineWire(e.line)}fromBaseLines(e){return e.lines.map((e=>this.createLineWire(e)))}fromBaseSegment(e){return this.createLineWire({start:e.segment[0],end:e.segment[1]})}fromBaseSegments(e){return e.segments.map((e=>this.createLineWire({start:e[0],end:e[1]})))}fromPoints(e){let t;if(e.points.length>1){const r=e.points[0],i=e.points[1];t=this.och.base.point.twoPointsAlmostEqual({point1:r,point2:i})?this.createPolygonWire({points:e.points}):this.createPolylineWire({points:e.points})}return t}fromBasePolyline(e){let t;return e.polyline.points,t=e.polyline.isClosed?this.createPolygonWire({points:e.polyline.points}):this.createPolylineWire({points:e.polyline.points}),t}fromBaseTriangle(e){const t=e.triangle;return this.fromBasePolyline({polyline:{points:t,isClosed:!0}})}fromBaseMesh(e){const t=[];return e.mesh.forEach((e=>{try{t.push(this.fromBaseTriangle({triangle:e}))}catch(t){console.warn("Failed to make wire for triangle",e)}})),t.flat()}createPolygonWire(e){return this.och.wiresService.createPolygonWire(e)}createPolygons(e){const t=e.polygons.map((e=>this.createPolygonWire(e))).filter((e=>void 0!==e));return this.och.converterService.makeCompoundIfNeeded(t,e.returnCompound)}createPolylineWire(e){return this.och.wiresService.createPolylineWire(e)}createPolylines(e){const t=e.polylines.map((e=>this.createPolylineWire(e))).filter((e=>void 0!==e));return this.och.converterService.makeCompoundIfNeeded(t,e.returnCompound)}createLineWire(e){return this.och.wiresService.createLineWire(e)}createLineWireWithExtensions(e){return this.och.wiresService.createLineWireWithExtensions(e)}createLines(e){const t=e.lines.map((e=>this.createLineWire(e))).filter((e=>void 0!==e));return this.och.converterService.makeCompoundIfNeeded(t,e.returnCompound)}createBezier(e){return this.och.wiresService.createBezier(e)}createBezierWires(e){const t=e.bezierWires.map((e=>this.createBezier(e))).filter((e=>void 0!==e));return this.och.converterService.makeCompoundIfNeeded(t,e.returnCompound)}createBezierWeights(e){return this.och.wiresService.createBezierWeights(e)}interpolatePoints(e){return this.och.wiresService.interpolatePoints(e)}interpolateWires(e){const t=e.interpolations.map((e=>this.interpolatePoints(e))).filter((e=>void 0!==e));return this.och.converterService.makeCompoundIfNeeded(t,e.returnCompound)}interpolatePointsSymmetric(e){return this.och.wiresService.interpolatePointsSymmetric(e)}splitOnPoints(e){return this.och.wiresService.splitOnPoints(e)}combineEdgesAndWiresIntoAWire(e){return this.och.converterService.combineEdgesAndWiresIntoAWire(e)}createWireFromEdge(e){return this.och.wiresService.createWireFromEdge(e)}addEdgesAndWiresToWire(e){return this.och.wiresService.addEdgesAndWiresToWire(e)}createBSpline(e){return this.och.wiresService.createBSpline(e)}createBSplines(e){const t=e.bSplines.map((e=>this.createBSpline(e))).filter((e=>void 0!==e));return this.och.converterService.makeCompoundIfNeeded(t,e.returnCompound)}hexagonsInGrid(e){return this.och.wiresService.hexagonsInGrid(e)}createZigZagBetweenTwoWires(e){return this.och.wiresService.createZigZagBetweenTwoWires(e)}divideWireByParamsToPoints(e){return this.och.wiresService.divideWireByParamsToPoints(e)}divideWiresByParamsToPoints(e){return e.shapes.map((t=>this.divideWireByParamsToPoints(Object.assign(Object.assign({},e),{shape:t}))))}divideWireByEqualDistanceToPoints(e){return this.och.wiresService.divideWireByEqualDistanceToPoints(e)}divideWiresByEqualDistanceToPoints(e){return e.shapes.map((t=>this.divideWireByEqualDistanceToPoints(Object.assign(Object.assign({},e),{shape:t}))))}pointOnWireAtParam(e){return this.och.wiresService.pointOnWireAtParam(e)}pointOnWireAtLength(e){return this.och.wiresService.pointOnWireAtLength(e)}pointsOnWireAtLengths(e){return this.och.wiresService.pointsOnWireAtLengths(e)}pointsOnWireAtEqualLength(e){return this.och.wiresService.pointsOnWireAtEqualLength(e)}pointsOnWireAtPatternOfLengths(e){return this.och.wiresService.pointsOnWireAtPatternOfLengths(e)}tangentOnWireAtParam(e){return this.och.wiresService.tangentOnWireAtParam(e)}tangentOnWireAtLength(e){return this.och.wiresService.tangentOnWireAtLength(e)}derivativesOnWireAtLength(e){const t=e.shape,r=new this.occ.BRepAdaptor_CompCurve(t,!1),i=this.occ.GCPnts_AbscissaPoint_FromCompCurve(r,e.length,r.FirstParameter()),n=i.Parameter(),s=this.och.entitiesService.gpPnt([0,0,0]),o=this.och.entitiesService.gpVec([0,0,0]),a=this.och.entitiesService.gpVec([0,0,0]),c=this.och.entitiesService.gpVec([0,0,0]);r.D3(n,s,o,a,c);const h=[[o.X(),o.Y(),o.Z()],[a.X(),a.Y(),a.Z()],[c.X(),c.Y(),c.Z()]];return o.delete(),a.delete(),c.delete(),r.delete(),i.delete(),s.delete(),h}derivativesOnWireAtParam(e){const t=e.shape,r=new this.occ.BRepAdaptor_CompCurve(t,!1),i=this.och.entitiesService.gpPnt([0,0,0]),n=this.och.entitiesService.gpVec([0,0,0]),s=this.och.entitiesService.gpVec([0,0,0]),o=this.och.entitiesService.gpVec([0,0,0]),a=this.och.vecHelper.remap(e.param,0,1,r.FirstParameter(),r.LastParameter());r.D3(a,i,n,s,o);const c=[[n.X(),n.Y(),n.Z()],[s.X(),s.Y(),s.Z()],[o.X(),o.Y(),o.Z()]];return n.delete(),s.delete(),o.delete(),r.delete(),i.delete(),c}startPointOnWire(e){return this.och.wiresService.startPointOnWire(e)}midPointOnWire(e){return this.och.wiresService.midPointOnWire(e)}endPointOnWire(e){return this.och.wiresService.endPointOnWire(e)}createCircleWire(e){return this.och.entitiesService.createCircle(e.radius,e.center,e.direction,n.typeSpecificityEnum.wire)}createEllipseWire(e){return this.och.entitiesService.createEllipse(e.radiusMinor,e.radiusMajor,e.center,e.direction,n.typeSpecificityEnum.wire)}createHelixWire(e){return this.och.wiresService.createHelixWire(e)}createHelixWireByTurns(e){return this.och.wiresService.createHelixWireByTurns(e)}createTaperedHelixWire(e){return this.och.wiresService.createTaperedHelixWire(e)}createFlatSpiralWire(e){return this.och.wiresService.createFlatSpiralWire(e)}textWires(e){return this.och.wiresService.textWires(e)}textWiresWithData(e){return this.och.wiresService.textWiresWithData(e)}createSquareWire(e){return this.och.wiresService.createSquareWire(e)}createStarWire(e){return this.och.wiresService.createStarWire(e)}createChristmasTreeWire(e){return this.och.wiresService.createChristmasTreeWire(e)}createParallelogramWire(e){return this.och.wiresService.createParallelogramWire(e)}createHeartWire(e){return this.och.wiresService.createHeartWire(e)}createNGonWire(e){return this.och.wiresService.createNGonWire(e)}createRectangleWire(e){return this.och.wiresService.createRectangleWire(e)}createLPolygonWire(e){return this.och.wiresService.createLPolygonWire(e)}createIBeamProfileWire(e){return this.och.wiresService.createIBeamProfileWire(e)}createHBeamProfileWire(e){return this.och.wiresService.createHBeamProfileWire(e)}createTBeamProfileWire(e){return this.och.wiresService.createTBeamProfileWire(e)}createUBeamProfileWire(e){return this.och.wiresService.createUBeamProfileWire(e)}getWire(e){return this.och.shapeGettersService.getWire(e)}getWires(e){return this.och.shapeGettersService.getWires(e)}getWireLength(e){return this.och.wiresService.getWireLength(e)}getWiresLengths(e){return this.och.wiresService.getWiresLengths(e)}isWireClosed(e){return this.och.wiresService.isWireClosed(e)}getWireCenterOfMass(e){return this.och.wiresService.getWireCenterOfMass(e)}getWiresCentersOfMass(e){return e.shapes.map((e=>this.och.wiresService.getWireCenterOfMass({shape:e})))}reversedWire(e){return this.och.wiresService.reversedWire(e)}reversedWireFromReversedEdges(e){return this.och.wiresService.reversedWireFromReversedEdges(e)}placeWireOnFace(e){const t=e.wire,r=e.face,i=this.och.surfaceFromFace({shape:r});return this.och.wiresService.placeWire(t,i)}placeWiresOnFace(e){const t=e.wires,r=e.face,i=this.och.surfaceFromFace({shape:r});return t.map((e=>this.och.wiresService.placeWire(e,i)))}closeOpenWire(e){const t=e.shape,r=this.och.wiresService.startPointOnWire({shape:t}),i=this.och.wiresService.endPointOnWire({shape:t});if(this.och.vecHelper.vectorsTheSame(r,i,1e-7))return t;const n=this.createLineWire({start:i,end:r}),s=this.addEdgesAndWiresToWire({shape:t,shapes:[n]});return n.delete(),s}project(e){const t=e.wire,r=this.och.entitiesService.gpDir(e.direction),i=new this.occ.BRepProj_Projection(t,e.shape,r),n=i.Shape();return r.delete(),i.delete(),n}wiresToPoints(e){return this.och.wiresService.wiresToPoints(e)}projectWires(e){const t=[];return e.wires.forEach((r=>{const i=this.och.entitiesService.gpDir(e.direction),n=new this.occ.BRepProj_Projection(r,e.shape,i),s=n.Shape();t.push(s),i.delete(),n.delete()})),t}createWireFromTwoCirclesTan(e){return this.och.wiresService.createWireFromTwoCirclesTan(e)}}class w{constructor(e,t){this.vertex=new v(e,t),this.edge=new d(e,t),this.wire=new b(e,t),this.face=new p(e,t),this.shell=new g(e,t),this.solid=new y(e,t),this.compound=new f(e,t),this.shape=new m(e,t)}}class S{constructor(e,t){this.occ=e,this.och=t}saveShapeSTEP(e){const t=e.shape;let r;if(e.adjustYtoZ){const t=this.och.transformsService.rotate({shape:e.shape,axis:[1,0,0],angle:-90});e.fromRightHanded?r=t:(r=this.och.transformsService.mirrorAlongNormal({shape:t,origin:[0,0,0],normal:[0,0,1]}),t.delete())}const i=new this.occ.STEPControl_Writer;let n,s,o;n=r||t;try{s=i.Transfer(n,this.occ.STEPControl_StepModelType.AsIs)}catch(e){throw new Error("Failed when calling writer.Transfer.")}if(s!==this.occ.IFSelect_ReturnStatus.RetDone)throw new Error("Failed when transfering to step writer.");if(i.Write("x")!==this.occ.IFSelect_ReturnStatus.RetDone)throw new Error("Failed when writing step file.");{const e=this.occ.FS.readFile("/x",{encoding:"utf8"});this.occ.FS.unlink("/x"),o=e}return r&&r.delete(),o}saveShapeStl(e){const t=e.shape;let r;if(this.occ.BRepTools.Clean(t),e.adjustYtoZ){const t=this.och.transformsService.rotate({shape:e.shape,axis:[1,0,0],angle:-90});r=this.och.transformsService.mirrorAlongNormal({shape:t,origin:[0,0,0],normal:[0,0,1]}),t.delete()}const i=new this.occ.StlAPI_Writer;let n,s;n=r||t;const o=new this.occ.BRepMesh_IncrementalMesh(n,e.precision,!1,.5,!1);if(!i.Write(n,"x"))throw new Error("Failed when writing stl file.");{const e=this.occ.FS.readFile("/x",{encoding:"utf8"});this.occ.FS.unlink("/x"),s=e}return r&&r.delete(),o&&o.delete(),s}loadSTEPorIGES(e){const t=e.fileName,r=e.filetext,i=t.toLowerCase().split(".").pop(),n=(()=>{switch(i){case"step":case"stp":case"stpz":return"step";case"iges":case"igs":case"igz":return"iges";default:return}})();if(!n)return void console.error("opencascade can't parse this extension!");let s,o;if(r instanceof ArrayBuffer){const e=new Uint8Array(r);if("step"===n?s=this.occ.ReadSTEPFromBinary(e):"iges"===n&&(s=this.occ.ReadIGESFromBinary(e)),!s||s.IsNull())return void console.error("Failed to read "+n.toUpperCase()+" file: "+t)}else{let e;if(this.occ.FS.createDataFile("/",`file.${n}`,r,!0,!0,!0),e="step"===n?new this.occ.STEPControl_Reader:new this.occ.IGESControl_Reader,e.ReadFile(`file.${n}`)!==this.occ.IFSelect_ReturnStatus.RetDone)return console.error("Something in OCCT went wrong trying to read "+t),void this.occ.FS.unlink(`/file.${n}`);e.TransferRoots(),s=e.OneShape(),this.occ.FS.unlink(`/file.${n}`)}if(e.adjustZtoY&&s){const e=this.och.transformsService.mirrorAlongNormal({shape:s,origin:[0,0,0],normal:[0,0,1]});o=this.och.transformsService.rotate({shape:e,axis:[1,0,0],angle:90}),e.delete()}return o?(null==s||s.delete(),o):s}shapeToDxfPaths(e){return this.och.dxfService.shapeToDxfPaths(e)}dxfPathsWithLayer(e){return this.och.dxfService.dxfPathsWithLayer(e)}dxfCreate(e){return this.och.dxfService.dxfCreate(e)}convertStepToGltf(e){var t,r,i;try{const n=e.stepData;let s;if(n instanceof Uint8Array)s=this.occ.ConvertStepToGltfFromBinary(n,null!==(t=e.meshPrecision)&&void 0!==t?t:.1,5e4);else if(n instanceof ArrayBuffer)s=this.occ.ConvertStepToGltfFromBinary(new Uint8Array(n),null!==(r=e.meshPrecision)&&void 0!==r?r:.1,5e4);else{if("string"!=typeof n)throw new Error("File/Blob must be converted to ArrayBuffer before calling this method. Use the worker layer for automatic conversion.");s=this.occ.ConvertStepToGltfFromMemory(n,null!==(i=e.meshPrecision)&&void 0!==i?i:.1)}if(0===s.length)throw new Error("Failed to convert STEP to glTF");return s}catch(e){const t=e instanceof Error?e.message:String(e);throw new Error(`STEP to glTF conversion failed: ${t}`)}}convertStepToGltfAdvanced(e){var t,r,i,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C,k,D,O,A,F,R,B,M,L,I,W,U,_,H,G,V,z,j,$,q,Y,X,Z,Q,J;try{const K=e.stepData;let ee;const te=this.gltfNameFormatEnumToOcct(null!==(t=e.nodeNameFormat)&&void 0!==t?t:n.gltfNameFormatEnum.instance),re=this.gltfNameFormatEnumToOcct(null!==(r=e.meshNameFormat)&&void 0!==r?r:n.gltfNameFormatEnum.instance),ie=this.gltfTransformFormatEnumToOcct(null!==(i=e.transformFormat)&&void 0!==i?i:n.gltfTransformFormatEnum.compact);if(K instanceof Uint8Array)ee=this.occ.ConvertStepToGltfFromBinaryAdvanced(K,null===(s=e.readColors)||void 0===s||s,null===(o=e.readNames)||void 0===o||o,null===(a=e.readMaterials)||void 0===a||a,null!==(c=e.readLayers)&&void 0!==c&&c,null!==(h=e.readProps)&&void 0!==h&&h,null!==(u=e.meshDeflection)&&void 0!==u?u:.1,null!==(l=e.meshAngle)&&void 0!==l?l:.5,null===(d=e.meshParallel)||void 0===d||d,null!==(p=e.faceCountThreshold)&&void 0!==p?p:5e4,null===(f=e.mergeFaces)||void 0===f||f,null===(v=e.splitIndices16)||void 0===v||v,null===(m=e.parallelWrite)||void 0===m||m,null===(g=e.embedTextures)||void 0===g||g,null!==(y=e.forceUVExport)&&void 0!==y&&y,te,re,ie,null===(b=e.adjustZtoY)||void 0===b||b,null!==(w=e.scale)&&void 0!==w?w:1);else if(K instanceof ArrayBuffer)ee=this.occ.ConvertStepToGltfFromBinaryAdvanced(new Uint8Array(K),null===(S=e.readColors)||void 0===S||S,null===(E=e.readNames)||void 0===E||E,null===(x=e.readMaterials)||void 0===x||x,null!==(T=e.readLayers)&&void 0!==T&&T,null!==(P=e.readProps)&&void 0!==P&&P,null!==(N=e.meshDeflection)&&void 0!==N?N:.1,null!==(C=e.meshAngle)&&void 0!==C?C:.5,null===(k=e.meshParallel)||void 0===k||k,null!==(D=e.faceCountThreshold)&&void 0!==D?D:5e4,null===(O=e.mergeFaces)||void 0===O||O,null===(A=e.splitIndices16)||void 0===A||A,null===(F=e.parallelWrite)||void 0===F||F,null===(R=e.embedTextures)||void 0===R||R,null!==(B=e.forceUVExport)&&void 0!==B&&B,te,re,ie,null===(M=e.adjustZtoY)||void 0===M||M,null!==(L=e.scale)&&void 0!==L?L:1);else{if("string"!=typeof K)throw new Error("File/Blob must be converted to ArrayBuffer before calling this method. Use the worker layer for automatic conversion.");{const t=(new TextEncoder).encode(K);ee=this.occ.ConvertStepToGltfFromBinaryAdvanced(t,null===(I=e.readColors)||void 0===I||I,null===(W=e.readNames)||void 0===W||W,null===(U=e.readMaterials)||void 0===U||U,null!==(_=e.readLayers)&&void 0!==_&&_,null!==(H=e.readProps)&&void 0!==H&&H,null!==(G=e.meshDeflection)&&void 0!==G?G:.1,null!==(V=e.meshAngle)&&void 0!==V?V:.5,null===(z=e.meshParallel)||void 0===z||z,null!==(j=e.faceCountThreshold)&&void 0!==j?j:5e4,null===($=e.mergeFaces)||void 0===$||$,null===(q=e.splitIndices16)||void 0===q||q,null===(Y=e.parallelWrite)||void 0===Y||Y,null===(X=e.embedTextures)||void 0===X||X,null!==(Z=e.forceUVExport)&&void 0!==Z&&Z,te,re,ie,null===(Q=e.adjustZtoY)||void 0===Q||Q,null!==(J=e.scale)&&void 0!==J?J:1)}}if(0===ee.length)throw new Error("Failed to convert STEP to glTF");return ee}catch(e){const t=e instanceof Error?e.message:String(e);throw new Error(`STEP to glTF advanced conversion failed: ${t}`)}}parseStepToJson(e){try{const t=e.stepData;let r;if(t instanceof Uint8Array)r=this.occ.ParseStepAssemblyToJsonFromBinary(t);else if(t instanceof ArrayBuffer)r=this.occ.ParseStepAssemblyToJsonFromBinary(new Uint8Array(t));else{if("string"!=typeof t)throw new Error("File/Blob must be converted to ArrayBuffer before calling this method. Use the worker layer for automatic conversion.");r=this.occ.ParseStepAssemblyToJsonFromMemory(t)}return JSON.parse(r)}catch(e){return{version:"1.0",nodes:[],error:`STEP assembly parsing failed: ${e instanceof Error?e.message:String(e)}`}}}gltfNameFormatEnumToOcct(e){switch(e){case n.gltfNameFormatEnum.empty:return 0;case n.gltfNameFormatEnum.product:return 1;case n.gltfNameFormatEnum.instance:return 2;case n.gltfNameFormatEnum.instanceOrProduct:return 3;case n.gltfNameFormatEnum.productOrInstance:return 4;case n.gltfNameFormatEnum.productAndInstance:return 5;case n.gltfNameFormatEnum.productAndInstanceAndOcaf:return 6;default:return 2}}gltfTransformFormatEnumToOcct(e){switch(e){case n.gltfTransformFormatEnum.compact:return 0;case n.gltfTransformFormatEnum.mat4:return 1;case n.gltfTransformFormatEnum.trs:return 2;default:return 0}}}class E{constructor(e){this.occ=e}BRep_Tool_Range_1(e,t,r){const i=this.occ.BRep_Tool_GetEdgeParameters(e);i.IsValid&&(t.current=i.First,r.current=i.Last)}BRep_Tool_Curve_2(e,t,r){const i=this.occ.BRep_Tool_GetEdgeParameters(e);return i.IsValid?(t.current=i.First,r.current=i.Last,this.occ.GetEdgeCurve(e)):null}BRepTools_UVBounds_1(e,t,r,i,n){const s=this.occ.GetFaceUVBounds(e);s.IsValid&&(t.current=s.UMin,r.current=s.UMax,i.current=s.VMin,n.current=s.VMax)}}class x{constructor(e){this.occ=e}forEachWire(e,t){let r=0;const i=new this.occ.TopExp_Explorer(e,this.occ.TopAbs_ShapeEnum.WIRE,this.occ.TopAbs_ShapeEnum.SHAPE);for(i.Init(e,this.occ.TopAbs_ShapeEnum.WIRE,this.occ.TopAbs_ShapeEnum.SHAPE);i.More();i.Next())t(r++,this.occ.CastToWire(i.Current()));i.delete()}forEachEdge(e,t){const r={};let i=0;const n=new this.occ.TopExp_Explorer(e,this.occ.TopAbs_ShapeEnum.EDGE,this.occ.TopAbs_ShapeEnum.SHAPE);for(n.Init(e,this.occ.TopAbs_ShapeEnum.EDGE,this.occ.TopAbs_ShapeEnum.SHAPE);n.More();n.Next()){const e=this.occ.CastToEdge(n.Current()),s=this.occ.TopoDS_Shape_HashCode(e,1e8);Object.prototype.hasOwnProperty.call(r,s)||(r[s]=i,t(i++,e))}return n.delete(),r}forEachEdgeAlongWire(e,t){const r={};let i=0;const n=new this.occ.BRepTools_WireExplorer(e);for(;n.More();n.Next()){const e=this.occ.CastToEdge(n.Current()),s=this.occ.TopoDS_Shape_HashCode(e,1e8);Object.prototype.hasOwnProperty.call(r,s)||(r[s]=i,t(i++,e))}return n.delete(),r}forEachFace(e,t){let r=0;const i=new this.occ.TopExp_Explorer(e,this.occ.TopAbs_ShapeEnum.FACE,this.occ.TopAbs_ShapeEnum.SHAPE);for(i.Init(e,this.occ.TopAbs_ShapeEnum.FACE,this.occ.TopAbs_ShapeEnum.SHAPE);i.More();i.Next())t(r++,this.occ.CastToFace(i.Current()));i.delete()}forEachShell(e,t){let r=0;const i=new this.occ.TopExp_Explorer(e,this.occ.TopAbs_ShapeEnum.SHELL,this.occ.TopAbs_ShapeEnum.SHAPE);for(i.Init(e,this.occ.TopAbs_ShapeEnum.SHELL,this.occ.TopAbs_ShapeEnum.SHAPE);i.More();i.Next())t(r++,this.occ.CastToShell(i.Current()));i.delete()}forEachVertex(e,t){let r=0;const i=new this.occ.TopExp_Explorer(e,this.occ.TopAbs_ShapeEnum.VERTEX,this.occ.TopAbs_ShapeEnum.SHAPE);for(i.Init(e,this.occ.TopAbs_ShapeEnum.VERTEX,this.occ.TopAbs_ShapeEnum.SHAPE);i.More();i.Next())t(r++,this.occ.CastToVertex(i.Current()));i.delete()}forEachSolid(e,t){let r=0;const i=new this.occ.TopExp_Explorer(e,this.occ.TopAbs_ShapeEnum.SOLID,this.occ.TopAbs_ShapeEnum.SHAPE);for(i.Init(e,this.occ.TopAbs_ShapeEnum.SOLID,this.occ.TopAbs_ShapeEnum.SHAPE);i.More();i.Next())t(r++,this.occ.CastToSolid(i.Current()));i.delete()}forEachCompound(e,t){let r=0;const i=new this.occ.TopExp_Explorer(e,this.occ.TopAbs_ShapeEnum.COMPOUND,this.occ.TopAbs_ShapeEnum.SHAPE);for(i.Init(e,this.occ.TopAbs_ShapeEnum.COMPOUND,this.occ.TopAbs_ShapeEnum.SHAPE);i.More();i.Next())t(r++,i.Current());i.delete()}forEachCompSolid(e,t){let r=0;const i=new this.occ.TopExp_Explorer(e,this.occ.TopAbs_ShapeEnum.COMPSOLID,this.occ.TopAbs_ShapeEnum.SHAPE);for(i.Init(e,this.occ.TopAbs_ShapeEnum.COMPSOLID,this.occ.TopAbs_ShapeEnum.SHAPE);i.More();i.Next())t(r++,i.Current());i.delete()}forEachShapeInCompound(e,t){let r=0;const i=new this.occ.TopoDS_Iterator(e);for(;i.More();i.Next())t(r++,i.Value());i.delete()}}class T{constructor(e){this.occ=e}getShapeTypeEnum(e){let t=n.shapeTypeEnum.unknown;const r=e.ShapeType();return t=r===this.occ.TopAbs_ShapeEnum.EDGE?n.shapeTypeEnum.edge:r===this.occ.TopAbs_ShapeEnum.WIRE?n.shapeTypeEnum.wire:r===this.occ.TopAbs_ShapeEnum.VERTEX?n.shapeTypeEnum.vertex:r===this.occ.TopAbs_ShapeEnum.SOLID?n.shapeTypeEnum.solid:r===this.occ.TopAbs_ShapeEnum.SHELL?n.shapeTypeEnum.shell:r===this.occ.TopAbs_ShapeEnum.FACE?n.shapeTypeEnum.face:r===this.occ.TopAbs_ShapeEnum.COMPSOLID?n.shapeTypeEnum.compSolid:r===this.occ.TopAbs_ShapeEnum.COMPOUND?n.shapeTypeEnum.compound:n.shapeTypeEnum.shape,t}getGccEntPositionFromEnum(e){let t=this.occ.GccEnt_Position.noqualifier;return t=e===n.gccEntPositionEnum.unqualified?this.occ.GccEnt_Position.unqualified:e===n.gccEntPositionEnum.enclosed?this.occ.GccEnt_Position.enclosed:e===n.gccEntPositionEnum.enclosing?this.occ.GccEnt_Position.enclosing:e===n.gccEntPositionEnum.outside?this.occ.GccEnt_Position.outside:(n.gccEntPositionEnum.noqualifier,this.occ.GccEnt_Position.noqualifier),t}getTopAbsStateEnum(e){let t=n.topAbsStateEnum.unknown;return t=e.value===this.occ.TopAbs_State.IN.value?n.topAbsStateEnum.in:e.value===this.occ.TopAbs_State.OUT.value?n.topAbsStateEnum.out:e.value===this.occ.TopAbs_State.ON.value?n.topAbsStateEnum.on:n.topAbsStateEnum.unknown,t}convertFourSidesStrictEnumToTwoCircleInclusionEnum(e){return e===n.fourSidesStrictEnum.inside?n.twoCircleInclusionEnum.inside:e===n.fourSidesStrictEnum.outside?n.twoCircleInclusionEnum.outside:e===n.fourSidesStrictEnum.insideOutside?n.twoCircleInclusionEnum.insideOutside:e===n.fourSidesStrictEnum.outsideInside?n.twoCircleInclusionEnum.outsideInside:n.twoCircleInclusionEnum.none}getGeomFillTrihedronEnumOCCTValue(e){return e===n.geomFillTrihedronEnum.isConstantNormal?this.occ.GeomFill_Trihedron.IsConstantNormal:e===n.geomFillTrihedronEnum.isCorrectedFrenet?this.occ.GeomFill_Trihedron.IsCorrectedFrenet:e===n.geomFillTrihedronEnum.isDarboux?this.occ.GeomFill_Trihedron.IsDarboux:e===n.geomFillTrihedronEnum.isDiscreteTrihedron?this.occ.GeomFill_Trihedron.IsDiscreteTrihedron:e===n.geomFillTrihedronEnum.isFixed?this.occ.GeomFill_Trihedron.IsFixed:e===n.geomFillTrihedronEnum.isFrenet?this.occ.GeomFill_Trihedron.IsFrenet:e===n.geomFillTrihedronEnum.isGuideAC?this.occ.GeomFill_Trihedron.IsGuideAC:e===n.geomFillTrihedronEnum.isGuideACWithContact?this.occ.GeomFill_Trihedron.IsGuideACWithContact:e===n.geomFillTrihedronEnum.isGuidePlan?this.occ.GeomFill_Trihedron.IsGuidePlan:e===n.geomFillTrihedronEnum.isGuidePlanWithContact?this.occ.GeomFill_Trihedron.IsGuidePlanWithContact:this.occ.GeomFill_Trihedron.IsConstantNormal}}class P{constructor(e){this.occ=e}getActualTypeOfShape(e){let t=e;return t=e.ShapeType()===this.occ.TopAbs_ShapeEnum.EDGE?this.occ.CastToEdge(e):e.ShapeType()===this.occ.TopAbs_ShapeEnum.WIRE?this.occ.CastToWire(e):e.ShapeType()===this.occ.TopAbs_ShapeEnum.VERTEX?this.occ.CastToVertex(e):e.ShapeType()===this.occ.TopAbs_ShapeEnum.SOLID?this.occ.CastToSolid(e):e.ShapeType()===this.occ.TopAbs_ShapeEnum.SHELL?this.occ.CastToShell(e):e.ShapeType()===this.occ.TopAbs_ShapeEnum.FACE?this.occ.CastToFace(e):e.ShapeType()===this.occ.TopAbs_ShapeEnum.COMPSOLID?this.occ.CastToCompSolid(e):e.ShapeType()===this.occ.TopAbs_ShapeEnum.COMPOUND?this.occ.CastToCompound(e):e,t}combineEdgesAndWiresIntoAWire(e){if(void 0===e.shapes)throw Error("Shapes are not defined");const t=new this.occ.BRepBuilderAPI_MakeWire;if(e.shapes.forEach((e=>{e.ShapeType()===this.occ.TopAbs_ShapeEnum.EDGE?t.AddEdge(e):e.ShapeType()===this.occ.TopAbs_ShapeEnum.WIRE&&t.AddWire(e)})),t.IsDone()){const e=t.Wire();return this.occ.BRepLib_BuildCurves3d_Full(e,1e-7,this.occ.GeomAbs_Shape.C1,14,0),t.delete(),e}throw t.delete(),new Error("Wire could not be constructed")}vertexToPoint(e){const t=this.occ.BRep_Tool_Pnt(e.shape),r=[t.X(),t.Y(),t.Z()];return t.delete(),r}makeCompound(e){const t=new this.occ.BRep_Builder,r=this.occ.BRep_Builder_MakeCompound(t);return e.shapes.forEach((e=>{const i=this.occ.BRepBuilderAPI_Copy_Shape(e,!0);t.Add(r,i),i.delete()})),t.delete(),r}makeCompoundIfNeeded(e,t){if(t){const t=this.makeCompound({shapes:e});return e.forEach((e=>e.delete())),t}return e}}class N{constructor(e){this.occ=e}createCircle(e,t,r,i){const s=this.gpAx2(t,r);if(i===n.typeSpecificityEnum.edge){const t=this.occ.MakeCircleEdge(s,e);return s.delete(),t}if(i===n.typeSpecificityEnum.wire){const t=this.occ.MakeCircleWire(s,e);return s.delete(),t}if(i===n.typeSpecificityEnum.face){const t=this.occ.MakeCircleWire(s,e);s.delete();const r=this.bRepBuilderAPIMakeFaceFromWire(t,!0);return t.delete(),r}const o=this.occ.MakeCircleWire(s,e);return s.delete(),o}createEllipse(e,t,r,i,s){const o=this.gpAx2(r,i);if(s===n.typeSpecificityEnum.edge){const r=this.occ.MakeEllipseEdge(o,t,e);return o.delete(),r}if(s===n.typeSpecificityEnum.wire){const r=this.occ.MakeEllipseWire(o,t,e);return o.delete(),r}if(s===n.typeSpecificityEnum.face){const r=this.occ.MakeEllipseWire(o,t,e);o.delete();const i=this.bRepBuilderAPIMakeFaceFromWire(r,!0);return r.delete(),i}const a=this.occ.MakeEllipseWire(o,t,e);return o.delete(),a}makeVertex(e){const t=this.gpPnt(e),r=new this.occ.BRepBuilderAPI_MakeVertex(t),i=r.Vertex();return t.delete(),r.delete(),i}gpPnt2d(e){return new this.occ.gp_Pnt2d(e[0],e[1])}gpPnt(e){return new this.occ.gp_Pnt(e[0],e[1],e[2])}gpVec(e){return new this.occ.gp_Vec(e[0],e[1],e[2])}gpXYZ(e){return new this.occ.gp_XYZ(e[0],e[1],e[2])}gpVec2d(e){return new this.occ.gp_Vec2d(e[0],e[1])}gpDir(e){return new this.occ.gp_Dir(e[0],e[1],e[2])}gpDir2d(e){return new this.occ.gp_Dir2d(e[0],e[1])}bRepBuilderAPIMakeWire(e){const t=new this.occ.BRepBuilderAPI_MakeWire(e),r=t.Wire();return t.delete(),r}bRepBuilderAPIMakeFaceFromWires(e,t,r,i){let n;const s=[];return e.forEach((e=>{if(s.length>0){const t=new this.occ.BRepBuilderAPI_MakeFace(s[s.length-1],e);s.push(t.Face()),t.delete()}else if(r){const t=this.occ.MakeFaceFromFaceSurfaceAndWire(r,e,null==i||i);s.push(t)}else{const r=this.occ.MakeFaceFromWireOnlyPlane(e,t);s.push(r)}})),s.length>0&&(n=s.pop(),s.forEach((e=>e.delete()))),n}bRepBuilderAPIMakeFaceFromWire(e,t){return this.occ.MakeFaceFromWireOnlyPlane(e,t)}bRepBuilderAPIMakeFacesFromWiresOnFace(e,t,r){return t.map((t=>this.occ.MakeFaceFromFaceSurfaceAndWire(e,t,r)))}bRepBuilderAPIMakeFaceFromWireOnFace(e,t,r){return this.occ.MakeFaceFromFaceSurfaceAndWire(e,t,r)}bRepPrimAPIMakeSphere(e,t,r){const i=this.gpAx2(e,t),n=this.occ.MakeSphereFromAx2(i,r),s=n.Shape();return n.delete(),i.delete(),s}gpAx3_3(e,t,r){return new this.occ.gp_Ax3(this.gpPnt(e),this.gpDir(t),this.gpDir(r))}gpAx3_4(e,t){return new this.occ.gp_Ax3(this.gpPnt(e),this.gpDir(t))}gpAx2(e,t){return new this.occ.gp_Ax2(this.gpPnt(e),this.gpDir(t))}gpAx2FromTwoVectors(e,t,r){return new this.occ.gp_Ax2(this.gpPnt(e),this.gpDir(t),this.gpDir(r))}gpAx1(e,t){return new this.occ.gp_Ax1(this.gpPnt(e),this.gpDir(t))}gpAx2d(e,t){const r=this.gpPnt2d(e),i=this.gpDir2d(t);return new this.occ.gp_Ax2d(r,i)}gpAx22d(e,t,r){const i=this.gpPnt2d(e),n=this.gpDir2d(t),s=this.gpDir2d(r),o=new this.occ.gp_Ax22d(i,n,s);return n.delete(),s.delete(),i.delete(),o}gpPln(e,t){const r=this.gpPnt(e),i=this.gpDir(t),n=new this.occ.gp_Pln(r,i);return r.delete(),i.delete(),n}bRepPrimAPIMakeCylinder(e,t,r,i,n){const s=this.gpAx2(e,t),o=new this.occ.BRepPrimAPI_MakeCylinder(s,r,i,n),a=o.Shape();return o.delete(),s.delete(),a}bRepPrimAPIMakeCylinderBetweenPoints(e,t,r){const i=this.gpPnt(e),n=this.gpPnt(t),s=this.occ.gp_Vec_fromPoints(i,n),o=s.Magnitude(),a=this.gpAx2(e,[s.X(),s.Y(),s.Z()]),c=new this.occ.BRepPrimAPI_MakeCylinder(a,r,o),h=c.Shape();return c.delete(),a.delete(),i.delete(),n.delete(),s.delete(),h}bRepPrimAPIMakeBox(e,t,r,i){const n=this.gpPnt([-e/2+i[0],-r/2+i[1],-t/2+i[2]]),s=this.occ.MakeBoxFromPntAndDims(n,e,r,t);return n.delete(),s}}class C{constructor(e,t,r,i,n,s,o,a,c,h,u,l,d){this.occ=e,this.enumService=t,this.entitiesService=r,this.converterService=i,this.booleansService=n,this.shapeGettersService=s,this.edgesService=o,this.transformsService=a,this.vecHelper=c,this.wiresService=h,this.facesService=u,this.solidsService=l,this.shellsService=d}loftAdvanced(e){if(e.periodic&&!e.closed)throw new Error("Cant construct periodic non closed loft.");const t=new this.occ.BRepOffsetAPI_ThruSections(e.makeSolid,e.straight,e.tolerance),r=[],i=[];if(e.startVertex){const r=this.entitiesService.makeVertex(e.startVertex);t.AddVertex(r),i.push(r)}if(e.closed&&!e.periodic)e.shapes.push(e.shapes[0]);else if(e.closed&&e.periodic){const i=[];e.shapes.forEach((t=>{this.enumService.getShapeTypeEnum(t)===n.shapeTypeEnum.edge&&(t=this.entitiesService.bRepBuilderAPIMakeWire(t));const r=this.wiresService.divideWireByParamsToPoints({shape:t,nrOfDivisions:e.nrPeriodicSections,removeStartPoint:!1,removeEndPoint:!1});i.push(r)}));for(let n=0;n<=e.nrPeriodicSections;n++){const s=i.map((e=>e[n])),o=this.wiresService.interpolatePoints({points:s,tolerance:e.tolerance,periodic:!0});t.AddWire(o),r.push(o)}}e.periodic||e.shapes.forEach((e=>{t.AddWire(e)}));const s=[];if(e.endVertex){const r=this.entitiesService.makeVertex(e.endVertex);t.AddVertex(r),s.push(r)}let o;e.useSmoothing&&t.SetSmoothing(e.useSmoothing),e.maxUDegree&&t.SetMaxDegree(e.maxUDegree),e.parType===n.approxParametrizationTypeEnum.approxChordLength?o=this.occ.Approx_ParametrizationType.ChordLength:e.parType===n.approxParametrizationTypeEnum.approxCentripetal?o=this.occ.Approx_ParametrizationType.Centripetal:e.parType===n.approxParametrizationTypeEnum.approxIsoParametric&&(o=this.occ.Approx_ParametrizationType.IsoParametric),o&&t.SetParType(o),t.CheckCompatibility(!1);const a=t.Shape(),c=this.converterService.getActualTypeOfShape(a);return a.delete(),t.delete(),r.forEach((e=>e.delete())),i.forEach((e=>e.delete())),s.forEach((e=>e.delete())),c}closestPointsBetweenTwoShapes(e,t){const r=this.occ.ClosestPointsBetweenShapes(e,t);if(6===r.size())return[[r.get(0),r.get(1),r.get(2)],[r.get(3),r.get(4),r.get(5)]];throw new Error("Closest points could not be found.")}closestPointsOnShapeFromPoints(e){return e.points.map((e=>this.entitiesService.makeVertex(e))).map((t=>this.closestPointsBetweenTwoShapes(t,e.shape))).map((e=>e[1]))}closestPointsOnShapesFromPoints(e){const t=e.points.map((e=>this.entitiesService.makeVertex(e))),r=[];return e.shapes.forEach((e=>{const i=t.map((t=>this.closestPointsBetweenTwoShapes(t,e)));r.push(...i.map((e=>e[1])))})),r}distancesToShapeFromPoints(e){return e.points.map((e=>this.entitiesService.makeVertex(e))).map((t=>this.closestPointsBetweenTwoShapes(t,e.shape))).map((e=>this.vecHelper.distanceBetweenPoints(e[0],e[1])))}boundingBoxOfShape(e){const t=new this.occ.Bnd_Box;this.occ.BRepBndLib.Add(e.shape,t,!1);const r=t.CornerMin(),i=t.CornerMax(),n=[r.X(),r.Y(),r.Z()],s=[i.X(),i.Y(),i.Z()],o=[(r.X()+i.X())/2,(r.Y()+i.Y())/2,(r.Z()+i.Z())/2],a=[i.X()-r.X(),i.Y()-r.Y(),i.Z()-r.Z()];return t.delete(),{min:n,max:s,center:o,size:a}}boundingBoxShapeOfShape(e){const t=this.boundingBoxOfShape(e);return this.solidsService.createBoxFromCorner({corner:t.min,width:t.size[0],height:t.size[1],length:t.size[2]})}boundingSphereOfShape(e){const t=this.boundingBoxOfShape(e),r=t.center;return{center:r,radius:this.vecHelper.distanceBetweenPoints(t.min,r)}}boundingSphereShapeOfShape(e){const t=this.boundingSphereOfShape(e);return this.solidsService.createSphere({center:t.center,radius:t.radius})}loft(e){const t=new this.occ.BRepOffsetAPI_ThruSections(e.makeSolid,!1,1e-6);e.shapes.forEach((e=>{this.enumService.getShapeTypeEnum(e)===n.shapeTypeEnum.edge&&(e=this.entitiesService.bRepBuilderAPIMakeWire(e)),t.AddWire(e)})),t.CheckCompatibility(!1);const r=t.Shape(),i=this.converterService.getActualTypeOfShape(r);return r.delete(),t.delete(),i}offset(e){return this.offsetAdv({shape:e.shape,face:e.face,distance:e.distance,tolerance:e.tolerance,joinType:n.joinTypeEnum.arc,removeIntEdges:!1})}offsetAdv(e){if(e.tolerance||(e.tolerance=.1),0===e.distance)return e.shape;let t;const r=this.getJoinType(e.joinType),i=this.occ.BRepOffset_Mode.Skin,s=[];if(this.enumService.getShapeTypeEnum(e.shape)===n.shapeTypeEnum.wire||this.enumService.getShapeTypeEnum(e.shape)===n.shapeTypeEnum.edge){let o;this.enumService.getShapeTypeEnum(e.shape)===n.shapeTypeEnum.edge?(o=this.entitiesService.bRepBuilderAPIMakeWire(e.shape),s.push(o)):o=e.shape;try{t=new this.occ.BRepOffsetAPI_MakeOffset,e.face?t.Init(e.face,r,!1):t.InitJoin(r,!1),t.AddWire(o),t.Build(),t.Perform(e.distance,0)}catch(n){t=new this.occ.BRepOffsetAPI_MakeOffsetShape,t.PerformByJoin(o,e.distance,e.tolerance,i,!1,!1,r,e.removeIntEdges)}}else{const n=e.shape;t=new this.occ.BRepOffsetAPI_MakeOffsetShape,t.PerformByJoin(n,e.distance,e.tolerance,i,!1,!1,r,e.removeIntEdges)}const o=t.Shape(),a=this.converterService.getActualTypeOfShape(o);return o.delete(),t&&t.delete(),s.forEach((e=>e.delete())),a}offset3DWire(e){const t=this.extrude({shape:e.shape,direction:e.direction}),r=this.makeThickSolidSimple({shape:t,offset:e.offset}),i=this.shapeGettersService.getEdges({shape:e.shape}).length,n=(4*i+2)/2-1,s=n-i+1,o=[];let a;this.shapeGettersService.getFaces({shape:r}).forEach(((e,t)=>{if(t>=s&&t<=n){const t=this.shapeGettersService.getEdges({shape:e})[2];o.push(t)}}));try{a=this.converterService.combineEdgesAndWiresIntoAWire({shapes:o}),a=a.Reversed(),a=this.converterService.getActualTypeOfShape(a)}catch(e){return a=o,a}return a}extrudeShapes(e){return e.shapes.map((t=>{const r=this.extrude({shape:t,direction:e.direction}),i=this.converterService.getActualTypeOfShape(r);return r.delete(),i}))}extrude(e){const t=new this.occ.gp_Vec(e.direction[0],e.direction[1],e.direction[2]),r=new this.occ.BRepPrimAPI_MakePrism(e.shape,t),i=r.Shape();return r.delete(),t.delete(),i}splitShapeWithShapes(e){const t=new this.occ.BOPAlgo_Builder;let r;if(t.SetNonDestructive(e.nonDestructive),t.SetFuzzyValue(e.localFuzzyTolerance),t.AddArgument(e.shape),e.shapes.forEach((e=>{t.AddArgument(e)})),t.Perform(),e.nonDestructive){const e=t.Shape();r=this.shapeGettersService.getShapesOfCompound({shape:e})}else{const i=t.Modified(e.shape),n=this.occ.BitListOfShapesToCompound(i);r=this.shapeGettersService.getShapesOfCompound({shape:n})}return r}revolve(e){let t;e.angle||(e.angle=360),e.direction||(e.direction=[0,0,1]);const r=new this.occ.gp_Pnt(0,0,0),i=new this.occ.gp_Dir(e.direction[0],e.direction[1],e.direction[2]),n=new this.occ.gp_Ax1(r,i);if(e.angle>=360){const r=new this.occ.BRepPrimAPI_MakeRevol(e.shape,n);t=r.Shape(),r.delete()}else{const r=new this.occ.BRepPrimAPI_MakeRevol(e.shape,n,.0174533*e.angle,e.copy);t=r.Shape(),r.delete()}r.delete(),i.delete(),n.delete();const s=this.converterService.getActualTypeOfShape(t);return t.delete(),s}rotatedExtrude(e){const t=this.boundingBoxOfShape({shape:e.shape}).min[1],r=t+e.height,i=this.transformsService.translate({translation:[0,e.height,0],shape:e.shape}),n=this.transformsService.rotate({axis:[0,1,0],angle:e.angle,shape:i}),s=this.wiresService.createBSpline({points:[[0,t,0],[0,r,0]],closed:!1}),o=[];for(let r=0;r<=30;r++){const i=r/30;o.push([20*Math.sin(i*e.angle*.0174533),t+e.height*i,20*Math.cos(i*e.angle*.0174533)])}const a=this.wiresService.createBSpline({points:o,closed:!1}),c=new this.occ.BRepOffsetAPI_MakePipeShell(s);c.SetModeWithAuxSpine(a,!0,this.occ.BRepFill_TypeOfContact.NoContact),c.Add(e.shape,!1,!1),c.Add(n,!1,!1),c.Build(),(e.makeSolid||void 0===e.makeSolid)&&c.MakeSolid();const h=c.Shape(),u=this.converterService.getActualTypeOfShape(h);return h.delete(),c.delete(),a.delete(),s.delete(),n.delete(),i.delete(),u}pipe(e){const t=new this.occ.BRepOffsetAPI_MakePipeShell(e.shape);e.shapes.forEach((e=>{t.Add(e,!1,!1)})),t.Build(),t.MakeSolid();const r=t.Shape(),i=this.converterService.getActualTypeOfShape(r);return r.delete(),t.delete(),i}pipePolylineWireNGon(e){const t=e.shape,r=this.shapeGettersService.getEdge({shape:t,index:0}),i=this.edgesService.pointOnEdgeAtParam({shape:r,param:0}),n=this.edgesService.tangentOnEdgeAtParam({shape:r,param:0}),s=this.wiresService.createNGonWire({radius:e.radius,center:i,direction:n,nrCorners:e.nrCorners}),o=this.wiresService.reversedWire({shape:s});let a=o;e.makeSolid&&(a=this.facesService.createFaceFromWire({shape:o,planar:!0}));const c=this.enumService.getGeomFillTrihedronEnumOCCTValue(e.trihedronEnum),h=new this.occ.BRepOffsetAPI_MakePipe(t,a,c,!!e.forceApproxC1);h.Build();const u=h.Shape(),l=this.converterService.getActualTypeOfShape(u);return u.delete(),h.delete(),s.delete(),o.delete(),l}pipeWireCylindrical(e){const t=e.shape,r=this.shapeGettersService.getEdges({shape:t})[0],i=this.edgesService.startPointOnEdge({shape:r}),s=this.edgesService.tangentOnEdgeAtParam({shape:r,param:0}),o=this.entitiesService.createCircle(e.radius,i,s,e.makeSolid?n.typeSpecificityEnum.face:n.typeSpecificityEnum.wire),a=this.enumService.getGeomFillTrihedronEnumOCCTValue(e.trihedronEnum),c=new this.occ.BRepOffsetAPI_MakePipe(t,o,a,!!e.forceApproxC1);c.Build();const h=c.Shape(),u=this.converterService.getActualTypeOfShape(h);return h.delete(),c.delete(),o.delete(),u}pipeWiresCylindrical(e){return e.shapes.map((t=>this.pipeWireCylindrical({shape:t,radius:e.radius,makeSolid:e.makeSolid,trihedronEnum:e.trihedronEnum,forceApproxC1:e.forceApproxC1})))}makeThickSolidSimple(e){const t=new this.occ.BRepOffsetAPI_MakeThickSolid;t.MakeThickSolidBySimple(e.shape,e.offset),t.Build();const r=t.Shape(),i=this.converterService.getActualTypeOfShape(r);let n=i;if(e.offset>0){const e=this.shapeGettersService.getFaces({shape:i}).map((e=>e.Reversed()));n=this.shellsService.sewFaces({shapes:e,tolerance:1e-7}),i.delete()}return t.delete(),r.delete(),n}makeThickSolidByJoin(e){const t=new this.occ.TopTools_ListOfShape;e.shapes.forEach((e=>{t.Append(e)}));const r=new this.occ.BRepOffsetAPI_MakeThickSolid,i=this.getJoinType(e.joinType);r.MakeThickSolidByJoin(e.shape,t,e.offset,e.tolerance,this.occ.BRepOffset_Mode.Skin,e.intersection,e.selfIntersection,i,e.removeIntEdges);const n=r.Shape(),s=this.converterService.getActualTypeOfShape(n);return n.delete(),r.delete(),t.delete(),s}getJoinType(e){let t;switch(e){case n.joinTypeEnum.arc:t=this.occ.GeomAbs_JoinType.Arc;break;case n.joinTypeEnum.intersection:t=this.occ.GeomAbs_JoinType.Intersection;break;case n.joinTypeEnum.tangent:t=this.occ.GeomAbs_JoinType.Tangent}return t}getBRepOffsetMode(e){let t;switch(e){case n.bRepOffsetModeEnum.skin:t=this.occ.BRepOffset_Mode.Skin;break;case n.bRepOffsetModeEnum.pipe:t=this.occ.BRepOffset_Mode.Pipe;break;case n.bRepOffsetModeEnum.rectoVerso:t=this.occ.BRepOffset_Mode.RectoVerso}return t}slice(e){if(e.step<=0)throw new Error("Step needs to be positive.");const{bbox:t,transformedShape:r}=this.createBBoxAndTransformShape(e.shape,e.direction),i=[];if(!this.occ.Bnd_Box_IsThin(t,1e-4)){const{minY:n,maxY:s,maxDist:o}=this.computeBounds(t),a=[];for(let t=n;t<s;t+=e.step){const e=this.facesService.createSquareFace({size:o,center:[0,t,0],direction:[0,1,0]});a.push(e)}this.applySlices(r,a,e.direction,i)}return this.converterService.makeCompound({shapes:i})}sliceInStepPattern(e){if(!e.steps||0===e.steps.length)throw new Error("Steps must be provided with at elast one positive value");const{bbox:t,transformedShape:r}=this.createBBoxAndTransformShape(e.shape,e.direction),i=[];if(!this.occ.Bnd_Box_IsThin(t,1e-4)){const{minY:n,maxY:s,maxDist:o}=this.computeBounds(t),a=[];let c=0;for(let t=n;t<s;t+=e.steps[c]){const r=this.facesService.createSquareFace({size:o,center:[0,t,0],direction:[0,1,0]});a.push(r),void 0===e.steps[c+1]?c=0:c++}this.applySlices(r,a,e.direction,i)}return this.converterService.makeCompound({shapes:i})}createBBoxAndTransformShape(e,t){const r=this.transformsService.align({shape:e,fromOrigin:[0,0,0],fromDirection:t,toOrigin:[0,0,0],toDirection:[0,1,0]}),i=new this.occ.Bnd_Box;return this.occ.BRepBndLib.Add(r,i,!1),{bbox:i,transformedShape:r}}computeBounds(e){const t=e.CornerMin(),r=e.CornerMax(),i=t.Y(),n=r.Y(),s=t.X(),o=r.X(),a=t.Z(),c=o-s,h=r.Z()-a;let u=c>=h?c:h;return u*=1.2,{minY:i,maxY:n,maxDist:u}}applySlices(e,t,r,i){const s=[];if(this.enumService.getShapeTypeEnum(e)===n.shapeTypeEnum.solid)s.push(e);else{const t=this.shapeGettersService.getSolids({shape:e});s.push(...t)}if(0===s.length)throw new Error("No solids found to slice.");s.forEach((e=>{const s=new n.IntersectionDto;s.keepEdges=!0,s.shapes=[e];const o=this.converterService.makeCompound({shapes:t});s.shapes.push(o),this.booleansService.intersection(s).forEach((e=>{if(e&&!e.IsNull()){const t=this.transformsService.align({shape:e,fromOrigin:[0,0,0],fromDirection:[0,1,0],toOrigin:[0,0,0],toDirection:r});i.push(t)}}))}))}}class k{constructor(e,t,r,i){this.occ=e,this.converterService=t,this.entitiesService=r,this.vecHelper=i}alignAndTranslate(e){const t=this.align({shape:e.shape,fromOrigin:[0,0,0],fromDirection:[0,1,0],toOrigin:[0,0,0],toDirection:e.direction}),r=this.translate({shape:t,translation:e.center});return t.delete(),r}scale3d(e){const t=this.translate({shape:e.shape,translation:e.center.map((e=>-e))}),r=new this.occ.gp_GTrsf,i=e.scale,n=new this.occ.gp_Mat(i[0],0,0,0,i[1],0,0,0,i[2]);let s;r.SetVectorialPart(n);try{const i=new this.occ.BRepBuilderAPI_GTransform(t,r),n=i.Shape();s=this.translate({shape:n,translation:e.center}),i.delete(),n.delete()}catch(e){throw new Error("Could not scale the shape")}return t.delete(),r.delete(),n.delete(),s}translate(e){const t=new this.occ.gp_Trsf,r=new this.occ.gp_Vec(e.translation[0],e.translation[1],e.translation[2]);t.SetTranslation(r);const i=new this.occ.BRepBuilderAPI_Transform(e.shape,t,!0),n=i.Shape(),s=this.converterService.getActualTypeOfShape(n);return n.delete(),t.delete(),i.delete(),r.delete(),s}mirror(e){const t=new this.occ.gp_Trsf,r=this.entitiesService.gpAx1(e.origin,e.direction);t.SetMirrorAx1(r);const i=new this.occ.BRepBuilderAPI_Transform(e.shape,t,!0),n=i.Shape(),s=this.converterService.getActualTypeOfShape(n);return n.delete(),i.delete(),t.delete(),r.delete(),s}mirrorAlongNormal(e){const t=new this.occ.gp_Trsf,r=this.entitiesService.gpAx2(e.origin,e.normal);t.SetMirrorOnPlane(r);const i=new this.occ.BRepBuilderAPI_Transform(e.shape,t,!0),n=i.Shape(),s=this.converterService.getActualTypeOfShape(n);return r.delete(),n.delete(),i.delete(),t.delete(),s}rotate(e){let t;if(0!==e.angle){const t=new this.occ.gp_Trsf,r=new this.occ.gp_Vec(e.axis[0],e.axis[1],e.axis[2]),i=new this.occ.gp_Dir(e.axis[0],e.axis[1],e.axis[2]),n=new this.occ.gp_Pnt(0,0,0),s=new this.occ.gp_Ax1(n,i);t.SetRotation(s,this.vecHelper.degToRad(e.angle));const o=new this.occ.BRepBuilderAPI_Transform(e.shape,t,!0),a=o.Shape(),c=this.converterService.getActualTypeOfShape(a);return a.delete(),r.delete(),i.delete(),n.delete(),s.delete(),o.delete(),t.delete(),c}t=e.shape;const r=this.converterService.getActualTypeOfShape(t);return 0!==e.angle&&t.delete(),r}align(e){const t=new this.occ.gp_Trsf,r=this.entitiesService.gpAx3_4(e.fromOrigin,e.fromDirection),i=this.entitiesService.gpAx3_4(e.toOrigin,e.toDirection);t.SetDisplacement(r,i);const n=new this.occ.TopLoc_Location(t),s=e.shape.Moved(n);n.delete(),t.delete(),r.delete(),i.delete();const o=this.converterService.getActualTypeOfShape(s);return s.delete(),o}alignNormAndAxis(e){const t=new this.occ.gp_Trsf,r=this.entitiesService.gpAx3_3(e.fromOrigin,e.fromNorm,e.fromAx),i=this.entitiesService.gpAx3_3(e.toOrigin,e.toNorm,e.toAx);t.SetDisplacement(r,i);const n=new this.occ.TopLoc_Location(t),s=e.shape.Moved(n);n.delete(),t.delete(),r.delete(),i.delete();const o=this.converterService.getActualTypeOfShape(s);return s.delete(),o}}class D{constructor(e,t){this.occ=e,this.shapeGettersService=t}intersection(e){if(e.shapes.length<2)throw new Error("Intersection requires 2 or more shapes to be given");const t=e.shapes[0];let r=[];for(let i=1;i<e.shapes.length;i++){let n;const s=new this.occ.BRepAlgoAPI_Common(t,e.shapes[i]);s.HasGenerated()&&(s.Build(),n=s.Shape(),r.push(n)),s.delete()}return!e.keepEdges&&r.length>0&&(r=r.map((e=>this.occ.ShapeUpgrade_UnifySameDomain_Perform(e,!0,!0,!1)))),r}difference(e){let t=e.shape;const r=e.shapes;for(let e=0;e<r.length;e++){r[e]&&!r[e].IsNull()||console.error("Tool in Difference is null!");const i=new this.occ.BRepAlgoAPI_Cut(t,r[e]);i.Build(),t=i.Shape(),i.delete()}if(!e.keepEdges){const e=this.occ.ShapeUpgrade_UnifySameDomain_Perform(t,!0,!0,!1);t.delete(),t=e}return 1===this.shapeGettersService.getNumSolidsInCompound(t)&&(t=this.shapeGettersService.getSolidFromCompound(t,0)),t}union(e){let t=e.shapes[0];for(let r=0;r<e.shapes.length;r++){const i=new this.occ.BRepAlgoAPI_Fuse(t,e.shapes[r]);i.Build(),t=i.Shape(),i.delete()}return e.keepEdges||(t=this.occ.ShapeUpgrade_UnifySameDomain_Perform(t,!0,!0,!1)),t}}class O{constructor(e,t,r){this.occ=e,this.enumService=t,this.iteratorService=r}getNumSolidsInCompound(e){if(!e||this.enumService.getShapeTypeEnum(e)!==n.shapeTypeEnum.compound||e.IsNull())throw new Error("Shape is not a compound or is null.");let t=0;return this.iteratorService.forEachSolid(e,(()=>{t++})),t}getSolidFromCompound(e,t){if(!e||e.ShapeType()>this.occ.TopAbs_ShapeEnum.COMPSOLID||e.IsNull())return console.error("Not a compound shape!"),e;t||(t=0);let r=e,i=0;return this.iteratorService.forEachSolid(e,((e,n)=>{e===t&&(r=this.occ.CastToSolid(n)),i++})),0===i&&console.error("NO SOLIDS FOUND IN SHAPE!"),r.hash=e.hash+1,r}getEdges(e){if(e.shape&&this.enumService.getShapeTypeEnum(e.shape)===n.shapeTypeEnum.edge)return[e.shape];if(!e.shape||e.shape.IsNull())throw new Error("Shape is not provided or is of incorrect type");const t=[];return this.iteratorService.forEachEdge(e.shape,((e,r)=>{t.push(r)})),t}getEdge(e){if(!e.shape||e.shape.ShapeType&&e.shape.ShapeType()>this.occ.TopAbs_ShapeEnum.WIRE||e.shape.IsNull())throw new Error("Edge can not be found for shape that is not provided or is of incorrect type");e.index||(e.index=0);let t={},r=!1;if(this.iteratorService.forEachEdge(e.shape,((i,n)=>{i===e.index&&(t=n,r=!0)})),r)return t;throw new Error(`Edge can not be found for shape on index ${e.index}`)}getWires(e){const t=[];return this.iteratorService.forEachWire(e.shape,((e,r)=>{t.push(r)})),t}getWire(e){if(!e.shape||e.shape.IsNull())throw new Error("Shape is not provided or is null");const t=this.enumService.getShapeTypeEnum(e.shape);if(t===n.shapeTypeEnum.wire||t===n.shapeTypeEnum.edge||t===n.shapeTypeEnum.vertex)throw new Error("Shape is of incorrect type");let r;if(e.index||(e.index=0),this.iteratorService.forEachWire(e.shape,((t,i)=>{t===e.index&&(r=this.occ.CastToWire(i))})),!r)throw Error("Wire not found");return r}getFaces(e){const t=[];return this.iteratorService.forEachFace(e.shape,((e,r)=>{t.push(r)})),t}getSolids(e){const t=[];return this.iteratorService.forEachSolid(e.shape,((e,r)=>{t.push(r)})),t}getFace(e){if(!e.shape||e.shape.IsNull())throw new Error("Shape is not provided or is null");const t=this.enumService.getShapeTypeEnum(e.shape);if(t===n.shapeTypeEnum.wire||t===n.shapeTypeEnum.edge||t===n.shapeTypeEnum.vertex)throw new Error("Shape is of incorrect type");e.index||(e.index=0);let r={},i=0;if(this.iteratorService.forEachFace(e.shape,((t,n)=>{t===e.index&&(r=this.occ.CastToFace(n)),i++})),i<e.index||e.index<0)throw new Error("Face index is out of range");return r}getVertices(e){if(e.shape&&this.enumService.getShapeTypeEnum(e.shape)===n.shapeTypeEnum.vertex)return[e.shape];if(!e.shape||e.shape.IsNull())throw new Error("Shape is not provided or is of incorrect type");const t=[];return this.iteratorService.forEachVertex(e.shape,((e,r)=>{t.push(r)})),t}getShapesOfCompound(e){const t=[];return this.iteratorService.forEachShapeInCompound(e.shape,((e,r)=>{t.push(r)})),t}}class A{constructor(e,t,r,i,n,s,o,a,c,h){this.occ=e,this.occRefReturns=t,this.shapeGettersService=r,this.entitiesService=i,this.iteratorService=n,this.converterService=s,this.enumService=o,this.geomService=a,this.transformsService=c,this.vecHelper=h}getCornerPointsOfEdgesForShape(e){const t=this.shapeGettersService.getEdges(e);let r=[];return t.forEach((e=>{const t=this.occ.GetEdgeCurve(e);try{if(t&&!t.IsNull()){const i=this.occ.BRep_Tool_GetEdgeParameters(e);if(i.IsValid){const e=t.Value(i.First),n=t.Value(i.Last),s=[e.X(),e.Y(),e.Z()],o=[n.X(),n.Y(),n.Z()];e.delete(),n.delete(),r.push(s),r.push(o)}t.delete()}}catch(e){console.log(e)}})),r.length>0&&(r=this.vecHelper.removeAllDuplicateVectors(r)),r}getCircularEdgesAlongWire(e){return this.getEdgesAlongWire(e).filter((e=>this.isEdgeCircular({shape:e})))}getLinearEdgesAlongWire(e){return this.getEdgesAlongWire(e).filter((e=>this.isEdgeLinear({shape:e})))}getEdgesAlongWire(e){if(e.shape&&this.enumService.getShapeTypeEnum(e.shape)===n.shapeTypeEnum.edge)return[e.shape];if(!e.shape||e.shape.IsNull())throw new Error("Shape is not provided or is of incorrect type");const t=[],r=this.fixEdgeOrientationsAlongWire(e);return this.iteratorService.forEachEdgeAlongWire(r,((e,r)=>{t.push(r)})),t}fixEdgeOrientationsAlongWire(e){const t=[];return this.iteratorService.forEachEdgeAlongWire(e.shape,((e,r)=>{t.push(r)})),this.converterService.combineEdgesAndWiresIntoAWire({shapes:t})}arcThroughThreePoints(e){const t=this.entitiesService.gpPnt(e.start),r=this.entitiesService.gpPnt(e.middle),i=this.entitiesService.gpPnt(e.end),n=this.occ.MakeArcThrough3Points(t,r,i);return t.delete(),r.delete(),i.delete(),n}arcThroughTwoPointsAndTangent(e){const t=this.entitiesService.gpPnt(e.start),r=this.entitiesService.gpVec(e.tangentVec),i=this.entitiesService.gpPnt(e.end),n=this.occ.MakeArcWithTangent(t,r,i);return t.delete(),r.delete(),i.delete(),n}arcFromCircleAndTwoAngles(e){const t=this.getGpCircleFromEdge({shape:e.circle}),r=this.vecHelper.degToRad(e.alphaAngle1),i=this.vecHelper.degToRad(e.alphaAngle2),n=this.occ.MakeArcOnCircleByAngles(t,r,i,e.sense);return t.delete(),n}arcFromCirclePointAndAngle(e){const t=this.getGpCircleFromEdge({shape:e.circle}),r=this.vecHelper.degToRad(e.alphaAngle),i=this.entitiesService.gpPnt(e.point),n=this.occ.MakeArcOnCircleByAngle(t,i,r,e.sense);return t.delete(),i.delete(),n}lineEdge(e){const t=this.entitiesService.gpPnt(e.start),r=this.entitiesService.gpPnt(e.end),i=this.occ.MakeLineEdgeBetweenPoints(t,r);return t.delete(),r.delete(),i}getEdgeLength(e){return this.occ.GetEdgeLength(e.shape)}getEdgeLengthsOfShape(e){return this.shapeGettersService.getEdges({shape:e.shape}).map((e=>this.getEdgeLength({shape:e})))}getEdgesLengths(e){if(void 0===e.shapes)throw Error("Shapes are not defined");return e.shapes.map((e=>this.getEdgeLength({shape:e})))}getEdgesCentersOfMass(e){if(void 0===e.shapes)throw Error("Shapes are not defined");return e.shapes.map((e=>this.geomService.getLinearCenterOfMass({shape:e})))}edgesToPoints(e){const t=this.enumService.getShapeTypeEnum(e.shape);let r=[];return r=t===n.shapeTypeEnum.edge?[e.shape]:t===n.shapeTypeEnum.wire?this.getEdgesAlongWire({shape:e.shape}):this.shapeGettersService.getEdges({shape:e.shape}),r.map((t=>this.edgeToPoints(Object.assign(Object.assign({},e),{shape:t}))))}startPointOnEdge(e){const t=e.shape,r=this.converterService.combineEdgesAndWiresIntoAWire({shapes:[t]}),i=new this.occ.BRepAdaptor_CompCurve(r,!1),n=this.geomService.pointOnCurveAtParam({shape:i,param:0});return i.delete(),n}endPointOnEdge(e){const t=e.shape,r=this.converterService.combineEdgesAndWiresIntoAWire({shapes:[t]}),i=new this.occ.BRepAdaptor_CompCurve(r,!1),n=this.geomService.pointOnCurveAtParam({shape:i,param:1});return i.delete(),n}edgeToPoints(e){const t=[],r=new this.occ.TopLoc_Location,i=new this.occ.BRepAdaptor_Curve(e.shape),n=new this.occ.GCPnts_TangentialDeflection(i,e.angularDeflection,e.curvatureDeflection,e.minimumOfPoints,e.uTolerance,e.minimumLength),s=n.NbPoints(),o=[];for(let e=0;e<s;e++){const r=n.Value(e+1);t.push([r.X(),r.Y(),r.Z()]),o.push(r)}if(o.forEach((e=>e.delete())),r.delete(),i.delete(),n.delete(),t.length>1){const r=this.startPointOnEdge({shape:e.shape}),i=t[0],n=t[t.length-1],s=this.vecHelper.distanceBetweenPoints(i,r);this.vecHelper.distanceBetweenPoints(n,r)<s&&t.reverse()}return t}makeEdgeFromGeom2dCurveAndSurfaceBounded(e,t,r){return this.occ.MakeEdgeFromGeom2dCurveAndSurfaceBounded(e.curve,e.surface,t,r)}makeEdgeFromGeom2dCurveAndSurface(e){return this.occ.MakeEdgeFromGeom2dCurveAndSurface(e.curve,e.surface)}constraintTanLinesFromTwoPtsToCircle(e){const t=this.getCircularEdgePlaneDirection({shape:e.circle}),r=this.getCircularEdgeCenterPoint({shape:e.circle}),i=new n.AlignDto;i.fromDirection=t,i.toDirection=[0,0,1],i.fromOrigin=r,i.toOrigin=[0,0,0],i.shape=e.circle;const s=this.transformsService.align(i),o=this.entitiesService.makeVertex(e.point1);i.shape=o;const a=this.transformsService.align(i);o.delete();const c=this.converterService.vertexToPoint({shape:a});a.delete();const h=this.entitiesService.gpPnt2d([c[0],c[1]]),u=this.entitiesService.makeVertex(e.point2);i.shape=u;const l=this.transformsService.align(i);u.delete();const d=this.converterService.vertexToPoint({shape:l});l.delete();const p=this.entitiesService.gpPnt2d([d[0],d[1]]),f=this.getGpCircle2dFromEdge({shape:s});s.delete();const v=new this.occ.GccEnt_QualifiedCirc(f,this.enumService.getGccEntPositionFromEnum(n.gccEntPositionEnum.unqualified));f.delete();const m=this.occ.GccAna_Lin2d2Tan_fromQualifiedCircAndPoint(v,h,e.tolerance),g=this.occ.GccAna_Lin2d2Tan_fromQualifiedCircAndPoint(v,p,e.tolerance);v.delete();const y=[];for(let e=1;e<=m.NbSolutions();e++){const n=m.ThisSolution(e),s=n.Location(),o=this.lineEdge({start:[s.X(),s.Y(),0],end:c});i.fromDirection=[0,0,1],i.toDirection=t,i.fromOrigin=[0,0,0],i.toOrigin=r,i.shape=o;const a=this.transformsService.align(i);y.push(a),n.delete(),s.delete(),o.delete()}m.delete();const b=[];for(let e=1;e<=g.NbSolutions();e++){const n=g.ThisSolution(e),s=n.Location(),o=this.lineEdge({start:[s.X(),s.Y(),0],end:d});i.fromDirection=[0,0,1],i.toDirection=t,i.fromOrigin=[0,0,0],i.toOrigin=r,i.shape=o;const a=this.transformsService.align(i);b.push(a),n.delete(),s.delete(),o.delete()}g.delete();let w=[];if(w=e.positionResult===n.positionResultEnum.all?[...y,...b]:e.positionResult===n.positionResultEnum.keepSide1?[y[1],b[0]]:e.positionResult===n.positionResultEnum.keepSide2?[y[0],b[1]]:[...y,...b],2===w.length&&e.circleRemainder!==n.circleInclusionEnum.none){let t,r;e.positionResult===n.positionResultEnum.keepSide2?e.circleRemainder===n.circleInclusionEnum.keepSide1?(t=this.startPointOnEdge({shape:w[1]}),r=this.startPointOnEdge({shape:w[0]})):e.circleRemainder===n.circleInclusionEnum.keepSide2&&(t=this.startPointOnEdge({shape:w[0]}),r=this.startPointOnEdge({shape:w[1]})):e.positionResult===n.positionResultEnum.keepSide1&&(e.circleRemainder===n.circleInclusionEnum.keepSide1?(t=this.startPointOnEdge({shape:w[0]}),r=this.startPointOnEdge({shape:w[1]})):e.circleRemainder===n.circleInclusionEnum.keepSide2&&(t=this.startPointOnEdge({shape:w[1]}),r=this.startPointOnEdge({shape:w[0]})));const i=this.arcFromCircleAndTwoPoints({circle:e.circle,start:t,end:r,sense:!0});w.splice(1,0,i)}return w}constraintTanLinesFromPtToCircle(e){const t=this.getCircularEdgePlaneDirection({shape:e.circle}),r=this.getCircularEdgeCenterPoint({shape:e.circle}),i=new n.AlignDto;i.fromDirection=t,i.toDirection=[0,0,1],i.fromOrigin=r,i.toOrigin=[0,0,0],i.shape=e.circle;const s=this.transformsService.align(i),o=this.entitiesService.makeVertex(e.point);i.shape=o;const a=this.transformsService.align(i);o.delete();const c=this.converterService.vertexToPoint({shape:a});a.delete();const h=this.entitiesService.gpPnt2d([c[0],c[1]]),u=this.getGpCircle2dFromEdge({shape:s});s.delete();const l=new this.occ.GccEnt_QualifiedCirc(u,this.enumService.getGccEntPositionFromEnum(n.gccEntPositionEnum.unqualified));u.delete();const d=this.occ.GccAna_Lin2d2Tan_fromQualifiedCircAndPoint(l,h,e.tolerance);l.delete();const p=[];for(let e=1;e<=d.NbSolutions();e++){const n=d.ThisSolution(e),s=n.Location(),o=this.lineEdge({start:[s.X(),s.Y(),0],end:c});i.fromDirection=[0,0,1],i.toDirection=t,i.fromOrigin=[0,0,0],i.toOrigin=r,i.shape=o;const a=this.transformsService.align(i);p.push(a),n.delete(),s.delete(),o.delete()}d.delete();let f=[];if(f=e.positionResult===n.positionResultEnum.all?[...p]:e.positionResult===n.positionResultEnum.keepSide1?[p[0]]:e.positionResult===n.positionResultEnum.keepSide2?[p[1]]:[...p],2===f.length&&e.circleRemainder!==n.circleInclusionEnum.none){let t,r;e.circleRemainder===n.circleInclusionEnum.keepSide1?(t=this.startPointOnEdge({shape:f[1]}),r=this.startPointOnEdge({shape:f[0]})):e.circleRemainder===n.circleInclusionEnum.keepSide2&&(t=this.startPointOnEdge({shape:f[0]}),r=this.startPointOnEdge({shape:f[1]}));const i=this.arcFromCircleAndTwoPoints({circle:e.circle,start:t,end:r,sense:!0});f.splice(1,0,i)}return f}constraintTanLinesOnTwoCircles(e){const t=this.getCircularEdgePlaneDirection({shape:e.circle1}),r=this.getCircularEdgeCenterPoint({shape:e.circle1}),i=new n.AlignDto;i.fromDirection=t,i.toDirection=[0,0,1],i.fromOrigin=r,i.toOrigin=[0,0,0],i.shape=e.circle1;const s=this.transformsService.align(i);i.shape=e.circle2;const o=this.transformsService.align(i),a=this.getGpCircle2dFromEdge({shape:s}),c=this.getGpCircle2dFromEdge({shape:o});s.delete(),o.delete();const h=new this.occ.GccEnt_QualifiedCirc(a,this.enumService.getGccEntPositionFromEnum(n.gccEntPositionEnum.unqualified)),u=new this.occ.GccEnt_QualifiedCirc(c,this.enumService.getGccEntPositionFromEnum(n.gccEntPositionEnum.unqualified));a.delete(),c.delete();const l=this.occ.GccAna_Lin2d2Tan_fromTwoQualifiedCirc(h,u,e.tolerance),d=this.occ.GccAna_Lin2d2Tan_fromTwoQualifiedCirc(u,h,e.tolerance);h.delete(),u.delete();const p=[];for(let e=1;e<=l.NbSolutions();e++){const t=l.ThisSolution(e);p.push(t)}l.delete();const f=[];for(let e=1;e<=d.NbSolutions();e++){const t=d.ThisSolution(e);f.push(t)}let v;d.delete(),4===f.length?v=[f[2],f[1],f[0],f[3]]:2===f.length&&(v=[f[1],f[0]]);const m=[];for(let e=0;e<p.length;e++){const n=p[e],s=v[e],o=n.Location(),a=[o.X(),o.Y(),0],c=s.Location(),h=[c.X(),c.Y(),0],u=this.lineEdge({start:a,end:h});i.fromDirection=[0,0,1],i.toDirection=t,i.fromOrigin=[0,0,0],i.toOrigin=r,i.shape=u;const l=this.transformsService.align(i);m.push(l),u.delete(),n.delete(),s.delete(),o.delete(),c.delete()}let g=[];if(g=e.positionResult===n.positionResultEnum.all?[...m]:e.positionResult===n.positionResultEnum.keepSide1&&4===m.length?[m[1],m[3]]:e.positionResult===n.positionResultEnum.keepSide2&&4===m.length?[m[0],m[2]]:e.positionResult===n.positionResultEnum.keepSide1&&2===m.length?[]:e.positionResult===n.positionResultEnum.keepSide2&&2===m.length?[m[0],m[1]]:[...m],2===g.length&&e.circleRemainders!==n.twoCircleInclusionEnum.none){let t,r,i,s;e.circleRemainders===n.twoCircleInclusionEnum.outside?(e.positionResult===n.positionResultEnum.keepSide2||e.positionResult===n.positionResultEnum.all?(t=this.startPointOnEdge({shape:g[1]}),r=this.startPointOnEdge({shape:g[0]})):e.positionResult===n.positionResultEnum.keepSide1&&(t=this.startPointOnEdge({shape:g[0]}),r=this.startPointOnEdge({shape:g[1]})),i=this.endPointOnEdge({shape:g[0]}),s=this.endPointOnEdge({shape:g[1]})):e.circleRemainders===n.twoCircleInclusionEnum.inside?(e.positionResult===n.positionResultEnum.keepSide2||e.positionResult===n.positionResultEnum.all?(t=this.startPointOnEdge({shape:g[0]}),r=this.startPointOnEdge({shape:g[1]})):e.positionResult===n.positionResultEnum.keepSide1&&(t=this.startPointOnEdge({shape:g[1]}),r=this.startPointOnEdge({shape:g[0]})),i=this.endPointOnEdge({shape:g[1]}),s=this.endPointOnEdge({shape:g[0]})):e.circleRemainders===n.twoCircleInclusionEnum.insideOutside?(e.positionResult===n.positionResultEnum.keepSide2||e.positionResult===n.positionResultEnum.all?(t=this.startPointOnEdge({shape:g[0]}),r=this.startPointOnEdge({shape:g[1]})):e.positionResult===n.positionResultEnum.keepSide1&&(t=this.startPointOnEdge({shape:g[1]}),r=this.startPointOnEdge({shape:g[0]})),i=this.endPointOnEdge({shape:g[0]}),s=this.endPointOnEdge({shape:g[1]})):e.circleRemainders===n.twoCircleInclusionEnum.outsideInside&&(e.positionResult===n.positionResultEnum.keepSide2||e.positionResult===n.positionResultEnum.all?(t=this.startPointOnEdge({shape:g[1]}),r=this.startPointOnEdge({shape:g[0]})):e.positionResult===n.positionResultEnum.keepSide1&&(t=this.startPointOnEdge({shape:g[0]}),r=this.startPointOnEdge({shape:g[1]})),i=this.endPointOnEdge({shape:g[1]}),s=this.endPointOnEdge({shape:g[0]}));const o=this.arcFromCircleAndTwoPoints({circle:e.circle1,start:t,end:r,sense:!0}),a=this.arcFromCircleAndTwoPoints({circle:e.circle2,start:i,end:s,sense:!0});g.unshift(o),g.push(a)}return g}constraintTanCirclesOnCircleAndPnt(e){const t=this.getCircularEdgePlaneDirection({shape:e.circle}),r=this.getCircularEdgeCenterPoint({shape:e.circle}),{alignOpt:i,circle1Aligned:s}=this.alignCircle(t,r,e.circle),o=this.entitiesService.makeVertex(e.point);i.shape=o;const a=this.transformsService.align(i);o.delete();const c=this.converterService.vertexToPoint({shape:a});a.delete();const h=this.entitiesService.gpPnt2d([c[0],c[1]]),u=this.getGpCircle2dFromEdge({shape:s});s.delete();const l=new this.occ.GccEnt_QualifiedCirc(u,this.enumService.getGccEntPositionFromEnum(n.gccEntPositionEnum.unqualified));u.delete();const d=this.occ.GccAna_Circ2d2TanRad_fromQualifiedCircAndPoint(l,h,e.radius,e.tolerance);l.delete();const p=[];for(let e=1;e<=d.NbSolutions();e++){const t=d.ThisSolution(e);p.push(t)}d.delete();const f=[];for(let e=0;e<p.length;e++){const n=p[e],s=this.reconstructCircleAndAlignBack(p,n,i,t,r);f.push(s)}return f}alignCircle(e,t,r){const i=new n.AlignDto;return i.fromDirection=e,i.toDirection=[0,0,1],i.fromOrigin=t,i.toOrigin=[0,0,0],i.shape=r,{alignOpt:i,circle1Aligned:this.transformsService.align(i)}}constraintTanCirclesOnTwoCircles(e){const t=this.getCircularEdgePlaneDirection({shape:e.circle1}),r=this.getCircularEdgeCenterPoint({shape:e.circle1}),{alignOpt:i,circle1Aligned:s}=this.alignCircle(t,r,e.circle1);i.shape=e.circle2;const o=this.transformsService.align(i),a=this.getGpCircle2dFromEdge({shape:s}),c=this.getGpCircle2dFromEdge({shape:o});s.delete(),o.delete();const h=new this.occ.GccEnt_QualifiedCirc(a,this.enumService.getGccEntPositionFromEnum(n.gccEntPositionEnum.unqualified)),u=new this.occ.GccEnt_QualifiedCirc(c,this.enumService.getGccEntPositionFromEnum(n.gccEntPositionEnum.unqualified));a.delete(),c.delete();const l=this.occ.GccAna_Circ2d2TanRad_fromTwoQualifiedCirc(h,u,e.radius,e.tolerance);h.delete(),u.delete();const d=[];for(let e=1;e<=l.NbSolutions();e++){const t=l.ThisSolution(e);d.push(t)}l.delete();const p=[];for(let e=0;e<d.length;e++){const n=d[e],s=this.reconstructCircleAndAlignBack(d,n,i,t,r);p.push(s)}return p}divideEdgeByParamsToPoints(e){const t=e.shape,r=this.converterService.combineEdgesAndWiresIntoAWire({shapes:[t]}),i=new this.occ.BRepAdaptor_CompCurve(r,!1),n=this.geomService.divideCurveToNrSegments(Object.assign(Object.assign({},e),{shape:i}),i.FirstParameter(),i.LastParameter());return i.delete(),r.delete(),n}divideEdgeByEqualDistanceToPoints(e){const t=e.shape,r=this.converterService.combineEdgesAndWiresIntoAWire({shapes:[t]}),i=new this.occ.BRepAdaptor_CompCurve(r,!1),n=this.geomService.divideCompCurveByEqualLengthDistance(Object.assign(Object.assign({},e),{shape:i}));return i.delete(),r.delete(),n}pointOnEdgeAtParam(e){const t=e.shape,{uMin:r,uMax:i}=this.getEdgeBounds(t),n=this.vecHelper.remap(e.param,0,1,r,i),s=this.occ.EvaluateEdgeCurve(t,n);if(s&&s.IsValid){const e=[s.Point.X(),s.Point.Y(),s.Point.Z()];return s.delete(),e}}reconstructCircleAndAlignBack(e,t,r,i,s){const o=t.Location(),a=[o.X(),o.Y(),0],c=this.entitiesService.createCircle(t.Radius(),a,[0,0,1],n.typeSpecificityEnum.edge);r.fromDirection=[0,0,1],r.toDirection=i,r.fromOrigin=[0,0,0],r.toOrigin=s,r.shape=c;const h=this.transformsService.align(r);return c.delete(),t.delete(),o.delete(),h}arcFromCircleAndTwoPoints(e){const t=this.getGpCircleFromEdge({shape:e.circle}),r=this.entitiesService.gpPnt(e.start),i=this.entitiesService.gpPnt(e.end),n=this.occ.MakeArcOnCircle(t,r,i,e.sense);return t.delete(),r.delete(),i.delete(),n}getCircularEdgePlaneDirection(e){const t=this.getGpCircleFromEdge(e),r=t.Position(),i=r.Direction(),n=[i.X(),i.Y(),i.Z()];return i.delete(),r.delete(),t.delete(),n}getCircularEdgeCenterPoint(e){const t=this.getGpCircleFromEdge(e),r=t.Location(),i=[r.X(),r.Y(),r.Z()];return r.delete(),t.delete(),i}getCircularEdgeRadius(e){const t=this.getGpCircleFromEdge(e),r=t.Radius();return t.delete(),r}getGpCircleFromEdge(e){const t=new this.occ.BRepAdaptor_Curve(e.shape);try{const e=t.Circle();return t.delete(),e}catch(e){throw t.delete(),new Error("Edge is not a circular edge.")}}getGpCircle2dFromEdge(e){const t=new this.occ.BRepAdaptor_Curve(e.shape);try{const e=t.Circle(),r=e.Position(),i=e.Location(),n=this.entitiesService.gpAx2d([i.X(),i.Y()],[1,0]),s=e.Radius(),o=new this.occ.gp_Circ2d(n,s);return t.delete(),e.delete(),r.delete(),i.delete(),n.delete(),o}catch(e){throw t.delete(),new Error("Edge is not a circular edge.")}}tangentOnEdgeAtParam(e){const t=e.shape,r=this.occ.GetDerivativesOnEdgeAtParam(t,e.param);if(r&&r.isValid)return[r.d1x,r.d1y,r.d1z];throw new Error("Could not get tangent on edge at param")}pointOnEdgeAtLength(e){const t=e.shape,r=this.converterService.combineEdgesAndWiresIntoAWire({shapes:[t]}),i=new this.occ.BRepAdaptor_CompCurve(r,!1),n=this.geomService.pointOnCompCurveAtLength(Object.assign(Object.assign({},e),{shape:i}));return i.delete(),r.delete(),n}tangentOnEdgeAtLength(e){const t=e.shape,r=this.converterService.combineEdgesAndWiresIntoAWire({shapes:[t]}),i=new this.occ.BRepAdaptor_CompCurve(r,!1),n=this.geomService.tangentOnCurveAtLengthCompCurve(Object.assign(Object.assign({},e),{shape:i}));return r.delete(),i.delete(),n}getEdgeBounds(e){const t=this.occ.BRep_Tool_GetEdgeParameters(e);return t.IsValid?{uMin:t.First,uMax:t.Last}:{uMin:0,uMax:0}}isEdgeCircular(e){return this.occ.IsEdgeCircular(e.shape)}isEdgeLinear(e){return this.occ.IsEdgeLinear(e.shape)}createSymmetricPeriodicBSplineEdge(e){const t=new this.occ.VectorDouble;for(const r of e.points)t.push_back(r[0]),t.push_back(r[1]),t.push_back(r[2]);const r=this.occ.MakeSymmetricPeriodicBSplineEdge(t);return t.delete(),r&&!r.IsNull()?r:void 0}}class F{constructor(e,t,r){this.occ=e,this.vecHelper=t,this.entitiesService=r}curveLength(e){return this.occ.GCPnts_AbscissaPoint_CurveLength(e.shape)}curveLengthCompCurve(e){return this.occ.GCPnts_AbscissaPoint_CompCurveLength(e.shape)}pointOnCurveAtParam(e){const t=e.shape,r=this.entitiesService.gpPnt([0,0,0]),i=this.vecHelper.remap(e.param,0,1,t.FirstParameter(),t.LastParameter());t.D0(i,r);const n=[r.X(),r.Y(),r.Z()];return r.delete(),n}pointOnCurveAtLength(e){const t=new this.occ.GCPnts_AbscissaPoint(e.shape,e.length,e.shape.FirstParameter()),r=t.Parameter(),i=this.entitiesService.gpPnt([0,0,0]);e.shape.D0(r,i);const n=[i.X(),i.Y(),i.Z()];return t.delete(),i.delete(),n}pointOnCompCurveAtLength(e){const t=this.occ.GCPnts_AbscissaPoint_FromCompCurve(e.shape,e.length,e.shape.FirstParameter()),r=t.Parameter(),i=this.entitiesService.gpPnt([0,0,0]);e.shape.D0(r,i);const n=[i.X(),i.Y(),i.Z()];return t.delete(),i.delete(),n}pointsOnCurveAtLengths(e){return e.lengths.map((t=>this.pointOnCurveAtLength({shape:e.shape,length:t})))}pointsOnCompCurveAtLengths(e){return e.lengths.map((t=>this.pointOnCompCurveAtLength({shape:e.shape,length:t})))}tangentOnCurveAtLength(e){const t=new this.occ.GCPnts_AbscissaPoint(e.shape,e.length,e.shape.FirstParameter()),r=t.Parameter(),i=this.occ.BRepAdaptor_Curve_DN(e.shape,r,1),n=[i.X(),i.Y(),i.Z()];return i.delete(),t.delete(),n}tangentOnCurveAtLengthCompCurve(e){const t=this.occ.GCPnts_AbscissaPoint_FromCompCurve(e.shape,e.length,e.shape.FirstParameter()),r=t.Parameter(),i=this.occ.BRepAdaptor_CompCurve_DN(e.shape,r,1),n=[i.X(),i.Y(),i.Z()];return i.delete(),t.delete(),n}tangentOnCurveAtParam(e){const t=e.shape,r=this.vecHelper.remap(e.param,0,1,t.FirstParameter(),t.LastParameter()),i=this.occ.BRepAdaptor_CompCurve_DN(t,r,1),n=[i.X(),i.Y(),i.Z()];return i.delete(),n}divideCurveByEqualLengthDistance(e){const t=e.shape,r=this.occ.GCPnts_AbscissaPoint_CurveLengthBetween(t,t.FirstParameter(),t.LastParameter()),i=r/e.nrOfDivisions,n=[];for(let e=0;e<=r+1e-9;e+=i)n.push(e);return e.removeStartPoint&&n.shift(),e.removeEndPoint&&n.pop(),n.map((e=>{const r=new this.occ.GCPnts_AbscissaPoint(t,e,t.FirstParameter()),i=r.Parameter();return r.delete(),i})).map((e=>{const r=this.entitiesService.gpPnt([0,0,0]);t.D0(e,r);const i=[r.X(),r.Y(),r.Z()];return r.delete(),i}))}divideCompCurveByEqualLengthDistance(e){const t=e.shape,r=this.occ.GCPnts_AbscissaPoint_CompCurveLengthBetween(t,t.FirstParameter(),t.LastParameter()),i=r/e.nrOfDivisions,n=[];for(let e=0;e<=r+1e-9;e+=i)n.push(e);return e.removeStartPoint&&n.shift(),e.removeEndPoint&&n.pop(),n.map((e=>{const r=this.occ.GCPnts_AbscissaPoint_FromCompCurve(t,e,t.FirstParameter()),i=r.Parameter();return r.delete(),i})).map((e=>{const r=this.entitiesService.gpPnt([0,0,0]);t.D0(e,r);const i=[r.X(),r.Y(),r.Z()];return r.delete(),i}))}divideCurveToNrSegments(e,t,r){const i=e.shape,n=[];for(let i=0;i<=e.nrOfDivisions;i++){const s=i/e.nrOfDivisions,o=this.vecHelper.remap(s,0,1,t,r);n.push(o)}return e.removeStartPoint&&n.shift(),e.removeEndPoint&&n.pop(),n.map((e=>{const t=this.entitiesService.gpPnt([0,0,0]);i.D0(e,t);const r=[t.X(),t.Y(),t.Z()];return t.delete(),r}))}startPointOnCurve(e){const t=e.shape,r=this.entitiesService.gpPnt([0,0,0]);t.D0(t.FirstParameter(),r);const i=[r.X(),r.Y(),r.Z()];return r.delete(),i}endPointOnCurve(e){const t=e.shape,r=this.entitiesService.gpPnt([0,0,0]);t.D0(t.LastParameter(),r);const i=[r.X(),r.Y(),r.Z()];return r.delete(),i}getLinearCenterOfMass(e){const t=e.shape,r=new this.occ.GProp_GProps;this.occ.BRepGProp_LinearProperties(t,r);const i=r.CentreOfMass(),n=[i.X(),i.Y(),i.Z()];return r.delete(),n}}class R{constructor(){this.type="text",this.name="text"}}class B{}class M{constructor(e,t,r,i,n,s,o,a,c,h,u,l,d,p){this.occ=e,this.occRefReturns=t,this.base=r,this.shapesHelperService=i,this.shapeGettersService=n,this.transformsService=s,this.enumService=o,this.entitiesService=a,this.converterService=c,this.geomService=h,this.edgesService=u,this.vecHelper=l,this.filletsService=d,this.operationsService=p}getWireLength(e){const t=new this.occ.BRepAdaptor_CompCurve(e.shape,!1),r=this.geomService.curveLengthCompCurve({shape:t});return t.delete(),r}getWiresLengths(e){if(void 0===e.shapes)throw Error("Shapes are not defined");return e.shapes.map((e=>this.getWireLength({shape:e})))}createRectangleWire(e){const t=e.width/2,r=e.length/2,i=[[t,0,r],[-t,0,r],[-t,0,-r],[t,0,-r]].reverse(),n=this.createPolygonWire({points:i}),s=this.transformsService.alignAndTranslate({shape:n,direction:e.direction,center:e.center});return n.delete(),s}createSquareWire(e){return this.createRectangleWire({width:e.size,length:e.size,center:e.center,direction:e.direction})}reversedWire(e){const t=e.shape.Reversed(),r=this.converterService.getActualTypeOfShape(t);return t.delete(),r}reversedWireFromReversedEdges(e){const t=e.shape,r=this.edgesService.getEdgesAlongWire({shape:t}).map((e=>this.converterService.getActualTypeOfShape(e.Reversed()))),i=this.converterService.combineEdgesAndWiresIntoAWire({shapes:r.reverse()}),n=this.converterService.getActualTypeOfShape(i);return i.delete(),r.forEach((e=>e.delete())),n}createChristmasTreeWire(e){const t=this.createLineWire({start:[e.innerDist,0,0],end:[0,e.height,0]}),r=this.createLineWire({start:[e.outerDist,0,0],end:[0,e.height,0]}),i=this.divideWireByEqualDistanceToPoints({shape:t,nrOfDivisions:e.nrSkirts,removeEndPoint:!1,removeStartPoint:!1}),n=this.divideWireByEqualDistanceToPoints({shape:r,nrOfDivisions:e.nrSkirts,removeEndPoint:!1,removeStartPoint:!1}),s=[];if(e.trunkWidth>0&&e.trunkHeight>0?(s.push([0,-e.trunkHeight,0]),s.push([e.trunkWidth/2,-e.trunkHeight,0]),s.push([e.trunkWidth/2,0,0])):s.push([0,0,0]),i.forEach(((t,r)=>{const i=n[r];0===r?s.push(i):0!==r&&r<n.length-1?(s.push([t[0],i[1]+e.height/e.nrSkirts*.1,t[2]]),s.push(i)):s.push(t)})),!e.half){const e=s.map((e=>[-e[0],e[1],e[2]]));e.pop(),s.push(...e.reverse())}let o;if(e.trunkHeight>0&&e.trunkWidth>0){const t=s.map((t=>[t[0],t[1]+e.trunkHeight,t[2]]));o=this.createPolylineWire({points:t})}else o=this.createPolylineWire({points:s});const a=this.transformsService.rotate({shape:o,angle:e.rotation,axis:[0,1,0]});return this.transformsService.alignAndTranslate({shape:a,direction:e.direction,center:e.origin})}createStarWire(e){const t=this.shapesHelperService.starLines(e.innerRadius,e.outerRadius,e.numRays,e.half,e.offsetOuterEdges),r=[];t.forEach((e=>{r.push(this.edgesService.lineEdge(e))}));const i=this.converterService.combineEdgesAndWiresIntoAWire({shapes:r}),n=this.transformsService.alignAndTranslate({shape:i,direction:e.direction,center:e.center});return i.delete(),n}createParallelogramWire(e){const t=this.shapesHelperService.parallelogram(e.width,e.height,e.angle,e.aroundCenter),r=[];t.forEach((e=>{r.push(this.edgesService.lineEdge(e))}));const i=this.converterService.combineEdgesAndWiresIntoAWire({shapes:r}),n=this.transformsService.alignAndTranslate({shape:i,direction:e.direction,center:e.center});return i.delete(),n}createHeartWire(e){const t=e.sizeApprox/2,r=[[0,0,.7*t],[t/6,0,.9*t],[t/2,0,t],[.75*t,0,.9*t],[t,0,t/4],[t/2,0,-t/2],[0,0,-t]],i=r.map((e=>[-e[0],e[1],e[2]])),n=1e-5,s=this.interpolatePoints({points:r,periodic:!1,tolerance:n}),o=this.interpolatePoints({points:i.reverse(),periodic:!1,tolerance:n}),a=this.converterService.combineEdgesAndWiresIntoAWire({shapes:[s,o]}),c=this.transformsService.rotate({shape:a,angle:e.rotation,axis:[0,1,0]}),h=this.transformsService.alignAndTranslate({shape:c,direction:e.direction,center:e.center});return a.delete(),c.delete(),s.delete(),o.delete(),h}createNGonWire(e){const t=this.shapesHelperService.ngon(e.nrCorners,e.radius,[0,0]),r=[];t.forEach((e=>{r.push(this.edgesService.lineEdge(e))}));const i=this.converterService.combineEdgesAndWiresIntoAWire({shapes:r}),n=this.transformsService.alignAndTranslate({shape:i,direction:e.direction,center:e.center});return i.delete(),n}createLPolygonWire(e){let t;switch(e.align){case n.directionEnum.outside:t=this.shapesHelperService.polygonL(e.widthFirst,e.lengthFirst,e.widthSecond,e.lengthSecond);break;case n.directionEnum.inside:t=this.shapesHelperService.polygonLInverted(e.widthFirst,e.lengthFirst,e.widthSecond,e.lengthSecond);break;case n.directionEnum.middle:t=this.shapesHelperService.polygonLMiddle(e.widthFirst,e.lengthFirst,e.widthSecond,e.lengthSecond);break;default:t=this.shapesHelperService.polygonL(e.widthFirst,e.lengthFirst,e.widthSecond,e.lengthSecond)}const r=this.createPolygonWire({points:t}),i=this.transformsService.rotate({shape:r,angle:e.rotation,axis:[0,1,0]}),s=this.transformsService.alignAndTranslate({shape:i,direction:e.direction,center:e.center});return r.delete(),i.delete(),s}createIBeamProfileWire(e){const t=this.shapesHelperService.beamIProfile(e.width,e.height,e.webThickness,e.flangeThickness,e.alignment),r=this.createPolygonWire({points:t}),i=this.transformsService.rotate({shape:r,angle:e.rotation,axis:[0,1,0]}),n=this.transformsService.alignAndTranslate({shape:i,direction:e.direction,center:e.center});return r.delete(),i.delete(),n}createHBeamProfileWire(e){const t=this.shapesHelperService.beamHProfile(e.width,e.height,e.webThickness,e.flangeThickness,e.alignment),r=this.createPolygonWire({points:t}),i=this.transformsService.rotate({shape:r,angle:e.rotation,axis:[0,1,0]}),n=this.transformsService.alignAndTranslate({shape:i,direction:e.direction,center:e.center});return r.delete(),i.delete(),n}createTBeamProfileWire(e){const t=this.shapesHelperService.beamTProfile(e.width,e.height,e.webThickness,e.flangeThickness,e.alignment),r=this.createPolygonWire({points:t}),i=this.transformsService.rotate({shape:r,angle:e.rotation,axis:[0,1,0]}),n=this.transformsService.alignAndTranslate({shape:i,direction:e.direction,center:e.center});return r.delete(),i.delete(),n}createUBeamProfileWire(e){const t=this.shapesHelperService.beamUProfile(e.width,e.height,e.webThickness,e.flangeThickness,e.flangeWidth,e.alignment),r=this.createPolygonWire({points:t}),i=this.transformsService.rotate({shape:r,angle:e.rotation,axis:[0,1,0]}),n=this.transformsService.alignAndTranslate({shape:i,direction:e.direction,center:e.center});return r.delete(),i.delete(),n}createPolygonWire(e){const t=[];for(let r=0;r<e.points.length;r++)t.push(this.entitiesService.gpPnt(e.points[r]));const r=new this.occ.BRepBuilderAPI_MakeWire;for(let i=0;i<e.points.length-1;i++){const e=t[i],n=t[i+1],s=this.makeWireBetweenTwoPoints(e,n);r.AddWire(s)}const i=t[e.points.length-1],n=t[0],s=this.makeWireBetweenTwoPoints(i,n);r.AddWire(s);const o=r.Wire();return r.delete(),o}createPolylineWire(e){const t=[];for(let r=0;r<e.points.length;r++)t.push(this.entitiesService.gpPnt(e.points[r]));const r=new this.occ.BRepBuilderAPI_MakeWire;for(let i=0;i<e.points.length-1;i++){const e=t[i],n=t[i+1],s=this.makeWireBetweenTwoPoints(e,n);r.AddWire(s)}const i=r.Wire();return r.delete(),i}createLineWire(e){const t=[];t.push(this.entitiesService.gpPnt(e.start)),t.push(this.entitiesService.gpPnt(e.end));const r=new this.occ.BRepBuilderAPI_MakeWire;for(let e=0;e<t.length-1;e++){const i=t[e],n=t[e+1],s=this.makeWireBetweenTwoPoints(i,n);r.AddWire(s)}const i=r.Wire();return r.delete(),i}createLineWireWithExtensions(e){const t=this.base.vector.normalized({vector:this.base.vector.sub({first:e.end,second:e.start})}),r=this.base.vector.mul({vector:t,scalar:-e.extensionStart}),i=this.base.vector.mul({vector:t,scalar:e.extensionEnd}),n=this.base.vector.add({first:e.start,second:r}),s=this.base.vector.add({first:e.end,second:i});return this.createLineWire({start:n,end:s})}makeWireBetweenTwoPoints(e,t){const r=this.occ.MakeLineEdgeBetweenPoints(e,t),i=new this.occ.BRepBuilderAPI_MakeWire(r),n=i.Wire();return r.delete(),i.delete(),n}divideWireByParamsToPoints(e){const t=e.shape,r=new this.occ.BRepAdaptor_CompCurve(t,!1),i=this.geomService.divideCurveToNrSegments(Object.assign(Object.assign({},e),{shape:r}),r.FirstParameter(),r.LastParameter());return r.delete(),i}divideWireByEqualDistanceToPoints(e){const t=e.shape,r=new this.occ.BRepAdaptor_CompCurve(t,!1),i=this.geomService.divideCompCurveByEqualLengthDistance(Object.assign(Object.assign({},e),{shape:r}));return r.delete(),i}pointOnWireAtParam(e){const t=e.shape,r=new this.occ.BRepAdaptor_CompCurve(t,!1),i=this.geomService.pointOnCurveAtParam(Object.assign(Object.assign({},e),{shape:r}));return r.delete(),i}tangentOnWireAtParam(e){const t=e.shape,r=new this.occ.BRepAdaptor_CompCurve(t,!1),i=this.geomService.tangentOnCurveAtParam(Object.assign(Object.assign({},e),{shape:r}));return r.delete(),i}pointOnWireAtLength(e){const t=e.shape,r=new this.occ.BRepAdaptor_CompCurve(t,!1),i=this.geomService.pointOnCompCurveAtLength(Object.assign(Object.assign({},e),{shape:r}));return r.delete(),i}pointsOnWireAtLengths(e){const t=e.shape,r=new this.occ.BRepAdaptor_CompCurve(t,!1),i=this.geomService.pointsOnCompCurveAtLengths(Object.assign(Object.assign({},e),{shape:r}));return r.delete(),i}pointsOnWireAtEqualLength(e){const t=e.shape,r=new this.occ.BRepAdaptor_CompCurve(t,!1),i=this.getWireLength({shape:t})/e.length,n=[];let s=0;for(let t=0;t<i;t++)n.push(e.length*t),s+=e.length;e.includeFirst||n.shift(),e.tryNext&&n.push(s+e.length);const o=this.geomService.pointsOnCompCurveAtLengths({lengths:n,shape:r});return e.includeLast&&o.push(this.endPointOnWire({shape:t})),r.delete(),o}pointsOnWireAtPatternOfLengths(e){const t=e.shape,r=new this.occ.BRepAdaptor_CompCurve(t,!1),i=this.getWireLength({shape:t}),n=[];let s=0,o=0,a=!1;for(;!a;)for(let t=0;t<e.lengths.length;t++){const r=e.lengths[t];if(!(s+r<=i)){a=!0;break}n.push(s+r),s+=r,o=t}e.includeFirst&&n.unshift(0),e.tryNext&&(o+1<e.lengths.length?n.push(s+e.lengths[o+1]):n.push(s+e.lengths[0]));const c=this.geomService.pointsOnCompCurveAtLengths({lengths:n,shape:r});return e.includeLast&&c.push(this.endPointOnWire({shape:t})),r.delete(),c}tangentOnWireAtLength(e){const t=e.shape,r=new this.occ.BRepAdaptor_CompCurve(t,!1),i=this.geomService.tangentOnCurveAtLengthCompCurve(Object.assign(Object.assign({},e),{shape:r}));return r.delete(),i}interpolatePoints(e){const t=new this.occ.VectorDouble;for(const r of e.points)t.push_back(r[0]),t.push_back(r[1]),t.push_back(r[2]);let r;if(e.periodic)r=this.occ.MakePeriodicBSplineWire(t);else{const e=this.occ.MakeBSplineEdge(t),i=new this.occ.BRepBuilderAPI_MakeWire(e);r=i.Wire(),e.delete(),i.delete()}return t.delete(),r&&!r.IsNull()?r:void 0}interpolatePointsSymmetric(e){const t=new this.occ.VectorDouble;for(const r of e.points)t.push_back(r[0]),t.push_back(r[1]),t.push_back(r[2]);const r=this.occ.MakeSymmetricPeriodicBSplineWire(t);return t.delete(),r&&!r.IsNull()?r:void 0}isWireClosed(e){const t=this.startPointOnWire({shape:e.shape}),r=this.endPointOnWire({shape:e.shape});return this.base.vector.vectorsTheSame({vec1:r,vec2:t,tolerance:1e-7})}splitOnPoints(e){const t=e.shape,r=this.vecHelper.removeAllDuplicateVectors(e.points,1e-7),i=this.edgesService.getEdgesAlongWire({shape:t});if(0===i.length)return[];const n=[],s=i[0];let o={current:0},a={current:0};this.occRefReturns.BRep_Tool_Range_1(s,o,a),n.push({edgeIndex:0,parameter:o.current}),r.forEach((e=>{let t=1/0,r=-1,s=0;i.forEach(((i,n)=>{const o={current:0},a={current:0};this.occRefReturns.BRep_Tool_Range_1(i,o,a);const c=o.current,h=a.current,u=this.entitiesService.gpPnt(e);try{const e=this.occ.ProjectPointOnCurve(u,i),o=e.param,a=Math.max(c,Math.min(h,o)),l=e.Point,d=l.X()-u.X(),p=l.Y()-u.Y(),f=l.Z()-u.Z(),v=Math.sqrt(d*d+p*p+f*f);v<t&&(t=v,r=n,s=a),l.delete()}catch(e){}u.delete()})),r>=0&&n.push({edgeIndex:r,parameter:s})}));const c=i[i.length-1];o={current:0},a={current:0},this.occRefReturns.BRep_Tool_Range_1(c,o,a),n.push({edgeIndex:i.length-1,parameter:a.current});const h=n.filter(((e,t,r)=>t===r.findIndex((t=>t.edgeIndex===e.edgeIndex&&t.parameter===e.parameter))));h.sort(((e,t)=>e.edgeIndex!==t.edgeIndex?e.edgeIndex-t.edgeIndex:e.parameter-t.parameter));const u=[];for(let e=0;e<h.length-1;e++){const t=h[e],r=h[e+1],n=new this.occ.BRepBuilderAPI_MakeWire;if(t.edgeIndex===r.edgeIndex){const e=i[t.edgeIndex];if(t.parameter===r.parameter)continue;const s=this.occ.TrimEdgeToParams(e,t.parameter,r.parameter);s.IsNull()||n.AddEdge(s)}else{const e=i[t.edgeIndex],s={current:0},o={current:0};this.occRefReturns.BRep_Tool_Range_1(e,s,o);const a=o.current;if(t.parameter<a){const r=this.occ.TrimEdgeToParams(e,t.parameter,a);r.IsNull()||n.AddEdge(r)}for(let e=t.edgeIndex+1;e<r.edgeIndex;e++)n.AddEdge(i[e]);const c=i[r.edgeIndex],h={current:0},u={current:0};this.occRefReturns.BRep_Tool_Range_1(c,h,u);const l=h.current;if(r.parameter>l){const e=this.occ.TrimEdgeToParams(c,l,r.parameter);e.IsNull()||n.AddEdge(e)}}if(n.IsDone()){const e=n.Wire();u.push(e)}}return u}createLines(e){const t=e.lines.map((e=>this.createLineWire(e))).filter((e=>void 0!==e));return this.converterService.makeCompoundIfNeeded(t,e.returnCompound)}createWireFromTwoCirclesTan(e){const t=this.shapeGettersService.getEdges({shape:e.circle1}),r=this.shapeGettersService.getEdges({shape:e.circle2});if(1===t.length&&1===r.length){const i=t[0],s=r[0],o=this.edgesService.constraintTanLinesOnTwoCircles({circle1:i,circle2:s,positionResult:e.keepLines===n.twoSidesStrictEnum.outside?n.positionResultEnum.keepSide2:n.positionResultEnum.keepSide1,circleRemainders:this.enumService.convertFourSidesStrictEnumToTwoCircleInclusionEnum(e.circleRemainders),tolerance:e.tolerance}),a=this.converterService.combineEdgesAndWiresIntoAWire({shapes:o});return o.forEach((e=>e.delete())),i.delete(),s.delete(),a}throw new Error("Could not find the edges of the provided circle wires.")}createZigZagBetweenTwoWires(e){const t=e.wire1,r=e.wire2;let i=[],n=[];if(e.zigZagsPerEdge){const s=this.edgesService.getEdgesAlongWire({shape:t}),o=this.edgesService.getEdgesAlongWire({shape:r});e.divideByEqualDistance?(i=s.map((t=>this.edgesService.divideEdgeByEqualDistanceToPoints({shape:t,nrOfDivisions:2*e.nrZigZags,removeEndPoint:!1,removeStartPoint:!1}))),n=o.map((t=>this.edgesService.divideEdgeByEqualDistanceToPoints({shape:t,nrOfDivisions:2*e.nrZigZags,removeEndPoint:!1,removeStartPoint:!1})))):(i=s.map((t=>this.edgesService.divideEdgeByParamsToPoints({shape:t,nrOfDivisions:2*e.nrZigZags,removeEndPoint:!1,removeStartPoint:!1}))),n=o.map((t=>this.edgesService.divideEdgeByParamsToPoints({shape:t,nrOfDivisions:2*e.nrZigZags,removeEndPoint:!1,removeStartPoint:!1}))))}else e.divideByEqualDistance?(i=[this.divideWireByEqualDistanceToPoints({shape:t,nrOfDivisions:2*e.nrZigZags,removeEndPoint:!1,removeStartPoint:!1})],n=[this.divideWireByEqualDistanceToPoints({shape:r,nrOfDivisions:2*e.nrZigZags,removeEndPoint:!1,removeStartPoint:!1})]):(i=[this.divideWireByParamsToPoints({shape:t,nrOfDivisions:2*e.nrZigZags,removeEndPoint:!1,removeStartPoint:!1})],n=[this.divideWireByParamsToPoints({shape:r,nrOfDivisions:2*e.nrZigZags,removeEndPoint:!1,removeStartPoint:!1})]);const s=i.map(((t,r)=>{const i=n[r],s=[];for(let r=0;r<t.length;r++)r%2==0?e.inverse?s.push(i[r]):s.push(t[r]):e.inverse?s.push(t[r]):s.push(i[r]);return this.createPolylineWire({points:s})}));return this.converterService.combineEdgesAndWiresIntoAWire({shapes:s})}getWireCenterOfMass(e){return this.geomService.getLinearCenterOfMass(e)}hexagonsInGrid(e){const t=this.base.point.hexGridScaledToFit(Object.assign(Object.assign({},e),{centerGrid:!0,pointsOnGround:!0})),r=t.hexagons.map((e=>this.createPolygonWire({points:e})));let i=0,n=0,s=0,o=0;const a=[];for(let c=0;c<e.nrHexagonsInHeight;c++)for(let h=0;h<e.nrHexagonsInWidth;h++){let u=1;e.scalePatternWidth&&e.scalePatternWidth.length>0&&(u=e.scalePatternWidth[i],i++,i>=e.scalePatternWidth.length&&(i=0));let l=1;e.scalePatternHeight&&e.scalePatternHeight.length>0&&(l=e.scalePatternHeight[n],n++,n>=e.scalePatternHeight.length&&(n=0));let d=!0;e.inclusionPattern&&e.inclusionPattern.length>0&&(d=e.inclusionPattern[s],s++,s>=e.inclusionPattern.length&&(s=0));let p=0;if(e.filletPattern&&e.filletPattern.length>0&&(p=e.filletPattern[o],o++,o>=e.filletPattern.length&&(o=0)),d){p=t.maxFilletRadius*p;const i=r[c*e.nrHexagonsInWidth+h],n=t.centers[c*e.nrHexagonsInWidth+h];if(p>0){const e=this.filletsService.fillet2d({shape:i,radius:p}),t=[u,1,l];let r=e;1===u&&1===l||(r=this.transformsService.scale3d({shape:e,center:n,scale:t})),a.push(r)}else{const e=[u,1,l];let t=i;1===u&&1===l||(t=this.transformsService.scale3d({shape:i,center:n,scale:e})),a.push(t)}}}return a}createWireFromEdge(e){const t=new this.occ.BRepBuilderAPI_MakeWire(e.shape),r=t.Wire();return t.delete(),r}createBSpline(e){const t=new this.occ.VectorDouble;for(const r of e.points)t.push_back(r[0]),t.push_back(r[1]),t.push_back(r[2]);e.closed&&(t.push_back(e.points[0][0]),t.push_back(e.points[0][1]),t.push_back(e.points[0][2]));const r=this.occ.MakeApproxBSplineEdge(t,3,8,.001),i=new this.occ.BRepBuilderAPI_MakeWire(r),n=i.Wire();return t.delete(),r.delete(),i.delete(),n}createBezier(e){const t=new this.occ.VectorDouble;for(const r of e.points)t.push_back(r[0]),t.push_back(r[1]),t.push_back(r[2]);e.closed&&(t.push_back(e.points[0][0]),t.push_back(e.points[0][1]),t.push_back(e.points[0][2]));const r=this.occ.MakeBezierWire(t);return t.delete(),r}createBezierWeights(e){if(!e.closed&&e.points.length!==e.weights.length)throw new Error("Number of points and weights must be the same when bezier is not closed.");if(e.closed&&e.points.length!==e.weights.length-1)throw new Error("Number of points must be one less than number of weights when bezier is closed.");const t=new this.occ.VectorDouble;for(const r of e.points)t.push_back(r[0]),t.push_back(r[1]),t.push_back(r[2]);e.closed&&(t.push_back(e.points[0][0]),t.push_back(e.points[0][1]),t.push_back(e.points[0][2]));const r=new this.occ.VectorDouble;for(const t of e.weights)r.push_back(t);const i=this.occ.MakeWeightedBezierWire(t,r);return t.delete(),r.delete(),i}addEdgesAndWiresToWire(e){const t=new this.occ.BRepBuilderAPI_MakeWire;let r;if(t.AddWire(e.shape),e.shapes.forEach((e=>{e.ShapeType()===this.occ.TopAbs_ShapeEnum.EDGE?t.AddEdge(e):e.ShapeType()===this.occ.TopAbs_ShapeEnum.WIRE&&t.AddWire(e)})),!t.IsDone())throw new Error("Wire could not be constructed. Check if edges and wires do not have disconnected elements.");return r=t.Wire(),t.delete(),r}startPointOnWire(e){const t=e.shape,r=new this.occ.BRepAdaptor_CompCurve(t,!1);return this.geomService.startPointOnCurve({shape:r})}midPointOnWire(e){const t=e.shape,r=new this.occ.BRepAdaptor_CompCurve(t,!1);return this.geomService.pointOnCurveAtParam({shape:r,param:.5})}endPointOnWire(e){const t=e.shape,r=new this.occ.BRepAdaptor_CompCurve(t,!1);return this.geomService.endPointOnCurve({shape:r})}textWires(e){const t=this.base.textService.vectorText(e),r=[];return t.forEach((e=>{e.chars.forEach((e=>{e.paths.forEach((e=>{const t=this.createPolylineWire({points:e});t&&r.push(t)}))}))})),r}textWiresWithData(e){const t=this.base.textService.vectorText(e),r=[],i=[];t.forEach((e=>{e.chars.forEach(((e,t)=>{const n=[];e.paths.forEach((e=>{const t=this.createPolylineWire({points:e});t&&(r.push(t),n.push(t))}));const s=this.converterService.makeCompound({shapes:n});i.push({id:`char-${t}`,shape:s})}))}));const n=this.converterService.makeCompound({shapes:r}),s=new R,o=this.operationsService.boundingBoxOfShape({shape:n}),a=o.max[0]-o.min[0],c=o.max[1]-o.min[1];s.width=a,s.height=c,s.compound="text-compound";const h=new B;return h.data=s,h.compound=n,h.shapes=[{id:"text-compound",shape:n},...i],h}placeWire(e,t){const r=this.shapeGettersService.getEdges({shape:e}),i=[];r.forEach((e=>{const r={current:0},n={current:0};this.occRefReturns.BRep_Tool_Range_1(e,r,n);const s=this.occ.GetEdgeCurve(e);if(s&&!s.IsNull()){const e=this.entitiesService.gpPln([0,0,0],[0,1,0]),o=this.occ.GeomAPI_To2d(s,e),a=this.edgesService.makeEdgeFromGeom2dCurveAndSurfaceBounded({curve:o,surface:t},r.current,n.current);a&&i.push(a),e.delete(),o.delete(),s.delete()}})),r.forEach((e=>e.delete()));const n=this.converterService.combineEdgesAndWiresIntoAWire({shapes:i});return i.forEach((e=>e.delete())),n}wiresToPoints(e){const t=this.shapeGettersService.getWires({shape:e.shape}),r=[];return t.forEach((t=>{const i=this.edgesService.edgesToPoints(Object.assign(Object.assign({},e),{shape:t})).flat(),n=this.vecHelper.removeConsecutiveDuplicates(i,!1);r.push(n)})),r}createHelixWire(e){const t=this.entitiesService.gpAx3_4(e.center,e.direction),r=this.occ.MakeHelixWire(t,e.radius,e.pitch,e.height,e.clockwise,e.tolerance);return t.delete(),r}createHelixWireByTurns(e){const t=this.entitiesService.gpAx3_4(e.center,e.direction),r=this.occ.MakeHelixWireByTurns(t,e.radius,e.pitch,e.numTurns,e.clockwise,e.tolerance);return t.delete(),r}createTaperedHelixWire(e){const t=this.entitiesService.gpAx3_4(e.center,e.direction),r=this.occ.MakeTaperedHelixWire(t,e.startRadius,e.endRadius,e.pitch,e.height,e.clockwise,e.tolerance);return t.delete(),r}createFlatSpiralWire(e){const t=this.entitiesService.gpAx3_4(e.center,e.direction),r=this.occ.MakeFlatSpiralWire(t,e.startRadius,e.endRadius,e.numTurns,e.clockwise,e.tolerance);return t.delete(),r}}class L{constructor(e,t,r,i,n,s,o,a,c,h,u,l){this.occ=e,this.occRefReturns=t,this.entitiesService=r,this.enumService=i,this.shapeGettersService=n,this.converterService=s,this.booleansService=o,this.wiresService=a,this.transformsService=c,this.vectorService=h,this.base=u,this.filletsService=l}createFaceFromWireOnFace(e){return this.entitiesService.bRepBuilderAPIMakeFaceFromWireOnFace(e.face,e.wire,e.inside)}createFacesFromWiresOnFace(e){return this.entitiesService.bRepBuilderAPIMakeFacesFromWiresOnFace(e.face,e.wires,e.inside)}createFaceFromWire(e){let t;if(this.enumService.getShapeTypeEnum(e.shape)!==n.shapeTypeEnum.wire)throw new Error("Provided input shape is not a wire");if(e.planar){const r=this.occ.CastToWire(e.shape);t=this.entitiesService.bRepBuilderAPIMakeFaceFromWire(r,e.planar),r.delete()}else{const r=this.occ.CastToWire(e.shape),i=this.shapeGettersService.getEdges({shape:r}),n=new this.occ.BRepFill_Filling;try{for(const e of i)this.occ.BRepFill_Filling_AddEdge(n,e,0,!0),e.delete();if(this.occ.BRepFill_Filling_Build(n),!this.occ.BRepFill_Filling_IsDone(n))throw new Error("BRepFill_Filling failed to create face from wire");t=this.occ.BRepFill_Filling_Face(n)}finally{n.delete(),r.delete()}}return t}getFaceArea(e){const t=new this.occ.GProp_GProps;this.occ.BRepGProp_SurfaceProperties(e.shape,t);const r=t.Mass();return t.delete(),r}getFacesAreas(e){if(void 0===e.shapes)throw Error("Shapes are not defined");return e.shapes.map((e=>this.getFaceArea({shape:e})))}getFaceCenterOfMass(e){const t=new this.occ.GProp_GProps;this.occ.BRepGProp_SurfaceProperties(e.shape,t);const r=t.CentreOfMass(),i=[r.X(),r.Y(),r.Z()];return t.delete(),r.delete(),i}getFacesCentersOfMass(e){if(void 0===e.shapes)throw Error("Shapes are not defined");return e.shapes.map((e=>this.getFaceCenterOfMass({shape:e})))}filterFacePoints(e){const t=e.shape,r=e.points,i=e.tolerance||1e-6,n=!1!==e.keepOn,s=!1!==e.keepIn,o=!0===e.keepOut,a=[];for(const e of r){const r=new this.occ.gp_Pnt(e[0],e[1],e[2]);try{const c=new this.occ.BRepClass_FaceClassifier(t,r,i),h=c.State().value;(0===h&&s||1===h&&o||2===h&&n)&&a.push(e),c.delete()}finally{r.delete()}}return a}createSquareFace(e){const t=this.wiresService.createSquareWire(e),r=this.entitiesService.bRepBuilderAPIMakeFaceFromWire(t,!0);return t.delete(),r}createRectangleFace(e){const t=this.wiresService.createRectangleWire(e),r=this.entitiesService.bRepBuilderAPIMakeFaceFromWire(t,!0);return t.delete(),r}createFaceFromMultipleCircleTanWires(e){const t=e.circles,r=[];if(e.combination===n.combinationCirclesForFaceEnum.allWithAll)for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length;s++){const o=this.wiresService.createWireFromTwoCirclesTan({circle1:t[i],circle2:t[s],keepLines:n.twoSidesStrictEnum.outside,circleRemainders:n.fourSidesStrictEnum.outside,tolerance:e.tolerance}),a=this.entitiesService.bRepBuilderAPIMakeFaceFromWire(o,!0);r.push(a)}else if(e.combination===n.combinationCirclesForFaceEnum.inOrder)for(let i=0;i<t.length-1;i++){const s=this.wiresService.createWireFromTwoCirclesTan({circle1:t[i],circle2:t[i+1],keepLines:n.twoSidesStrictEnum.outside,circleRemainders:n.fourSidesStrictEnum.outside,tolerance:e.tolerance}),o=this.entitiesService.bRepBuilderAPIMakeFaceFromWire(s,!0);r.push(o)}else if(e.combination===n.combinationCirclesForFaceEnum.inOrderClosed)for(let i=0;i<t.length;i++){const s=this.wiresService.createWireFromTwoCirclesTan({circle1:t[i],circle2:t[(i+1)%t.length],keepLines:n.twoSidesStrictEnum.outside,circleRemainders:n.fourSidesStrictEnum.outside,tolerance:e.tolerance}),o=this.entitiesService.bRepBuilderAPIMakeFaceFromWire(s,!0);r.push(o)}let i;return i=e.unify?this.booleansService.union({shapes:r,keepEdges:!1}):this.converterService.makeCompound({shapes:r}),i}createFaceFromMultipleCircleTanWireCollections(e){const t=e.listsOfCircles,r=[];if(e.combination===n.combinationCirclesForFaceEnum.allWithAll)for(let i=0;i<t.length;i++){const s=t[i],o=t[i+1];if(!o)break;for(let t=0;t<s.length;t++)for(let i=0;i<o.length;i++){const a=s[t],c=o[i],h=this.wiresService.createWireFromTwoCirclesTan({circle1:a,circle2:c,keepLines:n.twoSidesStrictEnum.outside,circleRemainders:n.fourSidesStrictEnum.outside,tolerance:e.tolerance}),u=this.entitiesService.bRepBuilderAPIMakeFaceFromWire(h,!0);r.push(u)}}else if(e.combination===n.combinationCirclesForFaceEnum.inOrder){for(let e=0;e<t.length;e++)if(t[e].length!==t[0].length)throw new Error("All lists of circles must have the same length in order to use inOrder strategy.");for(let i=0;i<t.length-1;i++)for(let s=0;s<t[i].length;s++){const o=this.wiresService.createWireFromTwoCirclesTan({circle1:t[i][s],circle2:t[i+1][s],keepLines:n.twoSidesStrictEnum.outside,circleRemainders:n.fourSidesStrictEnum.outside,tolerance:e.tolerance}),a=this.entitiesService.bRepBuilderAPIMakeFaceFromWire(o,!0);r.push(a)}}else if(e.combination===n.combinationCirclesForFaceEnum.inOrderClosed){for(let e=0;e<t.length;e++)if(t[e].length!==t[0].length)throw new Error("All lists of circles must have the same length in order to use inOrderClosed strategy.");for(let i=0;i<t.length-1;i++)for(let s=0;s<t[i].length;s++){const o=this.wiresService.createWireFromTwoCirclesTan({circle1:t[i][s],circle2:t[i+1][s],keepLines:n.twoSidesStrictEnum.outside,circleRemainders:n.fourSidesStrictEnum.outside,tolerance:e.tolerance}),a=this.entitiesService.bRepBuilderAPIMakeFaceFromWire(o,!0);r.push(a)}for(let i=0;i<t.length;i++)for(let s=0;s<t[i].length;s++){const o=this.wiresService.createWireFromTwoCirclesTan({circle1:t[i][s],circle2:t[i][(s+1)%t[i].length],keepLines:n.twoSidesStrictEnum.outside,circleRemainders:n.fourSidesStrictEnum.outside,tolerance:e.tolerance}),a=this.entitiesService.bRepBuilderAPIMakeFaceFromWire(o,!0);r.push(a)}}let i;return i=e.unify?this.booleansService.union({shapes:r,keepEdges:!1}):this.converterService.makeCompound({shapes:r}),i}faceNormalOnUV(e){if(void 0===e.shape)throw Error("Face not defined");const t=e.shape,r=this.occ.BRep_Tool_Surface(t),i=r.get(),{uMin:n,uMax:s,vMin:o,vMax:a}=this.getUVBounds(t),c=n+(s-n)*e.paramU,h=o+(a-o)*e.paramV,u=this.occ.GeomLib_NormEstim(i,this.entitiesService.gpPnt2d([c,h]),1e-7);t.Orientation()===this.occ.TopAbs_Orientation.REVERSED&&u.Reverse();const l=[u.X(),u.Y(),u.Z()];return u.delete(),r.delete(),l}getUVBounds(e){const t={current:0},r={current:0},i={current:0},n={current:0};return this.occRefReturns.BRepTools_UVBounds_1(e,t,r,i,n),{uMin:t.current,uMax:r.current,vMin:i.current,vMax:n.current}}createFaceFromWires(e){return this.entitiesService.bRepBuilderAPIMakeFaceFromWires(e.shapes,e.planar)}createFaceFromWiresOnFace(e){return this.entitiesService.bRepBuilderAPIMakeFaceFromWires(e.wires,!1,e.face,e.inside)}faceFromSurface(e){return this.occ.MakeFaceFromSurface(e.shape,e.tolerance)}faceFromSurfaceAndWire(e){return this.occ.MakeFaceFromSurfaceAndWire(e.surface,e.wire,e.inside)}createFacesFromWires(e){return e.shapes.map((t=>this.createFaceFromWire({shape:t,planar:e.planar})))}getUMinBound(e){const t=e.shape,{uMin:r}=this.getUVBounds(t);return r}getUMaxBound(e){const t=e.shape,{uMax:r}=this.getUVBounds(t);return r}getVMinBound(e){const t=e.shape,{vMin:r}=this.getUVBounds(t);return r}getVMaxBound(e){const t=e.shape,{vMax:r}=this.getUVBounds(t);return r}subdivideToPointsControlled(e){if(void 0===e.shape)throw Error("Face not defined");const t=e.shape,r=this.occ.BRep_Tool_Surface(t),i=r.get(),{uMin:n,uMax:s,vMin:o,vMax:a}=this.getUVBounds(t),c=[];for(let t=0;t<e.nrDivisionsU;t++){const r=(s-n)/(e.nrDivisionsU-1),h=r/2,u=r*t;for(let r=0;r<e.nrDivisionsV;r++){const s=(a-o)/(e.nrDivisionsV-1),l=s/2;let d=o+s*r;d+=e.shiftHalfStepNthV&&(t+e.shiftHalfStepVOffsetN)%e.shiftHalfStepNthV==0?l:0;let p=n+u;p+=e.shiftHalfStepNthU&&(r+e.shiftHalfStepUOffsetN)%e.shiftHalfStepNthU==0?h:0;const f=this.occ.Geom_Surface_Value(i,p,d),v=[f.X(),f.Y(),f.Z()];let m=!0;(0===t&&e.removeStartEdgeNthU&&(r+e.removeStartEdgeUOffsetN)%e.removeStartEdgeNthU==0||t===e.nrDivisionsU-1&&e.removeEndEdgeNthU&&(r+e.removeEndEdgeUOffsetN)%e.removeEndEdgeNthU==0||0===r&&e.removeStartEdgeNthV&&(t+e.removeStartEdgeVOffsetN)%e.removeStartEdgeNthV==0||r===e.nrDivisionsV-1&&e.removeEndEdgeNthV&&(t+e.removeEndEdgeVOffsetN)%e.removeEndEdgeNthV==0)&&(m=!1),m&&c.push(v),f.delete()}}return r.delete(),c}subdivideToPoints(e){if(void 0===e.shape)throw Error("Face not defined");const t=e.shape,r=this.occ.BRep_Tool_Surface(t),i=r.get(),{uMin:n,uMax:s,vMin:o,vMax:a}=this.getUVBounds(t),c=[],h=e.removeStartEdgeU?1:0,u=e.removeEndEdgeU?1:0,l=e.removeStartEdgeV?1:0,d=e.removeEndEdgeV?1:0;for(let t=0+h;t<e.nrDivisionsU-u;t++){const r=(s-n)/(e.nrDivisionsU-1),h=r/2,u=r*t,p=n+(e.shiftHalfStepU?h:0)+u;for(let t=0+l;t<e.nrDivisionsV-d;t++){const r=(a-o)/(e.nrDivisionsV-1),n=r/2,s=r*t,h=o+(e.shiftHalfStepV?n:0)+s,u=this.occ.Geom_Surface_Value(i,p,h),l=[u.X(),u.Y(),u.Z()];c.push(l),u.delete()}}return r.delete(),c}subdivideToWires(e){if(void 0===e.shape)throw Error("Face not defined");const t=e.shape,r=this.occ.BRep_Tool_Surface(t),i=r.get(),{uMin:n,uMax:s,vMin:o,vMax:a}=this.getUVBounds(t),c=[],h=1/e.nrDivisions;for(let t=0;t<=e.nrDivisions;t++){const e=h*t;c.push(e)}if(e.removeStart&&c.shift(),e.removeEnd&&c.pop(),e.shiftHalfStep){const e=h/2;c.forEach(((t,r)=>{c[r]=c[r]+e}))}const u=[];for(let t=0;t<c.length;t++){const r=c[t],h=this.placeWireOnParamSurface(e.isU,r,n,s,o,a,i);u.push(h)}return r.delete(),u}subdivideToRectangleWires(e){var t;if(void 0===e.shape)throw Error("Face not defined");const r=[],i=e.shape,n=this.occ.BRep_Tool_Surface(i).get(),{uMin:s,uMax:o,vMin:a,vMax:c}=this.getUVBounds(i),h=[],u=(1-2*e.offsetFromBorderU)/e.nrRectanglesU,l=u/2;for(let t=0;t<e.nrRectanglesU;t++){const r=u*t+l+e.offsetFromBorderU;h.push(r)}const d=[],p=(1-2*e.offsetFromBorderV)/e.nrRectanglesV,f=p/2;for(let t=0;t<e.nrRectanglesV;t++){const r=p*t+f+e.offsetFromBorderV;d.push(r)}const v=this.wiresService.createLineWire({start:[0,0,0],end:[1,0,0]}),m=this.wiresService.createLineWire({start:[0,0,0],end:[0,0,1]}),g=this.wiresService.placeWire(v,n),y=this.wiresService.placeWire(m,n),b=this.wiresService.getWireLength({shape:g}),w=this.wiresService.getWireLength({shape:y}),S=o-s,E=c-a,x=[];let T=0,P=0,N=0,C=0;const k=[];for(let i=0;i<h.length;i++)for(let o=0;o<d.length;o++){let c=1;e.scalePatternU&&e.scalePatternU.length>0&&(c=e.scalePatternU[T],T++,T>=e.scalePatternU.length&&(T=0));let l=1;e.scalePatternV&&e.scalePatternV.length>0&&(l=e.scalePatternV[P],P++,P>=e.scalePatternV.length&&(P=0));let f=!0;e.inclusionPattern&&e.inclusionPattern.length>0&&(f=e.inclusionPattern[N],N++,N>=e.inclusionPattern.length&&(N=0));let v=0;if(e.filletPattern&&e.filletPattern.length>0&&(v=e.filletPattern[C],C++,C>=e.filletPattern.length&&(C=0)),f){const e=p*l,f=u*c,m=Math.min(e*E*b,f*S*w);(m===e*E*b||m===f*S*w)&&(v*=m/2);const g=null===(t=k.find((t=>t.id===`${e}-${f}-${v}`)))||void 0===t?void 0:t.shape,y=[d[o]*E+a,0,h[i]*S+s];if(g){const e=this.transformsService.translate({shape:g,translation:y}),t=this.wiresService.placeWire(e,n);x.push(t)}else{const t=this.wiresService.createRectangleWire({width:e,length:f,center:[0,0,0],direction:[0,1,0]});if(v>0){const i=[E*b,1,S*w],s=this.transformsService.scale3d({shape:t,center:[0,0,0],scale:i}),o=this.filletsService.fillet2d({shape:s,radius:v}),a=[1/b,1,1/w];let c=o;this.vectorService.vectorsTheSame(a,[1,1,1],1e-7)||(c=this.transformsService.scale3d({shape:o,center:[0,0,0],scale:a}));const h=this.transformsService.translate({shape:c,translation:y});r.push(t);const u=this.wiresService.placeWire(h,n);x.push(u),k.push({id:`${e}-${f}-${v}`,shape:c})}else{const i=this.transformsService.scale3d({shape:t,center:[0,0,0],scale:[E,1,S]}),s=this.transformsService.translate({shape:i,translation:y});r.push(t);const o=this.wiresService.placeWire(s,n);x.push(o),k.push({id:`${e}-${f}-${v}`,shape:i})}}}}return r.forEach((e=>e.delete())),x}subdivideToRectangleHoles(e){void 0===e.scalePatternU&&(e.scalePatternU=[.5]),void 0===e.scalePatternV&&(e.scalePatternV=[.5]);const t=this.subdivideToRectangleWires(e),r=this.shapeGettersService.getWires({shape:e.shape}),i=this.wiresService.getWiresLengths({shapes:r}),n=r[i.indexOf(Math.max(...i))],s=t.map((e=>this.wiresService.reversedWire({shape:e}))),o=[n,...s],a=this.createFaceFromWiresOnFace({wires:o,face:e.shape,inside:!0}),c=this.faceNormalOnUV({shape:e.shape,paramU:0,paramV:0}),h=this.faceNormalOnUV({shape:a,paramU:0,paramV:0});let u=!1;this.vectorService.angleBetweenVectors(c,h)>1e-7&&(u=!0,a.Reverse());let l=[];return e.holesToFaces&&(l=t.map((t=>this.createFaceFromWireOnFace({wire:t,face:e.shape,inside:!0}))),u&&l.forEach((e=>e.Reverse()))),t.forEach((e=>e.delete())),n.delete(),s.forEach((e=>e.delete())),[a,...l]}subdivideToHexagonWires(e){var t,r,i,n;if(void 0===e.shape)throw new Error("Face not defined");const s=[],o=e.shape,a=this.occ.BRep_Tool_Surface(o).get(),{uMin:c,uMax:h,vMin:u,vMax:l}=this.getUVBounds(o),d=h-c,p=l-u;if(d<=0||p<=0)return console.warn("Face has zero or negative parametric range. Skipping."),[];const f=d*(1-2*e.offsetFromBorderU),v=p*(1-2*e.offsetFromBorderV),m=c+d*e.offsetFromBorderU,g=u+p*e.offsetFromBorderV;if(f<=0||v<=0)return console.warn("Grid dimensions are zero or negative after applying offset. Skipping."),[];const y=this.base.point.hexGridScaledToFit({width:v,height:f,nrHexagonsInHeight:e.nrHexagonsU,nrHexagonsInWidth:e.nrHexagonsV,centerGrid:!1,pointsOnGround:!0,flatTop:e.flatU,extendTop:e.extendUUp,extendBottom:e.extendUBottom,extendLeft:e.extendVBottom,extendRight:e.extendVUp}),b=y.hexagons.map((e=>this.wiresService.createPolygonWire({points:e})));s.push(...b);const w=[g,0,m],S=b.map((e=>this.transformsService.translate({shape:e,translation:w})));s.push(...S);const E=this.base.point.translatePoints({points:y.centers,translation:w}),x=[];let T=0,P=0,N=0,C=0;const k=e.nrHexagonsU*e.nrHexagonsV;if(S.length!==k||E.length!==k)return console.error(`Generated ${S.length} hexagons, but expected ${k}. Check hexGridScaledToFit logic.`),[];for(let o=0;o<e.nrHexagonsU;o++)for(let c=0;c<e.nrHexagonsV;c++){const h=o*e.nrHexagonsV+c;let u=1;(null===(t=e.scalePatternU)||void 0===t?void 0:t.length)>0&&(u=e.scalePatternU[T%e.scalePatternU.length],T++);let l=1;(null===(r=e.scalePatternV)||void 0===r?void 0:r.length)>0&&(l=e.scalePatternV[P%e.scalePatternV.length],P++);let d=!0;(null===(i=e.inclusionPattern)||void 0===i?void 0:i.length)>0&&(d=e.inclusionPattern[N%e.inclusionPattern.length],N++);let p=0;if((null===(n=e.filletPattern)||void 0===n?void 0:n.length)>0&&(p=e.filletPattern[C%e.filletPattern.length],C++),d){const e=S[h],t=E[h];let r=e;const i=y.maxFilletRadius*p;if(i>1e-6){const t=this.filletsService.fillet2d({shape:e,radius:i});s.push(t),r=t}let n=r;const o=[l,1,u];if(Math.abs(u-1)>1e-6||Math.abs(l-1)>1e-6){const e=this.transformsService.scale3d({shape:r,center:t,scale:o});s.push(e),n=e}const c=this.wiresService.placeWire(n,a);x.push(c)}}return s.forEach((e=>{e.delete()})),x}subdivideToHexagonHoles(e){void 0===e.scalePatternU&&(e.scalePatternU=[.5]),void 0===e.scalePatternV&&(e.scalePatternV=[.5]);const t=this.subdivideToHexagonWires(e),r=this.shapeGettersService.getWires({shape:e.shape}),i=this.wiresService.getWiresLengths({shapes:r}),n=r[i.indexOf(Math.max(...i))],s=t.map((e=>this.wiresService.reversedWire({shape:e}))),o=[n,...s],a=this.createFaceFromWiresOnFace({wires:o,face:e.shape,inside:!0}),c=this.faceNormalOnUV({shape:e.shape,paramU:0,paramV:0}),h=this.faceNormalOnUV({shape:a,paramU:0,paramV:0});let u=!1;this.vectorService.angleBetweenVectors(c,h)>1e-7&&(u=!0,a.Reverse());let l=[];return e.holesToFaces&&(l=t.map((t=>this.createFaceFromWireOnFace({wire:t,face:e.shape,inside:!0}))),u&&l.forEach((e=>e.Reverse()))),t.forEach((e=>e.delete())),n.delete(),s.forEach((e=>e.delete())),[a,...l]}subdivideToNormals(e){if(void 0===e.shape)throw Error("Face not defined");const t=e.shape,r=this.occ.BRep_Tool_Surface(t),i=r.get(),{uMin:n,uMax:s,vMin:o,vMax:a}=this.getUVBounds(t),c=[],h=e.removeStartEdgeU?1:0,u=e.removeEndEdgeU?1:0,l=e.removeStartEdgeV?1:0,d=e.removeEndEdgeV?1:0;for(let r=0+h;r<e.nrDivisionsU-u;r++){const h=(s-n)/(e.nrDivisionsU-1),u=h/2,p=h*r,f=n+(e.shiftHalfStepU?u:0)+p;for(let r=0+l;r<e.nrDivisionsV-d;r++){const n=(a-o)/(e.nrDivisionsV-1),s=n/2,h=n*r,u=o+(e.shiftHalfStepV?s:0)+h,l=this.entitiesService.gpPnt2d([f,u]),d=this.occ.GeomLib_NormEstim(i,l,1e-7);t.Orientation()===this.occ.TopAbs_Orientation.REVERSED&&d.Reverse();const p=[d.X(),d.Y(),d.Z()];c.push(p),d.delete(),l.delete()}}return r.delete(),c}wireAlongParam(e){if(void 0===e.shape)throw Error("Face not defined");const t=e.shape,r=this.occ.BRep_Tool_Surface(t),i=r.get(),{uMin:n,uMax:s,vMin:o,vMax:a}=this.getUVBounds(t),c=this.placeWireOnParamSurface(e.isU,e.param,n,s,o,a,i);return r.delete(),c}placeWireOnParamSurface(e,t,r,i,n,s,o){let a,c=t;e?(c=r+(i-r)*t,a=this.wiresService.createLineWire({start:[n,0,c],end:[s,0,c]})):(c=n+(s-n)*t,a=this.wiresService.createLineWire({start:[c,0,r],end:[c,0,i]}));const h=this.wiresService.placeWire(a,o);return a.delete(),h}wiresAlongParams(e){if(void 0===e.shape)throw Error("Face not defined");const t=e.shape,r=this.occ.BRep_Tool_Surface(t),i=r.get(),{uMin:n,uMax:s,vMin:o,vMax:a}=this.getUVBounds(t),c=[];for(let t=0;t<e.params.length;t++){const r=e.params[t],h=this.placeWireOnParamSurface(e.isU,r,n,s,o,a,i);c.push(h)}return r.delete(),c}subdivideToPointsOnParam(e){if(void 0===e.shape)throw Error("Face not defined");const t=e.shape,r=this.occ.BRep_Tool_Surface(t),i=r.get(),{uMin:n,uMax:s,vMin:o,vMax:a}=this.getUVBounds(t),c=[],h=e.removeStartPoint?1:0,u=e.removeEndPoint?1:0;let l=e.param;l=e.isU?n+(s-n)*l:o+(a-o)*l;for(let t=0+h;t<e.nrPoints-u;t++){let r,h;if(e.isU){const i=(a-o)/(e.nrPoints-1),n=i/2,s=i*t;r=o+(e.shiftHalfStep?n:0)+s}else{const i=(s-n)/(e.nrPoints-1),o=i/2,a=i*t;r=n+(e.shiftHalfStep?o:0)+a}h=e.isU?this.occ.Geom_Surface_Value(i,l,r):this.occ.Geom_Surface_Value(i,r,l);const u=[h.X(),h.Y(),h.Z()];c.push(u),h.delete()}return r.delete(),c}subdivideToUVOnParam(e){if(void 0===e.shape)throw Error("Face not defined");const t=e.shape,{uMin:r,uMax:i,vMin:n,vMax:s}=this.getUVBounds(t),o=[],a=e.removeStartPoint?1:0,c=e.removeEndPoint?1:0;let h=e.param;h=e.isU?r+(i-r)*h:n+(s-n)*h;for(let t=0+a;t<e.nrPoints-c;t++){let a,c;if(e.isU){const r=(s-n)/(e.nrPoints-1),i=r/2,o=r*t;a=n+(e.shiftHalfStep?i:0)+o}else{const n=(i-r)/(e.nrPoints-1),s=n/2,o=n*t;a=r+(e.shiftHalfStep?s:0)+o}c=e.isU?[h,a]:[a,h],o.push(c)}return o}subdivideToUV(e){if(void 0===e.shape)throw Error("Face not defined");const t=e.shape,{uMin:r,uMax:i,vMin:n,vMax:s}=this.getUVBounds(t),o=[],a=e.removeStartEdgeU?1:0,c=e.removeEndEdgeU?1:0,h=e.removeStartEdgeV?1:0,u=e.removeEndEdgeV?1:0;for(let t=0+a;t<e.nrDivisionsU-c;t++){const a=(i-r)/(e.nrDivisionsU-1),c=a/2,l=a*t,d=r+(e.shiftHalfStepU?c:0)+l;for(let t=0+h;t<e.nrDivisionsV-u;t++){const r=(s-n)/(e.nrDivisionsV-1),i=r/2,a=r*t,c=n+(e.shiftHalfStepV?i:0)+a;o.push([d,c])}}return o}uvOnFace(e){if(void 0===e.shape)throw Error("Face not defined");const t=e.shape,{uMin:r,uMax:i,vMin:n,vMax:s}=this.getUVBounds(t);return[r+(i-r)*e.paramU,n+(s-n)*e.paramV]}pointsOnUVs(e){if(void 0===e.shape)throw Error("Face not defined");const t=e.shape,r=this.occ.BRep_Tool_Surface(t).get(),{uMin:i,uMax:n,vMin:s,vMax:o}=this.getUVBounds(t);return e.paramsUV.map((e=>{const t=i+(n-i)*e[0],a=s+(o-s)*e[1],c=this.occ.Geom_Surface_Value(r,t,a),h=[c.X(),c.Y(),c.Z()];return c.delete(),h}))}normalsOnUVs(e){if(void 0===e.shape)throw Error("Face not defined");const t=e.shape,r=this.occ.BRep_Tool_Surface(t),i=r.get(),{uMin:n,uMax:s,vMin:o,vMax:a}=this.getUVBounds(t),c=e.paramsUV.map((e=>{const t=n+(s-n)*e[0],r=o+(a-o)*e[1],c=this.entitiesService.gpPnt2d([t,r]),h=this.occ.GeomLib_NormEstim(i,c,1e-7),u=[h.X(),h.Y(),h.Z()];return h.delete(),c.delete(),u}));return r.delete(),c}pointOnUV(e){if(void 0===e.shape)throw Error("Face not defined");const t=e.shape,r=this.occ.BRep_Tool_Surface(t),i=r.get();if(i){const{uMin:n,uMax:s,vMin:o,vMax:a}=this.getUVBounds(t),c=n+(s-n)*e.paramU,h=o+(a-o)*e.paramV,u=this.occ.Geom_Surface_Value(i,c,h),l=[u.X(),u.Y(),u.Z()];return u.delete(),r.delete(),l}}normalOnUV(e){return this.faceNormalOnUV(e)}createPolygonFace(e){const t=this.wiresService.createPolygonWire(e),r=this.entitiesService.bRepBuilderAPIMakeFaceFromWire(t,!1);return t.delete(),r}}class I{constructor(e,t,r,i,n,s){this.occ=e,this.entitiesService=t,this.converterService=r,this.shapeGettersService=i,this.wiresService=n,this.booleansService=s}vertexFromXYZ(e){return this.entitiesService.makeVertex([e.x,e.y,e.z])}vertexFromPoint(e){return this.entitiesService.makeVertex(e.point)}verticesFromPoints(e){return e.points.map((e=>this.vertexFromPoint({point:e})))}verticesCompoundFromPoints(e){const t=this.verticesFromPoints(e);return this.converterService.makeCompound({shapes:t})}getVertices(e){return this.shapeGettersService.getVertices(e)}getVerticesAsPoints(e){const t=this.shapeGettersService.getVertices(e);return this.verticesToPoints({shapes:t})}verticesToPoints(e){return e.shapes.map((e=>{const t=this.occ.BRep_Tool_Pnt(e),r=[t.X(),t.Y(),t.Z()];return t.delete(),r}))}pointsToVertices(e){return e.shapes.map((e=>{const t=this.occ.BRep_Tool_Pnt(e),r=[t.X(),t.Y(),t.Z()];return t.delete(),r}))}vertexToPoint(e){return this.converterService.vertexToPoint(e)}projectPoints(e){const t=e.points.map((t=>[t[0]+e.direction[0],t[1]+e.direction[1],t[2]+e.direction[2]])).map(((t,r)=>({start:e.points[r],end:t})));return this.wiresService.createLines({lines:t,returnCompound:!1}).map(((t,r)=>{const i=this.booleansService.intersection({shapes:[t,e.shape],keepEdges:!1}).map((e=>this.shapeGettersService.getVertices({shape:e})));if(i){const t=this.verticesToPoints({shapes:i.flat().filter((e=>void 0!==e))});return e.projectionType===n.pointProjectionTypeEnum.closest?[this.getClosestPointFromPoints(t,e.points[r])]:e.projectionType===n.pointProjectionTypeEnum.furthest?[this.getFurthestPointFromPoints(t,e.points[r])]:e.projectionType===n.pointProjectionTypeEnum.closestAndFurthest?[this.getClosestPointFromPoints(t,e.points[r]),this.getFurthestPointFromPoints(t,e.points[r])]:e.projectionType===n.pointProjectionTypeEnum.all?t:void 0}})).flat().filter((e=>void 0!==e))}getClosestPointFromPoints(e,t){let r=Number.MAX_VALUE,i=[0,0,0];return e.forEach((e=>{const n=this.distanceBetweenTwoPoints(t,e);n<r&&(r=n,i=e)})),i}getFurthestPointFromPoints(e,t){let r=0,i=[0,0,0];return e.forEach((e=>{const n=this.distanceBetweenTwoPoints(t,e);n>r&&(r=n,i=e)})),i}distanceBetweenTwoPoints(e,t){const r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(r*r+i*i+n*n)}}class W{constructor(e,t,r,i){this.occ=e,this.shapeGettersService=t,this.converterService=r,this.facesService=i}getShellSurfaceArea(e){const t=this.shapeGettersService.getFaces(e);return this.facesService.getFacesAreas({shapes:t}).reduce(((e,t)=>e+t),0)}sewFaces(e){const t=new this.occ.BRepBuilderAPI_Sewing(e.tolerance);e.shapes.forEach((e=>{t.Add(e)})),t.Perform();const r=t.SewedShape(),i=this.converterService.getActualTypeOfShape(r);return t.delete(),r.delete(),i}}class U{constructor(e,t,r,i,n,s,o,a,c,h){this.occ=e,this.vecHelper=t,this.iteratorService=r,this.converterService=i,this.entitiesService=n,this.transformsService=s,this.shapeGettersService=o,this.edgesService=a,this.operationsService=c,this.facesService=h}filletEdges(e){if(!e.indexes||e.indexes.length&&0===e.indexes.length){if(void 0===e.radius)throw Error("Radius not defined");const t=new this.occ.BRepFilletAPI_MakeFillet(e.shape,this.occ.ChFi3d_FilletShape.Rational),r=new this.occ.TopExp_Explorer(e.shape,this.occ.TopAbs_ShapeEnum.EDGE,this.occ.TopAbs_ShapeEnum.SHAPE),i=[];for(;r.More();){const n=this.occ.CastToEdge(r.Current());i.push(n),t.Add(e.radius,n),r.Next()}const n=t.Shape();return t.delete(),r.delete(),i.forEach((e=>e.delete())),n}if(e.indexes&&e.indexes.length>0){const t=new this.occ.BRepFilletAPI_MakeFillet(e.shape,this.occ.ChFi3d_FilletShape.Rational);let r,i=0,n=0;const s=e.indexes;if(this.iteratorService.forEachEdge(e.shape,((r,o)=>{if(s.includes(r)){let r=e.radius;if(e.radiusList&&(r=e.radiusList[n],n++),void 0===r)throw Error("Radius not defined, or radiusList not correct length");t.Add(r,o),i++}})),0===i)throw new Error("Fillet Edges Not Found!  Make sure you are looking at the object _before_ the Fillet is applied!");r=t.Shape(),t.delete();const o=this.converterService.getActualTypeOfShape(r);return r.delete(),o}}filletEdgesListOneRadius(e){if(e.edges&&e.edges.length>0){const t=new this.occ.BRepFilletAPI_MakeFillet(e.shape,this.occ.ChFi3d_FilletShape.Rational);e.edges.forEach((r=>{t.Add(e.radius,r)}));const r=t.Shape();t.delete();const i=this.converterService.getActualTypeOfShape(r);return r.delete(),i}}filletEdgesList(e){if(e.edges&&e.edges.length>0&&e.radiusList&&e.radiusList.length>0&&e.edges.length===e.radiusList.length){const t=new this.occ.BRepFilletAPI_MakeFillet(e.shape,this.occ.ChFi3d_FilletShape.Rational);e.edges.forEach(((r,i)=>{t.Add(e.radiusList[i],r)}));const r=t.Shape();t.delete();const i=this.converterService.getActualTypeOfShape(r);return r.delete(),i}}filletEdgeVariableRadius(e){if(e.paramsU&&e.paramsU.length>0&&e.radiusList&&e.radiusList.length>0&&e.paramsU.length===e.radiusList.length){const t=new this.occ.BRepFilletAPI_MakeFillet(e.shape,this.occ.ChFi3d_FilletShape.Rational);this.assignVariableFilletToEdge(e,t);const r=t.Shape();t.delete();const i=this.converterService.getActualTypeOfShape(r);return r.delete(),i}}filletEdgesSameVariableRadius(e){if(e.edges&&e.edges.length>0&&e.radiusList&&e.radiusList.length>0&&e.paramsU.length===e.radiusList.length){const t=new this.occ.BRepFilletAPI_MakeFillet(e.shape,this.occ.ChFi3d_FilletShape.Rational);e.edges.forEach((r=>{this.assignVariableFilletToEdge({edge:r,paramsU:e.paramsU,radiusList:e.radiusList,shape:e.shape},t)}));const r=t.Shape();t.delete();const i=this.converterService.getActualTypeOfShape(r);return r.delete(),i}}filletEdgesVariableRadius(e){if(e.edges&&e.edges.length>0&&e.radiusLists&&e.radiusLists.length>0&&e.paramsULists.length===e.radiusLists.length&&e.paramsULists.length===e.edges.length&&e.radiusLists.length===e.edges.length){const t=new this.occ.BRepFilletAPI_MakeFillet(e.shape,this.occ.ChFi3d_FilletShape.Rational);e.edges.forEach(((r,i)=>{this.assignVariableFilletToEdge({edge:r,paramsU:e.paramsULists[i],radiusList:e.radiusLists[i],shape:e.shape},t)}));const r=t.Shape();t.delete();const i=this.converterService.getActualTypeOfShape(r);return r.delete(),i}}assignVariableFilletToEdge(e,t){const r=new this.occ.TColgp_Array1OfPnt2d(1,e.paramsU.length);e.paramsU.forEach(((t,i)=>{r.SetValue(i+1,this.entitiesService.gpPnt2d([t,e.radiusList[i]]))})),t.AddWithLaw(r,e.edge)}chamferEdges(e){if(!e.indexes||e.indexes.length&&0===e.indexes.length){if(void 0===e.distance)throw Error("Distance is undefined");const t=new this.occ.BRepFilletAPI_MakeChamfer(e.shape),r=new this.occ.TopExp_Explorer(e.shape,this.occ.TopAbs_ShapeEnum.EDGE,this.occ.TopAbs_ShapeEnum.SHAPE),i=[];for(;r.More();){const n=this.occ.CastToEdge(r.Current());i.push(n),t.Add(e.distance,n),r.Next()}const n=t.Shape();return t.delete(),r.delete(),i.forEach((e=>e.delete())),n}if(e.indexes&&e.indexes.length>0){const t=new this.occ.BRepFilletAPI_MakeChamfer(e.shape);let r,i=0,n=0;const s=e.indexes;this.iteratorService.forEachEdge(e.shape,((r,o)=>{if(s.includes(r)){let r=e.distance;if(e.distanceList&&(r=e.distanceList[n],n++),void 0===r)throw Error("Distance not defined and/or distance list incorrect length");t.Add(r,o),i++}})),0===i?(console.error("Chamfer Edges Not Found!  Make sure you are looking at the object _before_ the Fillet is applied!"),r=e.shape):r=t.Shape(),t.delete();const o=this.converterService.getActualTypeOfShape(r);return r.delete(),o}}chamferEdgesList(e){if(e.edges&&e.edges.length>0&&e.distanceList&&e.distanceList.length>0&&e.edges.length===e.distanceList.length){const t=new this.occ.BRepFilletAPI_MakeChamfer(e.shape);e.edges.forEach(((r,i)=>{const n=e.distanceList[i];if(void 0===n)throw Error("Distance is not defined");t.Add(n,r)}));const r=t.Shape();t.delete();const i=this.converterService.getActualTypeOfShape(r);return r.delete(),i}}chamferEdgeTwoDistances(e){const t=new this.occ.BRepFilletAPI_MakeChamfer(e.shape);t.AddTwoDistances(e.distance1,e.distance2,e.edge,e.face);const r=t.Shape();t.delete();const i=this.converterService.getActualTypeOfShape(r);return r.delete(),i}chamferEdgesTwoDistances(e){if(e.edges&&e.edges.length>0&&e.edges.length===e.faces.length){const t=new this.occ.BRepFilletAPI_MakeChamfer(e.shape);e.edges.forEach(((r,i)=>{t.AddTwoDistances(e.distance1,e.distance2,r,e.faces[i])}));const r=t.Shape();t.delete();const i=this.converterService.getActualTypeOfShape(r);return r.delete(),i}}chamferEdgesTwoDistancesLists(e){if(e.edges&&e.edges.length>0&&e.faces&&e.faces.length>0&&e.distances1&&e.distances1.length>0&&e.distances2&&e.distances2.length>0&&e.edges.length===e.faces.length&&e.edges.length===e.distances1.length&&e.edges.length===e.distances2.length){const t=new this.occ.BRepFilletAPI_MakeChamfer(e.shape);e.edges.forEach(((r,i)=>{t.AddTwoDistances(e.distances1[i],e.distances2[i],r,e.faces[i])}));const r=t.Shape();t.delete();const i=this.converterService.getActualTypeOfShape(r);return r.delete(),i}}chamferEdgeDistAngle(e){const t=new this.occ.BRepFilletAPI_MakeChamfer(e.shape),r=this.vecHelper.degToRad(e.angle);t.AddDA(e.distance,r,e.edge,e.face);const i=t.Shape();t.delete();const n=this.converterService.getActualTypeOfShape(i);return i.delete(),n}chamferEdgesDistsAngles(e){if(e.edges&&e.edges.length>0&&e.faces&&e.faces.length>0&&e.distances&&e.distances.length>0&&e.angles&&e.angles.length>0&&e.edges.length===e.distances.length&&e.edges.length===e.faces.length&&e.edges.length===e.angles.length){const t=new this.occ.BRepFilletAPI_MakeChamfer(e.shape);e.edges.forEach(((r,i)=>{const n=this.vecHelper.degToRad(e.angles[i]);t.AddDA(e.distances[i],n,r,e.faces[i])}));const r=t.Shape();t.delete();const i=this.converterService.getActualTypeOfShape(r);return r.delete(),i}}chamferEdgesDistAngle(e){if(e.edges&&e.edges.length>0&&e.faces&&e.faces.length>0&&e.edges.length===e.faces.length){const t=new this.occ.BRepFilletAPI_MakeChamfer(e.shape),r=this.vecHelper.degToRad(e.angle);e.edges.forEach(((i,n)=>{t.AddDA(e.distance,r,i,e.faces[n])}));const i=t.Shape();t.delete();const n=this.converterService.getActualTypeOfShape(i);return i.delete(),n}}fillet2d(e){if(e.indexes&&e.radiusList&&e.radiusList.length!==e.indexes.length)throw new Error("When using radius list, length of the list must match index list of corners that you want to fillet.");let t,r=!1;if(e.shape.ShapeType()===this.occ.TopAbs_ShapeEnum.FACE)t=this.converterService.getActualTypeOfShape(e.shape),r=!0;else{if(e.shape.ShapeType()!==this.occ.TopAbs_ShapeEnum.WIRE)throw new Error("You can only fillet a 2d wire or a 2d face.");{const r=this.occ.MakeFaceFromWireOnlyPlane(e.shape,!0);t=this.converterService.getActualTypeOfShape(r),r.delete()}}const i=new this.occ.BRepFilletAPI_MakeFillet2d(t),n=new this.occ.TopExp_Explorer(e.shape,this.occ.TopAbs_ShapeEnum.VERTEX,this.occ.TopAbs_ShapeEnum.SHAPE);let s=1;const o=[];for(;n.More();n.Next()){const e=this.occ.CastToVertex(n.Current());s%2==0&&o.push(e),s++}r||e.shape.Closed()||o.pop();let a,c=0;if(o.forEach(((t,r)=>{e.indexes?e.indexes.includes(r+1)&&(this.applyRadiusToVertex(e,i,t,c),c++):this.applyRadiusToVertex(e,i,t,r)})),i.Build(),r)a=i.Shape();else if(i.IsDone()){const e=i.Shape(),t=this.shapeGettersService.getWires({shape:e});1===t.length&&(a=t[0])}else{const r=this.facesService.faceNormalOnUV({shape:t,paramU:.5,paramV:.5});a=this.fillet3DWire({shape:e.shape,radius:e.radius,radiusList:e.radiusList,indexes:e.indexes,direction:r})}return n.delete(),i.delete(),o.forEach((e=>e.delete())),a}fillet3DWire(e){let t=!1;if(e.radiusList&&e.radiusList.length>0&&e.indexes&&e.indexes.length>0){if(e.radiusList.length!==e.indexes.length)throw new Error("Radius list and indexes are not the same length");t=!0}let r=this.edgesService.fixEdgeOrientationsAlongWire({shape:e.shape});if(t&&e.shape.Closed()){const t=this.edgesService.getEdgesAlongWire({shape:e.shape}),i=t.shift(),n=[...t,i];r=this.converterService.combineEdgesAndWiresIntoAWire({shapes:n})}else r=this.converterService.getActualTypeOfShape(e.shape.Reversed());const i=this.operationsService.extrude({shape:r,direction:e.direction});let n=e.indexes;if(t){const t=e.indexes.filter((e=>e>1)),r=Math.max(...t),i=[4];let s=4;for(let e=0;e<r;e++)s+=3,i.push(s);n=e.indexes.map((t=>e.shape.Closed()?t<=1?t:i[t-2]:0===t?1:i[t-1]))}const s=this.filletEdges({shape:i,radius:e.radius,indexes:n,radiusList:e.radiusList}),o=[],a=this.shapeGettersService.getFaces({shape:s});a.forEach(((e,t)=>{const r=this.shapeGettersService.getEdges({shape:e})[3];o.push(r)}));const c=this.converterService.combineEdgesAndWiresIntoAWire({shapes:o}),h=this.transformsService.translate({shape:c,translation:e.direction.map((e=>-e))});return i.delete(),s.delete(),a.forEach((e=>e.delete())),o.forEach((e=>e.delete())),h}applyRadiusToVertex(e,t,r,i){if(e.radiusList){const n=e.radiusList;t.AddFillet(r,n[i])}else e.radius&&t.AddFillet(r,e.radius)}}class _{constructor(e,t,r,i,n,s,o,a){this.occ=e,this.shapeGettersService=t,this.facesService=r,this.enumService=i,this.entitiesService=n,this.converterService=s,this.transformsService=o,this.vectorHelperService=a}fromClosedShell(e){const t=this.converterService.getActualTypeOfShape(e.shape),r=new this.occ.BRepBuilderAPI_MakeSolid(t),i=r.Solid();return r.delete(),t.delete(),i}createBox(e){let t=[...e.center];return void 0===e.originOnCenter&&(e.originOnCenter=!0),e.originOnCenter||(t=[t[0],t[1]+e.height/2,t[2]]),this.entitiesService.bRepPrimAPIMakeBox(e.width,e.length,e.height,t)}createCube(e){let t=[...e.center];return void 0===e.originOnCenter&&(e.originOnCenter=!0),e.originOnCenter||(t=[t[0],t[1]+e.size/2,t[2]]),this.entitiesService.bRepPrimAPIMakeBox(e.size,e.size,e.size,t)}createBoxFromCorner(e){const t=this.entitiesService.bRepPrimAPIMakeBox(e.width,e.length,e.height,e.corner),r=this.transformsService.translate({shape:t,translation:[e.width/2,e.height/2,e.length/2]});return t.delete(),r}createCylinder(e){const t=e.direction?e.direction:[0,1,0];let r,i;i=void 0===e.angle?2*Math.PI:this.vectorHelperService.degToRad(e.angle);const n=this.entitiesService.bRepPrimAPIMakeCylinder(e.center,t,e.radius,e.height,i);if(e.originOnCenter){const i=-e.height/2,s=this.vectorHelperService.normalize(t);r=this.transformsService.translate({shape:n,translation:[s[0]*i,s[1]*i,s[2]*i]}),n.delete()}else r=n;return r}createCylindersOnLines(e){return e.lines.map((t=>this.entitiesService.bRepPrimAPIMakeCylinderBetweenPoints(t.start,t.end,e.radius)))}createSphere(e){return this.entitiesService.bRepPrimAPIMakeSphere(e.center,[0,0,1],e.radius)}createCone(e){const t=this.entitiesService.gpAx2(e.center,e.direction),r=new this.occ.BRepPrimAPI_MakeCone(t,e.radius1,e.radius2,e.height,e.angle),i=r.Shape();return r.delete(),t.delete(),i}createTorus(e){const t=this.entitiesService.gpAx2(e.center,e.direction);let r,i=e.angle;null==i&&(i=2*Math.PI),r=i>=2*Math.PI-1e-7?new this.occ.BRepPrimAPI_MakeTorus(t,e.majorRadius,e.minorRadius):new this.occ.BRepPrimAPI_MakeTorus(t,e.majorRadius,e.minorRadius,0,2*Math.PI,i);const n=r.Shape();return r.delete(),t.delete(),n}filterSolidPoints(e){const t=[];return e.points.length>0?(e.points.forEach((r=>{const i=this.entitiesService.gpPnt(r);let s;switch(this.occ.ClassifyPointInSolid(e.shape,i,e.tolerance)){case 0:s=n.topAbsStateEnum.in;break;case 1:s=n.topAbsStateEnum.out;break;case 2:s=n.topAbsStateEnum.on;break;default:s=n.topAbsStateEnum.unknown}e.keepOn&&s===n.topAbsStateEnum.on&&t.push(r),e.keepIn&&s===n.topAbsStateEnum.in&&t.push(r),e.keepOut&&s===n.topAbsStateEnum.out&&t.push(r),e.keepUnknown&&s===n.topAbsStateEnum.unknown&&t.push(r),i.delete()})),t):[]}getSolidVolume(e){const t=new this.occ.GProp_GProps;this.occ.BRepGProp_VolumeProperties(e.shape,t);const r=t.Mass();return t.delete(),r}getSolidSurfaceArea(e){const t=this.shapeGettersService.getFaces(e);return this.facesService.getFacesAreas({shapes:t}).reduce(((e,t)=>e+t),0)}getSolidsVolumes(e){if(void 0===e.shapes)throw Error("Shapes are not defined");return e.shapes.map((e=>this.getSolidVolume({shape:e})))}getSolidCenterOfMass(e){const t=new this.occ.GProp_GProps;this.occ.BRepGProp_VolumeProperties(e.shape,t);const r=t.CentreOfMass(),i=[r.X(),r.Y(),r.Z()];return t.delete(),r.delete(),i}getSolidsCentersOfMass(e){if(void 0===e.shapes)throw Error("Shapes are not defined");return e.shapes.map((e=>this.getSolidCenterOfMass({shape:e})))}getSolids(e){return this.shapeGettersService.getSolids(e)}}class H{constructor(e,t,r,i,n,s){this.base=e,this.transformsService=t,this.converterService=r,this.entitiesService=i,this.edgesService=n,this.wiresService=s}evaluateExpression(e,t,r,i=!1){try{const n=e.replace(/val/g,t.toString()),s=n.replace(/[^0-9+\-*/.() ]/g,"");if(s!==n){const n=i?this.base.math.roundAndRemoveTrailingZeros({number:t,decimalPlaces:r}).toString():t.toFixed(r);return e.replace(/val/g,n)}const o=Function('"use strict"; return ('+s+")")();return i?this.base.math.roundAndRemoveTrailingZeros({number:o,decimalPlaces:r}).toString():o.toFixed(r)}catch(e){return i?this.base.math.roundAndRemoveTrailingZeros({number:t,decimalPlaces:r}).toString():t.toFixed(r)}}formatDimensionLabel(e,t,r,i,n=!1){let s;return s=t?this.evaluateExpression(t,e,r,n):n?this.base.math.roundAndRemoveTrailingZeros({number:e,decimalPlaces:r}).toString():e.toFixed(r),s+" "+i}createArrow(e){const t=this.base.vector.normalized({vector:e.direction}),r=e.flipped?t:this.base.vector.mul({vector:t,scalar:-1}),i=this.base.vector.cross({first:r,second:e.normal}),n=this.base.vector.normalized({vector:i}),s=e.angle/2*Math.PI/180,o=e.size*Math.cos(s),a=e.size*Math.sin(s),c=this.base.vector.mul({vector:r,scalar:o}),h=this.base.point.translatePoints({points:[e.tipPoint],translation:c})[0],u=this.base.vector.mul({vector:n,scalar:a}),l=this.base.vector.mul({vector:n,scalar:-a}),d=this.base.point.translatePoints({points:[h],translation:u})[0],p=this.base.point.translatePoints({points:[h],translation:l})[0],f=this.wiresService.createLineWireWithExtensions({start:e.tipPoint,end:d,extensionStart:0,extensionEnd:0}),v=this.wiresService.createLineWireWithExtensions({start:e.tipPoint,end:p,extensionStart:0,extensionEnd:0}),m=this.converterService.makeCompound({shapes:[f,v]});return[].forEach((e=>e.delete())),m}simpleLinearLengthDimension(e){const t=[],r=this.wiresService.createLineWireWithExtensions({start:e.start,end:e.end,extensionStart:e.crossingSize,extensionEnd:e.crossingSize});t.push(r);const i=this.transformsService.translate({shape:r,translation:e.direction}),s=this.base.point.translatePoints({points:[e.start,e.end],translation:e.direction}),o=s[0],a=s[1],c=this.wiresService.createLineWireWithExtensions({start:e.start,end:o,extensionStart:-e.offsetFromPoints,extensionEnd:e.crossingSize}),h=this.wiresService.createLineWireWithExtensions({start:e.end,end:a,extensionStart:-e.offsetFromPoints,extensionEnd:e.crossingSize}),u=this.wiresService.midPointOnWire({shape:i}),l=this.base.point.distance({startPoint:e.start,endPoint:e.end}),d=this.formatDimensionLabel(l,e.labelOverwrite,e.decimalPlaces,e.labelSuffix,e.removeTrailingZeros),p=new n.TextWiresDto;p.text=d,p.xOffset=0,p.yOffset=0,p.height=e.labelSize,p.centerOnOrigin=!0;const f=this.wiresService.textWiresWithData(p),v=this.base.point.normalFromThreePoints({point1:e.start,point2:e.end,point3:u,reverseNormal:!0}),m=this.base.vector.sub({first:e.end,second:e.start});let g=this.transformsService.rotate({shape:f.compound,angle:-90+(e.labelRotation||0),axis:[0,1,0]});t.push(...f.shapes.map((e=>e.shape)));let y=g;e.labelFlipHorizontal&&(g=this.transformsService.scale3d({shape:g,scale:[-1,1,1],center:[0,0,0]}),t.push(y),y=g),e.labelFlipVertical&&(g=this.transformsService.scale3d({shape:g,scale:[1,1,-1],center:[0,0,0]}),t.push(y),y=g);const b=this.transformsService.alignNormAndAxis({shape:g,fromOrigin:[0,0,0],fromNorm:[0,1,0],fromAx:[0,0,1],toOrigin:[0,0,0],toNorm:v,toAx:m});t.push(y);const w=this.base.vector.normalized({vector:e.direction}),S=this.base.vector.mul({vector:w,scalar:e.labelOffset}),E=this.base.vector.add({first:u,second:S}),x=this.transformsService.translate({shape:b,translation:E});t.push(b);const T=[i,c,h,x];if(e.endType===n.dimensionEndTypeEnum.arrow){const t=this.createArrow({tipPoint:o,direction:m,normal:v,size:e.arrowSize,angle:e.arrowAngle,flipped:!e.arrowsFlipped});T.push(t);const r=this.base.vector.mul({vector:m,scalar:-1}),i=this.createArrow({tipPoint:a,direction:r,normal:v,size:e.arrowSize,angle:e.arrowAngle,flipped:!e.arrowsFlipped});T.push(i)}const P=this.converterService.makeCompound({shapes:T});return t.forEach((e=>{e.delete()})),P}simpleAngularDimension(e){const t=[],r=this.base.vector.normalized({vector:e.direction1}),i=this.base.vector.mul({vector:r,scalar:e.radius}),s=this.base.point.translatePoints({points:[i],translation:e.center})[0],o=this.wiresService.createLineWireWithExtensions({start:e.center,end:s,extensionStart:-e.offsetFromCenter,extensionEnd:e.extraSize}),a=this.base.vector.normalized({vector:e.direction2}),c=this.base.vector.mul({vector:a,scalar:e.radius}),h=this.base.point.translatePoints({points:[c],translation:e.center})[0],u=this.wiresService.createLineWireWithExtensions({start:e.center,end:h,extensionStart:-e.offsetFromCenter,extensionEnd:e.extraSize}),l=this.base.point.normalFromThreePoints({point1:e.center,point2:s,point3:h,reverseNormal:!0}),d=this.base.point.normalFromThreePoints({point1:e.center,point2:s,point3:h,reverseNormal:!1}),p=this.entitiesService.createCircle(e.radius,e.center,d,n.typeSpecificityEnum.edge);t.push(p);const f=this.edgesService.arcFromCircleAndTwoPoints({circle:p,start:s,end:h,sense:!1});t.push(f);const v=this.wiresService.createWireFromEdge({shape:f}),m=this.wiresService.midPointOnWire({shape:v});let g=this.base.vector.angleBetween({first:e.direction1,second:e.direction2});e.radians&&(g=this.base.math.degToRad({number:g}));const y=this.formatDimensionLabel(g,e.labelOverwrite,e.decimalPlaces,e.labelSuffix,e.removeTrailingZeros),b=new n.TextWiresDto;b.text=y,b.xOffset=0,b.yOffset=0,b.height=e.labelSize,b.centerOnOrigin=!0;const w=this.wiresService.textWiresWithData(b),S=this.base.vector.sub({first:m,second:e.center}),E=this.base.vector.normalized({vector:S});let x=this.transformsService.rotate({shape:w.compound,angle:e.labelRotation||0,axis:[0,1,0]});t.push(...w.shapes.map((e=>e.shape)));let T=x;e.labelFlipHorizontal&&(x=this.transformsService.scale3d({shape:x,scale:[-1,1,1],center:[0,0,0]}),t.push(T),T=x),e.labelFlipVertical&&(x=this.transformsService.scale3d({shape:x,scale:[1,1,-1],center:[0,0,0]}),t.push(T),T=x);const P=this.transformsService.alignNormAndAxis({shape:x,fromOrigin:[0,0,0],fromNorm:[0,1,0],fromAx:[0,0,1],toOrigin:[0,0,0],toNorm:l,toAx:E});t.push(T);const N=this.base.vector.mul({vector:E,scalar:e.labelOffset}),C=this.base.vector.add({first:m,second:N}),k=this.transformsService.translate({shape:P,translation:C});t.push(P);const D=[o,u,v,k];if(e.endType===n.dimensionEndTypeEnum.arrow){const t=this.edgesService.pointOnEdgeAtParam({shape:f,param:0}),r=this.edgesService.pointOnEdgeAtParam({shape:f,param:1}),i=this.edgesService.tangentOnEdgeAtParam({shape:f,param:0}),n=this.edgesService.tangentOnEdgeAtParam({shape:f,param:1}),s=this.createArrow({tipPoint:t,direction:i,normal:l,size:e.arrowSize,angle:e.arrowAngle,flipped:!e.arrowsFlipped});D.push(s);const o=this.base.vector.mul({vector:n,scalar:-1}),a=this.createArrow({tipPoint:r,direction:o,normal:l,size:e.arrowSize,angle:e.arrowAngle,flipped:!e.arrowsFlipped});D.push(a)}const O=this.converterService.makeCompound({shapes:D});return t.forEach((e=>{e.delete()})),O}pinWithLabel(e){const t=this.wiresService.createLineWireWithExtensions({start:e.startPoint,end:e.endPoint,extensionStart:-e.offsetFromStart,extensionEnd:0}),r=new n.TextWiresDto;r.text=e.label,r.xOffset=0,r.yOffset=0,r.height=e.labelSize,r.centerOnOrigin=!0;const i=this.wiresService.textWiresWithData(r),s=i.data.width,o=this.base.vector.normalized({vector:e.direction}),a=this.base.vector.mul({vector:o,scalar:s/2+e.labelOffset}),c=this.base.point.translatePoints({points:[e.endPoint],translation:e.direction})[0],h=this.wiresService.createLineWireWithExtensions({start:e.endPoint,end:c,extensionStart:0,extensionEnd:0}),u=this.base.point.normalFromThreePoints({point1:e.startPoint,point2:e.endPoint,point3:c,reverseNormal:!1});let l=this.transformsService.rotate({shape:i.compound,angle:-90+(e.labelRotation||0),axis:[0,1,0]});const d=i.shapes.map((e=>e.shape));let p=l;e.labelFlipHorizontal&&(l=this.transformsService.scale3d({shape:l,scale:[-1,1,1],center:[0,0,0]}),d.push(p),p=l),e.labelFlipVertical&&(l=this.transformsService.scale3d({shape:l,scale:[1,1,-1],center:[0,0,0]}),d.push(p),p=l);const f=this.transformsService.alignNormAndAxis({shape:l,fromOrigin:[0,0,0],fromNorm:[0,1,0],fromAx:[0,0,1],toOrigin:[0,0,0],toNorm:u,toAx:o});d.push(p);const v=this.base.vector.add({first:c,second:a}),m=this.transformsService.translate({shape:f,translation:v});d.push(f);const g=[t,m,h];if(e.endType===n.dimensionEndTypeEnum.arrow){const t=this.base.vector.sub({first:e.endPoint,second:e.startPoint}),r=this.createArrow({tipPoint:e.startPoint,direction:t,normal:u,size:e.arrowSize,angle:e.arrowAngle,flipped:!e.arrowsFlipped});g.push(r)}const y=this.converterService.makeCompound({shapes:g});return d.forEach((e=>{e.delete()})),y}}class G{constructor(e,t,r,i,n,s,o){this.occ=e,this.shapeGettersService=t,this.transformsService=r,this.edgesService=i,this.facesService=n,this.wiresService=s,this.base=o}shapeFacesToPolygonPoints(e){const t=this.shapeToMesh(e),r=[];return t.faceList.forEach((t=>{const i=t.vertex_coord,n=t.tri_indexes;for(let t=0;t<n.length;t+=3){const s=n[t],o=n[t+1],a=n[t+2];let c=[[i[3*s],i[3*s+1],i[3*s+2]],[i[3*o],i[3*o+1],i[3*o+2]],[i[3*a],i[3*a+1],i[3*a+2]]];e.reversedPoints&&(c=c.reverse()),r.push(c)}})),r}shapesToMeshes(e){return e.shapes.map((t=>this.shapeToMesh({shape:t,precision:e.precision,adjustYtoZ:e.adjustYtoZ})))}shapeToMesh(e){const t=[],r=[],i=[];let n=e.shape;if(n.IsNull())return{faceList:t,edgeList:r,pointsList:[]};if(this.occ.BRepTools_Clean_Force(n,!0),e.adjustYtoZ){const t=this.transformsService.rotate({shape:e.shape,axis:[1,0,0],angle:-90}),r=this.transformsService.mirrorAlongNormal({shape:t,origin:[0,0,0],normal:[0,0,1]});t.delete(),n.delete(),n=r}const s=[],o=this.shapeGettersService.getFaces({shape:n});let a;o&&o.length&&(a=new this.occ.BRepMesh_IncrementalMesh(n,e.precision,!1,.5,!1),o.forEach(((e,r)=>{const i=this.occ.GetFaceLocation(e),n=this.occ.GetFaceTriangulation(e);if(n.IsNull())return console.error("Encountered Null Face!"),void i.delete();const o={vertex_coord:[],normal_coord:[],uvs:[],tri_indexes:[],vertex_coord_vec:[],number_of_triangles:0,center_point:void 0,center_normal:void 0,face_index:r};o.center_point=this.facesService.pointOnUV({shape:e,paramU:.5,paramV:.5}),o.center_normal=this.facesService.normalOnUV({shape:e,paramU:.5,paramV:.5});const a=new this.occ.Poly_Connect(n),c=i.Transformation();o.vertex_coord=new Array(3*n.NbNodes()),o.vertex_coord_vec=[];for(let e=0;e<n.NbNodes();e++){const t=n.Node(e+1).Transformed(c);if(n.HasUVNodes()){const t=n.UVNode(e+1);o.uvs[2*e+0]=t.X(),o.uvs[2*e+1]=t.Y(),t.delete()}o.vertex_coord[3*e+0]=t.X(),o.vertex_coord[3*e+1]=t.Y(),o.vertex_coord[3*e+2]=t.Z(),o.vertex_coord_vec.push([t.X(),t.Y(),t.Z()]),t.delete()}const h=new this.occ.TColgp_Array1OfDir(1,n.NbNodes());this.occ.StdPrs_ToolTriangulatedShape.Normal(e,a,h),o.normal_coord=new Array(3*h.Length());for(let e=0;e<h.Length();e++){const t=h.Value(e+1);o.normal_coord[3*e+0]=t.X(),o.normal_coord[3*e+1]=t.Y(),o.normal_coord[3*e+2]=t.Z()}const u=e.Orientation();o.tri_indexes=new Array(3*n.NbTriangles());let l=0;for(let e=1;e<=n.NbTriangles();e++){const t=n.Triangle(e);let r=t.Value(1),i=t.Value(2);const s=t.Value(3);if(u!==this.occ.TopAbs_Orientation.FORWARD){const e=r;r=i,i=e}o.tri_indexes[3*l+0]=r-1,o.tri_indexes[3*l+1]=i-1,o.tri_indexes[3*l+2]=s-1,l++,t.delete()}o.number_of_triangles=l,t.push(o),s.push(n),i.delete(),c.delete(),h.delete(),a.delete()})));for(let e=0;e<s.length;e++)s[e].delete();this.shapeGettersService.getEdges({shape:n}).forEach(((t,i)=>{const n={vertex_coord:[],middle_point:void 0,edge_index:-1};n.middle_point=this.edgesService.pointOnEdgeAtParam({shape:t,param:.5});const s=new this.occ.TopLoc_Location,o=new this.occ.BRepAdaptor_Curve(t),a=new this.occ.GCPnts_TangentialDeflection(o,e.precision,.1,2,1e-9,1e-7);n.vertex_coord=[];const c=a.NbPoints(),h=[];for(let e=0;e<c;e++){const t=a.Value(e+1);n.vertex_coord.push([t.X(),t.Y(),t.Z()]),h.push(t)}t.Orientation()===this.occ.TopAbs_Orientation.REVERSED&&n.vertex_coord.reverse(),n.edge_index=i,r.push(n),h.forEach((e=>e.delete())),s.delete(),o.delete(),a.delete(),this.occ.BRepTools_Clean_Force(t,!0)}));const c=this.shapeGettersService.getVertices({shape:n});return c.length>0&&c.forEach((e=>{const t=this.occ.BRep_Tool_Pnt(e);i.push([t.X(),t.Y(),t.Z()]),t.delete()})),a&&a.delete(),this.occ.BRepTools_Clean_Force(n,!0),{faceList:t,edgeList:r,pointsList:i}}meshMeshIntersectionWires(e){const t=e.shape1,r=e.shape2,i=this.shapeFacesToPolygonPoints({shape:t,precision:e.precision1,adjustYtoZ:!1,reversedPoints:!1}),n=this.shapeFacesToPolygonPoints({shape:r,precision:e.precision2,adjustYtoZ:!1,reversedPoints:!1}),s=this.base.mesh.meshMeshIntersectionPolylines({mesh1:i,mesh2:n}),o=[];return s.forEach((e=>{e.points&&e.points.length>0&&(e.isClosed?o.push(this.wiresService.createPolygonWire({points:e.points})):o.push(this.wiresService.createPolylineWire({points:e.points})))})),o}meshMeshIntersectionPoints(e){const t=e.shape1,r=e.shape2,i=this.shapeFacesToPolygonPoints({shape:t,precision:e.precision1,adjustYtoZ:!1,reversedPoints:!1}),n=this.shapeFacesToPolygonPoints({shape:r,precision:e.precision2,adjustYtoZ:!1,reversedPoints:!1});return this.base.mesh.meshMeshIntersectionPoints({mesh1:i,mesh2:n})}meshMeshIntersectionOfShapesWires(e){const t=[];return e.shapes.forEach(((r,i)=>{const n=e.shape,s=e.shapes[i];let o=e.precision;if(e.precisionShapes&&e.precisionShapes.length>0){const t=e.precisionShapes[i];t&&(o=t)}const a=this.meshMeshIntersectionWires({shape1:n,shape2:s,precision1:e.precision,precision2:o});t.push(...a)})),t}meshMeshIntersectionOfShapesPoints(e){const t=[];return e.shapes.forEach(((r,i)=>{const n=e.shape,s=e.shapes[i];let o=e.precision;if(e.precisionShapes&&e.precisionShapes.length>0){const t=e.precisionShapes[i];t&&(o=t)}const a=this.meshMeshIntersectionPoints({shape1:n,shape2:s,precision1:e.precision,precision2:o});t.push(...a)})),t}}class V{constructor(){this.geometryHelper=new s.Jq,this.math=new s.uX,this.vector=new s.Mi(this.math,this.geometryHelper),this.transforms=new s.gB(this.vector,this.math),this.lists=new s.Q8,this.point=new s.bR(this.geometryHelper,this.transforms,this.vector,this.lists),this.line=new s.N1(this.vector,this.point,this.geometryHelper),this.polyline=new s.Ro(this.vector,this.point,this.line,this.geometryHelper),this.textService=new s.nA(this.point),this.mesh=new s.L7(this.vector,this.polyline),this.io=new s.c3}}class z{constructor(e,t,r,i){this.base=e,this.shapeGettersService=t,this.edgesService=r,this.wiresService=i}shapeToDxfPaths(e){const t=this.shapeGettersService.getWires({shape:e.shape}),r=[];return t.forEach((t=>{const i=this.edgesService.getEdgesAlongWire({shape:t});if(0===i.length)return;const n=this.wiresService.isWireClosed({shape:t}),s=[];let o=0;for(;o<i.length;){const t=i[o];if(this.edgesService.isEdgeCircular({shape:t})){const e=this.edgesService.getEdgeBounds(t),r=e.uMax-e.uMin;if(Math.abs(r-2*Math.PI)<.01){const e=this.edgesService.getCircularEdgeCenterPoint({shape:t}),r=this.edgesService.getCircularEdgeRadius({shape:t});s.push({center:[e[0],e[2]],radius:r}),o++;continue}}const r=this.tryCreateUnifiedPolyline(i,o,e,n&&0===o);r?(s.push(r.polyline),o=r.nextIndex):o++}s.length>0&&r.push({segments:s})})),r}dxfPathsWithLayer(e){return{layer:e.layer,color:e.color,paths:e.paths}}dxfCreate(e){const t={dxfPathsParts:e.pathsParts,colorFormat:e.colorFormat,acadVersion:e.acadVersion};return this.base.io.dxf.dxfCreate(t)}tryCreateUnifiedPolyline(e,t,r,i){const n=[],s=[];let o=t;for(;o<e.length;){const t=e[o],i=this.edgesService.isEdgeLinear({shape:t}),a=this.edgesService.isEdgeCircular({shape:t});if(a){const e=this.edgesService.getEdgeBounds(t),r=e.uMax-e.uMin;if(Math.abs(r-2*Math.PI)<.01)break}const c=this.edgesService.startPointOnEdge({shape:t}),h=this.edgesService.endPointOnEdge({shape:t});if(i)n.push([c[0],c[2]]),s.push(0);else if(a){n.push([c[0],c[2]]);const e=.5,r=this.edgesService.pointOnEdgeAtParam({shape:t,param:e}),i=this.edgesService.getCircularEdgeCenterPoint({shape:t}),o=Math.atan2(c[2]-i[2],c[0]-i[0]),a=Math.atan2(r[2]-i[2],r[0]-i[0]);let u,l=Math.atan2(h[2]-i[2],h[0]-i[0])-o,d=a-o;l=Math.atan2(Math.sin(l),Math.cos(l)),d=Math.atan2(Math.sin(d),Math.cos(d)),u=Math.sign(l)===Math.sign(d)&&Math.abs(d)<Math.abs(l)+.1?l:l>0?l-2*Math.PI:l+2*Math.PI;const p=Math.tan(u/4);s.push(p)}else{const e=this.edgesService.edgeToPoints({shape:t,angularDeflection:r.angularDeflection,curvatureDeflection:r.curvatureDeflection,minimumOfPoints:r.minimumOfPoints,uTolerance:r.uTolerance,minimumLength:r.minimumLength});for(let t=0;t<e.length-1;t++)n.push([e[t][0],e[t][2]]),s.push(0)}o++}if(o>t&&!i){const t=e[o-1],r=this.edgesService.endPointOnEdge({shape:t});n.push([r[0],r[2]]),s.push(0)}return o<=t||n.length<2?null:{polyline:{points:n,closed:i,bulges:s},nextIndex:o}}tryCreatePolylineWithBulges(e,t,r){const i=e[t],n=this.edgesService.isEdgeLinear({shape:i}),s=this.edgesService.isEdgeCircular({shape:i});if(!n&&!s)return null;if(s){const e=this.edgesService.getEdgeBounds(i),t=e.uMax-e.uMin;if(Math.abs(t-2*Math.PI)<.01)return null}const o=[],a=[];let c=t;for(;c<e.length;){const t=e[c],r=this.edgesService.isEdgeLinear({shape:t}),i=this.edgesService.isEdgeCircular({shape:t});if(!r&&!i)break;if(i){const e=this.edgesService.getEdgeBounds(t),r=e.uMax-e.uMin;if(Math.abs(r-2*Math.PI)<.01)break}const n=this.edgesService.startPointOnEdge({shape:t});if(o.push([n[0],n[2]]),r)a.push(0);else{const e=this.edgesService.endPointOnEdge({shape:t}),r=this.edgesService.getCircularEdgeCenterPoint({shape:t}),i=Math.atan2(n[2]-r[2],n[0]-r[0]);let s=Math.atan2(e[2]-r[2],e[0]-r[0])-i;for(;s>Math.PI;)s-=2*Math.PI;for(;s<-Math.PI;)s+=2*Math.PI;const o=Math.tan(s/4);a.push(o)}c++}if(c>t){const t=e[c-1],r=this.edgesService.endPointOnEdge({shape:t});o.push([r[0],r[2]]),a.push(0)}return c-t<2?null:{polyline:{points:o,closed:r,bulges:a},nextIndex:c}}}class j{constructor(e,t,r){this.vecHelper=e,this.shapesHelperService=t,this.occ=r,this.base=new V,this.occRefReturns=new E(r),this.iteratorService=new x(r),this.enumService=new T(r),this.converterService=new P(r),this.entitiesService=new N(r),this.shapeGettersService=new O(r,this.enumService,this.iteratorService),this.geomService=new F(r,this.vecHelper,this.entitiesService),this.transformsService=new k(r,this.converterService,this.entitiesService,this.vecHelper),this.verticesService=new I(r,this.entitiesService,this.converterService,this.shapeGettersService,this.wiresService,this.booleansService),this.edgesService=new A(r,this.occRefReturns,this.shapeGettersService,this.entitiesService,this.iteratorService,this.converterService,this.enumService,this.geomService,this.transformsService,this.vecHelper),this.wiresService=new M(r,this.occRefReturns,this.base,this.shapesHelperService,this.shapeGettersService,this.transformsService,this.enumService,this.entitiesService,this.converterService,this.geomService,this.edgesService,this.vecHelper,this.filletsService,this.operationsService),this.dimensionsService=new H(this.base,this.transformsService,this.converterService,this.entitiesService,this.edgesService,this.wiresService),this.meshingService=new G(r,this.shapeGettersService,this.transformsService,this.edgesService,this.facesService,this.wiresService,this.base),this.booleansService=new D(r,this.shapeGettersService),this.verticesService.wiresService=this.wiresService,this.verticesService.booleansService=this.booleansService,this.facesService=new L(r,this.occRefReturns,this.entitiesService,this.enumService,this.shapeGettersService,this.converterService,this.booleansService,this.wiresService,this.transformsService,this.vecHelper,this.base,this.filletsService),this.meshingService.facesService=this.facesService,this.shellsService=new W(r,this.shapeGettersService,this.converterService,this.facesService),this.solidsService=new _(r,this.shapeGettersService,this.facesService,this.enumService,this.entitiesService,this.converterService,this.transformsService,this.vecHelper),this.operationsService=new C(r,this.enumService,this.entitiesService,this.converterService,this.booleansService,this.shapeGettersService,this.edgesService,this.transformsService,this.vecHelper,this.wiresService,this.facesService,this.solidsService,this.shellsService),this.wiresService.operationsService=this.operationsService,this.filletsService=new U(r,this.vecHelper,this.iteratorService,this.converterService,this.entitiesService,this.transformsService,this.shapeGettersService,this.edgesService,this.operationsService,this.facesService),this.wiresService.filletsService=this.filletsService,this.facesService.filletsService=this.filletsService,this.dxfService=new z(this.base,this.shapeGettersService,this.edgesService,this.wiresService)}surfaceFromFace(e){const t=e.shape;return this.occ.BRep_Tool_Surface(t).get()}}class ${constructor(e,t){this.occ=e,this.och=t}union(e){return this.och.booleansService.union(e)}difference(e){return this.och.booleansService.difference(e)}intersection(e){const t=this.och.booleansService.intersection(e);return this.och.converterService.makeCompound({shapes:t})}meshMeshIntersectionWires(e){return this.och.meshingService.meshMeshIntersectionWires(e)}meshMeshIntersectionPoints(e){return this.och.meshingService.meshMeshIntersectionPoints(e)}meshMeshIntersectionOfShapesWires(e){return this.och.meshingService.meshMeshIntersectionOfShapesWires(e)}meshMeshIntersectionOfShapesPoints(e){return this.och.meshingService.meshMeshIntersectionOfShapesPoints(e)}}class q{constructor(e,t){this.occ=e,this.och=t}closestPointsBetweenTwoShapes(e){return this.och.operationsService.closestPointsBetweenTwoShapes(e.shape1,e.shape2)}closestPointsOnShapeFromPoints(e){return this.och.operationsService.closestPointsOnShapeFromPoints(e)}closestPointsOnShapesFromPoints(e){return this.och.operationsService.closestPointsOnShapesFromPoints(e)}distancesToShapeFromPoints(e){return this.och.operationsService.distancesToShapeFromPoints(e)}boundingBoxOfShape(e){return this.och.operationsService.boundingBoxOfShape(e)}boundingBoxMinOfShape(e){return this.och.operationsService.boundingBoxOfShape(e).min}boundingBoxMaxOfShape(e){return this.och.operationsService.boundingBoxOfShape(e).max}boundingBoxCenterOfShape(e){return this.och.operationsService.boundingBoxOfShape(e).center}boundingBoxSizeOfShape(e){return this.och.operationsService.boundingBoxOfShape(e).size}boundingBoxShapeOfShape(e){return this.och.operationsService.boundingBoxShapeOfShape(e)}boundingSphereOfShape(e){return this.och.operationsService.boundingSphereOfShape(e)}boundingSphereCenterOfShape(e){return this.och.operationsService.boundingSphereOfShape(e).center}boundingSphereRadiusOfShape(e){return this.och.operationsService.boundingSphereOfShape(e).radius}boundingSphereShapeOfShape(e){return this.och.operationsService.boundingSphereShapeOfShape(e)}loft(e){return this.och.operationsService.loft(e)}loftAdvanced(e){return this.och.operationsService.loftAdvanced(e)}offset(e){return this.och.operationsService.offset(e)}offsetAdv(e){return this.och.operationsService.offsetAdv(e)}offset3DWire(e){return this.och.operationsService.offset3DWire(e)}extrudeShapes(e){return this.och.operationsService.extrudeShapes(e)}extrude(e){return this.och.operationsService.extrude(e)}splitShapeWithShapes(e){return this.och.operationsService.splitShapeWithShapes(e)}revolve(e){return this.och.operationsService.revolve(e)}rotatedExtrude(e){return this.och.operationsService.rotatedExtrude(e)}pipe(e){return this.och.operationsService.pipe(e)}pipePolylineWireNGon(e){return this.och.operationsService.pipePolylineWireNGon(e)}pipeWireCylindrical(e){return this.och.operationsService.pipeWireCylindrical(e)}pipeWiresCylindrical(e){return this.och.operationsService.pipeWiresCylindrical(e)}makeThickSolidSimple(e){return this.och.operationsService.makeThickSolidSimple(e)}makeThickSolidByJoin(e){return this.och.operationsService.makeThickSolidByJoin(e)}slice(e){return this.och.operationsService.slice(e)}sliceInStepPattern(e){return this.och.operationsService.sliceInStepPattern(e)}}class Y{constructor(e,t){this.occ=e,this.och=t}transform(e){const t=this.scale({shape:e.shape,factor:e.scaleFactor}),r=this.rotate({shape:t,axis:e.rotationAxis,angle:e.rotationAngle}),i=this.translate({shape:r,translation:e.translation});return t.delete(),r.delete(),i}rotate(e){return this.och.transformsService.rotate(e)}rotateAroundCenter(e){const t=this.translate({shape:e.shape,translation:e.center.map((e=>-e))}),r=e.angle,i=this.rotate({shape:t,axis:e.axis,angle:r}),n=this.translate({shape:i,translation:e.center});return i.delete(),t.delete(),n}align(e){return this.och.transformsService.align(e)}alignNormAndAxis(e){return this.och.transformsService.alignNormAndAxis(e)}alignAndTranslate(e){return this.och.transformsService.alignAndTranslate(e)}translate(e){return this.och.transformsService.translate(e)}scale(e){const t=new this.occ.gp_Trsf,r=this.och.entitiesService.gpPnt([0,0,0]);t.SetScale(r,e.factor);const i=new this.occ.BRepBuilderAPI_Transform(e.shape,t,!0),n=i.Shape(),s=this.och.converterService.getActualTypeOfShape(n);return r.delete(),t.delete(),i.delete(),n.delete(),s}scale3d(e){return this.och.transformsService.scale3d(e)}mirror(e){return this.och.transformsService.mirror(e)}mirrorAlongNormal(e){return this.och.transformsService.mirrorAlongNormal(e)}transformShapes(e){return this.checkIfListsEqualLength([e.shapes,e.translations,e.rotationAxes,e.rotationAngles,e.scaleFactors]),e.shapes.map(((t,r)=>this.transform({shape:t,translation:e.translations[r],rotationAxis:e.rotationAxes[r],rotationAngle:e.rotationAngles[r],scaleFactor:e.scaleFactors[r]})))}rotateShapes(e){return this.checkIfListsEqualLength([e.shapes,e.axes,e.angles]),e.shapes.map(((t,r)=>this.rotate({shape:t,axis:e.axes[r],angle:e.angles[r]})))}rotateAroundCenterShapes(e){return this.checkIfListsEqualLength([e.shapes,e.axes,e.angles]),e.shapes.map(((t,r)=>this.rotateAroundCenter({shape:t,axis:e.axes[r],angle:e.angles[r],center:e.centers[r]})))}alignShapes(e){return this.checkIfListsEqualLength([e.shapes,e.fromOrigins,e.fromDirections,e.toOrigins,e.toDirections]),e.shapes.map(((t,r)=>this.align({shape:t,fromOrigin:e.fromOrigins[r],fromDirection:e.fromDirections[r],toOrigin:e.toOrigins[r],toDirection:e.toDirections[r]})))}alignAndTranslateShapes(e){return this.checkIfListsEqualLength([e.shapes,e.centers,e.directions]),e.shapes.map(((t,r)=>this.alignAndTranslate({shape:t,center:e.centers[r],direction:e.directions[r]})))}translateShapes(e){return this.checkIfListsEqualLength([e.shapes,e.translations]),e.shapes.map(((t,r)=>this.translate({shape:t,translation:e.translations[r]})))}scaleShapes(e){return this.checkIfListsEqualLength([e.shapes,e.factors]),e.shapes.map(((t,r)=>this.scale({shape:t,factor:e.factors[r]})))}scale3dShapes(e){return this.checkIfListsEqualLength([e.shapes,e.scales,e.centers]),e.shapes.map(((t,r)=>this.scale3d({shape:t,scale:e.scales[r],center:e.centers[r]})))}mirrorShapes(e){return this.checkIfListsEqualLength([e.shapes,e.directions,e.origins]),e.shapes.map(((t,r)=>this.mirror({shape:t,origin:e.origins[r],direction:e.directions[r]})))}mirrorAlongNormalShapes(e){return this.checkIfListsEqualLength([e.shapes,e.normals,e.origins]),e.shapes.map(((t,r)=>this.mirrorAlongNormal({shape:t,normal:e.normals[r],origin:e.origins[r]})))}checkIfListsEqualLength(e){const t=e[0].length;if(e.some((e=>e.length!==t)))throw new Error("Some of the list lengths are not the same. For this operation to work all lists need to be of equal length")}}class X{constructor(e,t){this.occ=e,this.och=t}filletEdges(e){return this.och.filletsService.filletEdges(e)}filletEdgesList(e){return this.och.filletsService.filletEdgesList(e)}filletEdgesListOneRadius(e){return this.och.filletsService.filletEdgesListOneRadius(e)}filletEdgeVariableRadius(e){return this.och.filletsService.filletEdgeVariableRadius(e)}filletEdgesVariableRadius(e){return this.och.filletsService.filletEdgesVariableRadius(e)}filletEdgesSameVariableRadius(e){return this.och.filletsService.filletEdgesSameVariableRadius(e)}chamferEdges(e){return this.och.filletsService.chamferEdges(e)}chamferEdgesList(e){return this.och.filletsService.chamferEdgesList(e)}chamferEdgeDistAngle(e){return this.och.filletsService.chamferEdgeDistAngle(e)}chamferEdgesDistAngle(e){return this.och.filletsService.chamferEdgesDistAngle(e)}chamferEdgesDistsAngles(e){return this.och.filletsService.chamferEdgesDistsAngles(e)}chamferEdgeTwoDistances(e){return this.och.filletsService.chamferEdgeTwoDistances(e)}chamferEdgesTwoDistances(e){return this.och.filletsService.chamferEdgesTwoDistances(e)}chamferEdgesTwoDistancesLists(e){return this.och.filletsService.chamferEdgesTwoDistancesLists(e)}filletTwoEdgesInPlaneIntoAWire(e){const t=this.och.entitiesService.gpPln(e.planeOrigin,e.planeDirection),r=new this.occ.ChFi2d_FilletAlgo(e.edge1,e.edge2,t);r.Perform(e.radius);const i=this.och.entitiesService.gpPnt(e.planeOrigin),n=new this.occ.TopoDS_Edge,s=new this.occ.TopoDS_Edge;let o=-1;void 0!==e.solution&&(o=e.solution);const a=r.Result(i,n,s,o),c=this.och.converterService.combineEdgesAndWiresIntoAWire({shapes:[n,a,s]});return r.delete(),i.delete(),t.delete(),n.delete(),s.delete(),a.delete(),c}fillet3DWires(e){return e.shapes.map((t=>this.och.filletsService.fillet3DWire({shape:t,radius:e.radius,radiusList:e.radiusList,indexes:e.indexes,direction:e.direction})))}fillet3DWire(e){return this.och.filletsService.fillet3DWire(e)}fillet2d(e){return this.och.filletsService.fillet2d(e)}fillet2dShapes(e){return e.shapes.map((t=>this.och.filletsService.fillet2d({shape:t,radius:e.radius,radiusList:e.radiusList,indexes:e.indexes})))}}class Z{constructor(e,t){this.occ=e,this.och=t}simpleLinearLengthDimension(e){return this.och.dimensionsService.simpleLinearLengthDimension(e)}simpleAngularDimension(e){return this.och.dimensionsService.simpleAngularDimension(e)}pinWithLabel(e){return this.och.dimensionsService.pinWithLabel(e)}}class Q{constructor(e,t){this.occ=e,this.och=t}createPart(e){return{id:e.id,shape:e.shape,name:e.name,colorRgba:e.colorRgba}}createAssemblyNode(e){return{id:e.id,type:"assembly",name:e.name,parentId:e.parentId,colorRgba:e.colorRgba}}createInstanceNode(e){return{id:e.id,type:"instance",name:e.name,parentId:e.parentId,partId:e.partId,translation:e.translation,rotation:e.rotation,scale:e.scale,colorRgba:e.colorRgba}}createPartUpdate(e){return{label:e.label,shape:e.shape,name:e.name,colorRgba:e.colorRgba}}combineStructure(e){var t,r;return{parts:null!==(t=e.parts)&&void 0!==t?t:[],nodes:null!==(r=e.nodes)&&void 0!==r?r:[],removals:e.removals,partUpdates:e.partUpdates,clearDocument:e.clearDocument}}buildAssemblyDocument(e){const{structure:t,existingDocument:r}=e,i=[],n=[];for(const e of t.parts)n.push({id:e.id,shapeIndex:i.length,name:e.name,colorRgba:e.colorRgba}),i.push(e.shape);const s=[];if(t.partUpdates)for(const e of t.partUpdates){const t={label:e.label};e.shape&&(t.shapeIndex=i.length,i.push(e.shape)),void 0!==e.name&&(t.name=e.name),void 0!==e.colorRgba&&(t.colorRgba=e.colorRgba),s.push(t)}const o=JSON.stringify({parts:n,nodes:t.nodes,removals:t.removals,partUpdates:s.length>0?s:void 0,clearDocument:t.clearDocument}),a=this.occ.BuildAssemblyDocument(o,i,r);if(a.IsNull())throw new Error("Failed to create assembly document");return a}loadStepToDoc(e){const t=this.occ.LoadStepToDoc(e.stepData);if(t.IsNull())throw new Error("Failed to load STEP file");return t}setLabelColor(e){return this.occ.SetDocLabelColor(e.document,e.label,e.r,e.g,e.b,e.a)}setLabelName(e){return this.occ.SetDocLabelName(e.document,e.label,e.name)}exportDocumentToStep(e){const t=e.compress?this.occ.ExportDocumentToStepZ(e.document,e.fileName,e.author,e.organization):this.occ.ExportDocumentToStep(e.document,e.fileName,e.author,e.organization);if(!t)throw new Error("Failed to export document to STEP");return t}exportDocumentToGltf(e){const t=this.occ.ExportDocumentToGltf(e.document,e.meshDeflection,e.meshAngle,e.mergeFaces,e.forceUVExport);if(!t)throw new Error("Failed to export document to glTF");return t}}class J{constructor(e,t){this.occ=e,this.och=t}getDocumentParts(e){const t=this.occ.GetDocumentPartsFromDoc(e.document);return JSON.parse(t)}getShapeFromLabel(e){return this.occ.GetShapeFromDocLabel(e.document,e.label)}getLabelColor(e){const t=this.occ.GetDocLabelColor(e.document,e.label);return JSON.parse(t)}getLabelTransform(e){const t=this.occ.GetDocLabelTransform(e.document,e.label);return JSON.parse(t)}getLabelInfo(e){const t=this.occ.GetDocLabelInfo(e.document,e.label);return JSON.parse(t)}getAssemblyHierarchy(e){const t=this.occ.GetDocAssemblyHierarchy(e.document);return JSON.parse(t)}}class K{constructor(e,t){this.manager=new Q(e,t),this.query=new J(e,t)}}class ee{constructor(e,t){this.occ=e,this.och=t}fixEdgeOrientationsAlongWire(e){return this.och.edgesService.fixEdgeOrientationsAlongWire(e)}basicShapeRepair(e){const t=new this.occ.ShapeFix_Shape;t.Init(e.shape),t.SetPrecision(e.precision),t.SetMaxTolerance(e.maxTolerance),t.SetMinTolerance(e.minTolerance),t.Perform();const r=t.Shape();return t.delete(),r}fixSmallEdgeOnWire(e){const t=new this.occ.ShapeFix_Wire;return t.Load(e.shape),t.FixSmall(e.lockvtx,e.precsmall),t.Perform(),t.Wire()}}class te{constructor(e,t){this.occ=e,this.och=t,this.shapes=new w(e,t),this.geom=new l(e,t),this.transforms=new Y(e,t),this.operations=new q(e,t),this.booleans=new $(e,t),this.fillets=new X(e,t),this.shapeFix=new ee(e,t),this.dimensions=new Z(e,t),this.assembly=new K(e,t),this.io=new S(e,t)}shapeFacesToPolygonPoints(e){return this.och.meshingService.shapeFacesToPolygonPoints(e)}shapesToMeshes(e){return e.shapes.map((t=>this.shapeToMesh({shape:t,precision:e.precision,adjustYtoZ:e.adjustYtoZ})))}shapeToMesh(e){return this.och.meshingService.shapeToMesh(e)}}class re{static parse(e,t,r){const i=[e];let n=0;for(;i.length>0;){const e=i.pop();if("object"==typeof e&&null!==e)if(Array.isArray(e))for(let t=0;t<e.length;t++)i.push(e[t]);else{if(Object.keys(e).includes("shapes")){const i=e.shapes;if("object"==typeof i&&null!==i)for(const s in i){const o=i[s];if(o){if("string"!=typeof i[s]){let a;a=e.id?`${r}-${e.id}-${s}-${n}`:`${r}-${s}-${n}`,t.push({id:a,shape:o}),i[s]=a}n++}}}for(const t in e)i.push(e[t])}}return e}static alignAndTranslateShapesWithChildren(e,t,r,i,n,s=[1,1,1]){const o=re.deepCopy(e);return o.rotation=r,o.direction=i,o.center=n,o.scale=s,o.shapes&&Object.keys(o.shapes).forEach((e=>{const a=o.shapes[e];if(a){const c=t.rotate({shape:a,angle:r,axis:[0,1,0]}),h=t.alignAndTranslate({shape:c,direction:i,center:n});1!==s[0]||1!==s[1]||1!==s[2]?(o.shapes[e]=t.scale3d({shape:h,scale:s,center:n}),h.delete()):o.shapes[e]=h,c.delete()}})),Object.keys(o).forEach((e=>{const a=o[e];a&&Array.isArray(a)?o[e]=a.map((e=>e&&"object"==typeof e&&null!==e&&e.shapes?this.alignAndTranslateShapesWithChildren(e,t,r,i,n,s):e)):a&&"object"==typeof a&&null!==a&&a.shapes&&(o[e]=this.alignAndTranslateShapesWithChildren(a,t,r,i,n,s))})),o}static deleteAllShapes(e){Object.keys(e.shapes).forEach((t=>{e.shapes[t].delete()})),Object.keys(e).forEach((t=>{const r=e[t];r&&Array.isArray(r)?r.forEach((e=>{e&&"object"==typeof e&&null!==e&&e.shapes&&this.deleteAllShapes(e)})):r&&"object"==typeof r&&null!==r&&r.shapes&&this.deleteAllShapes(r)}))}static deepCopy(e){const t=Object.assign(Object.assign({},e),{shapes:Object.assign({},e.shapes)});return Object.keys(e).forEach((r=>{const i=e[r];i&&"object"==typeof i&&null!==i?i.shapes&&(t[r]=this.deepCopy(i)):i&&Array.isArray(i)&&(t[r]=i.map((e=>e&&"object"==typeof e&&null!==e&&e.shapes?this.deepCopy(e):e)))})),t}}},170:(e,t,r)=>{r.d(t,{y:()=>ga});var i={};r.r(i),r.d(i,{LodDto:()=>Q,lodEnum:()=>G});var n={};r.r(n),r.d(n,{Part:()=>J});var s={};r.r(s),r.d(s,{SerenitySwirlData:()=>ee,SerenitySwirlDto:()=>K});var o={};r.r(o),r.d(o,{ArabicArchwayData:()=>ie,ArabicArchwayDrawingPart:()=>ne,ArabicArchwayDrawingPartShapes:()=>se,ArabicArchwayDto:()=>re,ArabicArchwayDtoBase:()=>te});var a={};r.r(a),r.d(a,{ArabicArchway:()=>o,SerenitySwirl:()=>s});var c={};r.r(c),r.d(c,{EternalLoveData:()=>ce,EternalLoveDto:()=>ae,EternalLoveDtoBase:()=>oe});var h={};r.r(h),r.d(h,{EternalLove:()=>c});var u={};r.r(u),r.d(u,{CalmCupData:()=>le,CalmCupDto:()=>ue,CalmCupDtoBase:()=>he});var l={};r.r(l),r.d(l,{DragonCupData:()=>fe,DragonCupDto:()=>pe,DragonCupDtoBase:()=>de,DragonCupModelDto:()=>ve});var d={};r.r(d),r.d(d,{CalmCup:()=>u,DragonCup:()=>l});var p={};r.r(p),r.d(p,{PhoneNestData:()=>ye,PhoneNestDrawDto:()=>xe,PhoneNestDrawingPart:()=>be,PhoneNestDrawingPartShapes:()=>we,PhoneNestDto:()=>ge,PhoneNestDtoBase:()=>me,PhoneNestMainPart:()=>Se,PhoneNestModelDto:()=>Ee});var f={};r.r(f),r.d(f,{PhoneNest:()=>p});var v={};r.r(v),r.d(v,{SpicyBoxData:()=>Ne,SpicyBoxDto:()=>Pe,SpicyBoxDtoBase:()=>Te,SpicyBoxModelDto:()=>Ce});var m={};r.r(m),r.d(m,{SpicyBox:()=>v});var g={};r.r(g),r.d(g,{Boxes:()=>m,Cups:()=>d,Desktop:()=>f,Medals:()=>h,Vases:()=>a});var y={};r.r(y),r.d(y,{DropletsPhoneHolderData:()=>Re,DropletsPhoneHolderDrawingPart:()=>Be,DropletsPhoneHolderDrawingPartShapes:()=>Me,DropletsPhoneHolderDto:()=>De,DropletsPhoneHolderDtoBase:()=>ke,DropletsPhoneHolderModelDto:()=>Oe,DropletsPhoneHolderModelDxfDto:()=>Ae,DropletsPhoneHolderModelStepDto:()=>Fe});var b={};r.r(b),r.d(b,{DropletsPhoneHolder:()=>y});var w={};r.r(w),r.d(w,{Gadgets:()=>b});var S={};r.r(S),r.d(S,{ZenHideoutData:()=>We,ZenHideoutDrawingPart:()=>Ue,ZenHideoutDrawingPartShapes:()=>_e,ZenHideoutDto:()=>Ie,ZenHideoutDtoBase:()=>Le});var E={};r.r(E),r.d(E,{ZenHideout:()=>S});var x={};r.r(x),r.d(x,{BeamPart:()=>Qe,CeilingPart:()=>ot,ColumnPart:()=>Ze,CornerEntranceDto:()=>ct,CornerEntrancePart:()=>it,CornerPart:()=>Xe,CornerStairDto:()=>tt,CornerStairPart:()=>rt,FloorPart:()=>at,Houses:()=>E,RoofBeamsPart:()=>Ke,RoofCoverOneSidedDto:()=>nt,RoofCoverPart:()=>st,RoofPanelPart:()=>et,RoofPart:()=>Je,SandwitchPanelDto:()=>je,SandwitchPanelFlexDto:()=>$e,SandwitchPart:()=>qe,SandwitchPartFlex:()=>Ye,WindowCornerDto:()=>He,WindowCornerPart:()=>ze,WindowRectangularDto:()=>Ge,WindowRectangularPart:()=>Ve});var T={};r.r(T),r.d(T,{WingtipVillaData:()=>ut,WingtipVillaDto:()=>ht});var P={};r.r(P),r.d(P,{ChirpyChaletData:()=>dt,ChirpyChaletDto:()=>lt});var N={};r.r(N),r.d(N,{ChirpyChalet:()=>P,WingtipVilla:()=>T});var C={};r.r(C),r.d(C,{BirdHouses:()=>N});var k={};r.r(k),r.d(k,{SnakeChairData:()=>vt,SnakeChairDrawDto:()=>wt,SnakeChairDrawingPart:()=>mt,SnakeChairDrawingPartShapes:()=>gt,SnakeChairDto:()=>ft,SnakeChairDtoBase:()=>pt,SnakeChairMainPart:()=>yt,SnakeChairModelDto:()=>bt});var D={};r.r(D),r.d(D,{SnakeChair:()=>k});var O={};r.r(O),r.d(O,{ElegantTableData:()=>xt,ElegantTableDrawDto:()=>Ot,ElegantTableDrawingPart:()=>Tt,ElegantTableDrawingPartShapes:()=>Pt,ElegantTableDto:()=>Et,ElegantTableDtoBase:()=>St,ElegantTableLegByIndexDto:()=>kt,ElegantTableLegPart:()=>Nt,ElegantTableModelDto:()=>Dt,ElegantTableTopPart:()=>Ct});var A={};r.r(A),r.d(A,{GoodCoffeeTableData:()=>Rt,GoodCoffeeTableDrawDto:()=>Ht,GoodCoffeeTableDrawingPart:()=>Bt,GoodCoffeeTableDrawingPartShapes:()=>Mt,GoodCoffeeTableDto:()=>Ft,GoodCoffeeTableDtoBase:()=>At,GoodCoffeeTableLegByIndexDto:()=>Ut,GoodCoffeeTableLegPart:()=>Lt,GoodCoffeeTableModelDto:()=>_t,GoodCoffeeTableShelfPart:()=>It,GoodCoffeeTableTopPart:()=>Wt});var F={};r.r(F),r.d(F,{SnakeTableData:()=>zt,SnakeTableDrawDto:()=>Xt,SnakeTableDrawingPart:()=>jt,SnakeTableDrawingPartShapes:()=>$t,SnakeTableDto:()=>Vt,SnakeTableDtoBase:()=>Gt,SnakeTableMainPart:()=>qt,SnakeTableModelDto:()=>Yt});var R={};r.r(R),r.d(R,{ElegantTable:()=>O,GoodCoffeeTable:()=>A,SnakeTable:()=>F});var B={};r.r(B),r.d(B,{Chairs:()=>D,Tables:()=>R});var M={};r.r(M),r.d(M,{Architecture:()=>x,Enums:()=>i,Furniture:()=>B,KidsCorner:()=>C,LaserCutting:()=>w,Shared:()=>n,ThreeDPrinting:()=>g});var L={};r.r(L),r.d(L,{FontDefinition:()=>sr,Text3DData:()=>ir,Text3DDto:()=>Qt,Text3DFaceDefinitionDto:()=>ar,Text3DFaceDefinitionUrlDto:()=>cr,Text3DFaceDefinitionUrlParsedDto:()=>hr,Text3DFaceDto:()=>er,Text3DFaceUrlDto:()=>tr,Text3DFaceUrlParsedDto:()=>rr,Text3DLetterByIndexDto:()=>nr,Text3DModelDto:()=>or,Text3DUrlDto:()=>Jt,Text3DUrlParsedDto:()=>Kt,Texts3DFaceDto:()=>ur,Texts3DFaceUrlDto:()=>lr,Texts3DFaceUrlParsedDto:()=>dr,faceTextVarEnum:()=>j,faceTypeEnum:()=>$,fontVariantsEnum:()=>z,fontsEnum:()=>V,fontsModel:()=>Zt,recAlignmentEnum:()=>q});var I={};r.r(I),r.d(I,{PyramidSimpeByIndexDto:()=>mr,PyramidSimpleAffectorsDto:()=>fr,PyramidSimpleCellPart:()=>Pr,PyramidSimpleData:()=>vr,PyramidSimpleDto:()=>pr,PyramidSimpleFacePart:()=>Nr,PyramidSimpleModelCellDto:()=>wr,PyramidSimpleModelCellsDto:()=>yr,PyramidSimpleModelCellsIndexDto:()=>br,PyramidSimpleModelDto:()=>gr,PyramidSimpleModelFaceCellIndexDto:()=>Er,PyramidSimpleModelFaceCellsUIndexDto:()=>xr,PyramidSimpleModelFaceCellsVIndexDto:()=>Tr,PyramidSimpleModelFaceIndexDto:()=>Sr});var W={};r.r(W),r.d(W,{PyramidSimple:()=>I});var U={};r.r(U),r.d(U,{FacePatterns:()=>W});var _={};r.r(_),r.d(_,{outputShapeEnum:()=>Cr});var H={};r.r(H),r.d(H,{Enums:()=>_,Patterns:()=>U,Text3D:()=>L});var G,V,z,j,$,q,Y=r(154),X=r(975);class Z{static distributeBetweenBounds(e,t,r,i=!1){const n=[];let s=r;for(i&&n.push(s);s>t;)s-=e,n.push(s);return n}static computeSideA(e,t){const r=e*Math.PI/180,i=t/Math.cos(r),n=Math.pow(i,2)-Math.pow(t,2);return Math.sqrt(n)}static computeSideAFromHypotenuseAndAngle(e,t){const r=e*Math.PI/180;return t*Math.sin(r)}static computeHypotenuse(e,t){return t/Math.cos(e*Math.PI/180)}}!function(e){e.low="low",e.middle="middle",e.high="high"}(G||(G={}));class Q{constructor(){this.lod=G.low}}class J{}class K{constructor(e,t,r,i,n,s,o,a,c){this.swirl=.6,this.nrOfDivisions=10,this.addRadiusNarrow=.4,this.addRadiusWide=.2,this.addMiddleHeight=1.6,this.addTopHeight=1.5,this.thickness=1,this.rotation=0,this.origin=[0,0,0],void 0!==e&&(this.swirl=e),void 0!==t&&(this.nrOfDivisions=t),void 0!==r&&(this.addRadiusNarrow=r),void 0!==i&&(this.addRadiusWide=i),void 0!==n&&(this.addMiddleHeight=n),void 0!==s&&(this.addTopHeight=s),void 0!==o&&(this.thickness=o),void 0!==a&&(this.rotation=a),void 0!==c&&(this.origin=c)}}class ee{constructor(){this.type="parametric-model",this.name="serenitySwirl"}}class te{}class re{constructor(e,t,r,i,n,s,o,a,c,h,u,l){this.profilePoints=[[2,0,0],[4,5,0],[1.5,10,0],[3,14,0]],this.nrOfSides=6,this.nrOfVerticalArches=4,this.archCenterThickness=.8,this.edgesThickness=.2,this.thickness=1,this.baseHeight=.4,this.patchHoles=!0,this.lod=G.high,this.rotation=0,this.origin=[0,0,0],this.direction=[0,1,0],this.scale=[1,1,1],void 0!==e&&(this.nrOfSides=e),void 0!==t&&(this.nrOfVerticalArches=t),void 0!==r&&(this.archCenterThickness=r),void 0!==i&&(this.edgesThickness=i),void 0!==n&&(this.thickness=n),void 0!==s&&(this.baseHeight=s),void 0!==o&&(this.patchHoles=o),void 0!==a&&(this.lod=a),void 0!==c&&(this.rotation=c),void 0!==h&&(this.origin=h),void 0!==u&&(this.direction=u),void 0!==l&&(this.scale=l)}}class ie{constructor(){this.type="parametric-model",this.name="arabicArchway"}}class ne{}class se{}class oe{}class ae{constructor(e,t,r,i,n,s,o,a){this.textHeading="LOVE YOU",this.textName="NORA",this.fullModel=!0,this.thickness=6,this.decorationThickness=1,this.rotation=0,this.origin=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.textHeading=e),void 0!==t&&(this.textName=t),void 0!==r&&(this.fullModel=r),void 0!==i&&(this.thickness=i),void 0!==n&&(this.decorationThickness=n),void 0!==s&&(this.rotation=s),void 0!==o&&(this.origin=o),void 0!==a&&(this.direction=a)}}class ce{constructor(){this.type="parametric-model",this.name="eternalLove"}}class he{}class ue{constructor(e,t,r,i,n,s,o,a,c,h,u,l){this.height=6,this.radiusBottom=4,this.radiusTopOffset=2,this.thickness=.6,this.fillet=.2,this.nrOfHandles=1,this.handleDist=2,this.precision=.01,this.rotation=0,this.scale=1,this.origin=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.height=e),void 0!==t&&(this.radiusBottom=t),void 0!==r&&(this.radiusTopOffset=r),void 0!==i&&(this.thickness=i),void 0!==n&&(this.fillet=n),void 0!==s&&(this.nrOfHandles=s),void 0!==o&&(this.handleDist=o),void 0!==a&&(this.precision=a),void 0!==c&&(this.rotation=c),void 0!==h&&(this.scale=h),void 0!==u&&(this.origin=u),void 0!==l&&(this.direction=l)}}class le{constructor(){this.type="parametric-model",this.name="calmCup"}}class de{}class pe{constructor(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w){this.height=8,this.radiusBottom=4,this.radiusTopOffset=2,this.radiusMidOffset=2,this.rotationTopAngle=20,this.rotationMidAngle=20,this.nrSkinCellsVertical=5,this.nrSkinCellsHorizontal=10,this.nrSkinCellDivisionsTop=1,this.nrSkinCellDivisionsBottom=3,this.skinCellOuterHeight=.4,this.skinCellInnerHeight=.3,this.skinCellBottomHeight=.4,this.skinCellTopHeight=.4,this.thickness=.6,this.bottomThickness=1,this.precision=.01,this.rotation=0,this.scale=1,this.origin=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.height=e),void 0!==t&&(this.radiusBottom=t),void 0!==r&&(this.radiusTopOffset=r),void 0!==i&&(this.radiusMidOffset=i),void 0!==n&&(this.rotationTopAngle=n),void 0!==s&&(this.rotationMidAngle=s),void 0!==o&&(this.nrSkinCellsVertical=o),void 0!==a&&(this.nrSkinCellsHorizontal=a),void 0!==c&&(this.nrSkinCellDivisionsTop=c),void 0!==h&&(this.nrSkinCellDivisionsBottom=h),void 0!==u&&(this.skinCellOuterHeight=u),void 0!==l&&(this.skinCellInnerHeight=l),void 0!==d&&(this.skinCellBottomHeight=d),void 0!==p&&(this.skinCellTopHeight=p),void 0!==f&&(this.thickness=f),void 0!==v&&(this.bottomThickness=v),void 0!==m&&(this.precision=m),void 0!==g&&(this.rotation=g),void 0!==y&&(this.scale=y),void 0!==b&&(this.origin=b),void 0!==w&&(this.direction=w)}}class fe{constructor(){this.type="parametric-model",this.name="dragonCup"}}class ve{}class me{}class ge{constructor(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g){this.heightBottom=5,this.heightTop=16,this.widthBack=25,this.widthFront=10,this.length=16,this.backOffset=6,this.thickness=.4,this.applyOrnaments=!1,this.filletRadius=2,this.phoneHeight=16.8,this.phoneWidth=7.8,this.phoneThickness=.7,this.precision=.01,this.drawEdges=!0,this.rotation=0,this.scale=1,this.origin=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.heightBottom=e),void 0!==t&&(this.heightTop=t),void 0!==r&&(this.widthBack=r),void 0!==i&&(this.widthFront=i),void 0!==n&&(this.length=n),void 0!==s&&(this.backOffset=s),void 0!==o&&(this.thickness=o),void 0!==a&&(this.applyOrnaments=a),void 0!==c&&(this.filletRadius=c),void 0!==h&&(this.phoneHeight=h),void 0!==u&&(this.phoneWidth=u),void 0!==l&&(this.phoneThickness=l),void 0!==d&&(this.precision=d),void 0!==p&&(this.drawEdges=p),void 0!==f&&(this.rotation=f),void 0!==v&&(this.scale=v),void 0!==m&&(this.origin=m),void 0!==g&&(this.direction=g)}}class ye{constructor(){this.type="parametric-model",this.name="phoneNest"}}class be extends J{}class we{}class Se extends J{}class Ee{}class xe{constructor(){this.drawFaces=!0,this.precision=.001,this.drawEdges=!0,this.edgeColour="#ffffff",this.edgeWidth=.06}}class Te{}class Pe{constructor(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y){this.textTop="Pepper",this.textFront="For Your Spicy Needs",this.nrSides=4,this.nrOffsets=1,this.height=6,this.radiusBase=4,this.radiusOffset=2,this.coverHeight=1,this.baseHeight=1,this.thickness=.6,this.ornamentalThickness=.1,this.nrOrnamnetsPerSide=10,this.invertOrnaments=!1,this.fillet=.2,this.precision=.01,this.rotation=0,this.scale=1,this.origin=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.textTop=e),void 0!==t&&(this.textFront=t),void 0!==r&&(this.nrSides=r),void 0!==i&&(this.nrOffsets=i),void 0!==n&&(this.height=n),void 0!==s&&(this.coverHeight=s),void 0!==o&&(this.baseHeight=o),void 0!==a&&(this.radiusBase=a),void 0!==c&&(this.radiusOffset=c),void 0!==h&&(this.thickness=h),void 0!==u&&(this.ornamentalThickness=u),void 0!==l&&(this.nrOrnamnetsPerSide=l),void 0!==d&&(this.invertOrnaments=d),void 0!==p&&(this.fillet=p),void 0!==f&&(this.precision=f),void 0!==v&&(this.rotation=v),void 0!==m&&(this.scale=m),void 0!==g&&(this.origin=g),void 0!==y&&(this.direction=y)}}class Ne{constructor(){this.type="parametric-model",this.name="spicyBox"}}class Ce{}class ke{}class De{constructor(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T){this.title="Your Name",this.subtitle="And Message",this.includeLogo=!0,this.thickness=.4,this.kerf=.01,this.phoneWidth=8,this.phoneHeight=16,this.phoneThickness=1,this.backLength=10,this.angle=20,this.offsetAroundPhone=.5,this.penShelf=1,this.phoneLockHeight=.5,this.filletRadius=.3,this.includePattern=!1,this.densityPattern=.4,this.holesForWire=!0,this.wireInputThickness=1.5,this.includeModel=!0,this.includeDrawings=!0,this.spacingDrawings=.5,this.rotation=0,this.origin=[0,0,0],this.direction=[0,1,0],this.scale=[1,1,1],void 0!==e&&(this.title=e),void 0!==t&&(this.subtitle=t),void 0!==r&&(this.includeLogo=r),void 0!==i&&(this.thickness=i),void 0!==n&&(this.kerf=n),void 0!==s&&(this.phoneWidth=s),void 0!==o&&(this.phoneHeight=o),void 0!==a&&(this.phoneThickness=a),void 0!==c&&(this.backLength=c),void 0!==h&&(this.angle=h),void 0!==u&&(this.offsetAroundPhone=u),void 0!==l&&(this.penShelf=l),void 0!==d&&(this.phoneLockHeight=d),void 0!==p&&(this.filletRadius=p),void 0!==f&&(this.includePattern=f),void 0!==v&&(this.densityPattern=v),void 0!==m&&(this.holesForWire=m),void 0!==g&&(this.wireInputThickness=g),void 0!==y&&(this.includeModel=y),void 0!==b&&(this.includeDrawings=b),void 0!==w&&(this.spacingDrawings=w),void 0!==S&&(this.rotation=S),void 0!==E&&(this.origin=E),void 0!==x&&(this.direction=x),void 0!==T&&(this.scale=T)}}class Oe{}class Ae{constructor(){this.cutWiresColor="#000000",this.engravingWiresColor="#0000ff",this.fileName="bitbybit-droplets-phone-holder",this.angularDeflection=.1,this.curvatureDeflection=.1,this.minimumOfPoints=2,this.uTolerance=1e-9,this.minimumLength=1e-7}}class Fe{constructor(){this.fileName="bitbybit-droplets-phone-holder",this.adjustYZ=!0}}class Re{constructor(){this.type="parametric-model",this.name="dropletsPhoneHolder"}}class Be{}class Me{}class Le{}class Ie{constructor(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g,y,b,w,S,E,x,T,P,N,C,k,D){this.widthFirstWing=4,this.lengthFirstWing=10,this.terraceWidth=3,this.widthSecondWing=5,this.lengthSecondWing=10,this.heightWalls=3,this.roofAngleFirstWing=15,this.roofAngleSecondWing=25,this.roofOffset=.5,this.roofInsideOverhang=.5,this.roofMaxDistAttachmentBeams=.8,this.roofAttachmentBeamWidth=.2,this.roofAttachmentBeamHeight=.05,this.roofOutsideOverhang=.5,this.columnSize=.3,this.ceilingBeamHeight=.25,this.ceilingBeamWidth=.1,this.nrCeilingBeamsBetweenColumns=3,this.distBetweenColumns=2,this.floorHeight=.1,this.groundLevel=.6,this.facadePanelThickness=.05,this.windowWidthOffset=.1,this.windowHeightOffset=.2,this.windowFrameThickness=.1,this.windowGlassFrameThickness=.05,this.lod=G.high,this.skinOpacity=1,this.rotation=0,this.origin=[0,0,0],void 0!==e&&(this.widthFirstWing=e),void 0!==t&&(this.lengthFirstWing=t),void 0!==r&&(this.terraceWidth=r),void 0!==i&&(this.widthSecondWing=i),void 0!==n&&(this.lengthSecondWing=n),void 0!==s&&(this.heightWalls=s),void 0!==o&&(this.roofAngleFirstWing=o),void 0!==a&&(this.roofAngleSecondWing=a),void 0!==c&&(this.roofOffset=c),void 0!==h&&(this.roofInsideOverhang=h),void 0!==u&&(this.roofMaxDistAttachmentBeams=u),void 0!==l&&(this.roofAttachmentBeamWidth=l),void 0!==d&&(this.roofAttachmentBeamHeight=d),void 0!==p&&(this.roofOutsideOverhang=p),void 0!==f&&(this.columnSize=f),void 0!==v&&(this.ceilingBeamHeight=v),void 0!==m&&(this.ceilingBeamWidth=m),void 0!==g&&(this.nrCeilingBeamsBetweenColumns=g),void 0!==y&&(this.distBetweenColumns=y),void 0!==b&&(this.floorHeight=b),void 0!==w&&(this.groundLevel=w),void 0!==S&&(this.facadePanelThickness=S),void 0!==E&&(this.windowWidthOffset=E),void 0!==x&&(this.windowHeightOffset=x),void 0!==T&&(this.windowFrameThickness=T),void 0!==P&&(this.windowGlassFrameThickness=P),void 0!==N&&(this.lod=N),void 0!==C&&(this.skinOpacity=C),void 0!==k&&(this.rotation=k),void 0!==D&&(this.origin=D)}}class We{constructor(){this.type="parametric-model",this.name="zenHideout"}}class Ue{}class _e{}class He{constructor(){this.wallThickness=.4,this.facadePanelThickness=.05,this.glassFrameThickness=.02,this.glassThickness=.005,this.frameThckness=.05,this.height=3,this.lengthFirst=1,this.lengthSecond=2,this.rotation=0}}class Ge{constructor(){this.thickness=.3,this.glassFrameThickness=.02,this.glassThickness=.005,this.frameThickness=.05,this.height=3,this.width=1,this.rotation=0,this.center=[0,0,0],this.direction=[0,1,0]}}class Ve extends Ge{}class ze extends He{}class je{constructor(){this.name="sandwitch-panel",this.createWindow=!0,this.createInnerPanel=!0,this.createExteriorPanel=!0,this.wallWidth=.3,this.exteriorPanelWidth=.4,this.exteriorPanelHeight=3,this.exteriorPanelThickness=.05,this.exteriorPanelBottomOffset=0,this.interiorPanelWidth=.4,this.interiorPanelHeight=3,this.interiorPanelThickness=.05,this.interiorPanelBottomOffset=0,this.windowWidthOffset=0,this.windowHeightOffset=0,this.windowFrameThickness=.1,this.windowGlassFrameThickness=.05}}class $e{constructor(){this.name="sandwitch-panel-flex",this.createInteriorPanel=!0,this.createExteriorPanel=!0,this.wallWidth=.3,this.exteriorPanelThickness=.05,this.interiorPanelThickness=.05,this.interiorPanelPolygonPoints=[],this.exteriorPanelPolygonPoints=[]}}class qe extends je{}class Ye extends $e{}class Xe{}class Ze{}class Qe{}class Je{}class Ke{}class et{}class tt{constructor(){this.invert=!1,this.widthFirstLanding=1,this.widthSecondLanding=1,this.lengthFirstWing=2,this.lengthSecondWing=1,this.maxWishedStepHeight=.25,this.stepHeightWidthProportion=1.35,this.totalHeight=1,this.rotation=0,this.origin=[0,0,0]}}class rt extends tt{}class it{}class nt{constructor(){this.name="roof-cover",this.roofAngle=15,this.roofLength=3,this.roofWidth=3,this.roofOutsideOverhang=.5,this.roofInsideOverhang=1,this.roofOverhangFacade=.1,this.roofThickness=.05,this.roofCoverHeight=.3,this.rotation=0,this.lod=G.high,this.center=[0,0,0],this.direction=[0,1,0]}}class st extends nt{}class ot{}class at{}class ct{constructor(){this.widthFirstWing=1,this.widthSecondWing=2,this.lengthStairFirstWing=2,this.lengthStairSecondWing=1,this.lengthWallFirstWing=2,this.lengthWallSecondWing=1,this.facadePanelThickness=.05,this.wallThickness=3,this.wallHeightExterior=3,this.wallHeightInterior=3,this.windowFrameOffsetTop=.3,this.windowFrameThickness=.1,this.glassFrameThickness=.05,this.doorWidth=1,this.windowWidthOffset=.3,this.stairTotalHeight=1,this.createStair=!1,this.flipDirection=!1,this.rotation=0,this.origin=[0,0,0]}}class ht{constructor(e,t,r,i,n,s,o,a,c,h,u,l,d){this.interiorWidth=3,this.interiorLength=3,this.interiorHeight=5,this.thickness=.5,this.holeDiameter=1.5,this.holeDistToBottom=2.5,this.stickLength=1.2,this.stickDiameter=.5,this.baseAttachmentHeight=2,this.roofOverhang=1,this.rotation=0,this.chimneyHeight=1,this.origin=[0,0,0],void 0!==e&&(this.interiorWidth=e),void 0!==t&&(this.interiorLength=t),void 0!==r&&(this.interiorHeight=r),void 0!==i&&(this.thickness=i),void 0!==n&&(this.holeDiameter=n),void 0!==s&&(this.holeDistToBottom=s),void 0!==o&&(this.stickLength=o),void 0!==a&&(this.stickDiameter=a),void 0!==c&&(this.baseAttachmentHeight=c),void 0!==h&&(this.roofOverhang=h),void 0!==u&&(this.rotation=u),void 0!==l&&(this.chimneyHeight=l),void 0!==d&&(this.origin=d)}}class ut{constructor(){this.type="parametric-model",this.name="wingtipVilla"}}class lt{constructor(e,t,r,i,n,s,o,a,c,h,u,l,d){this.interiorWidth=3,this.interiorLength=3,this.interiorHeight=5,this.thickness=.3,this.holeDiameter=1.2,this.holeDistToBottom=2.5,this.stickLength=.9,this.stickDiameter=.3,this.baseAttachmentHeight=2,this.roofOverhang=.5,this.roofAngle=20,this.rotation=0,this.origin=[0,0,0],void 0!==e&&(this.interiorWidth=e),void 0!==t&&(this.interiorLength=t),void 0!==r&&(this.interiorHeight=r),void 0!==i&&(this.thickness=i),void 0!==n&&(this.holeDiameter=n),void 0!==s&&(this.holeDistToBottom=s),void 0!==o&&(this.stickLength=o),void 0!==a&&(this.stickDiameter=a),void 0!==c&&(this.baseAttachmentHeight=c),void 0!==h&&(this.roofOverhang=h),void 0!==u&&(this.roofAngle=u),void 0!==l&&(this.rotation=l),void 0!==d&&(this.origin=d)}}class dt{constructor(){this.type="parametric-model",this.name="chirpyChalet"}}class pt{}class ft{constructor(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f){this.sittingHeight=.45,this.backRestOffset=.1,this.backRestHeight=.7,this.width=.45,this.length=.45,this.thickness=.05,this.nrOrnamentPlanks=7,this.ornamentDepth=.01,this.filletRadius=.05,this.precision=.01,this.drawEdges=!0,this.rotation=0,this.scale=1,this.origin=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.sittingHeight=e),void 0!==t&&(this.backRestOffset=t),void 0!==r&&(this.backRestHeight=r),void 0!==i&&(this.width=i),void 0!==n&&(this.length=n),void 0!==s&&(this.thickness=s),void 0!==o&&(this.nrOrnamentPlanks=o),void 0!==a&&(this.ornamentDepth=a),void 0!==c&&(this.filletRadius=c),void 0!==h&&(this.precision=h),void 0!==u&&(this.drawEdges=u),void 0!==l&&(this.rotation=l),void 0!==d&&(this.scale=d),void 0!==p&&(this.origin=p),void 0!==f&&(this.direction=f)}}class vt{constructor(){this.type="parametric-model",this.name="snakeChair"}}class mt extends J{}class gt{}class yt extends J{}class bt{}class wt{constructor(){this.drawFaces=!0,this.precision=.001,this.drawEdges=!0,this.edgeColour="#ffffff",this.edgeWidth=.06}}class St{}class Et{constructor(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v){this.height=.74,this.width=1,this.length=2,this.topThickness=.02,this.topOffset=.03,this.bottomThickness=.05,this.minFillet=.2,this.radiusLegTop=.03,this.radiusLegBottom=.01,this.nrLegPairs=2,this.precision=.001,this.drawEdges=!0,this.rotation=0,this.scale=1,this.origin=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.height=e),void 0!==t&&(this.width=t),void 0!==r&&(this.length=r),void 0!==i&&(this.topThickness=i),void 0!==n&&(this.topOffset=n),void 0!==s&&(this.bottomThickness=s),void 0!==o&&(this.minFillet=o),void 0!==a&&(this.radiusLegTop=a),void 0!==c&&(this.radiusLegBottom=c),void 0!==h&&(this.nrLegPairs=h),void 0!==u&&(this.precision=u),void 0!==l&&(this.drawEdges=l),void 0!==d&&(this.rotation=d),void 0!==p&&(this.scale=p),void 0!==f&&(this.origin=f),void 0!==v&&(this.direction=v)}}class xt{constructor(){this.type="parametric-model",this.name="elegantTable"}}class Tt extends J{}class Pt{}class Nt extends J{}class Ct extends J{}class kt{constructor(){this.index=0}}class Dt{}class Ot{constructor(){this.drawFaces=!0,this.precision=.001,this.drawEdges=!0,this.edgeColour="#ffffff",this.edgeWidth=.06}}class At{}class Ft{constructor(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m,g){this.height=.4,this.width=1,this.length=1.2,this.chamfer=.01,this.topThickness=.05,this.topGlassOffset=.2,this.glassThickness=.005,this.glassHolderLength=.02,this.shelfTopOffset=.15,this.shelfThickness=.03,this.legWidth=.1,this.legDepth=.05,this.precision=.001,this.drawEdges=!0,this.rotation=0,this.scale=1,this.origin=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.height=e),void 0!==t&&(this.width=t),void 0!==r&&(this.length=r),void 0!==i&&(this.chamfer=i),void 0!==n&&(this.topThickness=n),void 0!==s&&(this.topGlassOffset=s),void 0!==o&&(this.glassThickness=o),void 0!==a&&(this.glassHolderLength=a),void 0!==c&&(this.shelfTopOffset=c),void 0!==h&&(this.shelfThickness=h),void 0!==u&&(this.legWidth=u),void 0!==l&&(this.legDepth=l),void 0!==d&&(this.precision=d),void 0!==p&&(this.drawEdges=p),void 0!==f&&(this.rotation=f),void 0!==v&&(this.scale=v),void 0!==m&&(this.origin=m),void 0!==g&&(this.direction=g)}}class Rt{constructor(){this.type="parametric-model",this.name="goodCoffeeTable"}}class Bt extends J{}class Mt{}class Lt extends J{}class It extends J{}class Wt extends J{}class Ut{constructor(){this.index=0}}class _t{}class Ht{constructor(){this.drawFaces=!0,this.precision=.001,this.drawEdges=!0,this.edgeColour="#ffffff",this.edgeWidth=.06}}class Gt{}class Vt{constructor(e,t,r,i,n,s,o,a,c,h,u,l,d,p,f,v,m){this.height=.74,this.width=1,this.length=2,this.supportLength=.5,this.shelfHeight=.2,this.thickness=.05,this.glassThickness=.005,this.glassOffset=0,this.nrOrnamentPlanks=7,this.ornamentDepth=.01,this.filletRadius=.05,this.precision=.01,this.drawEdges=!0,this.rotation=0,this.scale=1,this.origin=[0,0,0],this.direction=[0,1,0],void 0!==e&&(this.height=e),void 0!==t&&(this.width=t),void 0!==r&&(this.length=r),void 0!==i&&(this.supportLength=i),void 0!==n&&(this.shelfHeight=n),void 0!==s&&(this.thickness=s),void 0!==o&&(this.glassThickness=o),void 0!==a&&(this.glassOffset=a),void 0!==c&&(this.nrOrnamentPlanks=c),void 0!==h&&(this.ornamentDepth=h),void 0!==u&&(this.filletRadius=u),void 0!==l&&(this.precision=l),void 0!==d&&(this.drawEdges=d),void 0!==p&&(this.rotation=p),void 0!==f&&(this.scale=f),void 0!==v&&(this.origin=v),void 0!==m&&(this.direction=m)}}class zt{constructor(){this.type="parametric-model",this.name="snakeTable"}}class jt extends J{}class $t{}class qt extends J{}class Yt{}class Xt{constructor(){this.drawFaces=!0,this.precision=.001,this.drawEdges=!0,this.edgeColour="#ffffff",this.edgeWidth=.06}}!function(e){e.Aboreto="Aboreto",e.Bungee="Bungee",e.IndieFlower="IndieFlower",e.Lugrasimo="Lugrasimo",e.Orbitron="Orbitron",e.Roboto="Roboto",e.RobotoSlab="RobotoSlab",e.Silkscreen="Silkscreen",e.Tektur="Tektur",e.Workbench="Workbench"}(V||(V={})),function(e){e.Regular="Regular",e.Black="Black",e.Bold="Bold",e.ExtraBold="ExtraBold",e.Medium="Medium",e.SemiBold="SemiBold",e.BlackItalic="BlackItalic",e.BoldItalic="BoldItalic",e.Italic="Italic",e.Light="Light",e.LightItalic="LightItalic",e.MediumItalic="MediumItalic",e.Thin="Thin",e.ThinItalic="ThinItalic",e.ExtraLight="ExtraLight"}(z||(z={})),function(e){e.separatedExtrusion="separatedExtrusion",e.integratedExtrusion="integratedExtrusion",e.cutout="cutout"}(j||(j={})),function(e){e.compound="compound",e.cutout="originalCutout",e.cutoutInsideCharacter="cutoutInsideCharacter"}($||($={})),function(e){e.leftTop="leftTop",e.leftMiddle="leftMiddle",e.leftBottom="leftBottom",e.centerTop="centerTop",e.centerMiddle="centerMiddle",e.centerBottom="centerBottom",e.rightTop="rightTop",e.rightMiddle="rightMiddle",e.rightBottom="rightBottom"}(q||(q={}));const Zt=[{key:"Aboreto",variants:["Regular"]},{key:"Bungee",variants:["Regular"]},{key:"IndieFlower",variants:["Regular"]},{key:"Lugrasimo",variants:["Regular"]},{key:"Orbitron",variants:["Black","Bold","ExtraBold","Medium","Regular","SemiBold"]},{key:"Roboto",variants:["Black","BlackItalic","Bold","BoldItalic","Italic","Light","LightItalic","Medium","MediumItalic","Regular","Thin","ThinItalic"]},{key:"RobotoSlab",variants:["Black","Bold","ExtraBold","ExtraLight","Light","Medium","Regular","SemiBold","Thin"]},{key:"Silkscreen",variants:["Bold","Regular"]},{key:"Tektur",variants:["Black","Bold","ExtraBold","Medium","Regular","SemiBold"]},{key:"Workbench",variants:["Regular"]}];class Qt{constructor(e,t,r,i,n,s,o,a,c){this.text="bitbybit.dev",this.fontType=V.Roboto,this.fontVariant=z.Regular,this.fontSize=1.5,this.height=.2,this.rotation=180,this.origin=[0,0,0],this.direction=[0,1,0],this.originAlignment=q.centerMiddle,void 0!==e&&(this.text=e),void 0!==t&&(this.fontType=t),void 0!==r&&(this.fontVariant=r),void 0!==i&&(this.fontSize=i),void 0!==n&&(this.height=n),void 0!==s&&(this.rotation=s),void 0!==o&&(this.origin=o),void 0!==a&&(this.direction=a),void 0!==c&&(this.originAlignment=c)}}class Jt{constructor(e,t,r,i,n,s,o,a){this.text="bitbybit.dev",this.fontUrl="https://git-cdn.bitbybit.dev/latest/fonts/Tektur/Tektur-Bold.ttf",this.fontSize=1.5,this.height=.2,this.rotation=180,this.origin=[0,0,0],this.direction=[0,1,0],this.originAlignment=q.centerMiddle,void 0!==e&&(this.text=e),void 0!==t&&(this.fontUrl=t),void 0!==r&&(this.fontSize=r),void 0!==i&&(this.height=i),void 0!==n&&(this.rotation=n),void 0!==s&&(this.origin=s),void 0!==o&&(this.direction=o),void 0!==a&&(this.originAlignment=a)}}class Kt{constructor(e,t,r,i,n,s,o,a){this.text="bitbybit.dev",this.fontSize=1.5,this.height=.2,this.rotation=180,this.origin=[0,0,0],this.direction=[0,1,0],this.originAlignment=q.centerMiddle,void 0!==e&&(this.text=e),void 0!==t&&(this.letterPaths=t),void 0!==r&&(this.fontSize=r),void 0!==i&&(this.height=i),void 0!==n&&(this.rotation=n),void 0!==s&&(this.origin=s),void 0!==o&&(this.direction=o),void 0!==a&&(this.originAlignment=a)}}class er{constructor(e,t,r,i,n,s,o,a,c,h,u,l){this.facePlanar=!1,this.faceTextVar=j.separatedExtrusion,this.text="bitbybit.dev",this.fontType=V.Roboto,this.fontVariant=z.Regular,this.fontSize=1.5,this.height=.2,this.rotation=180,this.originParamU=.5,this.originParamV=.5,this.originAlignment=q.centerMiddle,void 0!==e&&(this.face=e),void 0!==t&&(this.facePlanar=t),void 0!==r&&(this.faceTextVar=r),void 0!==i&&(this.text=i),void 0!==n&&(this.fontType=n),void 0!==s&&(this.fontVariant=s),void 0!==o&&(this.fontSize=o),void 0!==a&&(this.height=a),void 0!==c&&(this.rotation=c),void 0!==h&&(this.originParamU=h),void 0!==u&&(this.originParamV=u),void 0!==l&&(this.originAlignment=l)}}class tr{constructor(e,t,r,i,n,s,o,a,c,h,u){this.facePlanar=!1,this.faceTextVar=j.separatedExtrusion,this.text="bitbybit.dev",this.fontUrl="https://git-cdn.bitbybit.dev/latest/fonts/Tektur/Tektur-Bold.ttf",this.fontSize=1.5,this.height=.2,this.rotation=180,this.originParamU=.5,this.originParamV=.5,this.originAlignment=q.centerMiddle,void 0!==e&&(this.face=e),void 0!==t&&(this.facePlanar=t),void 0!==r&&(this.faceTextVar=r),void 0!==i&&(this.text=i),void 0!==n&&(this.fontUrl=n),void 0!==s&&(this.fontSize=s),void 0!==o&&(this.height=o),void 0!==a&&(this.rotation=a),void 0!==c&&(this.originParamU=c),void 0!==h&&(this.originParamV=h),void 0!==u&&(this.originAlignment=u)}}class rr{constructor(e,t,r,i,n,s,o,a,c,h,u){this.facePlanar=!1,this.faceTextVar=j.separatedExtrusion,this.text="bitbybit.dev",this.fontSize=1.5,this.height=.2,this.rotation=180,this.originParamU=.5,this.originParamV=.5,this.originAlignment=q.centerMiddle,void 0!==e&&(this.face=e),void 0!==t&&(this.facePlanar=t),void 0!==r&&(this.faceTextVar=r),void 0!==i&&(this.text=i),void 0!==n&&(this.letterPaths=n),void 0!==s&&(this.fontSize=s),void 0!==o&&(this.height=o),void 0!==a&&(this.rotation=a),void 0!==c&&(this.originParamU=c),void 0!==h&&(this.originParamV=h),void 0!==u&&(this.originAlignment=u)}}class ir{constructor(){this.type="parametric-model",this.name="text3d"}}class nr{constructor(){this.index=0}}class sr{}class or{}class ar{constructor(e,t,r,i,n,s,o,a,c,h){this.faceTextVar=j.separatedExtrusion,this.text="bitbybit.dev",this.fontType=V.Roboto,this.fontVariant=z.Regular,this.fontSize=1.5,this.height=.2,this.rotation=180,this.originParamU=.5,this.originParamV=.5,this.originAlignment=q.centerMiddle,void 0!==e&&(this.faceTextVar=e),void 0!==t&&(this.text=t),void 0!==r&&(this.fontType=r),void 0!==i&&(this.fontVariant=i),void 0!==n&&(this.fontSize=n),void 0!==s&&(this.height=s),void 0!==o&&(this.rotation=o),void 0!==a&&(this.originParamU=a),void 0!==c&&(this.originParamV=c),void 0!==h&&(this.originAlignment=h)}}class cr{constructor(e,t,r,i,n,s,o,a,c){this.faceTextVar=j.separatedExtrusion,this.text="bitbybit.dev",this.fontUrl="https://git-cdn.bitbybit.dev/latest/fonts/Tektur/Tektur-Bold.ttf",this.fontSize=1.5,this.height=.2,this.rotation=180,this.originParamU=.5,this.originParamV=.5,this.originAlignment=q.centerMiddle,void 0!==e&&(this.faceTextVar=e),void 0!==t&&(this.text=t),void 0!==r&&(this.fontUrl=r),void 0!==i&&(this.fontSize=i),void 0!==n&&(this.height=n),void 0!==s&&(this.rotation=s),void 0!==o&&(this.originParamU=o),void 0!==a&&(this.originParamV=a),void 0!==c&&(this.originAlignment=c)}}class hr{constructor(e,t,r,i,n,s,o,a,c){this.faceTextVar=j.separatedExtrusion,this.text="bitbybit.dev",this.fontSize=1.5,this.height=.2,this.rotation=180,this.originParamU=.5,this.originParamV=.5,this.originAlignment=q.centerMiddle,void 0!==e&&(this.faceTextVar=e),void 0!==t&&(this.text=t),void 0!==r&&(this.letterPaths=r),void 0!==i&&(this.fontSize=i),void 0!==n&&(this.height=n),void 0!==s&&(this.rotation=s),void 0!==o&&(this.originParamU=o),void 0!==a&&(this.originParamV=a),void 0!==c&&(this.originAlignment=c)}}class ur{constructor(e,t,r){this.facePlanar=!1,void 0!==e&&(this.face=e),void 0!==t&&(this.facePlanar=t),void 0!==r&&(this.definitions=r)}}class lr{constructor(e,t,r){this.facePlanar=!1,void 0!==e&&(this.face=e),void 0!==t&&(this.facePlanar=t),void 0!==r&&(this.definitions=r)}}class dr{constructor(e,t,r){this.facePlanar=!1,void 0!==e&&(this.face=e),void 0!==t&&(this.facePlanar=t),void 0!==r&&(this.definitions=r)}}class pr{constructor(e,t,r,i){this.uNumber=10,this.vNumber=10,this.height=.2,this.precision=.01,void 0!==e&&(this.faces=e),void 0!==i&&(this.height=i),void 0!==t&&(this.uNumber=t),void 0!==r&&(this.vNumber=r)}}class fr{constructor(e,t,r,i,n,s,o){this.uNumber=10,this.vNumber=5,this.defaultHeight=.2,this.affectMinHeight=0,this.affectMaxHeight=1,this.precision=.01,void 0!==e&&(this.faces=e),void 0!==t&&(this.affectorPoints=t),void 0!==r&&(this.uNumber=r),void 0!==i&&(this.vNumber=i),void 0!==n&&(this.affectMinHeight=n),void 0!==s&&(this.affectMaxHeight=s),void 0!==o&&(this.precision=o)}}class vr{constructor(){this.type="parametric-model",this.name="patternsFacePatternPyramidSimple"}}class mr{constructor(){this.index=0}}class gr{}class yr{}class br{}class wr{}class Sr{constructor(){this.faceIndex=0}}class Er{constructor(){this.faceIndex=0,this.uIndex=0,this.vIndex=0}}class xr{constructor(){this.faceIndex=0,this.uIndex=0}}class Tr{constructor(){this.faceIndex=0,this.vIndex=0}}class Pr{}class Nr{}var Cr,kr,Dr;!function(e){e.wire="wire",e.face="face",e.solid="solid"}(Cr||(Cr={}));class Or{constructor(e,t,r,i){this.occtService=e,this.dependencies=r,this.occtAdv=t,this.base=i}wingtipVilla(e){return function(e,t){!function(e){let t;if(["interiorWidth","interiorLength","interiorHeight","chimneyHeight","roofOverhang","thickness","holeDiameter","holeDistToBottom","stickDiameter","rotation"].forEach((r=>{isNaN(e[r])&&(t=`"${r}" must be a number`)})),e.interiorWidth<=0?t=`interior width can't be ${e.interiorWidth}, which is lower or equal to 0`:e.interiorLength<=0?t=`interior length can't be ${e.interiorLength}, which is lower or equal to 0`:e.interiorHeight<=0?t=`interior height can't be ${e.interiorHeight}, which is lower or equal to 0`:e.chimneyHeight<=0?t=`chimney height can't be ${e.chimneyHeight}, which is lower or equal to 0`:e.interiorWidth<e.holeDiameter?t="The width of the bird house is smaller than the hole diameter. Make width larger or hole radius smaller, otherwise the model can't be made.":e.interiorHeight<e.holeDiameter+e.holeDistToBottom?t="The height of the bird house is smaller than the hole diameter and it's distance to the bottom. Increase the height or decrease the hole radius and distance to the bottom, otherwise the model can't be made.":e.interiorHeight<e.stickDiameter?t="The height of the bird house is smaller than the stick diameter. Model can't be made.":e.stickDiameter>e.holeDistToBottom&&(t="The stick diameter is larger than the hole's distance to bottom. Stick can't fit the surface. Model can't be made."),t)throw new Error(t)}(e);const r=e.baseAttachmentHeight,i=e.roofOverhang,n=e.chimneyHeight,s=(e.interiorWidth+2*e.thickness)/2,o=Z.computeSideA(45,s),a=function(e,t){const r=Math.pow(e,2)+Math.pow(t,2);return Math.sqrt(r)}(o,s),c=e.thickness,h=[],u=t.shapes.wire.createPolygonWire({points:[[-s,-r-c,0],[s,-r-c,0],[s,e.interiorHeight,0],[0,e.interiorHeight+o,0],[-s,e.interiorHeight,0]].reverse()});h.push(u);const l=e.interiorLength+e.thickness,d=t.shapes.wire.createPolygonWire({points:[[-s,-c,l],[s,-c,l],[s,e.interiorHeight,l],[0,e.interiorHeight+o,l],[-s,e.interiorHeight,l]].reverse()});h.push(d);const p=t.shapes.wire.createCircleWire({radius:e.holeDiameter/2,direction:[0,0,1],center:[0,e.holeDistToBottom+e.holeDiameter/2,l]});h.push(p);const f=t.shapes.wire.createCircleWire({radius:e.stickDiameter/2,direction:[0,0,1],center:[0,e.holeDistToBottom/2,l+c]});h.push(f);const v=t.shapes.face.createFaceFromWire({shape:f,planar:!0});h.push(v);const m=t.operations.extrude({shape:v,direction:[0,0,e.stickLength]}),g=t.shapes.solid.createBoxFromCorner({corner:[-s+c,-c,c],width:e.interiorWidth,length:e.interiorLength,height:c}),y=t.shapes.solid.createBoxFromCorner({corner:[-s,-c,c],width:c,length:e.interiorLength,height:e.interiorHeight+c}),b=t.shapes.solid.createBoxFromCorner({corner:[s-c,-c,c],width:c,length:e.interiorLength,height:e.interiorHeight+c}),w=t.shapes.solid.createBoxFromCorner({corner:[0,0,0],width:a+i,length:e.interiorLength+2*c+i,height:c}),S=t.shapes.solid.createBoxFromCorner({corner:[0,-c,0],width:a+i+c,length:e.interiorLength+2*c+i,height:c}),E=t.transforms.rotate({shape:w,angle:-45,axis:[0,0,1]});h.push(E);const x=t.transforms.translate({shape:E,translation:[0,e.interiorHeight+o,0]}),T=t.shapes.edge.getCornerPointsOfEdgesForShape({shape:x}),P=t.transforms.rotate({shape:S,angle:225,axis:[0,0,1]});h.push(P);const N=t.transforms.translate({shape:P,translation:T[3]}),C=t.shapes.face.createFaceFromWire({shape:u,planar:!0});h.push(C);const k=t.operations.makeThickSolidSimple({shape:C,offset:-e.thickness}),D=t.shapes.face.createFaceFromWire({shape:d,planar:!0});h.push(D);const O=t.operations.splitShapeWithShapes({shape:D,shapes:[p],nonDestructive:!0,localFuzzyTolerance:1e-4});h.push(...O),console.log(O);const A=t.shapes.face.getFace({shape:O[1],index:0});h.push(A);const F=t.operations.makeThickSolidSimple({shape:A,offset:-e.thickness}),R=function(e,t,r){const i=e.shapes.face.getFaces({shape:t})[3],n=e.shapes.face.getFaceCenterOfMass({shape:i}),s=e.transforms.scale3d({shape:i,scale:[.3,.3,.3],center:n}),o=e.shapes.edge.getCornerPointsOfEdgesForShape({shape:s}),a=o[0],c=o[1],h=o[2],u=o[3],l=Math.max(a[1],c[1],h[1],u[1]),d=[a[0],l+r,a[2]],p=[c[0],l+r,c[2]],f=[h[0],l+r,h[2]],v=[u[0],l+r,u[2]],m=e.shapes.wire.createPolygonWire({points:[a,c,h,u]}),g=e.shapes.wire.createPolygonWire({points:[d,p,f,v]}),y=e.operations.loft({shapes:[m,g],makeSolid:!0});return i.delete(),s.delete(),m.delete(),g.delete(),y}(t,x,n),B=[g,k,F,y,b,x,N,m,t.shapes.compound.makeCompound({shapes:[x,N]}),t.shapes.compound.makeCompound({shapes:[k,F,y,b]}),R],M=B.map(((r,i)=>{const n=t.transforms.rotate({shape:r,angle:e.rotation,axis:[0,1,0]});return t.transforms.translate({shape:n,translation:e.origin})})),L=t.shapes.compound.makeCompound({shapes:M});return B.forEach((e=>e.delete())),h.forEach((e=>e.delete())),{compound:L,shapes:M.map(((e,t)=>({id:t.toString(),shape:e}))),data:{type:"parametric-model",name:"wingtipVilla",roof:{compound:"8",shapes:["5","6"]},walls:{compound:"9",shapes:["1","2","3","4"]},floor:{shape:"0"},stick:{shape:"7"},chimney:{shape:"10"},basicPoints:[{kind:"origin",point:e.origin}]}}}(e,this.occtService)}chirpyChalet(e){return function(e,t){!function(e){let t;if(["interiorWidth","interiorLength","interiorHeight","roofAngle","roofOverhang","thickness","holeDiameter","holeDistToBottom","stickDiameter","rotation"].forEach((r=>{isNaN(e[r])&&(t=`"${r}" must be a number`)})),e.interiorWidth<=0?t=`interior width can't be ${e.interiorWidth}, which is lower or equal to 0`:e.interiorLength<=0?t=`interior length can't be ${e.interiorLength}, which is lower or equal to 0`:e.interiorHeight<=0?t=`interior height can't be ${e.interiorHeight}, which is lower or equal to 0`:e.interiorWidth<e.holeDiameter?t="The width of the bird house is smaller than the hole diameter. Make width larger or hole radius smaller, otherwise the model can't be made.":e.interiorHeight<e.holeDiameter+e.holeDistToBottom?t="The height of the bird house is smaller than the hole diameter and it's distance to the bottom. Increase the height or decrease the hole radius and distance to the bottom, otherwise the model can't be made.":e.interiorHeight<e.stickDiameter?t="The height of the bird house is smaller than the stick diameter. Model can't be made.":e.stickDiameter>e.holeDistToBottom&&(t="The stick diameter is larger than the hole's distance to bottom. Stick can't fit the surface. Model can't be made."),t)throw new Error(t)}(e);const r=e.baseAttachmentHeight,i=e.roofOverhang,n=e.roofAngle,s=e.interiorWidth/2,o=e.interiorLength+2*e.thickness,a=Z.computeSideA(n,o),c=Z.computeSideA(n,o-e.thickness),h=function(e,t){const r=Math.pow(e,2)+Math.pow(t,2);return Math.sqrt(r)}(a,o),u=e.thickness,l=[],d=t.shapes.wire.createPolygonWire({points:[[-s,-r-u,0],[s,-r-u,0],[s,e.interiorHeight+c,0],[-s,e.interiorHeight+c,0]].reverse()});l.push(d);const p=e.interiorLength+e.thickness,f=t.shapes.wire.createPolygonWire({points:[[-s,-u,p],[s,-u,p],[s,e.interiorHeight,p],[-s,e.interiorHeight,p]].reverse()});l.push(f);const v=t.shapes.wire.createCircleWire({radius:e.holeDiameter/2,direction:[0,0,1],center:[0,e.holeDistToBottom+e.holeDiameter/2,p]});l.push(v);const m=t.shapes.wire.createCircleWire({radius:e.stickDiameter/2,direction:[0,0,1],center:[0,e.holeDistToBottom/2,p+u]});l.push(m);const g=t.shapes.face.createFaceFromWire({shape:m,planar:!0});l.push(g);const y=t.operations.extrude({shape:g,direction:[0,0,e.stickLength]}),b=t.shapes.solid.createBoxFromCorner({corner:[-s,-u,u],width:e.interiorWidth,length:e.interiorLength,height:u}),w=t.shapes.wire.createPolygonWire({points:[[-s,-u,0],[-s,-u,p+u],[-s,e.interiorHeight,p+u],[-s,e.interiorHeight+a,0]].reverse()}),S=t.shapes.face.createFaceFromWire({shape:w,planar:!0}),E=t.operations.extrude({shape:S,direction:[-u,0,0]}),x=t.transforms.translate({shape:E,translation:[e.interiorWidth+u,0,0]}),T=t.shapes.solid.createBoxFromCorner({corner:[-s-u-i,0,0],width:e.interiorWidth+2*u+2*i,length:h+i,height:u}),P=t.transforms.rotate({shape:T,angle:n,axis:[1,0,0]});l.push(P);const N=t.transforms.translate({shape:P,translation:[0,e.interiorHeight+a,0]}),C=t.shapes.face.createFaceFromWire({shape:d,planar:!0});l.push(C);const k=t.operations.makeThickSolidSimple({shape:C,offset:-e.thickness}),D=t.shapes.face.createFaceFromWire({shape:f,planar:!0});l.push(D);const O=t.operations.splitShapeWithShapes({shape:D,shapes:[v],nonDestructive:!0,localFuzzyTolerance:1e-4});l.push(...O);const A=t.shapes.face.getFace({shape:O[1],index:0});l.push(A);const F=t.operations.makeThickSolidSimple({shape:A,offset:-e.thickness}),R=[b,k,F,E,x,N,y,t.shapes.compound.makeCompound({shapes:[N]}),t.shapes.compound.makeCompound({shapes:[k,F,E,x]})],B=R.map(((r,i)=>{const n=t.transforms.rotate({shape:r,angle:e.rotation,axis:[0,1,0]});return t.transforms.translate({shape:n,translation:e.origin})})),M=t.shapes.compound.makeCompound({shapes:B});return R.forEach((e=>e.delete())),l.forEach((e=>e.delete())),{compound:M,shapes:B.map(((e,t)=>({id:t.toString(),shape:e}))),data:{type:"parametric-model",name:"chirpyChalet",roof:{compound:"7",shapes:["5","6"]},walls:{compound:"8",shapes:["1","2","3","4"]},floor:{shape:"0"},stick:{shape:"6"},basicPoints:[{kind:"origin",point:e.origin}]}}}(e,this.occtService)}serenitySwirl(e){return function(e,t,r){if(function(e){let t;if(["swirl","nrOfDivisions","addRadiusNarrow","addRadiusWide","addMiddleHeight","addTopHeight","thickness","rotation"].forEach((r=>{isNaN(e[r])&&(t=`"${r}" must be a number`)})),e.swirl<0?t="swirl value should be between 0 and 1":e.nrOfDivisions<=0?t=`nrOfDivisions can't be ${e.nrOfDivisions}, which is lower or equal to 0`:e.addRadiusNarrow<0?t=`addRadiusNarrow can't be ${e.addRadiusNarrow}, which is lower then 0`:e.addRadiusWide<0?t=`addRadiusWide can't be ${e.addRadiusWide}, which is lower then 0`:e.addMiddleHeight<=0?t=`addMiddleHeight can't be ${e.addMiddleHeight}, which is lower or equal to 0`:e.addTopHeight<=0?t=`addTopHeight can't be ${e.addTopHeight}, which is lower or equal to 0`:e.thickness<=0?t=`thickness can't be ${e.thickness}, which is lower or equal to 0`:3!==e.origin.length&&(t="The origin should be a vector of 3 numbers."),t)throw new Error(t)}(e),!r.serenitySwirl)throw new Error("Could not compute, to use Serenity Swirl algorithm you must be subscribed.");try{const i=`\n            ${r.serenitySwirl}\n        `;return new Function(i).apply({inputs:e,occt:t,Inputs:Y.G0})}catch(e){throw new Error(e)}}(e,this.occtService,this.dependencies)}arabicArchway(e){return function(e,t,r){if(function(e){let t;if(["nrOfSides","thickness","rotation"].forEach((r=>{isNaN(e[r])&&(t=`"${r}" must be a number`)})),e.nrOfSides<0?t="swirl value should be between 0 and 1":e.nrOfSides<3?t=`nrOfSides can't be ${e.nrOfSides}, which is lower to 3`:e.nrOfSides>30?t=`nrOfSides can't be ${e.nrOfSides}, which is higher then 30`:e.thickness<=0?t=`thickness can't be ${e.thickness}, which is lower or equal to 0`:3!==e.origin.length&&(t="The origin should be a vector of 3 numbers."),t)throw new Error(t)}(e),!r.arabicArchway)throw new Error("Could not compute, to use Arabic Archway algorithm you must be subscribed.");try{const i=`\n            ${r.arabicArchway}\n        `;return new Function(i).apply({inputs:e,occt:t,Inputs:Y.G0,Things:M,ShapeParser:Y.$9})}catch(e){throw new Error(e)}}(e,this.occtService,this.dependencies)}eternalLove(e){return function(e,t,r,i){if(!i.eternalLove)throw new Error("Could not compute, to use Eternal Love algorithm you must be subscribed to our silver plan.");try{const n=`\n            ${i.eternalLove}\n        `;return new Function(n).apply({inputs:e,occt:t,occtAdv:r,Inputs:Y.G0,Text3D:L})}catch(e){throw new Error(e)}}(e,this.occtService,this.occtAdv,this.dependencies)}calmCup(e){return function(e,t,r,i){if(function(e){let t;if(["height","radiusBottom","radiusTopOffset","thickness","fillet","nrOfHandles","handleDist","precision","rotation"].forEach((r=>{isNaN(e[r])&&(t=`"${r}" must be a number.`)})),e.height<6*e.thickness?t="Height must be at least 6 times greater than thickness.":e.radiusBottom<=0?t="Radius bottom must be greater than 0.":e.thickness<=0?t="Thickness must be greater than 0.":e.fillet<0||e.fillet>e.thickness/2?t="Fillet must be greater than 0 and less than half of the thickness.":e.handleDist<=2*e.thickness?t="Handle distance from cup must be greater than 2 times the thickness.":e.nrOfHandles<0||e.nrOfHandles>2?t="Nr of handles must be between 0 and 2.":e.radiusTopOffset>.75*e.radiusBottom&&(t="Top offset radius must be less than 0.75 times the bottom radius."),t)throw new Error(t)}(e),!i.calmCup)throw new Error("Could not compute, to use Calm Cup algorithm you must be subscribed to our silver plan.");try{const r=`\n            ${i.calmCup}\n        `;return new Function(r).apply({inputs:e,occt:t,Inputs:Y.G0})}catch(e){throw new Error(e)}}(e,this.occtService,this.occtAdv,this.dependencies)}spicyBox(e){return function(e,t,r,i){if(!i.spicyBox)throw new Error("Could not compute, to use Spicy Box algorithm you must be subscribed to our silver plan.");try{const r=`\n            ${i.spicyBox}\n        `;return new Function(r).apply({inputs:e,occt:t,Inputs:Y.G0})}catch(e){throw new Error(e)}}(e,this.occtService,this.occtAdv,this.dependencies)}dragonCup(e){return function(e,t,r,i){if(function(e){let t;if(["height","radiusBottom","radiusTopOffset","thickness","nrSkinCellsHorizontal","nrSkinCellsVertical","precision","rotation"].forEach((r=>{isNaN(e[r])&&(t=`"${r}" must be a number.`)})),e.radiusBottom<=0?t="Radius bottom must be greater than 0.":e.thickness<=0?t="Thickness must be greater than 0.":e.nrSkinCellsHorizontal<=2?t="Nr of horizontal skin cells must be larger than 2.":e.nrSkinCellsVertical<1&&(t="Nr of horizontal skin cells must be larger than 0."),t)throw new Error(t)}(e),!i.dragonCup)throw new Error("Could not compute, to use Dragon Cup algorithm you must be subscribed to our silver plan.");try{const n=`\n            ${i.dragonCup}\n        `;return new Function(n).apply({inputs:e,occt:t,occtAdv:r,Inputs:Y.G0,Advanced:H})}catch(e){throw new Error(e)}}(e,this.occtService,this.occtAdv,this.dependencies)}zenHideout(e){return function(e,t,r){if(function(e){let t;if([].forEach((r=>{isNaN(e[r])&&(t=`"${r}" must be a number`)})),t)throw new Error(t)}(e),!r.zenHideout)throw new Error("Could not compute, to use Zen Hideout algorithm you must be subscribed.");try{const i=`\n            ${r.zenHideout}\n        `;return new Function(i).apply({inputs:e,occt:t,Inputs:Y.G0,Things:M,MathHelper:Z,ShapeParser:Y.$9})}catch(e){throw new Error(e)}}(e,this.occtService,this.dependencies)}elegantTable(e){return function(e,t,r,i){if(!i.elegantTable)throw new Error("Could not compute, to use Elegant Table algorithm you must be subscribed to our silver plan.");try{const r=`\n            ${i.elegantTable}\n        `;return new Function(r).apply({inputs:e,occt:t,Inputs:Y.G0,Things:M,ShapeParser:Y.$9})}catch(e){throw new Error(e)}}(e,this.occtService,this.occtAdv,this.dependencies)}goodCoffeeTable(e){return function(e,t,r,i){if(function(e){let t;if(["height","width","length","topThickness","topGlassOffset","glassThickness","glassHolderLength","chamfer","legWidth","legDepth","precision","rotation","scale"].forEach((r=>{isNaN(e[r])&&(t=`"${r}" must be a number.`)})),e.height<=e.topThickness?t="Height must be greated then top thickness.":e.width<=0?t="Width must be greater than 0.":e.width<=2*(e.topGlassOffset+e.glassHolderLength)?t="Width must be greater than two top glass offsets and glass holder lengths.":e.length<=0?t="Length must be greater than 0.":e.length<=2*(e.topGlassOffset+e.glassHolderLength)?t="Length must be greater than two top glass offsets and glass holder lengths.":e.topThickness<=2*e.glassThickness?t="Table top thickness must be greater 2 x glass thickness.":e.glassThickness<=0?t="Glass thickness must be greater than 0":e.glassHolderLength<e.glassThickness?t="Glass holder length must be at least as long as glass thickness.":e.shelfTopOffset>e.height-e.topThickness-e.shelfThickness?t=`Shelf top offset is larger than ${e.height-e.topThickness-e.shelfThickness}, which make it go underground.`:e.chamfer>=e.topThickness/2?t="Chamfer distance must be lower or equal than half of the top thickness.":e.chamfer>=e.shelfThickness/2?t="Chamfer distance must be lower or equal than half of the shelf thickness.":e.chamfer>=e.topGlassOffset/2?t="Chamfer distance must be lower or equal than half of the top glass offset.":e.chamfer>=e.legWidth/2?t="Chamfer distance must be lower or equal than half of the leg width.":e.chamfer>=e.legDepth/2?t="Chamfer distance must be lower or equal than half of the leg depth.":e.width<=2*e.legWidth?t="Width of the table must be greater or equal to the width of the two legs.":e.length<=2*e.legDepth?t="Length of the table must be greater or equal to the length of the two legs.":e.legDepth>=e.topGlassOffset+e.glassHolderLength?t="The depth of the leg must be lower or equal to the sum of glass offset and glass holder length.":e.precision<=0&&(t="Precision must be greater than 0."),t)throw new Error(t)}(e),!i.goodCoffeeTable)throw new Error("Could not compute, to use Good Coffee Table algorithm you must be subscribed to our silver plan.");try{const r=`\n            ${i.goodCoffeeTable}\n        `;return new Function(r).apply({inputs:e,occt:t,Inputs:Y.G0,Things:M,ShapeParser:Y.$9})}catch(e){throw new Error(e)}}(e,this.occtService,this.occtAdv,this.dependencies)}snakeChair(e){return function(e,t,r,i){if(function(e){let t;if(["sittingHeight","backRestOffset","backRestHeight","width","length","thickness","ornamentDepth","nrOrnamentPlanks","filletRadius","precision","rotation","scale"].forEach((r=>{isNaN(e[r])&&(t=`"${r}" must be a number.`)})),e.sittingHeight<=2*e.thickness?t="Sitting height must be greater than 2 x thickness.":e.backRestOffset<0?t="Back rest offset can't be negative.":e.backRestHeight<=0?t="Back rest height must be greater than 0":e.width<=0?t="Width must be greater than 0.":e.length<=2*e.thickness?t="Length height must be greater than 2 x thickness.":e.thickness<=0?t="Width must be greater than 0.":e.nrOrnamentPlanks<0?t="Number of ornament planks must be greater than 0":e.filletRadius<=0?t="Fillet radius must be greater than 0.":e.filletRadius>=e.sittingHeight/2?t="Fillet radius must be lower than half of the sitting height.":e.filletRadius>=e.length/2?t="Fillet radius must be lower than half of the length.":e.filletRadius>=e.backRestHeight/2?t="Fillet radius must be lower than half of the back height.":e.precision<=0&&(t="Precision must be greater than 0."),t)throw new Error(t)}(e),!i.snakeChair)throw new Error("Could not compute, to use Snake Chair algorithm you must be subscribed to our silver plan.");try{const r=`\n            ${i.snakeChair}\n        `;return new Function(r).apply({inputs:e,occt:t,Inputs:Y.G0,Things:M,ShapeParser:Y.$9})}catch(e){throw new Error(e)}}(e,this.occtService,this.occtAdv,this.dependencies)}snakeTable(e){return function(e,t,r,i){if(function(e){let t;if(["height","width","length","shelfHeight","supportLength","glassThickness","glassOffset","thickness","ornamentDepth","nrOrnamentPlanks","filletRadius","precision","rotation","scale"].forEach((r=>{isNaN(e[r])&&(t=`"${r}" must be a number.`)})),e.height<=2*e.thickness?t="Sitting height must be greater than 2 x thickness.":e.width<=0?t="Width must be greater than 0.":e.length<=2*e.thickness?t="Length height must be greater than 2 x thickness.":e.thickness<=0?t="Width must be greater than 0.":e.nrOrnamentPlanks<0?t="Number of ornament planks must be greater than 0":e.filletRadius<=0?t="Fillet radius must be greater than 0.":e.filletRadius>=e.height/2?t="Fillet radius must be lower than half of the sitting height.":e.filletRadius>=e.length/2?t="Fillet radius must be lower than half of the length.":e.precision<=0&&(t="Precision must be greater than 0."),t)throw new Error(t)}(e),!i.snakeTable)throw new Error("Could not compute, to use Snake Table algorithm you must be subscribed to our silver plan.");try{const r=`\n            ${i.snakeTable}\n        `;return new Function(r).apply({inputs:e,occt:t,Inputs:Y.G0,Things:M,ShapeParser:Y.$9})}catch(e){throw new Error(e)}}(e,this.occtService,this.occtAdv,this.dependencies)}phoneNest(e){return function(e,t,r,i){if(!i.phoneNest)throw new Error("Could not compute, to use Phone Nest algorithm you must be subscribed to our silver plan.");try{const r=`\n            ${i.phoneNest}\n        `;return new Function(r).apply({inputs:e,occt:t,Inputs:Y.G0,Things:M,ShapeParser:Y.$9})}catch(e){throw new Error(e)}}(e,this.occtService,this.occtAdv,this.dependencies)}dropletsPhoneHolder(e){return function(e,t,r,i,n){if(!n.dropletsPhoneHolder)throw new Error("Could not compute, to use Droplets Phone Holder algorithm you must be subscribed.");try{const s=`\n            ${n.dropletsPhoneHolder}\n        `;return new Function(s).apply({inputs:e,occt:t,occtAdv:r,base:i,Inputs:Y.G0,Things:M,ShapeParser:Y.$9,Text3D:L})}catch(e){throw new Error(e)}}(e,this.occtService,this.occtAdv,this.base,this.dependencies)}}function Ar(e,t,r){const i=[];Mr(e.letterPaths,r,t,i);const n=new ir;return e.height>0?Br(i,t,e.height,e.rotation,e.origin,e.direction,n):Rr(i,t,e.rotation,e.origin,e.direction,n)}function Fr(e,t,r,i){const n=r.find((t=>t.name===`${e.fontType}-${e.fontVariant}`));if(!n)throw new Error(`Font ${e.fontType}-${e.fontVariant}.ttf does not exist. Current font probably does not have corresponding variant.`);const s=n.font.getPath(e.text,0,0,e.fontSize),o=[];let a=n.font.getPaths(e.text,0,0,e.fontSize,{});const c=n.font.getAdvanceWidth(e.text,e.fontSize),h=s.getBoundingBox();switch(e.originAlignment){case q.leftBottom:break;case q.leftMiddle:a=n.font.getPaths(e.text,0,(h.y2-h.y1)/2,e.fontSize,{});break;case q.leftTop:a=n.font.getPaths(e.text,0,h.y2-h.y1,e.fontSize,{});break;case q.centerBottom:a=n.font.getPaths(e.text,-(h.x2-h.x1)/2,0,e.fontSize,{});break;case q.centerMiddle:a=n.font.getPaths(e.text,-(h.x2-h.x1)/2,(h.y2-h.y1)/2,e.fontSize,{});break;case q.centerTop:a=n.font.getPaths(e.text,-(h.x2-h.x1)/2,h.y2-h.y1,e.fontSize,{});break;case q.rightBottom:a=n.font.getPaths(e.text,-(h.x2-h.x1),0,e.fontSize,{});break;case q.rightMiddle:a=n.font.getPaths(e.text,-(h.x2-h.x1),(h.y2-h.y1)/2,e.fontSize,{});break;case q.rightTop:a=n.font.getPaths(e.text,-(h.x2-h.x1),h.y2-h.y1,e.fontSize,{})}Mr(a,i,t,o);const u=new ir;return u.advanceWidth=c,u.boundingBox={x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2},e.height>0?Br(o,t,e.height,e.rotation,e.origin,e.direction,u):Rr(o,t,e.rotation,e.origin,e.direction,u)}function Rr(e,t,r,i,n,s){const o=e.map((e=>{const s=t.transforms.rotate({shape:e,angle:r,axis:[0,1,0]}),o=t.transforms.alignAndTranslate({shape:s,center:i,direction:n});return s.delete(),o}));o.reverse(),e.forEach((e=>e.delete()));const a=t.shapes.face.getFacesCentersOfMass({shapes:o});s.characterCenterCoordinates=a;const c=t.shapes.compound.makeCompound({shapes:o});return s.characterParts=o.map(((e,t)=>({id:`character-${t.toString()}`,shapes:{compound:e}}))),Lr(s,c)}function Br(e,t,r,i,n,s,o){const a=e.map((e=>t.operations.extrude({shape:e,direction:[0,r,0]})));e.forEach((e=>e.delete()));const c=a.map((e=>{const r=t.transforms.rotate({shape:e,angle:i,axis:[0,1,0]}),o=t.transforms.alignAndTranslate({shape:r,center:n,direction:s});return r.delete(),o}));c.reverse();const h=t.shapes.solid.getSolidsCentersOfMass({shapes:c});o.characterCenterCoordinates=h;const u=t.shapes.compound.makeCompound({shapes:c});return o.characterParts=c.map(((e,t)=>({id:`character-${t.toString()}`,shapes:{compound:e}}))),Lr(o,u)}function Mr(e,t,r,i){e.forEach((e=>{const n=e.commands,s=[];let o,a,c;for(let e=0;e<n.length;e++){const i=n[e];if("M"===i.type)o=[-i.x,0,i.y],a=o,c=new t.BRepBuilderAPI_MakeWire;else if("Z"===i.type)try{const e=c.Wire();let r=null;if(s.length>0){const i=new t.BRepBuilderAPI_MakeFace(s[s.length-1],e);i.IsDone()&&(r=i.Face()),i.delete()}else r=t.MakeFaceFromWireOnlyPlane(e,!0);r&&s.push(r),e.delete(),c.delete()}catch(e){console.error("We could not create faces from this font probably due to self intersections! You should try removing weird characters and pick a more reliable font like 'Roboto'.",e),c&&c.delete()}else if("L"===i.type){const e=[-i.x,0,i.y];if(a[0]===e[0]&&a[2]===e[2])continue;const t=r.shapes.edge.line({start:a,end:e});c.AddEdge(t),t.delete(),a=e}else if("Q"===i.type){const e=[-i.x1,0,i.y1],t=[-i.x,0,i.y],n=[a,e,t],s=r.shapes.wire.createBezier({points:n,closed:!1});c.AddWire(s),s.delete(),a=t}else if("C"===i.type){const e=[-i.x,0,i.y],t=[a,[-i.x1,0,i.y1],[-i.x2,0,i.y2],e],n=r.shapes.wire.createBezier({points:t,closed:!1});c.AddWire(n),n.delete(),a=e}}if(void 0!==s[s.length-1]){const e=s[s.length-1],t=new Y.G0.OCCT.BasicShapeRepairDto;t.shape=e,t.minTolerance=1e-8,t.maxTolerance=1e-4,t.precision=.001;const n=r.shapeFix.basicShapeRepair(t);e.delete(),i.push(n)}}))}function Lr(e,t){if(e){const r=[],i=Y.$9.parse(e,r,"text-3d");return{compound:t,shapes:[{id:"1",shape:t},...r],data:Object.assign({compound:"1"},i)}}}String.prototype.codePointAt||(Dr=function(e){if(null==this)throw TypeError();var t=String(this),r=t.length,i=e?Number(e):0;if(i!=i&&(i=0),!(i<0||i>=r)){var n,s=t.charCodeAt(i);return s>=55296&&s<=56319&&r>i+1&&(n=t.charCodeAt(i+1))>=56320&&n<=57343?1024*(s-55296)+n-56320+65536:s}},(kr=function(){try{var e={},t=Object.defineProperty,r=t(e,e,e)&&t}catch(e){}return r}())?kr(String.prototype,"codePointAt",{value:Dr,configurable:!0,writable:!0}):String.prototype.codePointAt=Dr);function Ir(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function Wr(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new Ir,this.dtree=new Ir}var Ur=new Ir,_r=new Ir,Hr=new Uint8Array(30),Gr=new Uint16Array(30),Vr=new Uint8Array(30),zr=new Uint16Array(30),jr=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$r=new Ir,qr=new Uint8Array(320);function Yr(e,t,r,i){var n,s;for(n=0;n<r;++n)e[n]=0;for(n=0;n<30-r;++n)e[n+r]=n/r|0;for(s=i,n=0;n<30;++n)t[n]=s,s+=1<<e[n]}var Xr=new Uint16Array(16);function Zr(e,t,r,i){var n,s;for(n=0;n<16;++n)e.table[n]=0;for(n=0;n<i;++n)e.table[t[r+n]]++;for(e.table[0]=0,s=0,n=0;n<16;++n)Xr[n]=s,s+=e.table[n];for(n=0;n<i;++n)t[r+n]&&(e.trans[Xr[t[r+n]]++]=n)}function Qr(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=1&e.tag;return e.tag>>>=1,t}function Jr(e,t,r){if(!t)return r;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var i=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,i+r}function Kr(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var r=0,i=0,n=0,s=e.tag;do{i=2*i+(1&s),s>>>=1,++n,r+=t.table[n],i-=t.table[n]}while(i>=0);return e.tag=s,e.bitcount-=n,t.trans[r+i]}function ei(e,t,r){var i,n,s,o,a,c;for(i=Jr(e,5,257),n=Jr(e,5,1),s=Jr(e,4,4),o=0;o<19;++o)qr[o]=0;for(o=0;o<s;++o){var h=Jr(e,3,0);qr[jr[o]]=h}for(Zr($r,qr,0,19),a=0;a<i+n;){var u=Kr(e,$r);switch(u){case 16:var l=qr[a-1];for(c=Jr(e,2,3);c;--c)qr[a++]=l;break;case 17:for(c=Jr(e,3,3);c;--c)qr[a++]=0;break;case 18:for(c=Jr(e,7,11);c;--c)qr[a++]=0;break;default:qr[a++]=u}}Zr(t,qr,0,i),Zr(r,qr,i,n)}function ti(e,t,r){for(;;){var i,n,s,o,a=Kr(e,t);if(256===a)return 0;if(a<256)e.dest[e.destLen++]=a;else for(i=Jr(e,Hr[a-=257],Gr[a]),n=Kr(e,r),o=s=e.destLen-Jr(e,Vr[n],zr[n]);o<s+i;++o)e.dest[e.destLen++]=e.dest[o]}}function ri(e){for(var t,r;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if((t=256*(t=e.source[e.sourceIndex+1])+e.source[e.sourceIndex])!==(65535&~(256*e.source[e.sourceIndex+3]+e.source[e.sourceIndex+2])))return-3;for(e.sourceIndex+=4,r=t;r;--r)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,0}!function(e,t){var r;for(r=0;r<7;++r)e.table[r]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,r=0;r<24;++r)e.trans[r]=256+r;for(r=0;r<144;++r)e.trans[24+r]=r;for(r=0;r<8;++r)e.trans[168+r]=280+r;for(r=0;r<112;++r)e.trans[176+r]=144+r;for(r=0;r<5;++r)t.table[r]=0;for(t.table[5]=32,r=0;r<32;++r)t.trans[r]=r}(Ur,_r),Yr(Hr,Gr,4,3),Yr(Vr,zr,2,1),Hr[28]=0,Gr[28]=258;var ii=function(e,t){var r,i,n=new Wr(e,t);do{switch(r=Qr(n),Jr(n,2,0)){case 0:i=ri(n);break;case 1:i=ti(n,Ur,_r);break;case 2:ei(n,n.ltree,n.dtree),i=ti(n,n.ltree,n.dtree);break;default:i=-3}if(0!==i)throw new Error("Data error")}while(!r);return n.destLen<n.dest.length?"function"==typeof n.dest.slice?n.dest.slice(0,n.destLen):n.dest.subarray(0,n.destLen):n.dest};function ni(e,t,r,i,n){return Math.pow(1-n,3)*e+3*Math.pow(1-n,2)*n*t+3*(1-n)*Math.pow(n,2)*r+Math.pow(n,3)*i}function si(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function oi(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function ai(e){throw new Error(e)}function ci(e,t){e||ai(t)}si.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},si.prototype.addPoint=function(e,t){"number"==typeof e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),"number"==typeof t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},si.prototype.addX=function(e){this.addPoint(e,null)},si.prototype.addY=function(e){this.addPoint(null,e)},si.prototype.addBezier=function(e,t,r,i,n,s,o,a){var c=[e,t],h=[r,i],u=[n,s],l=[o,a];this.addPoint(e,t),this.addPoint(o,a);for(var d=0;d<=1;d++){var p=6*c[d]-12*h[d]+6*u[d],f=-3*c[d]+9*h[d]-9*u[d]+3*l[d],v=3*h[d]-3*c[d];if(0!==f){var m=Math.pow(p,2)-4*v*f;if(!(m<0)){var g=(-p+Math.sqrt(m))/(2*f);0<g&&g<1&&(0===d&&this.addX(ni(c[d],h[d],u[d],l[d],g)),1===d&&this.addY(ni(c[d],h[d],u[d],l[d],g)));var y=(-p-Math.sqrt(m))/(2*f);0<y&&y<1&&(0===d&&this.addX(ni(c[d],h[d],u[d],l[d],y)),1===d&&this.addY(ni(c[d],h[d],u[d],l[d],y)))}}else{if(0===p)continue;var b=-v/p;0<b&&b<1&&(0===d&&this.addX(ni(c[d],h[d],u[d],l[d],b)),1===d&&this.addY(ni(c[d],h[d],u[d],l[d],b)))}}},si.prototype.addQuad=function(e,t,r,i,n,s){var o=e+2/3*(r-e),a=t+2/3*(i-t),c=o+1/3*(n-e),h=a+1/3*(s-t);this.addBezier(e,t,o,a,c,h,n,s)},oi.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})},oi.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})},oi.prototype.curveTo=oi.prototype.bezierCurveTo=function(e,t,r,i,n,s){this.commands.push({type:"C",x1:e,y1:t,x2:r,y2:i,x:n,y:s})},oi.prototype.quadTo=oi.prototype.quadraticCurveTo=function(e,t,r,i){this.commands.push({type:"Q",x1:e,y1:t,x:r,y:i})},oi.prototype.close=oi.prototype.closePath=function(){this.commands.push({type:"Z"})},oi.prototype.extend=function(e){if(e.commands)e=e.commands;else if(e instanceof si){var t=e;return this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),void this.close()}Array.prototype.push.apply(this.commands,e)},oi.prototype.getBoundingBox=function(){for(var e=new si,t=0,r=0,i=0,n=0,s=0;s<this.commands.length;s++){var o=this.commands[s];switch(o.type){case"M":e.addPoint(o.x,o.y),t=i=o.x,r=n=o.y;break;case"L":e.addPoint(o.x,o.y),i=o.x,n=o.y;break;case"Q":e.addQuad(i,n,o.x1,o.y1,o.x,o.y),i=o.x,n=o.y;break;case"C":e.addBezier(i,n,o.x1,o.y1,o.x2,o.y2,o.x,o.y),i=o.x,n=o.y;break;case"Z":i=t,n=r;break;default:throw new Error("Unexpected path command "+o.type)}}return e.isEmpty()&&e.addPoint(0,0),e},oi.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var r=this.commands[t];"M"===r.type?e.moveTo(r.x,r.y):"L"===r.type?e.lineTo(r.x,r.y):"C"===r.type?e.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):"Q"===r.type?e.quadraticCurveTo(r.x1,r.y1,r.x,r.y):"Z"===r.type&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())},oi.prototype.toPathData=function(e){function t(t){return Math.round(t)===t?""+Math.round(t):t.toFixed(e)}function r(){for(var e=arguments,r="",i=0;i<arguments.length;i+=1){var n=e[i];n>=0&&i>0&&(r+=" "),r+=t(n)}return r}e=void 0!==e?e:2;for(var i="",n=0;n<this.commands.length;n+=1){var s=this.commands[n];"M"===s.type?i+="M"+r(s.x,s.y):"L"===s.type?i+="L"+r(s.x,s.y):"C"===s.type?i+="C"+r(s.x1,s.y1,s.x2,s.y2,s.x,s.y):"Q"===s.type?i+="Q"+r(s.x1,s.y1,s.x,s.y):"Z"===s.type&&(i+="Z")}return i},oi.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),t+='"',this.fill&&"black"!==this.fill&&(null===this.fill?t+=' fill="none"':t+=' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+"/>"},oi.prototype.toDOMElement=function(e){var t=this.toPathData(e),r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d",t),r};var hi={fail:ai,argument:ci,assert:ci},ui=2147483648,li={},di={},pi={};function fi(e){return function(){return e}}di.BYTE=function(e){return hi.argument(e>=0&&e<=255,"Byte value should be between 0 and 255."),[e]},pi.BYTE=fi(1),di.CHAR=function(e){return[e.charCodeAt(0)]},pi.CHAR=fi(1),di.CHARARRAY=function(e){void 0===e&&(e="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var t=[],r=0;r<e.length;r+=1)t[r]=e.charCodeAt(r);return t},pi.CHARARRAY=function(e){return void 0===e?0:e.length},di.USHORT=function(e){return[e>>8&255,255&e]},pi.USHORT=fi(2),di.SHORT=function(e){return e>=32768&&(e=-(65536-e)),[e>>8&255,255&e]},pi.SHORT=fi(2),di.UINT24=function(e){return[e>>16&255,e>>8&255,255&e]},pi.UINT24=fi(3),di.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},pi.ULONG=fi(4),di.LONG=function(e){return e>=ui&&(e=-(2*ui-e)),[e>>24&255,e>>16&255,e>>8&255,255&e]},pi.LONG=fi(4),di.FIXED=di.ULONG,pi.FIXED=pi.ULONG,di.FWORD=di.SHORT,pi.FWORD=pi.SHORT,di.UFWORD=di.USHORT,pi.UFWORD=pi.USHORT,di.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,255&e]},pi.LONGDATETIME=fi(8),di.TAG=function(e){return hi.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},pi.TAG=fi(4),di.Card8=di.BYTE,pi.Card8=pi.BYTE,di.Card16=di.USHORT,pi.Card16=pi.USHORT,di.OffSize=di.BYTE,pi.OffSize=pi.BYTE,di.SID=di.USHORT,pi.SID=pi.USHORT,di.NUMBER=function(e){return e>=-107&&e<=107?[e+139]:e>=108&&e<=1131?[247+((e-=108)>>8),255&e]:e>=-1131&&e<=-108?[251+((e=-e-108)>>8),255&e]:e>=-32768&&e<=32767?di.NUMBER16(e):di.NUMBER32(e)},pi.NUMBER=function(e){return di.NUMBER(e).length},di.NUMBER16=function(e){return[28,e>>8&255,255&e]},pi.NUMBER16=fi(3),di.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e]},pi.NUMBER32=fi(5),di.REAL=function(e){var t=e.toString(),r=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);if(r){var i=parseFloat("1e"+((r[2]?+r[2]:0)+r[1].length));t=(Math.round(e*i)/i).toString()}for(var n="",s=0,o=t.length;s<o;s+=1){var a=t[s];n+="e"===a?"-"===t[++s]?"c":"b":"."===a?"a":"-"===a?"e":a}for(var c=[30],h=0,u=(n+=1&n.length?"f":"ff").length;h<u;h+=2)c.push(parseInt(n.substr(h,2),16));return c},pi.REAL=function(e){return di.REAL(e).length},di.NAME=di.CHARARRAY,pi.NAME=pi.CHARARRAY,di.STRING=di.CHARARRAY,pi.STRING=pi.CHARARRAY,li.UTF8=function(e,t,r){for(var i=[],n=r,s=0;s<n;s++,t+=1)i[s]=e.getUint8(t);return String.fromCharCode.apply(null,i)},li.UTF16=function(e,t,r){for(var i=[],n=r/2,s=0;s<n;s++,t+=2)i[s]=e.getUint16(t);return String.fromCharCode.apply(null,i)},di.UTF16=function(e){for(var t=[],r=0;r<e.length;r+=1){var i=e.charCodeAt(r);t[t.length]=i>>8&255,t[t.length]=255&i}return t},pi.UTF16=function(e){return 2*e.length};var vi={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""};li.MACSTRING=function(e,t,r,i){var n=vi[i];if(void 0!==n){for(var s="",o=0;o<r;o++){var a=e.getUint8(t+o);s+=a<=127?String.fromCharCode(a):n[127&a]}return s}};var mi,gi="function"==typeof WeakMap&&new WeakMap;function yi(e){return e>=-128&&e<=127}function bi(e,t,r){for(var i=0,n=e.length;t<n&&i<64&&0===e[t];)++t,++i;return r.push(128|i-1),t}function wi(e,t,r){for(var i=0,n=e.length,s=t;s<n&&i<64;){var o=e[s];if(!yi(o))break;if(0===o&&s+1<n&&0===e[s+1])break;++s,++i}r.push(i-1);for(var a=t;a<s;++a)r.push(e[a]+256&255);return s}function Si(e,t,r){for(var i=0,n=e.length,s=t;s<n&&i<64;){var o=e[s];if(0===o)break;if(yi(o)&&s+1<n&&yi(e[s+1]))break;++s,++i}r.push(64|i-1);for(var a=t;a<s;++a){var c=e[a];r.push(c+65536>>8&255,c+256&255)}return s}di.MACSTRING=function(e,t){var r=function(e){if(!mi)for(var t in mi={},vi)mi[t]=new String(t);var r=mi[e];if(void 0!==r){if(gi){var i=gi.get(r);if(void 0!==i)return i}var n=vi[e];if(void 0!==n){for(var s={},o=0;o<n.length;o++)s[n.charCodeAt(o)]=o+128;return gi&&gi.set(r,s),s}}}(t);if(void 0!==r){for(var i=[],n=0;n<e.length;n++){var s=e.charCodeAt(n);if(s>=128&&void 0===(s=r[s]))return;i[n]=s}return i}},pi.MACSTRING=function(e,t){var r=di.MACSTRING(e,t);return void 0!==r?r.length:0},di.VARDELTAS=function(e){for(var t=0,r=[];t<e.length;){var i=e[t];t=0===i?bi(e,t,r):i>=-128&&i<=127?wi(e,t,r):Si(e,t,r)}return r},di.INDEX=function(e){for(var t=1,r=[t],i=[],n=0;n<e.length;n+=1){var s=di.OBJECT(e[n]);Array.prototype.push.apply(i,s),t+=s.length,r.push(t)}if(0===i.length)return[0,0];for(var o=[],a=1+Math.floor(Math.log(t)/Math.log(2))/8|0,c=[void 0,di.BYTE,di.USHORT,di.UINT24,di.ULONG][a],h=0;h<r.length;h+=1){var u=c(r[h]);Array.prototype.push.apply(o,u)}return Array.prototype.concat(di.Card16(e.length),di.OffSize(a),o,i)},pi.INDEX=function(e){return di.INDEX(e).length},di.DICT=function(e){for(var t=[],r=Object.keys(e),i=r.length,n=0;n<i;n+=1){var s=parseInt(r[n],0),o=e[s];t=(t=t.concat(di.OPERAND(o.value,o.type))).concat(di.OPERATOR(s))}return t},pi.DICT=function(e){return di.DICT(e).length},di.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]},di.OPERAND=function(e,t){var r=[];if(Array.isArray(t))for(var i=0;i<t.length;i+=1)hi.argument(e.length===t.length,"Not enough arguments given for type"+t),r=r.concat(di.OPERAND(e[i],t[i]));else if("SID"===t)r=r.concat(di.NUMBER(e));else if("offset"===t)r=r.concat(di.NUMBER32(e));else if("number"===t)r=r.concat(di.NUMBER(e));else{if("real"!==t)throw new Error("Unknown operand type "+t);r=r.concat(di.REAL(e))}return r},di.OP=di.BYTE,pi.OP=pi.BYTE;var Ei="function"==typeof WeakMap&&new WeakMap;function xi(e,t,r){if(t.length&&("coverageFormat"!==t[0].name||1===t[0].value))for(var i=0;i<t.length;i+=1){var n=t[i];this[n.name]=n.value}if(this.tableName=e,this.fields=t,r)for(var s=Object.keys(r),o=0;o<s.length;o+=1){var a=s[o],c=r[a];void 0!==this[a]&&(this[a]=c)}}function Ti(e,t,r){void 0===r&&(r=t.length);var i=new Array(t.length+1);i[0]={name:e+"Count",type:"USHORT",value:r};for(var n=0;n<t.length;n++)i[n+1]={name:e+n,type:"USHORT",value:t[n]};return i}function Pi(e,t,r){var i=t.length,n=new Array(i+1);n[0]={name:e+"Count",type:"USHORT",value:i};for(var s=0;s<i;s++)n[s+1]={name:e+s,type:"TABLE",value:r(t[s],s)};return n}function Ni(e,t,r){var i=t.length,n=[];n[0]={name:e+"Count",type:"USHORT",value:i};for(var s=0;s<i;s++)n=n.concat(r(t[s],s));return n}function Ci(e){1===e.format?xi.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Ti("glyph",e.glyphs))):2===e.format?xi.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(Ni("rangeRecord",e.ranges,(function(e){return[{name:"startGlyphID",type:"USHORT",value:e.start},{name:"endGlyphID",type:"USHORT",value:e.end},{name:"startCoverageIndex",type:"USHORT",value:e.index}]})))):hi.assert(!1,"Coverage format must be 1 or 2.")}function ki(e){xi.call(this,"scriptListTable",Ni("scriptRecord",e,(function(e,t){var r=e.script,i=r.defaultLangSys;return hi.assert(!!i,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+t,type:"TAG",value:e.tag},{name:"script"+t,type:"TABLE",value:new xi("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new xi("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:i.reqFeatureIndex}].concat(Ti("featureIndex",i.featureIndexes)))}].concat(Ni("langSys",r.langSysRecords,(function(e,t){var r=e.langSys;return[{name:"langSysTag"+t,type:"TAG",value:e.tag},{name:"langSys"+t,type:"TABLE",value:new xi("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:r.reqFeatureIndex}].concat(Ti("featureIndex",r.featureIndexes)))}]}))))}]})))}function Di(e){xi.call(this,"featureListTable",Ni("featureRecord",e,(function(e,t){var r=e.feature;return[{name:"featureTag"+t,type:"TAG",value:e.tag},{name:"feature"+t,type:"TABLE",value:new xi("featureTable",[{name:"featureParams",type:"USHORT",value:r.featureParams}].concat(Ti("lookupListIndex",r.lookupListIndexes)))}]})))}function Oi(e,t){xi.call(this,"lookupListTable",Pi("lookup",e,(function(e){var r=t[e.lookupType];return hi.assert(!!r,"Unable to write GSUB lookup type "+e.lookupType+" tables."),new xi("lookupTable",[{name:"lookupType",type:"USHORT",value:e.lookupType},{name:"lookupFlag",type:"USHORT",value:e.lookupFlag}].concat(Pi("subtable",e.subtables,r)))})))}di.CHARSTRING=function(e){if(Ei){var t=Ei.get(e);if(void 0!==t)return t}for(var r=[],i=e.length,n=0;n<i;n+=1){var s=e[n];r=r.concat(di[s.type](s.value))}return Ei&&Ei.set(e,r),r},pi.CHARSTRING=function(e){return di.CHARSTRING(e).length},di.OBJECT=function(e){var t=di[e.type];return hi.argument(void 0!==t,"No encoding function for type "+e.type),t(e.value)},pi.OBJECT=function(e){var t=pi[e.type];return hi.argument(void 0!==t,"No sizeOf function for type "+e.type),t(e.value)},di.TABLE=function(e){for(var t=[],r=e.fields.length,i=[],n=[],s=0;s<r;s+=1){var o=e.fields[s],a=di[o.type];hi.argument(void 0!==a,"No encoding function for field type "+o.type+" ("+o.name+")");var c=e[o.name];void 0===c&&(c=o.value);var h=a(c);"TABLE"===o.type?(n.push(t.length),t=t.concat([0,0]),i.push(h)):t=t.concat(h)}for(var u=0;u<i.length;u+=1){var l=n[u],d=t.length;hi.argument(d<65536,"Table "+e.tableName+" too big."),t[l]=d>>8,t[l+1]=255&d,t=t.concat(i[u])}return t},pi.TABLE=function(e){for(var t=0,r=e.fields.length,i=0;i<r;i+=1){var n=e.fields[i],s=pi[n.type];hi.argument(void 0!==s,"No sizeOf function for field type "+n.type+" ("+n.name+")");var o=e[n.name];void 0===o&&(o=n.value),t+=s(o),"TABLE"===n.type&&(t+=2)}return t},di.RECORD=di.TABLE,pi.RECORD=pi.TABLE,di.LITERAL=function(e){return e},pi.LITERAL=function(e){return e.length},xi.prototype.encode=function(){return di.TABLE(this)},xi.prototype.sizeOf=function(){return pi.TABLE(this)},Ci.prototype=Object.create(xi.prototype),Ci.prototype.constructor=Ci,ki.prototype=Object.create(xi.prototype),ki.prototype.constructor=ki,Di.prototype=Object.create(xi.prototype),Di.prototype.constructor=Di,Oi.prototype=Object.create(xi.prototype),Oi.prototype.constructor=Oi;var Ai={Table:xi,Record:xi,Coverage:Ci,ScriptList:ki,FeatureList:Di,LookupList:Oi,ushortList:Ti,tableList:Pi,recordList:Ni};function Fi(e,t){return e.getUint8(t)}function Ri(e,t){return e.getUint16(t,!1)}function Bi(e,t){return e.getUint32(t,!1)}function Mi(e,t){return e.getInt16(t,!1)+e.getUint16(t+2,!1)/65535}var Li={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Ii(e,t){this.data=e,this.offset=t,this.relativeOffset=0}Ii.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},Ii.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},Ii.prototype.parseCard8=Ii.prototype.parseByte,Ii.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},Ii.prototype.parseCard16=Ii.prototype.parseUShort,Ii.prototype.parseSID=Ii.prototype.parseUShort,Ii.prototype.parseOffset16=Ii.prototype.parseUShort,Ii.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},Ii.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e},Ii.prototype.parseULong=function(){var e=Bi(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},Ii.prototype.parseOffset32=Ii.prototype.parseULong,Ii.prototype.parseFixed=function(){var e=Mi(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},Ii.prototype.parseString=function(e){var t=this.data,r=this.offset+this.relativeOffset,i="";this.relativeOffset+=e;for(var n=0;n<e;n++)i+=String.fromCharCode(t.getUint8(r+n));return i},Ii.prototype.parseTag=function(){return this.parseString(4)},Ii.prototype.parseLongDateTime=function(){var e=Bi(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e},Ii.prototype.parseVersion=function(e){var t=Ri(this.data,this.offset+this.relativeOffset),r=Ri(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,void 0===e&&(e=4096),t+r/e/10},Ii.prototype.skip=function(e,t){void 0===t&&(t=1),this.relativeOffset+=Li[e]*t},Ii.prototype.parseULongList=function(e){void 0===e&&(e=this.parseULong());for(var t=new Array(e),r=this.data,i=this.offset+this.relativeOffset,n=0;n<e;n++)t[n]=r.getUint32(i),i+=4;return this.relativeOffset+=4*e,t},Ii.prototype.parseOffset16List=Ii.prototype.parseUShortList=function(e){void 0===e&&(e=this.parseUShort());for(var t=new Array(e),r=this.data,i=this.offset+this.relativeOffset,n=0;n<e;n++)t[n]=r.getUint16(i),i+=2;return this.relativeOffset+=2*e,t},Ii.prototype.parseShortList=function(e){for(var t=new Array(e),r=this.data,i=this.offset+this.relativeOffset,n=0;n<e;n++)t[n]=r.getInt16(i),i+=2;return this.relativeOffset+=2*e,t},Ii.prototype.parseByteList=function(e){for(var t=new Array(e),r=this.data,i=this.offset+this.relativeOffset,n=0;n<e;n++)t[n]=r.getUint8(i++);return this.relativeOffset+=e,t},Ii.prototype.parseList=function(e,t){t||(t=e,e=this.parseUShort());for(var r=new Array(e),i=0;i<e;i++)r[i]=t.call(this);return r},Ii.prototype.parseList32=function(e,t){t||(t=e,e=this.parseULong());for(var r=new Array(e),i=0;i<e;i++)r[i]=t.call(this);return r},Ii.prototype.parseRecordList=function(e,t){t||(t=e,e=this.parseUShort());for(var r=new Array(e),i=Object.keys(t),n=0;n<e;n++){for(var s={},o=0;o<i.length;o++){var a=i[o],c=t[a];s[a]=c.call(this)}r[n]=s}return r},Ii.prototype.parseRecordList32=function(e,t){t||(t=e,e=this.parseULong());for(var r=new Array(e),i=Object.keys(t),n=0;n<e;n++){for(var s={},o=0;o<i.length;o++){var a=i[o],c=t[a];s[a]=c.call(this)}r[n]=s}return r},Ii.prototype.parseStruct=function(e){if("function"==typeof e)return e.call(this);for(var t=Object.keys(e),r={},i=0;i<t.length;i++){var n=t[i],s=e[n];r[n]=s.call(this)}return r},Ii.prototype.parseValueRecord=function(e){if(void 0===e&&(e=this.parseUShort()),0!==e){var t={};return 1&e&&(t.xPlacement=this.parseShort()),2&e&&(t.yPlacement=this.parseShort()),4&e&&(t.xAdvance=this.parseShort()),8&e&&(t.yAdvance=this.parseShort()),16&e&&(t.xPlaDevice=void 0,this.parseShort()),32&e&&(t.yPlaDevice=void 0,this.parseShort()),64&e&&(t.xAdvDevice=void 0,this.parseShort()),128&e&&(t.yAdvDevice=void 0,this.parseShort()),t}},Ii.prototype.parseValueRecordList=function(){for(var e=this.parseUShort(),t=this.parseUShort(),r=new Array(t),i=0;i<t;i++)r[i]=this.parseValueRecord(e);return r},Ii.prototype.parsePointer=function(e){var t=this.parseOffset16();if(t>0)return new Ii(this.data,this.offset+t).parseStruct(e)},Ii.prototype.parsePointer32=function(e){var t=this.parseOffset32();if(t>0)return new Ii(this.data,this.offset+t).parseStruct(e)},Ii.prototype.parseListOfLists=function(e){for(var t=this.parseOffset16List(),r=t.length,i=this.relativeOffset,n=new Array(r),s=0;s<r;s++){var o=t[s];if(0!==o)if(this.relativeOffset=o,e){for(var a=this.parseOffset16List(),c=new Array(a.length),h=0;h<a.length;h++)this.relativeOffset=o+a[h],c[h]=e.call(this);n[s]=c}else n[s]=this.parseUShortList();else n[s]=void 0}return this.relativeOffset=i,n},Ii.prototype.parseCoverage=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort(),r=this.parseUShort();if(1===t)return{format:1,glyphs:this.parseUShortList(r)};if(2===t){for(var i=new Array(r),n=0;n<r;n++)i[n]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:i}}throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.")},Ii.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===t)return{format:2,ranges:this.parseRecordList({start:Ii.uShort,end:Ii.uShort,classId:Ii.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")},Ii.list=function(e,t){return function(){return this.parseList(e,t)}},Ii.list32=function(e,t){return function(){return this.parseList32(e,t)}},Ii.recordList=function(e,t){return function(){return this.parseRecordList(e,t)}},Ii.recordList32=function(e,t){return function(){return this.parseRecordList32(e,t)}},Ii.pointer=function(e){return function(){return this.parsePointer(e)}},Ii.pointer32=function(e){return function(){return this.parsePointer32(e)}},Ii.tag=Ii.prototype.parseTag,Ii.byte=Ii.prototype.parseByte,Ii.uShort=Ii.offset16=Ii.prototype.parseUShort,Ii.uShortList=Ii.prototype.parseUShortList,Ii.uLong=Ii.offset32=Ii.prototype.parseULong,Ii.uLongList=Ii.prototype.parseULongList,Ii.struct=Ii.prototype.parseStruct,Ii.coverage=Ii.prototype.parseCoverage,Ii.classDef=Ii.prototype.parseClassDef;var Wi={reserved:Ii.uShort,reqFeatureIndex:Ii.uShort,featureIndexes:Ii.uShortList};Ii.prototype.parseScriptList=function(){return this.parsePointer(Ii.recordList({tag:Ii.tag,script:Ii.pointer({defaultLangSys:Ii.pointer(Wi),langSysRecords:Ii.recordList({tag:Ii.tag,langSys:Ii.pointer(Wi)})})}))||[]},Ii.prototype.parseFeatureList=function(){return this.parsePointer(Ii.recordList({tag:Ii.tag,feature:Ii.pointer({featureParams:Ii.offset16,lookupListIndexes:Ii.uShortList})}))||[]},Ii.prototype.parseLookupList=function(e){return this.parsePointer(Ii.list(Ii.pointer((function(){var t=this.parseUShort();hi.argument(1<=t&&t<=9,"GPOS/GSUB lookup type "+t+" unknown.");var r=this.parseUShort(),i=16&r;return{lookupType:t,lookupFlag:r,subtables:this.parseList(Ii.pointer(e[t])),markFilteringSet:i?this.parseUShort():void 0}}))))||[]},Ii.prototype.parseFeatureVariationsList=function(){return this.parsePointer32((function(){var e=this.parseUShort(),t=this.parseUShort();return hi.argument(1===e&&t<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Ii.offset32,featureTableSubstitutionOffset:Ii.offset32})}))||[]};var Ui={getByte:Fi,getCard8:Fi,getUShort:Ri,getCard16:Ri,getShort:function(e,t){return e.getInt16(t,!1)},getULong:Bi,getFixed:Mi,getTag:function(e,t){for(var r="",i=t;i<t+4;i+=1)r+=String.fromCharCode(e.getInt8(i));return r},getOffset:function(e,t,r){for(var i=0,n=0;n<r;n+=1)i<<=8,i+=e.getUint8(t+n);return i},getBytes:function(e,t,r){for(var i=[],n=t;n<r;n+=1)i.push(e.getUint8(n));return i},bytesToString:function(e){for(var t="",r=0;r<e.length;r+=1)t+=String.fromCharCode(e[r]);return t},Parser:Ii};function _i(e,t,r){e.segments.push({end:t,start:t,delta:-(t-r),offset:0,glyphIndex:r})}var Hi={parse:function(e,t){var r={};r.version=Ui.getUShort(e,t),hi.argument(0===r.version,"cmap table version should be 0."),r.numTables=Ui.getUShort(e,t+2);for(var i=-1,n=r.numTables-1;n>=0;n-=1){var s=Ui.getUShort(e,t+4+8*n),o=Ui.getUShort(e,t+4+8*n+2);if(3===s&&(0===o||1===o||10===o)||0===s&&(0===o||1===o||2===o||3===o||4===o)){i=Ui.getULong(e,t+4+8*n+4);break}}if(-1===i)throw new Error("No valid cmap sub-tables found.");var a=new Ui.Parser(e,t+i);if(r.format=a.parseUShort(),12===r.format)!function(e,t){var r;t.parseUShort(),e.length=t.parseULong(),e.language=t.parseULong(),e.groupCount=r=t.parseULong(),e.glyphIndexMap={};for(var i=0;i<r;i+=1)for(var n=t.parseULong(),s=t.parseULong(),o=t.parseULong(),a=n;a<=s;a+=1)e.glyphIndexMap[a]=o,o++}(r,a);else{if(4!==r.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+r.format+").");!function(e,t,r,i,n){var s;e.length=t.parseUShort(),e.language=t.parseUShort(),e.segCount=s=t.parseUShort()>>1,t.skip("uShort",3),e.glyphIndexMap={};for(var o=new Ui.Parser(r,i+n+14),a=new Ui.Parser(r,i+n+16+2*s),c=new Ui.Parser(r,i+n+16+4*s),h=new Ui.Parser(r,i+n+16+6*s),u=i+n+16+8*s,l=0;l<s-1;l+=1)for(var d=void 0,p=o.parseUShort(),f=a.parseUShort(),v=c.parseShort(),m=h.parseUShort(),g=f;g<=p;g+=1)0!==m?(u=h.offset+h.relativeOffset-2,u+=m,u+=2*(g-f),0!==(d=Ui.getUShort(r,u))&&(d=d+v&65535)):d=g+v&65535,e.glyphIndexMap[g]=d}(r,a,e,t,i)}return r},make:function(e){var t,r=!0;for(t=e.length-1;t>0;t-=1)if(e.get(t).unicode>65535){console.log("Adding CMAP format 12 (needed!)"),r=!1;break}var i=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:r?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:r?12:20}];r||(i=i.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),i=i.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var n=new Ai.Table("cmap",i);for(n.segments=[],t=0;t<e.length;t+=1){for(var s=e.get(t),o=0;o<s.unicodes.length;o+=1)_i(n,s.unicodes[o],t);n.segments=n.segments.sort((function(e,t){return e.start-t.start}))}!function(e){e.segments.push({end:65535,start:65535,delta:1,offset:0})}(n);var a=n.segments.length,c=0,h=[],u=[],l=[],d=[],p=[],f=[];for(t=0;t<a;t+=1){var v=n.segments[t];v.end<=65535&&v.start<=65535?(h=h.concat({name:"end_"+t,type:"USHORT",value:v.end}),u=u.concat({name:"start_"+t,type:"USHORT",value:v.start}),l=l.concat({name:"idDelta_"+t,type:"SHORT",value:v.delta}),d=d.concat({name:"idRangeOffset_"+t,type:"USHORT",value:v.offset}),void 0!==v.glyphId&&(p=p.concat({name:"glyph_"+t,type:"USHORT",value:v.glyphId}))):c+=1,r||void 0===v.glyphIndex||(f=(f=(f=f.concat({name:"cmap12Start_"+t,type:"ULONG",value:v.start})).concat({name:"cmap12End_"+t,type:"ULONG",value:v.end})).concat({name:"cmap12Glyph_"+t,type:"ULONG",value:v.glyphIndex}))}if(n.segCountX2=2*(a-c),n.searchRange=2*Math.pow(2,Math.floor(Math.log(a-c)/Math.log(2))),n.entrySelector=Math.log(n.searchRange/2)/Math.log(2),n.rangeShift=n.segCountX2-n.searchRange,n.fields=n.fields.concat(h),n.fields.push({name:"reservedPad",type:"USHORT",value:0}),n.fields=n.fields.concat(u),n.fields=n.fields.concat(l),n.fields=n.fields.concat(d),n.fields=n.fields.concat(p),n.cmap4Length=14+2*h.length+2+2*u.length+2*l.length+2*d.length+2*p.length,!r){var m=16+4*f.length;n.cmap12Offset=20+n.cmap4Length,n.fields=n.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:m},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:f.length/3}]),n.fields=n.fields.concat(f)}return n}},Gi=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Vi=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],zi=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ji=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function $i(e){this.font=e}function qi(e){this.cmap=e}function Yi(e,t){this.encoding=e,this.charset=t}function Xi(e){switch(e.version){case 1:this.names=ji.slice();break;case 2:this.names=new Array(e.numberOfGlyphs);for(var t=0;t<e.numberOfGlyphs;t++)e.glyphNameIndex[t]<ji.length?this.names[t]=ji[e.glyphNameIndex[t]]:this.names[t]=e.names[e.glyphNameIndex[t]-ji.length];break;case 2.5:this.names=new Array(e.numberOfGlyphs);for(var r=0;r<e.numberOfGlyphs;r++)this.names[r]=ji[r+e.glyphNameIndex[r]];break;default:this.names=[]}}$i.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),r=this.font.glyphs;if(r)for(var i=0;i<r.length;i+=1)for(var n=r.get(i),s=0;s<n.unicodes.length;s+=1)if(n.unicodes[s]===t)return i;return null},qi.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0},Yi.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),r=this.encoding[t];return this.charset.indexOf(r)},Xi.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)},Xi.prototype.glyphIndexToName=function(e){return this.names[e]};var Zi=function(e,t,r,i,n){e.beginPath(),e.moveTo(t,r),e.lineTo(i,n),e.stroke()};function Qi(e){this.bindConstructorValues(e)}function Ji(e,t,r){Object.defineProperty(e,t,{get:function(){return e.path,e[r]},set:function(t){e[r]=t},enumerable:!0,configurable:!0})}function Ki(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var r=0;r<t.length;r++){var i=t[r];i.path.unitsPerEm=e.unitsPerEm,this.glyphs[r]=i}this.length=t&&t.length||0}Qi.prototype.bindConstructorValues=function(e){var t,r;this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],"xMin"in e&&(this.xMin=e.xMin),"yMin"in e&&(this.yMin=e.yMin),"xMax"in e&&(this.xMax=e.xMax),"yMax"in e&&(this.yMax=e.yMax),"advanceWidth"in e&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",(t=e.path,r=t||new oi,{configurable:!0,get:function(){return"function"==typeof r&&(r=r()),r},set:function(e){r=e}}))},Qi.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},Qi.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Qi.prototype.getPath=function(e,t,r,i,n){var s,o;e=void 0!==e?e:0,t=void 0!==t?t:0,r=void 0!==r?r:72,i||(i={});var a=i.xScale,c=i.yScale;if(i.hinting&&n&&n.hinting&&(o=this.path&&n.hinting.exec(this,r)),o)s=n.hinting.getCommands(o),e=Math.round(e),t=Math.round(t),a=c=1;else{s=this.path.commands;var h=1/(this.path.unitsPerEm||1e3)*r;void 0===a&&(a=h),void 0===c&&(c=h)}for(var u=new oi,l=0;l<s.length;l+=1){var d=s[l];"M"===d.type?u.moveTo(e+d.x*a,t+-d.y*c):"L"===d.type?u.lineTo(e+d.x*a,t+-d.y*c):"Q"===d.type?u.quadraticCurveTo(e+d.x1*a,t+-d.y1*c,e+d.x*a,t+-d.y*c):"C"===d.type?u.curveTo(e+d.x1*a,t+-d.y1*c,e+d.x2*a,t+-d.y2*c,e+d.x*a,t+-d.y*c):"Z"===d.type&&u.closePath()}return u},Qi.prototype.getContours=function(){if(void 0===this.points)return[];for(var e=[],t=[],r=0;r<this.points.length;r+=1){var i=this.points[r];t.push(i),i.lastPointOfContour&&(e.push(t),t=[])}return hi.argument(0===t.length,"There are still points left in the current contour."),e},Qi.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],r=[],i=0;i<e.length;i+=1){var n=e[i];"Z"!==n.type&&(t.push(n.x),r.push(n.y)),"Q"!==n.type&&"C"!==n.type||(t.push(n.x1),r.push(n.y1)),"C"===n.type&&(t.push(n.x2),r.push(n.y2))}var s={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,r),leftSideBearing:this.leftSideBearing};return isFinite(s.xMin)||(s.xMin=0),isFinite(s.xMax)||(s.xMax=this.advanceWidth),isFinite(s.yMin)||(s.yMin=0),isFinite(s.yMax)||(s.yMax=0),s.rightSideBearing=this.advanceWidth-s.leftSideBearing-(s.xMax-s.xMin),s},Qi.prototype.draw=function(e,t,r,i,n){this.getPath(t,r,i,n).draw(e)},Qi.prototype.drawPoints=function(e,t,r,i){function n(t,r,i,n){e.beginPath();for(var s=0;s<t.length;s+=1)e.moveTo(r+t[s].x*n,i+t[s].y*n),e.arc(r+t[s].x*n,i+t[s].y*n,2,0,2*Math.PI,!1);e.closePath(),e.fill()}t=void 0!==t?t:0,r=void 0!==r?r:0,i=void 0!==i?i:24;for(var s=1/this.path.unitsPerEm*i,o=[],a=[],c=this.path,h=0;h<c.commands.length;h+=1){var u=c.commands[h];void 0!==u.x&&o.push({x:u.x,y:-u.y}),void 0!==u.x1&&a.push({x:u.x1,y:-u.y1}),void 0!==u.x2&&a.push({x:u.x2,y:-u.y2})}e.fillStyle="blue",n(o,t,r,s),e.fillStyle="red",n(a,t,r,s)},Qi.prototype.drawMetrics=function(e,t,r,i){var n;t=void 0!==t?t:0,r=void 0!==r?r:0,i=void 0!==i?i:24,n=1/this.path.unitsPerEm*i,e.lineWidth=1,e.strokeStyle="black",Zi(e,t,-1e4,t,1e4),Zi(e,-1e4,r,1e4,r);var s=this.xMin||0,o=this.yMin||0,a=this.xMax||0,c=this.yMax||0,h=this.advanceWidth||0;e.strokeStyle="blue",Zi(e,t+s*n,-1e4,t+s*n,1e4),Zi(e,t+a*n,-1e4,t+a*n,1e4),Zi(e,-1e4,r+-o*n,1e4,r+-o*n),Zi(e,-1e4,r+-c*n,1e4,r+-c*n),e.strokeStyle="green",Zi(e,t+h*n,-1e4,t+h*n,1e4)},Ki.prototype.get=function(e){if(void 0===this.glyphs[e]){this.font._push(e),"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]());var t=this.glyphs[e],r=this.font._IndexToUnicodeMap[e];if(r)for(var i=0;i<r.unicodes.length;i++)t.addUnicode(r.unicodes[i]);this.font.cffEncoding?this.font.isCIDFont?t.name="gid"+e:t.name=this.font.cffEncoding.charset[e]:this.font.glyphNames.names&&(t.name=this.font.glyphNames.glyphIndexToName(e)),this.glyphs[e].advanceWidth=this.font._hmtxTableData[e].advanceWidth,this.glyphs[e].leftSideBearing=this.font._hmtxTableData[e].leftSideBearing}else"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]());return this.glyphs[e]},Ki.prototype.push=function(e,t){this.glyphs[e]=t,this.length++};var en={GlyphSet:Ki,glyphLoader:function(e,t){return new Qi({index:t,font:e})},ttfGlyphLoader:function(e,t,r,i,n,s){return function(){var o=new Qi({index:t,font:e});return o.path=function(){r(o,i,n);var t=s(e.glyphs,o);return t.unitsPerEm=e.unitsPerEm,t},Ji(o,"xMin","_xMin"),Ji(o,"xMax","_xMax"),Ji(o,"yMin","_yMin"),Ji(o,"yMax","_yMax"),o}},cffGlyphLoader:function(e,t,r,i){return function(){var n=new Qi({index:t,font:e});return n.path=function(){var t=r(e,n,i);return t.unitsPerEm=e.unitsPerEm,t},n}}};function tn(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r+=1)if(!tn(e[r],t[r]))return!1;return!0}return!1}function rn(e){return e.length<1240?107:e.length<33900?1131:32768}function nn(e,t,r){var i,n,s=[],o=[],a=Ui.getCard16(e,t);if(0!==a){var c=Ui.getByte(e,t+2);i=t+(a+1)*c+2;for(var h=t+3,u=0;u<a+1;u+=1)s.push(Ui.getOffset(e,h,c)),h+=c;n=i+s[a]}else n=t+2;for(var l=0;l<s.length-1;l+=1){var d=Ui.getBytes(e,i+s[l],i+s[l+1]);r&&(d=r(d)),o.push(d)}return{objects:o,startOffset:t,endOffset:n}}function sn(e,t){if(28===t)return e.parseByte()<<8|e.parseByte();if(29===t)return e.parseByte()<<24|e.parseByte()<<16|e.parseByte()<<8|e.parseByte();if(30===t)return function(e){for(var t="",r=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var i=e.parseByte(),n=i>>4,s=15&i;if(15===n)break;if(t+=r[n],15===s)break;t+=r[s]}return parseFloat(t)}(e);if(t>=32&&t<=246)return t-139;if(t>=247&&t<=250)return 256*(t-247)+e.parseByte()+108;if(t>=251&&t<=254)return 256*-(t-251)-e.parseByte()-108;throw new Error("Invalid b0 "+t)}function on(e,t,r){t=void 0!==t?t:0;var i=new Ui.Parser(e,t),n=[],s=[];for(r=void 0!==r?r:e.length;i.relativeOffset<r;){var o=i.parseByte();o<=21?(12===o&&(o=1200+i.parseByte()),n.push([o,s]),s=[]):s.push(sn(i,o))}return function(e){for(var t={},r=0;r<e.length;r+=1){var i,n=e[r][0],s=e[r][1];if(i=1===s.length?s[0]:s,t.hasOwnProperty(n)&&!isNaN(t[n]))throw new Error("Object "+t+" already has key "+n);t[n]=i}return t}(n)}function an(e,t){return t<=390?Gi[t]:e[t-391]}function cn(e,t,r){for(var i,n={},s=0;s<t.length;s+=1){var o=t[s];if(Array.isArray(o.type)){var a=[];a.length=o.type.length;for(var c=0;c<o.type.length;c++)void 0===(i=void 0!==e[o.op]?e[o.op][c]:void 0)&&(i=void 0!==o.value&&void 0!==o.value[c]?o.value[c]:null),"SID"===o.type[c]&&(i=an(r,i)),a[c]=i;n[o.name]=a}else void 0===(i=e[o.op])&&(i=void 0!==o.value?o.value:null),"SID"===o.type&&(i=an(r,i)),n[o.name]=i}return n}var hn=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],un=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function ln(e,t){return cn(on(e,0,e.byteLength),hn,t)}function dn(e,t,r,i){return cn(on(e,t,r),un,i)}function pn(e,t,r,i){for(var n=[],s=0;s<r.length;s+=1){var o=ln(new DataView(new Uint8Array(r[s]).buffer),i);o._subrs=[],o._subrsBias=0,o._defaultWidthX=0,o._nominalWidthX=0;var a=o.private[0],c=o.private[1];if(0!==a&&0!==c){var h=dn(e,c+t,a,i);if(o._defaultWidthX=h.defaultWidthX,o._nominalWidthX=h.nominalWidthX,0!==h.subrs){var u=nn(e,c+h.subrs+t);o._subrs=u.objects,o._subrsBias=rn(o._subrs)}o._privateDict=h}n.push(o)}return n}function fn(e,t,r){var i,n,s,o,a,c,h,u,l=new oi,d=[],p=0,f=!1,v=!1,m=0,g=0;if(e.isCIDFont){var y=e.tables.cff.topDict._fdSelect[t.index],b=e.tables.cff.topDict._fdArray[y];a=b._subrs,c=b._subrsBias,h=b._defaultWidthX,u=b._nominalWidthX}else a=e.tables.cff.topDict._subrs,c=e.tables.cff.topDict._subrsBias,h=e.tables.cff.topDict._defaultWidthX,u=e.tables.cff.topDict._nominalWidthX;var w=h;function S(e,t){v&&l.closePath(),l.moveTo(e,t),v=!0}function E(){d.length%2!=0&&!f&&(w=d.shift()+u),p+=d.length>>1,d.length=0,f=!0}return function r(h){for(var y,b,x,T,P,N,C,k,D,O,A,F,R=0;R<h.length;){var B=h[R];switch(R+=1,B){case 1:case 3:case 18:case 23:E();break;case 4:d.length>1&&!f&&(w=d.shift()+u,f=!0),g+=d.pop(),S(m,g);break;case 5:for(;d.length>0;)m+=d.shift(),g+=d.shift(),l.lineTo(m,g);break;case 6:for(;d.length>0&&(m+=d.shift(),l.lineTo(m,g),0!==d.length);)g+=d.shift(),l.lineTo(m,g);break;case 7:for(;d.length>0&&(g+=d.shift(),l.lineTo(m,g),0!==d.length);)m+=d.shift(),l.lineTo(m,g);break;case 8:for(;d.length>0;)i=m+d.shift(),n=g+d.shift(),s=i+d.shift(),o=n+d.shift(),m=s+d.shift(),g=o+d.shift(),l.curveTo(i,n,s,o,m,g);break;case 10:P=d.pop()+c,(N=a[P])&&r(N);break;case 11:return;case 12:switch(B=h[R],R+=1,B){case 35:i=m+d.shift(),n=g+d.shift(),s=i+d.shift(),o=n+d.shift(),C=s+d.shift(),k=o+d.shift(),D=C+d.shift(),O=k+d.shift(),A=D+d.shift(),F=O+d.shift(),m=A+d.shift(),g=F+d.shift(),d.shift(),l.curveTo(i,n,s,o,C,k),l.curveTo(D,O,A,F,m,g);break;case 34:i=m+d.shift(),n=g,s=i+d.shift(),o=n+d.shift(),C=s+d.shift(),k=o,D=C+d.shift(),O=o,A=D+d.shift(),F=g,m=A+d.shift(),l.curveTo(i,n,s,o,C,k),l.curveTo(D,O,A,F,m,g);break;case 36:i=m+d.shift(),n=g+d.shift(),s=i+d.shift(),o=n+d.shift(),C=s+d.shift(),k=o,D=C+d.shift(),O=o,A=D+d.shift(),F=O+d.shift(),m=A+d.shift(),l.curveTo(i,n,s,o,C,k),l.curveTo(D,O,A,F,m,g);break;case 37:i=m+d.shift(),n=g+d.shift(),s=i+d.shift(),o=n+d.shift(),C=s+d.shift(),k=o+d.shift(),D=C+d.shift(),O=k+d.shift(),A=D+d.shift(),F=O+d.shift(),Math.abs(A-m)>Math.abs(F-g)?m=A+d.shift():g=F+d.shift(),l.curveTo(i,n,s,o,C,k),l.curveTo(D,O,A,F,m,g);break;default:console.log("Glyph "+t.index+": unknown operator 1200"+B),d.length=0}break;case 14:d.length>0&&!f&&(w=d.shift()+u,f=!0),v&&(l.closePath(),v=!1);break;case 19:case 20:E(),R+=p+7>>3;break;case 21:d.length>2&&!f&&(w=d.shift()+u,f=!0),g+=d.pop(),S(m+=d.pop(),g);break;case 22:d.length>1&&!f&&(w=d.shift()+u,f=!0),S(m+=d.pop(),g);break;case 24:for(;d.length>2;)i=m+d.shift(),n=g+d.shift(),s=i+d.shift(),o=n+d.shift(),m=s+d.shift(),g=o+d.shift(),l.curveTo(i,n,s,o,m,g);m+=d.shift(),g+=d.shift(),l.lineTo(m,g);break;case 25:for(;d.length>6;)m+=d.shift(),g+=d.shift(),l.lineTo(m,g);i=m+d.shift(),n=g+d.shift(),s=i+d.shift(),o=n+d.shift(),m=s+d.shift(),g=o+d.shift(),l.curveTo(i,n,s,o,m,g);break;case 26:for(d.length%2&&(m+=d.shift());d.length>0;)i=m,n=g+d.shift(),s=i+d.shift(),o=n+d.shift(),m=s,g=o+d.shift(),l.curveTo(i,n,s,o,m,g);break;case 27:for(d.length%2&&(g+=d.shift());d.length>0;)i=m+d.shift(),n=g,s=i+d.shift(),o=n+d.shift(),m=s+d.shift(),g=o,l.curveTo(i,n,s,o,m,g);break;case 28:y=h[R],b=h[R+1],d.push((y<<24|b<<16)>>16),R+=2;break;case 29:P=d.pop()+e.gsubrsBias,(N=e.gsubrs[P])&&r(N);break;case 30:for(;d.length>0&&(i=m,n=g+d.shift(),s=i+d.shift(),o=n+d.shift(),m=s+d.shift(),g=o+(1===d.length?d.shift():0),l.curveTo(i,n,s,o,m,g),0!==d.length);)i=m+d.shift(),n=g,s=i+d.shift(),o=n+d.shift(),g=o+d.shift(),m=s+(1===d.length?d.shift():0),l.curveTo(i,n,s,o,m,g);break;case 31:for(;d.length>0&&(i=m+d.shift(),n=g,s=i+d.shift(),o=n+d.shift(),g=o+d.shift(),m=s+(1===d.length?d.shift():0),l.curveTo(i,n,s,o,m,g),0!==d.length);)i=m,n=g+d.shift(),s=i+d.shift(),o=n+d.shift(),m=s+d.shift(),g=o+(1===d.length?d.shift():0),l.curveTo(i,n,s,o,m,g);break;default:B<32?console.log("Glyph "+t.index+": unknown operator "+B):B<247?d.push(B-139):B<251?(y=h[R],R+=1,d.push(256*(B-247)+y+108)):B<255?(y=h[R],R+=1,d.push(256*-(B-251)-y-108)):(y=h[R],b=h[R+1],x=h[R+2],T=h[R+3],R+=4,d.push((y<<24|b<<16|x<<8|T)/65536))}}}(r),t.advanceWidth=w,l}function vn(e,t){var r,i=Gi.indexOf(e);return i>=0&&(r=i),(i=t.indexOf(e))>=0?r=i+Gi.length:(r=Gi.length+t.length,t.push(e)),r}function mn(e,t,r){for(var i={},n=0;n<e.length;n+=1){var s=e[n],o=t[s.name];void 0===o||tn(o,s.value)||("SID"===s.type&&(o=vn(o,r)),i[s.op]={name:s.name,type:s.type,value:o})}return i}function gn(e,t){var r=new Ai.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=mn(hn,e,t),r}function yn(e){var t=new Ai.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function bn(e){var t=[],r=e.path;t.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var i=0,n=0,s=0;s<r.commands.length;s+=1){var o=void 0,a=void 0,c=r.commands[s];if("Q"===c.type){var h=1/3,u=2/3;c={type:"C",x:c.x,y:c.y,x1:Math.round(h*i+u*c.x1),y1:Math.round(h*n+u*c.y1),x2:Math.round(h*c.x+u*c.x1),y2:Math.round(h*c.y+u*c.y1)}}if("M"===c.type)o=Math.round(c.x-i),a=Math.round(c.y-n),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",value:a}),t.push({name:"rmoveto",type:"OP",value:21}),i=Math.round(c.x),n=Math.round(c.y);else if("L"===c.type)o=Math.round(c.x-i),a=Math.round(c.y-n),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",value:a}),t.push({name:"rlineto",type:"OP",value:5}),i=Math.round(c.x),n=Math.round(c.y);else if("C"===c.type){var l=Math.round(c.x1-i),d=Math.round(c.y1-n),p=Math.round(c.x2-c.x1),f=Math.round(c.y2-c.y1);o=Math.round(c.x-c.x2),a=Math.round(c.y-c.y2),t.push({name:"dx1",type:"NUMBER",value:l}),t.push({name:"dy1",type:"NUMBER",value:d}),t.push({name:"dx2",type:"NUMBER",value:p}),t.push({name:"dy2",type:"NUMBER",value:f}),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",value:a}),t.push({name:"rrcurveto",type:"OP",value:8}),i=Math.round(c.x),n=Math.round(c.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}var wn={parse:function(e,t,r,i){r.tables.cff={};var n=function(e,t){var r={};return r.formatMajor=Ui.getCard8(e,t),r.formatMinor=Ui.getCard8(e,t+1),r.size=Ui.getCard8(e,t+2),r.offsetSize=Ui.getCard8(e,t+3),r.startOffset=t,r.endOffset=t+4,r}(e,t),s=nn(e,n.endOffset,Ui.bytesToString),o=nn(e,s.endOffset),a=nn(e,o.endOffset,Ui.bytesToString),c=nn(e,a.endOffset);r.gsubrs=c.objects,r.gsubrsBias=rn(r.gsubrs);var h=pn(e,t,o.objects,a.objects);if(1!==h.length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+h.length);var u=h[0];if(r.tables.cff.topDict=u,u._privateDict&&(r.defaultWidthX=u._privateDict.defaultWidthX,r.nominalWidthX=u._privateDict.nominalWidthX),void 0!==u.ros[0]&&void 0!==u.ros[1]&&(r.isCIDFont=!0),r.isCIDFont){var l=u.fdArray,d=u.fdSelect;if(0===l||0===d)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var p=nn(e,l+=t),f=pn(e,t,p.objects,a.objects);u._fdArray=f,d+=t,u._fdSelect=function(e,t,r,i){var n,s=[],o=new Ui.Parser(e,t),a=o.parseCard8();if(0===a)for(var c=0;c<r;c++){if((n=o.parseCard8())>=i)throw new Error("CFF table CID Font FDSelect has bad FD index value "+n+" (FD count "+i+")");s.push(n)}else{if(3!==a)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+a);var h,u=o.parseCard16(),l=o.parseCard16();if(0!==l)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+l);for(var d=0;d<u;d++){if(n=o.parseCard8(),h=o.parseCard16(),n>=i)throw new Error("CFF table CID Font FDSelect has bad FD index value "+n+" (FD count "+i+")");if(h>r)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+h);for(;l<h;l++)s.push(n);l=h}if(h!==r)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+h)}return s}(e,d,r.numGlyphs,f.length)}var v,m=t+u.private[1],g=dn(e,m,u.private[0],a.objects);if(r.defaultWidthX=g.defaultWidthX,r.nominalWidthX=g.nominalWidthX,0!==g.subrs){var y=m+g.subrs,b=nn(e,y);r.subrs=b.objects,r.subrsBias=rn(r.subrs)}else r.subrs=[],r.subrsBias=0;i.lowMemory?(v=function(e,t){var r,i,n=[],s=Ui.getCard16(e,t);if(0!==s){var o=Ui.getByte(e,t+2);r=t+(s+1)*o+2;for(var a=t+3,c=0;c<s+1;c+=1)n.push(Ui.getOffset(e,a,o)),a+=o;i=r+n[s]}else i=t+2;return{offsets:n,startOffset:t,endOffset:i}}(e,t+u.charStrings),r.nGlyphs=v.offsets.length):(v=nn(e,t+u.charStrings),r.nGlyphs=v.objects.length);var w=function(e,t,r,i){var n,s,o=new Ui.Parser(e,t);r-=1;var a=[".notdef"],c=o.parseCard8();if(0===c)for(var h=0;h<r;h+=1)n=o.parseSID(),a.push(an(i,n));else if(1===c)for(;a.length<=r;){n=o.parseSID(),s=o.parseCard8();for(var u=0;u<=s;u+=1)a.push(an(i,n)),n+=1}else{if(2!==c)throw new Error("Unknown charset format "+c);for(;a.length<=r;){n=o.parseSID(),s=o.parseCard16();for(var l=0;l<=s;l+=1)a.push(an(i,n)),n+=1}}return a}(e,t+u.charset,r.nGlyphs,a.objects);if(0===u.encoding?r.cffEncoding=new Yi(Vi,w):1===u.encoding?r.cffEncoding=new Yi(zi,w):r.cffEncoding=function(e,t,r){var i,n={},s=new Ui.Parser(e,t),o=s.parseCard8();if(0===o)for(var a=s.parseCard8(),c=0;c<a;c+=1)n[i=s.parseCard8()]=c;else{if(1!==o)throw new Error("Unknown encoding format "+o);var h=s.parseCard8();i=1;for(var u=0;u<h;u+=1)for(var l=s.parseCard8(),d=s.parseCard8(),p=l;p<=l+d;p+=1)n[p]=i,i+=1}return new Yi(n,r)}(e,t+u.encoding,w),r.encoding=r.encoding||r.cffEncoding,r.glyphs=new en.GlyphSet(r),i.lowMemory)r._push=function(i){var n=function(e,t,r,i,n){var s=Ui.getCard16(r,i),o=0;0!==s&&(o=i+(s+1)*Ui.getByte(r,i+2)+2);var a=Ui.getBytes(r,o+t[e],o+t[e+1]);return a}(i,v.offsets,e,t+u.charStrings);r.glyphs.push(i,en.cffGlyphLoader(r,i,fn,n))};else for(var S=0;S<r.nGlyphs;S+=1){var E=v.objects[S];r.glyphs.push(S,en.cffGlyphLoader(r,S,fn,E))}},make:function(e,t){for(var r,i=new Ai.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),n=1/t.unitsPerEm,s={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[n,0,0,n,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},o=[],a=1;a<e.length;a+=1)r=e.get(a),o.push(r.name);var c=[];i.header=new Ai.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),i.nameIndex=function(e){var t=new Ai.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var r=0;r<e.length;r+=1)t.names.push({name:"name_"+r,type:"NAME",value:e[r]});return t}([t.postScriptName]);var h=gn(s,c);i.topDictIndex=yn(h),i.globalSubrIndex=new Ai.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),i.charsets=function(e,t){for(var r=new Ai.Record("Charsets",[{name:"format",type:"Card8",value:0}]),i=0;i<e.length;i+=1){var n=vn(e[i],t);r.fields.push({name:"glyph_"+i,type:"SID",value:n})}return r}(o,c),i.charStringsIndex=function(e){for(var t=new Ai.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),r=0;r<e.length;r+=1){var i=e.get(r),n=bn(i);t.charStrings.push({name:i.name,type:"CHARSTRING",value:n})}return t}(e),i.privateDict=function(e,t){var r=new Ai.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=mn(un,{},t),r}(0,c),i.stringIndex=function(e){var t=new Ai.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var r=0;r<e.length;r+=1)t.strings.push({name:"string_"+r,type:"STRING",value:e[r]});return t}(c);var u=i.header.sizeOf()+i.nameIndex.sizeOf()+i.topDictIndex.sizeOf()+i.stringIndex.sizeOf()+i.globalSubrIndex.sizeOf();return s.charset=u,s.encoding=0,s.charStrings=s.charset+i.charsets.sizeOf(),s.private[1]=s.charStrings+i.charStringsIndex.sizeOf(),h=gn(s,c),i.topDictIndex=yn(h),i}},Sn={parse:function(e,t){var r={},i=new Ui.Parser(e,t);return r.version=i.parseVersion(),r.fontRevision=Math.round(1e3*i.parseFixed())/1e3,r.checkSumAdjustment=i.parseULong(),r.magicNumber=i.parseULong(),hi.argument(1594834165===r.magicNumber,"Font header has wrong magic number."),r.flags=i.parseUShort(),r.unitsPerEm=i.parseUShort(),r.created=i.parseLongDateTime(),r.modified=i.parseLongDateTime(),r.xMin=i.parseShort(),r.yMin=i.parseShort(),r.xMax=i.parseShort(),r.yMax=i.parseShort(),r.macStyle=i.parseUShort(),r.lowestRecPPEM=i.parseUShort(),r.fontDirectionHint=i.parseShort(),r.indexToLocFormat=i.parseShort(),r.glyphDataFormat=i.parseShort(),r},make:function(e){var t=Math.round((new Date).getTime()/1e3)+2082844800,r=t;return e.createdTimestamp&&(r=e.createdTimestamp+2082844800),new Ai.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:r},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}},En={parse:function(e,t){var r={},i=new Ui.Parser(e,t);return r.version=i.parseVersion(),r.ascender=i.parseShort(),r.descender=i.parseShort(),r.lineGap=i.parseShort(),r.advanceWidthMax=i.parseUShort(),r.minLeftSideBearing=i.parseShort(),r.minRightSideBearing=i.parseShort(),r.xMaxExtent=i.parseShort(),r.caretSlopeRise=i.parseShort(),r.caretSlopeRun=i.parseShort(),r.caretOffset=i.parseShort(),i.relativeOffset+=8,r.metricDataFormat=i.parseShort(),r.numberOfHMetrics=i.parseUShort(),r},make:function(e){return new Ai.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}},xn={parse:function(e,t,r,i,n,s,o){o.lowMemory?function(e,t,r,i,n){var s,o;e._hmtxTableData={};for(var a=new Ui.Parser(t,r),c=0;c<n;c+=1)c<i&&(s=a.parseUShort(),o=a.parseShort()),e._hmtxTableData[c]={advanceWidth:s,leftSideBearing:o}}(e,t,r,i,n):function(e,t,r,i,n){for(var s,o,a=new Ui.Parser(e,t),c=0;c<i;c+=1){c<r&&(s=a.parseUShort(),o=a.parseShort());var h=n.get(c);h.advanceWidth=s,h.leftSideBearing=o}}(t,r,i,n,s)},make:function(e){for(var t=new Ai.Table("hmtx",[]),r=0;r<e.length;r+=1){var i=e.get(r),n=i.advanceWidth||0,s=i.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+r,type:"USHORT",value:n}),t.fields.push({name:"leftSideBearing_"+r,type:"SHORT",value:s})}return t}},Tn={make:function(e){for(var t=new Ai.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),r="",i=12+4*e.length,n=0;n<e.length;++n){var s=r.indexOf(e[n]);s<0&&(s=r.length,r+=e[n]),t.fields.push({name:"offset "+n,type:"USHORT",value:i+s}),t.fields.push({name:"length "+n,type:"USHORT",value:e[n].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),t},parse:function(e,t){var r=new Ui.Parser(e,t),i=r.parseULong();hi.argument(1===i,"Unsupported ltag table version."),r.skip("uLong",1);for(var n=r.parseULong(),s=[],o=0;o<n;o++){for(var a="",c=t+r.parseUShort(),h=r.parseUShort(),u=c;u<c+h;++u)a+=String.fromCharCode(e.getInt8(u));s.push(a)}return s}},Pn={parse:function(e,t){var r={},i=new Ui.Parser(e,t);return r.version=i.parseVersion(),r.numGlyphs=i.parseUShort(),1===r.version&&(r.maxPoints=i.parseUShort(),r.maxContours=i.parseUShort(),r.maxCompositePoints=i.parseUShort(),r.maxCompositeContours=i.parseUShort(),r.maxZones=i.parseUShort(),r.maxTwilightPoints=i.parseUShort(),r.maxStorage=i.parseUShort(),r.maxFunctionDefs=i.parseUShort(),r.maxInstructionDefs=i.parseUShort(),r.maxStackElements=i.parseUShort(),r.maxSizeOfInstructions=i.parseUShort(),r.maxComponentElements=i.parseUShort(),r.maxComponentDepth=i.parseUShort()),r},make:function(e){return new Ai.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}},Nn=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Cn={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},kn={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Dn={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function On(e,t,r){switch(e){case 0:if(65535===t)return"und";if(r)return r[t];break;case 1:return Cn[t];case 3:return Dn[t]}}var An="utf-16",Fn={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Rn={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Bn(e,t,r){switch(e){case 0:return An;case 1:return Rn[r]||Fn[t];case 3:if(1===t||10===t)return An}}function Mn(e){var t={};for(var r in e)t[e[r]]=parseInt(r);return t}function Ln(e,t,r,i,n,s){return new Ai.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:r},{name:"nameID",type:"USHORT",value:i},{name:"length",type:"USHORT",value:n},{name:"offset",type:"USHORT",value:s}])}function In(e,t){var r=function(e,t){var r=e.length,i=t.length-r+1;e:for(var n=0;n<i;n++)for(;n<i;n++){for(var s=0;s<r;s++)if(t[n+s]!==e[s])continue e;return n}return-1}(e,t);if(r<0){r=t.length;for(var i=0,n=e.length;i<n;++i)t.push(e[i])}return r}var Wn={parse:function(e,t,r){for(var i={},n=new Ui.Parser(e,t),s=n.parseUShort(),o=n.parseUShort(),a=n.offset+n.parseUShort(),c=0;c<o;c++){var h=n.parseUShort(),u=n.parseUShort(),l=n.parseUShort(),d=n.parseUShort(),p=Nn[d]||d,f=n.parseUShort(),v=n.parseUShort(),m=On(h,l,r),g=Bn(h,u,l);if(void 0!==g&&void 0!==m){var y;if(y=g===An?li.UTF16(e,a+v,f):li.MACSTRING(e,a+v,f,g)){var b=i[p];void 0===b&&(b=i[p]={}),b[m]=y}}}return 1===s&&n.parseUShort(),i},make:function(e,t){var r,i=[],n={},s=Mn(Nn);for(var o in e){var a=s[o];if(void 0===a&&(a=o),r=parseInt(a),isNaN(r))throw new Error('Name table entry "'+o+'" does not exist, see nameTableNames for complete list.');n[r]=e[o],i.push(r)}for(var c=Mn(Cn),h=Mn(Dn),u=[],l=[],d=0;d<i.length;d++){var p=n[r=i[d]];for(var f in p){var v=p[f],m=1,g=c[f],y=kn[g],b=Bn(m,y,g),w=di.MACSTRING(v,b);void 0===w&&(m=0,(g=t.indexOf(f))<0&&(g=t.length,t.push(f)),y=4,w=di.UTF16(v));var S=In(w,l);u.push(Ln(m,y,g,r,w.length,S));var E=h[f];if(void 0!==E){var x=di.UTF16(v),T=In(x,l);u.push(Ln(3,1,E,r,x.length,T))}}}u.sort((function(e,t){return e.platformID-t.platformID||e.encodingID-t.encodingID||e.languageID-t.languageID||e.nameID-t.nameID}));for(var P=new Ai.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:u.length},{name:"stringOffset",type:"USHORT",value:6+12*u.length}]),N=0;N<u.length;N++)P.fields.push({name:"record_"+N,type:"RECORD",value:u[N]});return P.fields.push({name:"strings",type:"LITERAL",value:l}),P}},Un=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],_n={parse:function(e,t){var r={},i=new Ui.Parser(e,t);r.version=i.parseUShort(),r.xAvgCharWidth=i.parseShort(),r.usWeightClass=i.parseUShort(),r.usWidthClass=i.parseUShort(),r.fsType=i.parseUShort(),r.ySubscriptXSize=i.parseShort(),r.ySubscriptYSize=i.parseShort(),r.ySubscriptXOffset=i.parseShort(),r.ySubscriptYOffset=i.parseShort(),r.ySuperscriptXSize=i.parseShort(),r.ySuperscriptYSize=i.parseShort(),r.ySuperscriptXOffset=i.parseShort(),r.ySuperscriptYOffset=i.parseShort(),r.yStrikeoutSize=i.parseShort(),r.yStrikeoutPosition=i.parseShort(),r.sFamilyClass=i.parseShort(),r.panose=[];for(var n=0;n<10;n++)r.panose[n]=i.parseByte();return r.ulUnicodeRange1=i.parseULong(),r.ulUnicodeRange2=i.parseULong(),r.ulUnicodeRange3=i.parseULong(),r.ulUnicodeRange4=i.parseULong(),r.achVendID=String.fromCharCode(i.parseByte(),i.parseByte(),i.parseByte(),i.parseByte()),r.fsSelection=i.parseUShort(),r.usFirstCharIndex=i.parseUShort(),r.usLastCharIndex=i.parseUShort(),r.sTypoAscender=i.parseShort(),r.sTypoDescender=i.parseShort(),r.sTypoLineGap=i.parseShort(),r.usWinAscent=i.parseUShort(),r.usWinDescent=i.parseUShort(),r.version>=1&&(r.ulCodePageRange1=i.parseULong(),r.ulCodePageRange2=i.parseULong()),r.version>=2&&(r.sxHeight=i.parseShort(),r.sCapHeight=i.parseShort(),r.usDefaultChar=i.parseUShort(),r.usBreakChar=i.parseUShort(),r.usMaxContent=i.parseUShort()),r},make:function(e){return new Ai.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)},unicodeRanges:Un,getUnicodeRange:function(e){for(var t=0;t<Un.length;t+=1){var r=Un[t];if(e>=r.begin&&e<r.end)return t}return-1}},Hn={parse:function(e,t){var r={},i=new Ui.Parser(e,t);switch(r.version=i.parseVersion(),r.italicAngle=i.parseFixed(),r.underlinePosition=i.parseShort(),r.underlineThickness=i.parseShort(),r.isFixedPitch=i.parseULong(),r.minMemType42=i.parseULong(),r.maxMemType42=i.parseULong(),r.minMemType1=i.parseULong(),r.maxMemType1=i.parseULong(),r.version){case 1:r.names=ji.slice();break;case 2:r.numberOfGlyphs=i.parseUShort(),r.glyphNameIndex=new Array(r.numberOfGlyphs);for(var n=0;n<r.numberOfGlyphs;n++)r.glyphNameIndex[n]=i.parseUShort();r.names=[];for(var s=0;s<r.numberOfGlyphs;s++)if(r.glyphNameIndex[s]>=ji.length){var o=i.parseChar();r.names.push(i.parseString(o))}break;case 2.5:r.numberOfGlyphs=i.parseUShort(),r.offset=new Array(r.numberOfGlyphs);for(var a=0;a<r.numberOfGlyphs;a++)r.offset[a]=i.parseChar()}return r},make:function(){return new Ai.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Gn=new Array(9);Gn[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(Ii.coverage),deltaGlyphId:this.parseUShort()}:2===t?{substFormat:2,coverage:this.parsePointer(Ii.coverage),substitute:this.parseOffset16List()}:void hi.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")},Gn[2]=function(){var e=this.parseUShort();return hi.argument(1===e,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Ii.coverage),sequences:this.parseListOfLists()}},Gn[3]=function(){var e=this.parseUShort();return hi.argument(1===e,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Ii.coverage),alternateSets:this.parseListOfLists()}},Gn[4]=function(){var e=this.parseUShort();return hi.argument(1===e,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Ii.coverage),ligatureSets:this.parseListOfLists((function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}}))}};var Vn={sequenceIndex:Ii.uShort,lookupListIndex:Ii.uShort};Gn[5]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{substFormat:t,coverage:this.parsePointer(Ii.coverage),ruleSets:this.parseListOfLists((function(){var e=this.parseUShort(),t=this.parseUShort();return{input:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,Vn)}}))};if(2===t)return{substFormat:t,coverage:this.parsePointer(Ii.coverage),classDef:this.parsePointer(Ii.classDef),classSets:this.parseListOfLists((function(){var e=this.parseUShort(),t=this.parseUShort();return{classes:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,Vn)}}))};if(3===t){var r=this.parseUShort(),i=this.parseUShort();return{substFormat:t,coverages:this.parseList(r,Ii.pointer(Ii.coverage)),lookupRecords:this.parseRecordList(i,Vn)}}hi.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Gn[6]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(Ii.coverage),chainRuleSets:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Vn)}}))}:2===t?{substFormat:2,coverage:this.parsePointer(Ii.coverage),backtrackClassDef:this.parsePointer(Ii.classDef),inputClassDef:this.parsePointer(Ii.classDef),lookaheadClassDef:this.parsePointer(Ii.classDef),chainClassSet:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Vn)}}))}:3===t?{substFormat:3,backtrackCoverage:this.parseList(Ii.pointer(Ii.coverage)),inputCoverage:this.parseList(Ii.pointer(Ii.coverage)),lookaheadCoverage:this.parseList(Ii.pointer(Ii.coverage)),lookupRecords:this.parseRecordList(Vn)}:void hi.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Gn[7]=function(){var e=this.parseUShort();hi.argument(1===e,"GSUB Extension Substitution subtable identifier-format must be 1");var t=this.parseUShort(),r=new Ii(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:t,extension:Gn[t].call(r)}},Gn[8]=function(){var e=this.parseUShort();return hi.argument(1===e,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Ii.coverage),backtrackCoverage:this.parseList(Ii.pointer(Ii.coverage)),lookaheadCoverage:this.parseList(Ii.pointer(Ii.coverage)),substitutes:this.parseUShortList()}};var zn=new Array(9);zn[1]=function(e){return 1===e.substFormat?new Ai.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ai.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new Ai.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Ai.Coverage(e.coverage)}].concat(Ai.ushortList("substitute",e.substitute)))},zn[2]=function(e){return hi.assert(1===e.substFormat,"Lookup type 2 substFormat must be 1."),new Ai.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ai.Coverage(e.coverage)}].concat(Ai.tableList("seqSet",e.sequences,(function(e){return new Ai.Table("sequenceSetTable",Ai.ushortList("sequence",e))}))))},zn[3]=function(e){return hi.assert(1===e.substFormat,"Lookup type 3 substFormat must be 1."),new Ai.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ai.Coverage(e.coverage)}].concat(Ai.tableList("altSet",e.alternateSets,(function(e){return new Ai.Table("alternateSetTable",Ai.ushortList("alternate",e))}))))},zn[4]=function(e){return hi.assert(1===e.substFormat,"Lookup type 4 substFormat must be 1."),new Ai.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ai.Coverage(e.coverage)}].concat(Ai.tableList("ligSet",e.ligatureSets,(function(e){return new Ai.Table("ligatureSetTable",Ai.tableList("ligature",e,(function(e){return new Ai.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:e.ligGlyph}].concat(Ai.ushortList("component",e.components,e.components.length+1)))})))}))))},zn[6]=function(e){if(1===e.substFormat){var t=new Ai.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:e.substFormat},{name:"coverage",type:"TABLE",value:new Ai.Coverage(e.coverage)}].concat(Ai.tableList("chainRuleSet",e.chainRuleSets,(function(e){return new Ai.Table("chainRuleSetTable",Ai.tableList("chainRule",e,(function(e){var t=Ai.ushortList("backtrackGlyph",e.backtrack,e.backtrack.length).concat(Ai.ushortList("inputGlyph",e.input,e.input.length+1)).concat(Ai.ushortList("lookaheadGlyph",e.lookahead,e.lookahead.length)).concat(Ai.ushortList("substitution",[],e.lookupRecords.length));return e.lookupRecords.forEach((function(e,r){t=t.concat({name:"sequenceIndex"+r,type:"USHORT",value:e.sequenceIndex}).concat({name:"lookupListIndex"+r,type:"USHORT",value:e.lookupListIndex})})),new Ai.Table("chainRuleTable",t)})))}))));return t}if(2===e.substFormat)hi.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(3===e.substFormat){var r=[{name:"substFormat",type:"USHORT",value:e.substFormat}];return r.push({name:"backtrackGlyphCount",type:"USHORT",value:e.backtrackCoverage.length}),e.backtrackCoverage.forEach((function(e,t){r.push({name:"backtrackCoverage"+t,type:"TABLE",value:new Ai.Coverage(e)})})),r.push({name:"inputGlyphCount",type:"USHORT",value:e.inputCoverage.length}),e.inputCoverage.forEach((function(e,t){r.push({name:"inputCoverage"+t,type:"TABLE",value:new Ai.Coverage(e)})})),r.push({name:"lookaheadGlyphCount",type:"USHORT",value:e.lookaheadCoverage.length}),e.lookaheadCoverage.forEach((function(e,t){r.push({name:"lookaheadCoverage"+t,type:"TABLE",value:new Ai.Coverage(e)})})),r.push({name:"substitutionCount",type:"USHORT",value:e.lookupRecords.length}),e.lookupRecords.forEach((function(e,t){r=r.concat({name:"sequenceIndex"+t,type:"USHORT",value:e.sequenceIndex}).concat({name:"lookupListIndex"+t,type:"USHORT",value:e.lookupListIndex})})),new Ai.Table("chainContextTable",r)}hi.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};var jn={parse:function(e,t){var r=new Ii(e,t=t||0),i=r.parseVersion(1);return hi.argument(1===i||1.1===i,"Unsupported GSUB table version."),1===i?{version:i,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(Gn)}:{version:i,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(Gn),variations:r.parseFeatureVariationsList()}},make:function(e){return new Ai.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ai.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new Ai.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new Ai.LookupList(e.lookups,zn)}])}},$n={parse:function(e,t){var r=new Ui.Parser(e,t),i=r.parseULong();hi.argument(1===i,"Unsupported META table version."),r.parseULong(),r.parseULong();for(var n=r.parseULong(),s={},o=0;o<n;o++){var a=r.parseTag(),c=r.parseULong(),h=r.parseULong(),u=li.UTF8(e,t+c,h);s[a]=u}return s},make:function(e){var t=Object.keys(e).length,r="",i=16+12*t,n=new Ai.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:i},{name:"numTags",type:"ULONG",value:t}]);for(var s in e){var o=r.length;r+=e[s],n.fields.push({name:"tag "+s,type:"TAG",value:s}),n.fields.push({name:"offset "+s,type:"ULONG",value:i+o}),n.fields.push({name:"length "+s,type:"ULONG",value:e[s].length})}return n.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),n}};function qn(e){return Math.log(e)/Math.log(2)|0}function Yn(e){for(;e.length%4!=0;)e.push(0);for(var t=0,r=0;r<e.length;r+=4)t+=(e[r]<<24)+(e[r+1]<<16)+(e[r+2]<<8)+e[r+3];return t%Math.pow(2,32)}function Xn(e,t,r,i){return new Ai.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0},{name:"offset",type:"ULONG",value:void 0!==r?r:0},{name:"length",type:"ULONG",value:void 0!==i?i:0}])}function Zn(e){var t=new Ai.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=e,t.numTables=e.length;var r=Math.pow(2,qn(t.numTables));t.searchRange=16*r,t.entrySelector=qn(r),t.rangeShift=16*t.numTables-t.searchRange;for(var i=[],n=[],s=t.sizeOf()+Xn().sizeOf()*t.numTables;s%4!=0;)s+=1,n.push({name:"padding",type:"BYTE",value:0});for(var o=0;o<e.length;o+=1){var a=e[o];hi.argument(4===a.tableName.length,"Table name"+a.tableName+" is invalid.");var c=a.sizeOf(),h=Xn(a.tableName,Yn(a.encode()),s,c);for(i.push({name:h.tag+" Table Record",type:"RECORD",value:h}),n.push({name:a.tableName+" table",type:"RECORD",value:a}),s+=c,hi.argument(!isNaN(s),"Something went wrong calculating the offset.");s%4!=0;)s+=1,n.push({name:"padding",type:"BYTE",value:0})}return i.sort((function(e,t){return e.value.tag>t.value.tag?1:-1})),t.fields=t.fields.concat(i),t.fields=t.fields.concat(n),t}function Qn(e,t,r){for(var i=0;i<t.length;i+=1){var n=e.charToGlyphIndex(t[i]);if(n>0)return e.glyphs.get(n).getMetrics()}return r}function Jn(e){for(var t=0,r=0;r<e.length;r+=1)t+=e[r];return t/e.length}var Kn=function(e){for(var t,r=[],i=[],n=[],s=[],o=[],a=[],c=[],h=0,u=0,l=0,d=0,p=0,f=0;f<e.glyphs.length;f+=1){var v=e.glyphs.get(f),m=0|v.unicode;if(isNaN(v.advanceWidth))throw new Error("Glyph "+v.name+" ("+f+"): advanceWidth is not a number.");(t>m||void 0===t)&&m>0&&(t=m),h<m&&(h=m);var g=_n.getUnicodeRange(m);if(g<32)u|=1<<g;else if(g<64)l|=1<<g-32;else if(g<96)d|=1<<g-64;else{if(!(g<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");p|=1<<g-96}if(".notdef"!==v.name){var y=v.getMetrics();r.push(y.xMin),i.push(y.yMin),n.push(y.xMax),s.push(y.yMax),a.push(y.leftSideBearing),c.push(y.rightSideBearing),o.push(v.advanceWidth)}}var b={xMin:Math.min.apply(null,r),yMin:Math.min.apply(null,i),xMax:Math.max.apply(null,n),yMax:Math.max.apply(null,s),advanceWidthMax:Math.max.apply(null,o),advanceWidthAvg:Jn(o),minLeftSideBearing:Math.min.apply(null,a),maxLeftSideBearing:Math.max.apply(null,a),minRightSideBearing:Math.min.apply(null,c)};b.ascender=e.ascender,b.descender=e.descender;var w=Sn.make({flags:3,unitsPerEm:e.unitsPerEm,xMin:b.xMin,yMin:b.yMin,xMax:b.xMax,yMax:b.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp}),S=En.make({ascender:b.ascender,descender:b.descender,advanceWidthMax:b.advanceWidthMax,minLeftSideBearing:b.minLeftSideBearing,minRightSideBearing:b.minRightSideBearing,xMaxExtent:b.maxLeftSideBearing+(b.xMax-b.xMin),numberOfHMetrics:e.glyphs.length}),E=Pn.make(e.glyphs.length),x=_n.make(Object.assign({xAvgCharWidth:Math.round(b.advanceWidthAvg),usFirstCharIndex:t,usLastCharIndex:h,ulUnicodeRange1:u,ulUnicodeRange2:l,ulUnicodeRange3:d,ulUnicodeRange4:p,sTypoAscender:b.ascender,sTypoDescender:b.descender,sTypoLineGap:0,usWinAscent:b.yMax,usWinDescent:Math.abs(b.yMin),ulCodePageRange1:1,sxHeight:Qn(e,"xyvw",{yMax:Math.round(b.ascender/2)}).yMax,sCapHeight:Qn(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",b).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0},e.tables.os2)),T=xn.make(e.glyphs),P=Hi.make(e.glyphs),N=e.getEnglishName("fontFamily"),C=e.getEnglishName("fontSubfamily"),k=N+" "+C,D=e.getEnglishName("postScriptName");D||(D=N.replace(/\s/g,"")+"-"+C);var O={};for(var A in e.names)O[A]=e.names[A];O.uniqueID||(O.uniqueID={en:e.getEnglishName("manufacturer")+":"+k}),O.postScriptName||(O.postScriptName={en:D}),O.preferredFamily||(O.preferredFamily=e.names.fontFamily),O.preferredSubfamily||(O.preferredSubfamily=e.names.fontSubfamily);var F=[],R=Wn.make(O,F),B=F.length>0?Tn.make(F):void 0,M=Hn.make(),L=wn.make(e.glyphs,{version:e.getEnglishName("version"),fullName:k,familyName:N,weightName:C,postScriptName:D,unitsPerEm:e.unitsPerEm,fontBBox:[0,b.yMin,b.ascender,b.advanceWidthMax]}),I=e.metas&&Object.keys(e.metas).length>0?$n.make(e.metas):void 0,W=[w,S,E,x,R,P,M,L,T];B&&W.push(B),e.tables.gsub&&W.push(jn.make(e.tables.gsub)),I&&W.push(I);for(var U=Zn(W),_=Yn(U.encode()),H=U.fields,G=!1,V=0;V<H.length;V+=1)if("head table"===H[V].name){H[V].value.checkSumAdjustment=2981146554-_,G=!0;break}if(!G)throw new Error("Could not find head table with checkSum to adjust.");return U};function es(e,t){for(var r=0,i=e.length-1;r<=i;){var n=r+i>>>1,s=e[n].tag;if(s===t)return n;s<t?r=n+1:i=n-1}return-r-1}function ts(e,t){for(var r=0,i=e.length-1;r<=i;){var n=r+i>>>1,s=e[n];if(s===t)return n;s<t?r=n+1:i=n-1}return-r-1}function rs(e,t){for(var r,i=0,n=e.length-1;i<=n;){var s=i+n>>>1,o=(r=e[s]).start;if(o===t)return r;o<t?i=s+1:n=s-1}if(i>0)return t>(r=e[i-1]).end?0:r}function is(e,t){this.font=e,this.tableName=t}function ns(e){is.call(this,e,"gpos")}function ss(e){is.call(this,e,"gsub")}function os(e,t){var r=e.length;if(r!==t.length)return!1;for(var i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}function as(e,t,r){for(var i=e.subtables,n=0;n<i.length;n++){var s=i[n];if(s.substFormat===t)return s}if(r)return i.push(r),r}function cs(e,t){if(!e)throw t}function hs(e,t,r,i,n){var s;return(t&i)>0?(s=e.parseByte(),t&n||(s=-s),s=r+s):s=(t&n)>0?r:r+e.parseShort(),s}function us(e,t,r){var i,n,s=new Ui.Parser(t,r);if(e.numberOfContours=s.parseShort(),e._xMin=s.parseShort(),e._yMin=s.parseShort(),e._xMax=s.parseShort(),e._yMax=s.parseShort(),e.numberOfContours>0){for(var o=e.endPointIndices=[],a=0;a<e.numberOfContours;a+=1)o.push(s.parseUShort());e.instructionLength=s.parseUShort(),e.instructions=[];for(var c=0;c<e.instructionLength;c+=1)e.instructions.push(s.parseByte());var h=o[o.length-1]+1;i=[];for(var u=0;u<h;u+=1)if(n=s.parseByte(),i.push(n),(8&n)>0)for(var l=s.parseByte(),d=0;d<l;d+=1)i.push(n),u+=1;if(hi.argument(i.length===h,"Bad flags."),o.length>0){var p,f=[];if(h>0){for(var v=0;v<h;v+=1)n=i[v],(p={}).onCurve=!!(1&n),p.lastPointOfContour=o.indexOf(v)>=0,f.push(p);for(var m=0,g=0;g<h;g+=1)n=i[g],(p=f[g]).x=hs(s,n,m,2,16),m=p.x;for(var y=0,b=0;b<h;b+=1)n=i[b],(p=f[b]).y=hs(s,n,y,4,32),y=p.y}e.points=f}else e.points=[]}else if(0===e.numberOfContours)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var w=!0;w;){i=s.parseUShort();var S={glyphIndex:s.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&i)>0?(2&i)>0?(S.dx=s.parseShort(),S.dy=s.parseShort()):S.matchedPoints=[s.parseUShort(),s.parseUShort()]:(2&i)>0?(S.dx=s.parseChar(),S.dy=s.parseChar()):S.matchedPoints=[s.parseByte(),s.parseByte()],(8&i)>0?S.xScale=S.yScale=s.parseF2Dot14():(64&i)>0?(S.xScale=s.parseF2Dot14(),S.yScale=s.parseF2Dot14()):(128&i)>0&&(S.xScale=s.parseF2Dot14(),S.scale01=s.parseF2Dot14(),S.scale10=s.parseF2Dot14(),S.yScale=s.parseF2Dot14()),e.components.push(S),w=!!(32&i)}if(256&i){e.instructionLength=s.parseUShort(),e.instructions=[];for(var E=0;E<e.instructionLength;E+=1)e.instructions.push(s.parseByte())}}}function ls(e,t){for(var r=[],i=0;i<e.length;i+=1){var n=e[i],s={x:t.xScale*n.x+t.scale01*n.y+t.dx,y:t.scale10*n.x+t.yScale*n.y+t.dy,onCurve:n.onCurve,lastPointOfContour:n.lastPointOfContour};r.push(s)}return r}function ds(e){var t=new oi;if(!e)return t;for(var r=function(e){for(var t=[],r=[],i=0;i<e.length;i+=1){var n=e[i];r.push(n),n.lastPointOfContour&&(t.push(r),r=[])}return hi.argument(0===r.length,"There are still points left in the current contour."),t}(e),i=0;i<r.length;++i){var n=r[i],s=null,o=n[n.length-1],a=n[0];if(o.onCurve)t.moveTo(o.x,o.y);else if(a.onCurve)t.moveTo(a.x,a.y);else{var c={x:.5*(o.x+a.x),y:.5*(o.y+a.y)};t.moveTo(c.x,c.y)}for(var h=0;h<n.length;++h)if(s=o,o=a,a=n[(h+1)%n.length],o.onCurve)t.lineTo(o.x,o.y);else{var u=a;s.onCurve||(o.x,s.x,o.y,s.y),a.onCurve||(u={x:.5*(o.x+a.x),y:.5*(o.y+a.y)}),t.quadraticCurveTo(o.x,o.y,u.x,u.y)}t.closePath()}return t}function ps(e,t){if(t.isComposite)for(var r=0;r<t.components.length;r+=1){var i=t.components[r],n=e.get(i.glyphIndex);if(n.getPath(),n.points){var s=void 0;if(void 0===i.matchedPoints)s=ls(n.points,i);else{if(i.matchedPoints[0]>t.points.length-1||i.matchedPoints[1]>n.points.length-1)throw Error("Matched points out of range in "+t.name);var o=t.points[i.matchedPoints[0]],a=n.points[i.matchedPoints[1]],c={xScale:i.xScale,scale01:i.scale01,scale10:i.scale10,yScale:i.yScale,dx:0,dy:0};a=ls([a],c)[0],c.dx=o.x-a.x,c.dy=o.y-a.y,s=ls(n.points,c)}t.points=t.points.concat(s)}}return ds(t.points)}is.prototype={searchTag:es,binSearch:ts,getTable:function(e){var t=this.font.tables[this.tableName];return!t&&e&&(t=this.font.tables[this.tableName]=this.createDefaultTable()),t},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map((function(e){return e.tag})):[]},getDefaultScriptName:function(){var e=this.getTable();if(e){for(var t=!1,r=0;r<e.scripts.length;r++){var i=e.scripts[r].tag;if("DFLT"===i)return i;"latn"===i&&(t=!0)}return t?"latn":void 0}},getScriptTable:function(e,t){var r=this.getTable(t);if(r){e=e||"DFLT";var i=r.scripts,n=es(r.scripts,e);if(n>=0)return i[n].script;if(t){var s={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return i.splice(-1-n,0,s),s.script}}},getLangSysTable:function(e,t,r){var i=this.getScriptTable(e,r);if(i){if(!t||"dflt"===t||"DFLT"===t)return i.defaultLangSys;var n=es(i.langSysRecords,t);if(n>=0)return i.langSysRecords[n].langSys;if(r){var s={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return i.langSysRecords.splice(-1-n,0,s),s.langSys}}},getFeatureTable:function(e,t,r,i){var n=this.getLangSysTable(e,t,i);if(n){for(var s,o=n.featureIndexes,a=this.font.tables[this.tableName].features,c=0;c<o.length;c++)if((s=a[o[c]]).tag===r)return s.feature;if(i){var h=a.length;return hi.assert(0===h||r>=a[h-1].tag,"Features must be added in alphabetical order."),s={tag:r,feature:{params:0,lookupListIndexes:[]}},a.push(s),o.push(h),s.feature}}},getLookupTables:function(e,t,r,i,n){var s=this.getFeatureTable(e,t,r,n),o=[];if(s){for(var a,c=s.lookupListIndexes,h=this.font.tables[this.tableName].lookups,u=0;u<c.length;u++)(a=h[c[u]]).lookupType===i&&o.push(a);if(0===o.length&&n){a={lookupType:i,lookupFlag:0,subtables:[],markFilteringSet:void 0};var l=h.length;return h.push(a),c.push(l),[a]}}return o},getGlyphClass:function(e,t){switch(e.format){case 1:return e.startGlyph<=t&&t<e.startGlyph+e.classes.length?e.classes[t-e.startGlyph]:0;case 2:var r=rs(e.ranges,t);return r?r.classId:0}},getCoverageIndex:function(e,t){switch(e.format){case 1:var r=ts(e.glyphs,t);return r>=0?r:-1;case 2:var i=rs(e.ranges,t);return i?i.index+t-i.start:-1}},expandCoverage:function(e){if(1===e.format)return e.glyphs;for(var t=[],r=e.ranges,i=0;i<r.length;i++)for(var n=r[i],s=n.start,o=n.end,a=s;a<=o;a++)t.push(a);return t}},ns.prototype=is.prototype,ns.prototype.init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)},ns.prototype.getKerningValue=function(e,t,r){for(var i=0;i<e.length;i++)for(var n=e[i].subtables,s=0;s<n.length;s++){var o=n[s],a=this.getCoverageIndex(o.coverage,t);if(!(a<0))switch(o.posFormat){case 1:for(var c=o.pairSets[a],h=0;h<c.length;h++){var u=c[h];if(u.secondGlyph===r)return u.value1&&u.value1.xAdvance||0}break;case 2:var l=this.getGlyphClass(o.classDef1,t),d=this.getGlyphClass(o.classDef2,r),p=o.classRecords[l][d];return p.value1&&p.value1.xAdvance||0}}return 0},ns.prototype.getKerningTables=function(e,t){if(this.font.tables.gpos)return this.getLookupTables(e,t,"kern",2)},ss.prototype=is.prototype,ss.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},ss.prototype.getSingle=function(e,t,r){for(var i=[],n=this.getLookupTables(t,r,e,1),s=0;s<n.length;s++)for(var o=n[s].subtables,a=0;a<o.length;a++){var c=o[a],h=this.expandCoverage(c.coverage),u=void 0;if(1===c.substFormat){var l=c.deltaGlyphId;for(u=0;u<h.length;u++){var d=h[u];i.push({sub:d,by:d+l})}}else{var p=c.substitute;for(u=0;u<h.length;u++)i.push({sub:h[u],by:p[u]})}}return i},ss.prototype.getMultiple=function(e,t,r){for(var i=[],n=this.getLookupTables(t,r,e,2),s=0;s<n.length;s++)for(var o=n[s].subtables,a=0;a<o.length;a++){var c=o[a],h=this.expandCoverage(c.coverage),u=void 0;for(u=0;u<h.length;u++){var l=h[u],d=c.sequences[u];i.push({sub:l,by:d})}}return i},ss.prototype.getAlternates=function(e,t,r){for(var i=[],n=this.getLookupTables(t,r,e,3),s=0;s<n.length;s++)for(var o=n[s].subtables,a=0;a<o.length;a++)for(var c=o[a],h=this.expandCoverage(c.coverage),u=c.alternateSets,l=0;l<h.length;l++)i.push({sub:h[l],by:u[l]});return i},ss.prototype.getLigatures=function(e,t,r){for(var i=[],n=this.getLookupTables(t,r,e,4),s=0;s<n.length;s++)for(var o=n[s].subtables,a=0;a<o.length;a++)for(var c=o[a],h=this.expandCoverage(c.coverage),u=c.ligatureSets,l=0;l<h.length;l++)for(var d=h[l],p=u[l],f=0;f<p.length;f++){var v=p[f];i.push({sub:[d].concat(v.components),by:v.ligGlyph})}return i},ss.prototype.addSingle=function(e,t,r,i){var n=as(this.getLookupTables(r,i,e,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});hi.assert(1===n.coverage.format,"Single: unable to modify coverage table format "+n.coverage.format);var s=t.sub,o=this.binSearch(n.coverage.glyphs,s);o<0&&(o=-1-o,n.coverage.glyphs.splice(o,0,s),n.substitute.splice(o,0,0)),n.substitute[o]=t.by},ss.prototype.addMultiple=function(e,t,r,i){hi.assert(t.by instanceof Array&&t.by.length>1,'Multiple: "by" must be an array of two or more ids');var n=as(this.getLookupTables(r,i,e,2,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});hi.assert(1===n.coverage.format,"Multiple: unable to modify coverage table format "+n.coverage.format);var s=t.sub,o=this.binSearch(n.coverage.glyphs,s);o<0&&(o=-1-o,n.coverage.glyphs.splice(o,0,s),n.sequences.splice(o,0,0)),n.sequences[o]=t.by},ss.prototype.addAlternate=function(e,t,r,i){var n=as(this.getLookupTables(r,i,e,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});hi.assert(1===n.coverage.format,"Alternate: unable to modify coverage table format "+n.coverage.format);var s=t.sub,o=this.binSearch(n.coverage.glyphs,s);o<0&&(o=-1-o,n.coverage.glyphs.splice(o,0,s),n.alternateSets.splice(o,0,0)),n.alternateSets[o]=t.by},ss.prototype.addLigature=function(e,t,r,i){var n=this.getLookupTables(r,i,e,4,!0)[0],s=n.subtables[0];s||(s={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},n.subtables[0]=s),hi.assert(1===s.coverage.format,"Ligature: unable to modify coverage table format "+s.coverage.format);var o=t.sub[0],a=t.sub.slice(1),c={ligGlyph:t.by,components:a},h=this.binSearch(s.coverage.glyphs,o);if(h>=0){for(var u=s.ligatureSets[h],l=0;l<u.length;l++)if(os(u[l].components,a))return;u.push(c)}else h=-1-h,s.coverage.glyphs.splice(h,0,o),s.ligatureSets.splice(h,0,[c])},ss.prototype.getFeature=function(e,t,r){if(/ss\d\d/.test(e))return this.getSingle(e,t,r);switch(e){case"aalt":case"salt":return this.getSingle(e,t,r).concat(this.getAlternates(e,t,r));case"dlig":case"liga":case"rlig":return this.getLigatures(e,t,r);case"ccmp":return this.getMultiple(e,t,r).concat(this.getLigatures(e,t,r));case"stch":return this.getMultiple(e,t,r)}},ss.prototype.add=function(e,t,r,i){if(/ss\d\d/.test(e))return this.addSingle(e,t,r,i);switch(e){case"aalt":case"salt":return"number"==typeof t.by?this.addSingle(e,t,r,i):this.addAlternate(e,t,r,i);case"dlig":case"liga":case"rlig":return this.addLigature(e,t,r,i);case"ccmp":return t.by instanceof Array?this.addMultiple(e,t,r,i):this.addLigature(e,t,r,i)}};var fs,vs,ms,gs,ys={getPath:ds,parse:function(e,t,r,i,n){return n.lowMemory?function(e,t,r,i){var n=new en.GlyphSet(i);return i._push=function(s){var o=r[s];o!==r[s+1]?n.push(s,en.ttfGlyphLoader(i,s,us,e,t+o,ps)):n.push(s,en.glyphLoader(i,s))},n}(e,t,r,i):function(e,t,r,i){for(var n=new en.GlyphSet(i),s=0;s<r.length-1;s+=1){var o=r[s];o!==r[s+1]?n.push(s,en.ttfGlyphLoader(i,s,us,e,t+o,ps)):n.push(s,en.glyphLoader(i,s))}return n}(e,t,r,i)}};function bs(e){this.font=e,this.getCommands=function(e){return ys.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function ws(e){return e}function Ss(e){return Math.sign(e)*Math.round(Math.abs(e))}function Es(e){return Math.sign(e)*Math.round(Math.abs(2*e))/2}function xs(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function Ts(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function Ps(e){return Math.sign(e)*Math.floor(Math.abs(e))}var Ns=function(e){var t=this.srPeriod,r=this.srPhase,i=1;return e<0&&(e=-e,i=-1),e+=this.srThreshold-r,e=Math.trunc(e/t)*t,(e+=r)<0?r*i:e*i},Cs={x:1,y:0,axis:"x",distance:function(e,t,r,i){return(r?e.xo:e.x)-(i?t.xo:t.x)},interpolate:function(e,t,r,i){var n,s,o,a,c,h,u;if(!i||i===this)return n=e.xo-t.xo,s=e.xo-r.xo,c=t.x-t.xo,h=r.x-r.xo,0===(u=(o=Math.abs(n))+(a=Math.abs(s)))?void(e.x=e.xo+(c+h)/2):void(e.x=e.xo+(c*a+h*o)/u);n=i.distance(e,t,!0,!0),s=i.distance(e,r,!0,!0),c=i.distance(t,t,!1,!0),h=i.distance(r,r,!1,!0),0!==(u=(o=Math.abs(n))+(a=Math.abs(s)))?Cs.setRelative(e,e,(c*a+h*o)/u,i,!0):Cs.setRelative(e,e,(c+h)/2,i,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,t,r,i,n){if(i&&i!==this){var s=n?t.xo:t.x,o=n?t.yo:t.y,a=s+r*i.x,c=o+r*i.y;e.x=a+(e.y-c)/i.normalSlope}else e.x=(n?t.xo:t.x)+r},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},ks={x:0,y:1,axis:"y",distance:function(e,t,r,i){return(r?e.yo:e.y)-(i?t.yo:t.y)},interpolate:function(e,t,r,i){var n,s,o,a,c,h,u;if(!i||i===this)return n=e.yo-t.yo,s=e.yo-r.yo,c=t.y-t.yo,h=r.y-r.yo,0===(u=(o=Math.abs(n))+(a=Math.abs(s)))?void(e.y=e.yo+(c+h)/2):void(e.y=e.yo+(c*a+h*o)/u);n=i.distance(e,t,!0,!0),s=i.distance(e,r,!0,!0),c=i.distance(t,t,!1,!0),h=i.distance(r,r,!1,!0),0!==(u=(o=Math.abs(n))+(a=Math.abs(s)))?ks.setRelative(e,e,(c*a+h*o)/u,i,!0):ks.setRelative(e,e,(c+h)/2,i,!0)},normalSlope:0,setRelative:function(e,t,r,i,n){if(i&&i!==this){var s=n?t.xo:t.x,o=n?t.yo:t.y,a=s+r*i.x,c=o+r*i.y;e.y=c+i.normalSlope*(e.x-a)}else e.y=(n?t.yo:t.y)+r},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};function Ds(e,t){this.x=e,this.y=t,this.axis=void 0,this.slope=t/e,this.normalSlope=-e/t,Object.freeze(this)}function Os(e,t){var r=Math.sqrt(e*e+t*t);return t/=r,1==(e/=r)&&0===t?Cs:0===e&&1===t?ks:new Ds(e,t)}function As(e,t,r,i){this.x=this.xo=Math.round(64*e)/64,this.y=this.yo=Math.round(64*t)/64,this.lastPointOfContour=r,this.onCurve=i,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Cs),Object.freeze(ks),Ds.prototype.distance=function(e,t,r,i){return this.x*Cs.distance(e,t,r,i)+this.y*ks.distance(e,t,r,i)},Ds.prototype.interpolate=function(e,t,r,i){var n,s,o,a,c,h,u;o=i.distance(e,t,!0,!0),a=i.distance(e,r,!0,!0),n=i.distance(t,t,!1,!0),s=i.distance(r,r,!1,!0),0!==(u=(c=Math.abs(o))+(h=Math.abs(a)))?this.setRelative(e,e,(n*h+s*c)/u,i,!0):this.setRelative(e,e,(n+s)/2,i,!0)},Ds.prototype.setRelative=function(e,t,r,i,n){i=i||this;var s=n?t.xo:t.x,o=n?t.yo:t.y,a=s+r*i.x,c=o+r*i.y,h=i.normalSlope,u=this.slope,l=e.x,d=e.y;e.x=(u*l-h*a+c-d)/(u-h),e.y=u*(e.x-l)+d},Ds.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0},As.prototype.nextTouched=function(e){for(var t=this.nextPointOnContour;!e.touched(t)&&t!==this;)t=t.nextPointOnContour;return t},As.prototype.prevTouched=function(e){for(var t=this.prevPointOnContour;!e.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var Fs=Object.freeze(new As(0,0)),Rs={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Bs(e,t){switch(this.env=e,this.stack=[],this.prog=t,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Cs,this.round=Ss}}function Ms(e){for(var t=e.tZone=new Array(e.gZone.length),r=0;r<t.length;r++)t[r]=new As(0,0)}function Ls(e,t){var r,i=e.prog,n=e.ip,s=1;do{if(88===(r=i[++n]))s++;else if(89===r)s--;else if(64===r)n+=i[n+1]+1;else if(65===r)n+=2*i[n+1]+1;else if(r>=176&&r<=183)n+=r-176+1;else if(r>=184&&r<=191)n+=2*(r-184+1);else if(t&&1===s&&27===r)break}while(s>0);e.ip=n}function Is(e,t){exports.DEBUG&&console.log(t.step,"SVTCA["+e.axis+"]"),t.fv=t.pv=t.dpv=e}function Ws(e,t){exports.DEBUG&&console.log(t.step,"SPVTCA["+e.axis+"]"),t.pv=t.dpv=e}function Us(e,t){exports.DEBUG&&console.log(t.step,"SFVTCA["+e.axis+"]"),t.fv=e}function _s(e,t){var r,i,n=t.stack,s=n.pop(),o=n.pop(),a=t.z2[s],c=t.z1[o];exports.DEBUG&&console.log("SPVTL["+e+"]",s,o),e?(r=a.y-c.y,i=c.x-a.x):(r=c.x-a.x,i=c.y-a.y),t.pv=t.dpv=Os(r,i)}function Hs(e,t){var r,i,n=t.stack,s=n.pop(),o=n.pop(),a=t.z2[s],c=t.z1[o];exports.DEBUG&&console.log("SFVTL["+e+"]",s,o),e?(r=a.y-c.y,i=c.x-a.x):(r=c.x-a.x,i=c.y-a.y),t.fv=Os(r,i)}function Gs(e){exports.DEBUG&&console.log(e.step,"POP[]"),e.stack.pop()}function Vs(e,t){var r=t.stack.pop(),i=t.z0[r],n=t.fv,s=t.pv;exports.DEBUG&&console.log(t.step,"MDAP["+e+"]",r);var o=s.distance(i,Fs);e&&(o=t.round(o)),n.setRelative(i,Fs,o,s),n.touch(i),t.rp0=t.rp1=r}function zs(e,t){var r,i,n,s=t.z2,o=s.length-2;exports.DEBUG&&console.log(t.step,"IUP["+e.axis+"]");for(var a=0;a<o;a++)r=s[a],e.touched(r)||(i=r.prevTouched(e))!==r&&(i===(n=r.nextTouched(e))&&e.setRelative(r,r,e.distance(i,i,!1,!0),e,!0),e.interpolate(r,i,n,e))}function js(e,t){for(var r=t.stack,i=e?t.rp1:t.rp2,n=(e?t.z0:t.z1)[i],s=t.fv,o=t.pv,a=t.loop,c=t.z2;a--;){var h=r.pop(),u=c[h],l=o.distance(n,n,!1,!0);s.setRelative(u,u,l,o),s.touch(u),exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-a)+": ":"")+"SHP["+(e?"rp1":"rp2")+"]",h)}t.loop=1}function $s(e,t){var r=t.stack,i=e?t.rp1:t.rp2,n=(e?t.z0:t.z1)[i],s=t.fv,o=t.pv,a=r.pop(),c=t.z2[t.contours[a]],h=c;exports.DEBUG&&console.log(t.step,"SHC["+e+"]",a);var u=o.distance(n,n,!1,!0);do{h!==n&&s.setRelative(h,h,u,o),h=h.nextPointOnContour}while(h!==c)}function qs(e,t){var r,i,n=t.stack,s=e?t.rp1:t.rp2,o=(e?t.z0:t.z1)[s],a=t.fv,c=t.pv,h=n.pop();switch(exports.DEBUG&&console.log(t.step,"SHZ["+e+"]",h),h){case 0:r=t.tZone;break;case 1:r=t.gZone;break;default:throw new Error("Invalid zone")}for(var u=c.distance(o,o,!1,!0),l=r.length-2,d=0;d<l;d++)i=r[d],a.setRelative(i,i,u,c)}function Ys(e,t){var r=t.stack,i=r.pop()/64,n=r.pop(),s=t.z1[n],o=t.z0[t.rp0],a=t.fv,c=t.pv;a.setRelative(s,o,i,c),a.touch(s),exports.DEBUG&&console.log(t.step,"MSIRP["+e+"]",i,n),t.rp1=t.rp0,t.rp2=n,e&&(t.rp0=n)}function Xs(e,t){var r=t.stack,i=r.pop(),n=r.pop(),s=t.z0[n],o=t.fv,a=t.pv,c=t.cvt[i];exports.DEBUG&&console.log(t.step,"MIAP["+e+"]",i,"(",c,")",n);var h=a.distance(s,Fs);e&&(Math.abs(h-c)<t.cvCutIn&&(h=c),h=t.round(h)),o.setRelative(s,Fs,h,a),0===t.zp0&&(s.xo=s.x,s.yo=s.y),o.touch(s),t.rp0=t.rp1=n}function Zs(e,t){var r=t.stack,i=r.pop(),n=t.z2[i];exports.DEBUG&&console.log(t.step,"GC["+e+"]",i),r.push(64*t.dpv.distance(n,Fs,e,!1))}function Qs(e,t){var r=t.stack,i=r.pop(),n=r.pop(),s=t.z1[i],o=t.z0[n],a=t.dpv.distance(o,s,e,e);exports.DEBUG&&console.log(t.step,"MD["+e+"]",i,n,"->",a),t.stack.push(Math.round(64*a))}function Js(e,t){var r=t.stack,i=r.pop(),n=t.fv,s=t.pv,o=t.ppem,a=t.deltaBase+16*(e-1),c=t.deltaShift,h=t.z0;exports.DEBUG&&console.log(t.step,"DELTAP["+e+"]",i,r);for(var u=0;u<i;u++){var l=r.pop(),d=r.pop();if(a+((240&d)>>4)===o){var p=(15&d)-8;p>=0&&p++,exports.DEBUG&&console.log(t.step,"DELTAPFIX",l,"by",p*c);var f=h[l];n.setRelative(f,f,p*c,s)}}}function Ks(e,t){var r=t.stack,i=r.pop();exports.DEBUG&&console.log(t.step,"ROUND[]"),r.push(64*t.round(i/64))}function eo(e,t){var r=t.stack,i=r.pop(),n=t.ppem,s=t.deltaBase+16*(e-1),o=t.deltaShift;exports.DEBUG&&console.log(t.step,"DELTAC["+e+"]",i,r);for(var a=0;a<i;a++){var c=r.pop(),h=r.pop();if(s+((240&h)>>4)===n){var u=(15&h)-8;u>=0&&u++;var l=u*o;exports.DEBUG&&console.log(t.step,"DELTACFIX",c,"by",l),t.cvt[c]+=l}}}function to(e,t){var r,i,n=t.stack,s=n.pop(),o=n.pop(),a=t.z2[s],c=t.z1[o];exports.DEBUG&&console.log(t.step,"SDPVTL["+e+"]",s,o),e?(r=a.y-c.y,i=c.x-a.x):(r=c.x-a.x,i=c.y-a.y),t.dpv=Os(r,i)}function ro(e,t){var r=t.stack,i=t.prog,n=t.ip;exports.DEBUG&&console.log(t.step,"PUSHB["+e+"]");for(var s=0;s<e;s++)r.push(i[++n]);t.ip=n}function io(e,t){var r=t.ip,i=t.prog,n=t.stack;exports.DEBUG&&console.log(t.ip,"PUSHW["+e+"]");for(var s=0;s<e;s++){var o=i[++r]<<8|i[++r];32768&o&&(o=-(1+(65535^o))),n.push(o)}t.ip=r}function no(e,t,r,i,n,s){var o,a,c,h,u=s.stack,l=e&&u.pop(),d=u.pop(),p=s.rp0,f=s.z0[p],v=s.z1[d],m=s.minDis,g=s.fv,y=s.dpv;c=(a=o=y.distance(v,f,!0,!0))>=0?1:-1,a=Math.abs(a),e&&(h=s.cvt[l],i&&Math.abs(a-h)<s.cvCutIn&&(a=h)),r&&a<m&&(a=m),i&&(a=s.round(a)),g.setRelative(v,f,c*a,y),g.touch(v),exports.DEBUG&&console.log(s.step,(e?"MIRP[":"MDRP[")+(t?"M":"m")+(r?">":"_")+(i?"R":"_")+(0===n?"Gr":1===n?"Bl":2===n?"Wh":"")+"]",e?l+"("+s.cvt[l]+","+h+")":"",d,"(d =",o,"->",c*a,")"),s.rp1=s.rp0,s.rp2=d,t&&(s.rp0=d)}function so(e){this.char=e,this.state={},this.activeState=null}function oo(e,t,r){this.contextName=r,this.startIndex=e,this.endOffset=t}function ao(e,t,r){this.contextName=e,this.openRange=null,this.ranges=[],this.checkStart=t,this.checkEnd=r}function co(e,t){this.context=e,this.index=t,this.length=e.length,this.current=e[t],this.backtrack=e.slice(0,t),this.lookahead=e.slice(t+1)}function ho(e){this.eventId=e,this.subscribers=[]}function uo(e){var t=this,r=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];r.forEach((function(e){Object.defineProperty(t.events,e,{value:new ho(e)})})),e&&r.forEach((function(r){var i=e[r];"function"==typeof i&&t.events[r].subscribe(i)})),["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"].forEach((function(e){t.events[e].subscribe(t.updateContextsRanges)}))}function lo(e){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],uo.call(this,e)}function po(e){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(e)}function fo(e){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(e)}function vo(e){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(e)}function mo(e){return/[A-z]/.test(e)}function go(e){this.font=e,this.features={}}function yo(e){this.id=e.id,this.tag=e.tag,this.substitution=e.substitution}function bo(e,t){if(!e)return-1;switch(t.format){case 1:return t.glyphs.indexOf(e);case 2:for(var r=t.ranges,i=0;i<r.length;i++){var n=r[i];if(e>=n.start&&e<=n.end){var s=e-n.start;return n.index+s}}break;default:return-1}return-1}function wo(e,t){return-1===bo(e,t.coverage)?null:e+t.deltaGlyphId}function So(e,t){var r=bo(e,t.coverage);return-1===r?null:t.substitute[r]}function Eo(e,t){for(var r=[],i=0;i<e.length;i++){var n=e[i],s=t.current,o=bo(s=Array.isArray(s)?s[0]:s,n);-1!==o&&r.push(o)}return r.length!==e.length?-1:r}function xo(e,t){var r=t.inputCoverage.length+t.lookaheadCoverage.length+t.backtrackCoverage.length;if(e.context.length<r)return[];var i=Eo(t.inputCoverage,e);if(-1===i)return[];var n=t.inputCoverage.length-1;if(e.lookahead.length<t.lookaheadCoverage.length)return[];for(var s=e.lookahead.slice(n);s.length&&vo(s[0].char);)s.shift();var o=new co(s,0),a=Eo(t.lookaheadCoverage,o),c=[].concat(e.backtrack);for(c.reverse();c.length&&vo(c[0].char);)c.shift();if(c.length<t.backtrackCoverage.length)return[];var h=new co(c,0),u=Eo(t.backtrackCoverage,h),l=[];if(i.length===t.inputCoverage.length&&a.length===t.lookaheadCoverage.length&&u.length===t.backtrackCoverage.length)for(var d=0;d<t.lookupRecords.length;d++)for(var p=t.lookupRecords[d].lookupListIndex,f=this.getLookupByIndex(p),v=0;v<f.subtables.length;v++){var m=f.subtables[v],g=this.getLookupMethod(f,m);if("12"===this.getSubstitutionType(f,m))for(var y=0;y<i.length;y++){var b=g(e.get(y));b&&l.push(b)}}return l}function To(e,t){var r,i=bo(e.current,t.coverage);if(-1===i)return null;for(var n=t.ligatureSets[i],s=0;s<n.length;s++){r=n[s];for(var o=0;o<r.components.length&&e.lookahead[o]===r.components[o];o++)if(o===r.components.length-1)return r}return null}function Po(e,t){var r=bo(e,t.coverage);return-1===r?null:t.sequences[r]}bs.prototype.exec=function(e,t){if("number"!=typeof t)throw new Error("Point size is not a number!");if(!(this._errorState>2)){var r=this.font,i=this._prepState;if(!i||i.ppem!==t){var n=this._fpgmState;if(!n){Bs.prototype=Rs,(n=this._fpgmState=new Bs("fpgm",r.tables.fpgm)).funcs=[],n.font=r,exports.DEBUG&&(console.log("---EXEC FPGM---"),n.step=-1);try{vs(n)}catch(e){return console.log("Hinting error in FPGM:"+e),void(this._errorState=3)}}Bs.prototype=n,(i=this._prepState=new Bs("prep",r.tables.prep)).ppem=t;var s=r.tables.cvt;if(s)for(var o=i.cvt=new Array(s.length),a=t/r.unitsPerEm,c=0;c<s.length;c++)o[c]=s[c]*a;else i.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),i.step=-1);try{vs(i)}catch(e){this._errorState<2&&console.log("Hinting error in PREP:"+e),this._errorState=2}}if(!(this._errorState>1))try{return ms(e,i)}catch(e){return this._errorState<1&&(console.log("Hinting error:"+e),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},ms=function(e,t){var r,i,n,s=t.ppem/t.font.unitsPerEm,o=s,a=e.components;if(Bs.prototype=t,a){var c=t.font;i=[],r=[];for(var h=0;h<a.length;h++){var u=a[h],l=c.glyphs.get(u.glyphIndex);n=new Bs("glyf",l.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+h+"---"),n.step=-1),gs(l,n,s,o);for(var d=Math.round(u.dx*s),p=Math.round(u.dy*o),f=n.gZone,v=n.contours,m=0;m<f.length;m++){var g=f[m];g.xTouched=g.yTouched=!1,g.xo=g.x=g.x+d,g.yo=g.y=g.y+p}var y=i.length;i.push.apply(i,f);for(var b=0;b<v.length;b++)r.push(v[b]+y)}e.instructions&&!n.inhibitGridFit&&((n=new Bs("glyf",e.instructions)).gZone=n.z0=n.z1=n.z2=i,n.contours=r,i.push(new As(0,0),new As(Math.round(e.advanceWidth*s),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),n.step=-1),vs(n),i.length-=2)}else n=new Bs("glyf",e.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),n.step=-1),gs(e,n,s,o),i=n.gZone;return i},gs=function(e,t,r,i){for(var n,s,o,a=e.points||[],c=a.length,h=t.gZone=t.z0=t.z1=t.z2=[],u=t.contours=[],l=0;l<c;l++)n=a[l],h[l]=new As(n.x*r,n.y*i,n.lastPointOfContour,n.onCurve);for(var d=0;d<c;d++)n=h[d],s||(s=n,u.push(d)),n.lastPointOfContour?(n.nextPointOnContour=s,s.prevPointOnContour=n,s=void 0):(o=h[d+1],n.nextPointOnContour=o,o.prevPointOnContour=n);if(!t.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",t.stack);for(var p=0;p<c;p++)console.log(p,h[p].x,h[p].y)}if(h.push(new As(0,0),new As(Math.round(e.advanceWidth*r),0)),vs(t),h.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",t.stack);for(var f=0;f<c;f++)console.log(f,h[f].x,h[f].y)}}},vs=function(e){var t=e.prog;if(t){var r,i=t.length;for(e.ip=0;e.ip<i;e.ip++){if(exports.DEBUG&&e.step++,!(r=fs[t[e.ip]]))throw new Error("unknown instruction: 0x"+Number(t[e.ip]).toString(16));r(e)}}},fs=[Is.bind(void 0,ks),Is.bind(void 0,Cs),Ws.bind(void 0,ks),Ws.bind(void 0,Cs),Us.bind(void 0,ks),Us.bind(void 0,Cs),_s.bind(void 0,0),_s.bind(void 0,1),Hs.bind(void 0,0),Hs.bind(void 0,1),function(e){var t=e.stack,r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"SPVFS[]",r,i),e.pv=e.dpv=Os(i,r)},function(e){var t=e.stack,r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"SPVFS[]",r,i),e.fv=Os(i,r)},function(e){var t=e.stack,r=e.pv;exports.DEBUG&&console.log(e.step,"GPV[]"),t.push(16384*r.x),t.push(16384*r.y)},function(e){var t=e.stack,r=e.fv;exports.DEBUG&&console.log(e.step,"GFV[]"),t.push(16384*r.x),t.push(16384*r.y)},function(e){e.fv=e.pv,exports.DEBUG&&console.log(e.step,"SFVTPV[]")},function(e){var t=e.stack,r=t.pop(),i=t.pop(),n=t.pop(),s=t.pop(),o=t.pop(),a=e.z0,c=e.z1,h=a[r],u=a[i],l=c[n],d=c[s],p=e.z2[o];exports.DEBUG&&console.log("ISECT[], ",r,i,n,s,o);var f=h.x,v=h.y,m=u.x,g=u.y,y=l.x,b=l.y,w=d.x,S=d.y,E=(f-m)*(b-S)-(v-g)*(y-w),x=f*g-v*m,T=y*S-b*w;p.x=(x*(y-w)-T*(f-m))/E,p.y=(x*(b-S)-T*(v-g))/E},function(e){e.rp0=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP0[]",e.rp0)},function(e){e.rp1=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP1[]",e.rp1)},function(e){e.rp2=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP2[]",e.rp2)},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP0[]",t),e.zp0=t,t){case 0:e.tZone||Ms(e),e.z0=e.tZone;break;case 1:e.z0=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP1[]",t),e.zp1=t,t){case 0:e.tZone||Ms(e),e.z1=e.tZone;break;case 1:e.z1=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP2[]",t),e.zp2=t,t){case 0:e.tZone||Ms(e),e.z2=e.tZone;break;case 1:e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZPS[]",t),e.zp0=e.zp1=e.zp2=t,t){case 0:e.tZone||Ms(e),e.z0=e.z1=e.z2=e.tZone;break;case 1:e.z0=e.z1=e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){e.loop=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SLOOP[]",e.loop)},function(e){exports.DEBUG&&console.log(e.step,"RTG[]"),e.round=Ss},function(e){exports.DEBUG&&console.log(e.step,"RTHG[]"),e.round=xs},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SMD[]",t),e.minDis=t/64},function(e){exports.DEBUG&&console.log(e.step,"ELSE[]"),Ls(e,!1)},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"JMPR[]",t),e.ip+=t-1},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCVTCI[]",t),e.cvCutIn=t/64},void 0,void 0,function(e){var t=e.stack;exports.DEBUG&&console.log(e.step,"DUP[]"),t.push(t[t.length-1])},Gs,function(e){exports.DEBUG&&console.log(e.step,"CLEAR[]"),e.stack.length=0},function(e){var t=e.stack,r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"SWAP[]"),t.push(r),t.push(i)},function(e){var t=e.stack;exports.DEBUG&&console.log(e.step,"DEPTH[]"),t.push(t.length)},function(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"CINDEX[]",r),t.push(t[t.length-r])},function(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"MINDEX[]",r),t.push(t.splice(t.length-r,1)[0])},void 0,void 0,void 0,function(e){var t=e.stack,r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"LOOPCALL[]",r,i);var n=e.ip,s=e.prog;e.prog=e.funcs[r];for(var o=0;o<i;o++)vs(e),exports.DEBUG&&console.log(++e.step,o+1<i?"next loopcall":"done loopcall",o);e.ip=n,e.prog=s},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"CALL[]",t);var r=e.ip,i=e.prog;e.prog=e.funcs[t],vs(e),e.ip=r,e.prog=i,exports.DEBUG&&console.log(++e.step,"returning from",t)},function(e){if("fpgm"!==e.env)throw new Error("FDEF not allowed here");var t=e.stack,r=e.prog,i=e.ip,n=t.pop(),s=i;for(exports.DEBUG&&console.log(e.step,"FDEF[]",n);45!==r[++i];);e.ip=i,e.funcs[n]=r.slice(s+1,i)},void 0,Vs.bind(void 0,0),Vs.bind(void 0,1),zs.bind(void 0,ks),zs.bind(void 0,Cs),js.bind(void 0,0),js.bind(void 0,1),$s.bind(void 0,0),$s.bind(void 0,1),qs.bind(void 0,0),qs.bind(void 0,1),function(e){for(var t=e.stack,r=e.loop,i=e.fv,n=t.pop()/64,s=e.z2;r--;){var o=t.pop(),a=s[o];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-r)+": ":"")+"SHPIX[]",o,n),i.setRelative(a,a,n),i.touch(a)}e.loop=1},function(e){for(var t=e.stack,r=e.rp1,i=e.rp2,n=e.loop,s=e.z0[r],o=e.z1[i],a=e.fv,c=e.dpv,h=e.z2;n--;){var u=t.pop(),l=h[u];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-n)+": ":"")+"IP[]",u,r,"<->",i),a.interpolate(l,s,o,c),a.touch(l)}e.loop=1},Ys.bind(void 0,0),Ys.bind(void 0,1),function(e){for(var t=e.stack,r=e.rp0,i=e.z0[r],n=e.loop,s=e.fv,o=e.pv,a=e.z1;n--;){var c=t.pop(),h=a[c];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-n)+": ":"")+"ALIGNRP[]",c),s.setRelative(h,i,0,o),s.touch(h)}e.loop=1},function(e){exports.DEBUG&&console.log(e.step,"RTDG[]"),e.round=Es},Xs.bind(void 0,0),Xs.bind(void 0,1),function(e){var t=e.prog,r=e.ip,i=e.stack,n=t[++r];exports.DEBUG&&console.log(e.step,"NPUSHB[]",n);for(var s=0;s<n;s++)i.push(t[++r]);e.ip=r},function(e){var t=e.ip,r=e.prog,i=e.stack,n=r[++t];exports.DEBUG&&console.log(e.step,"NPUSHW[]",n);for(var s=0;s<n;s++){var o=r[++t]<<8|r[++t];32768&o&&(o=-(1+(65535^o))),i.push(o)}e.ip=t},function(e){var t=e.stack,r=e.store;r||(r=e.store=[]);var i=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"WS",i,n),r[n]=i},function(e){var t=e.stack,r=e.store,i=t.pop();exports.DEBUG&&console.log(e.step,"RS",i);var n=r&&r[i]||0;t.push(n)},function(e){var t=e.stack,r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"WCVTP",r,i),e.cvt[i]=r/64},function(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"RCVT",r),t.push(64*e.cvt[r])},Zs.bind(void 0,0),Zs.bind(void 0,1),void 0,Qs.bind(void 0,0),Qs.bind(void 0,1),function(e){exports.DEBUG&&console.log(e.step,"MPPEM[]"),e.stack.push(e.ppem)},void 0,function(e){exports.DEBUG&&console.log(e.step,"FLIPON[]"),e.autoFlip=!0},void 0,void 0,function(e){var t=e.stack,r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"LT[]",r,i),t.push(i<r?1:0)},function(e){var t=e.stack,r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"LTEQ[]",r,i),t.push(i<=r?1:0)},function(e){var t=e.stack,r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"GT[]",r,i),t.push(i>r?1:0)},function(e){var t=e.stack,r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"GTEQ[]",r,i),t.push(i>=r?1:0)},function(e){var t=e.stack,r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"EQ[]",r,i),t.push(r===i?1:0)},function(e){var t=e.stack,r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"NEQ[]",r,i),t.push(r!==i?1:0)},function(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"ODD[]",r),t.push(Math.trunc(r)%2?1:0)},function(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"EVEN[]",r),t.push(Math.trunc(r)%2?0:1)},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"IF[]",t),t||(Ls(e,!0),exports.DEBUG&&console.log(e.step,"EIF[]"))},function(e){exports.DEBUG&&console.log(e.step,"EIF[]")},function(e){var t=e.stack,r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"AND[]",r,i),t.push(r&&i?1:0)},function(e){var t=e.stack,r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"OR[]",r,i),t.push(r||i?1:0)},function(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"NOT[]",r),t.push(r?0:1)},Js.bind(void 0,1),function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SDB[]",t),e.deltaBase=t},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SDS[]",t),e.deltaShift=Math.pow(.5,t)},function(e){var t=e.stack,r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"ADD[]",r,i),t.push(i+r)},function(e){var t=e.stack,r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"SUB[]",r,i),t.push(i-r)},function(e){var t=e.stack,r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"DIV[]",r,i),t.push(64*i/r)},function(e){var t=e.stack,r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"MUL[]",r,i),t.push(i*r/64)},function(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"ABS[]",r),t.push(Math.abs(r))},function(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"NEG[]",r),t.push(-r)},function(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"FLOOR[]",r),t.push(64*Math.floor(r/64))},function(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"CEILING[]",r),t.push(64*Math.ceil(r/64))},Ks.bind(void 0,0),Ks.bind(void 0,1),Ks.bind(void 0,2),Ks.bind(void 0,3),void 0,void 0,void 0,void 0,function(e){var t=e.stack,r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"WCVTF[]",r,i),e.cvt[i]=r*e.ppem/e.font.unitsPerEm},Js.bind(void 0,2),Js.bind(void 0,3),eo.bind(void 0,1),eo.bind(void 0,2),eo.bind(void 0,3),function(e){var t,r=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SROUND[]",r),e.round=Ns,192&r){case 0:t=.5;break;case 64:t=1;break;case 128:t=2;break;default:throw new Error("invalid SROUND value")}switch(e.srPeriod=t,48&r){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*t;break;case 32:e.srPhase=.5*t;break;case 48:e.srPhase=.75*t;break;default:throw new Error("invalid SROUND value")}r&=15,e.srThreshold=0===r?0:(r/8-.5)*t},function(e){var t,r=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"S45ROUND[]",r),e.round=Ns,192&r){case 0:t=Math.sqrt(2)/2;break;case 64:t=Math.sqrt(2);break;case 128:t=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(e.srPeriod=t,48&r){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*t;break;case 32:e.srPhase=.5*t;break;case 48:e.srPhase=.75*t;break;default:throw new Error("invalid S45ROUND value")}r&=15,e.srThreshold=0===r?0:(r/8-.5)*t},void 0,void 0,function(e){exports.DEBUG&&console.log(e.step,"ROFF[]"),e.round=ws},void 0,function(e){exports.DEBUG&&console.log(e.step,"RUTG[]"),e.round=Ts},function(e){exports.DEBUG&&console.log(e.step,"RDTG[]"),e.round=Ps},Gs,Gs,void 0,void 0,void 0,void 0,void 0,function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCANCTRL[]",t)},to.bind(void 0,0),to.bind(void 0,1),function(e){var t=e.stack,r=t.pop(),i=0;exports.DEBUG&&console.log(e.step,"GETINFO[]",r),1&r&&(i=35),32&r&&(i|=4096),t.push(i)},void 0,function(e){var t=e.stack,r=t.pop(),i=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"ROLL[]"),t.push(i),t.push(r),t.push(n)},function(e){var t=e.stack,r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"MAX[]",r,i),t.push(Math.max(i,r))},function(e){var t=e.stack,r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"MIN[]",r,i),t.push(Math.min(i,r))},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCANTYPE[]",t)},function(e){var t=e.stack.pop(),r=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"INSTCTRL[]",t,r),t){case 1:return void(e.inhibitGridFit=!!r);case 2:return void(e.ignoreCvt=!!r);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,ro.bind(void 0,1),ro.bind(void 0,2),ro.bind(void 0,3),ro.bind(void 0,4),ro.bind(void 0,5),ro.bind(void 0,6),ro.bind(void 0,7),ro.bind(void 0,8),io.bind(void 0,1),io.bind(void 0,2),io.bind(void 0,3),io.bind(void 0,4),io.bind(void 0,5),io.bind(void 0,6),io.bind(void 0,7),io.bind(void 0,8),no.bind(void 0,0,0,0,0,0),no.bind(void 0,0,0,0,0,1),no.bind(void 0,0,0,0,0,2),no.bind(void 0,0,0,0,0,3),no.bind(void 0,0,0,0,1,0),no.bind(void 0,0,0,0,1,1),no.bind(void 0,0,0,0,1,2),no.bind(void 0,0,0,0,1,3),no.bind(void 0,0,0,1,0,0),no.bind(void 0,0,0,1,0,1),no.bind(void 0,0,0,1,0,2),no.bind(void 0,0,0,1,0,3),no.bind(void 0,0,0,1,1,0),no.bind(void 0,0,0,1,1,1),no.bind(void 0,0,0,1,1,2),no.bind(void 0,0,0,1,1,3),no.bind(void 0,0,1,0,0,0),no.bind(void 0,0,1,0,0,1),no.bind(void 0,0,1,0,0,2),no.bind(void 0,0,1,0,0,3),no.bind(void 0,0,1,0,1,0),no.bind(void 0,0,1,0,1,1),no.bind(void 0,0,1,0,1,2),no.bind(void 0,0,1,0,1,3),no.bind(void 0,0,1,1,0,0),no.bind(void 0,0,1,1,0,1),no.bind(void 0,0,1,1,0,2),no.bind(void 0,0,1,1,0,3),no.bind(void 0,0,1,1,1,0),no.bind(void 0,0,1,1,1,1),no.bind(void 0,0,1,1,1,2),no.bind(void 0,0,1,1,1,3),no.bind(void 0,1,0,0,0,0),no.bind(void 0,1,0,0,0,1),no.bind(void 0,1,0,0,0,2),no.bind(void 0,1,0,0,0,3),no.bind(void 0,1,0,0,1,0),no.bind(void 0,1,0,0,1,1),no.bind(void 0,1,0,0,1,2),no.bind(void 0,1,0,0,1,3),no.bind(void 0,1,0,1,0,0),no.bind(void 0,1,0,1,0,1),no.bind(void 0,1,0,1,0,2),no.bind(void 0,1,0,1,0,3),no.bind(void 0,1,0,1,1,0),no.bind(void 0,1,0,1,1,1),no.bind(void 0,1,0,1,1,2),no.bind(void 0,1,0,1,1,3),no.bind(void 0,1,1,0,0,0),no.bind(void 0,1,1,0,0,1),no.bind(void 0,1,1,0,0,2),no.bind(void 0,1,1,0,0,3),no.bind(void 0,1,1,0,1,0),no.bind(void 0,1,1,0,1,1),no.bind(void 0,1,1,0,1,2),no.bind(void 0,1,1,0,1,3),no.bind(void 0,1,1,1,0,0),no.bind(void 0,1,1,1,0,1),no.bind(void 0,1,1,1,0,2),no.bind(void 0,1,1,1,0,3),no.bind(void 0,1,1,1,1,0),no.bind(void 0,1,1,1,1,1),no.bind(void 0,1,1,1,1,2),no.bind(void 0,1,1,1,1,3)],so.prototype.setState=function(e,t){return this.state[e]=t,this.activeState={key:e,value:this.state[e]},this.activeState},so.prototype.getState=function(e){return this.state[e]||null},lo.prototype.inboundIndex=function(e){return e>=0&&e<this.tokens.length},lo.prototype.composeRUD=function(e){var t=this,r=e.map((function(e){return t[e[0]].apply(t,e.slice(1).concat(!0))})),i=function(e){return"object"==typeof e&&e.hasOwnProperty("FAIL")};if(r.every(i))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:r.filter(i)};this.dispatch("composeRUD",[r.filter((function(e){return!i(e)}))])},lo.prototype.replaceRange=function(e,t,r,i){t=null!==t?t:this.tokens.length;var n=r.every((function(e){return e instanceof so}));if(!isNaN(e)&&this.inboundIndex(e)&&n){var s=this.tokens.splice.apply(this.tokens,[e,t].concat(r));return i||this.dispatch("replaceToken",[e,t,r]),[s,r]}return{FAIL:"replaceRange: invalid tokens or startIndex."}},lo.prototype.replaceToken=function(e,t,r){if(!isNaN(e)&&this.inboundIndex(e)&&t instanceof so){var i=this.tokens.splice(e,1,t);return r||this.dispatch("replaceToken",[e,t]),[i[0],t]}return{FAIL:"replaceToken: invalid token or index."}},lo.prototype.removeRange=function(e,t,r){t=isNaN(t)?this.tokens.length:t;var i=this.tokens.splice(e,t);return r||this.dispatch("removeRange",[i,e,t]),i},lo.prototype.removeToken=function(e,t){if(!isNaN(e)&&this.inboundIndex(e)){var r=this.tokens.splice(e,1);return t||this.dispatch("removeToken",[r,e]),r}return{FAIL:"removeToken: invalid token index."}},lo.prototype.insertToken=function(e,t,r){return e.every((function(e){return e instanceof so}))?(this.tokens.splice.apply(this.tokens,[t,0].concat(e)),r||this.dispatch("insertToken",[e,t]),e):{FAIL:"insertToken: invalid token(s)."}},lo.prototype.registerModifier=function(e,t,r){this.events.newToken.subscribe((function(i,n){var s=[i,n],o=[i,n];if(null===t||!0===t.apply(this,s)){var a=r.apply(this,o);i.setState(e,a)}})),this.registeredModifiers.push(e)},ho.prototype.subscribe=function(e){return"function"==typeof e?this.subscribers.push(e)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}},ho.prototype.unsubscribe=function(e){this.subscribers.splice(e,1)},co.prototype.setCurrentIndex=function(e){this.index=e,this.current=this.context[e],this.backtrack=this.context.slice(0,e),this.lookahead=this.context.slice(e+1)},co.prototype.get=function(e){switch(!0){case 0===e:return this.current;case e<0&&Math.abs(e)<=this.backtrack.length:return this.backtrack.slice(e)[0];case e>0&&e<=this.lookahead.length:return this.lookahead[e-1];default:return null}},lo.prototype.rangeToText=function(e){if(e instanceof oo)return this.getRangeTokens(e).map((function(e){return e.char})).join("")},lo.prototype.getText=function(){return this.tokens.map((function(e){return e.char})).join("")},lo.prototype.getContext=function(e){return this.registeredContexts[e]||null},lo.prototype.on=function(e,t){var r=this.events[e];return r?r.subscribe(t):null},lo.prototype.dispatch=function(e,t){var r=this,i=this.events[e];i instanceof ho&&i.subscribers.forEach((function(e){e.apply(r,t||[])}))},lo.prototype.registerContextChecker=function(e,t,r){if(this.getContext(e))return{FAIL:"context name '"+e+"' is already registered."};if("function"!=typeof t)return{FAIL:"missing context start check."};if("function"!=typeof r)return{FAIL:"missing context end check."};var i=new ao(e,t,r);return this.registeredContexts[e]=i,this.contextCheckers.push(i),i},lo.prototype.getRangeTokens=function(e){var t=e.startIndex+e.endOffset;return[].concat(this.tokens.slice(e.startIndex,t))},lo.prototype.getContextRanges=function(e){var t=this.getContext(e);return t?t.ranges:{FAIL:"context checker '"+e+"' is not registered."}},lo.prototype.resetContextsRanges=function(){var e=this.registeredContexts;for(var t in e)e.hasOwnProperty(t)&&(e[t].ranges=[])},lo.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var e=this.tokens.map((function(e){return e.char})),t=0;t<e.length;t++){var r=new co(e,t);this.runContextCheck(r)}this.dispatch("updateContextsRanges",[this.registeredContexts])},lo.prototype.setEndOffset=function(e,t){var r=new oo(this.getContext(t).openRange.startIndex,e,t),i=this.getContext(t).ranges;return r.rangeId=t+"."+i.length,i.push(r),this.getContext(t).openRange=null,r},lo.prototype.runContextCheck=function(e){var t=this,r=e.index;this.contextCheckers.forEach((function(i){var n=i.contextName,s=t.getContext(n).openRange;if(!s&&i.checkStart(e)&&(s=new oo(r,null,n),t.getContext(n).openRange=s,t.dispatch("contextStart",[n,r])),s&&i.checkEnd(e)){var o=r-s.startIndex+1,a=t.setEndOffset(o,n);t.dispatch("contextEnd",[n,a])}}))},lo.prototype.tokenize=function(e){this.tokens=[],this.resetContextsRanges();var t=Array.from(e);this.dispatch("start");for(var r=0;r<t.length;r++){var i=t[r],n=new co(t,r);this.dispatch("next",[n]),this.runContextCheck(n);var s=new so(i);this.tokens.push(s),this.dispatch("newToken",[s,n])}return this.dispatch("end",[this.tokens]),this.tokens},go.prototype.getDefaultScriptFeaturesIndexes=function(){for(var e=this.font.tables.gsub.scripts,t=0;t<e.length;t++){var r=e[t];if("DFLT"===r.tag)return r.script.defaultLangSys.featureIndexes}return[]},go.prototype.getScriptFeaturesIndexes=function(e){if(!this.font.tables.gsub)return[];if(!e)return this.getDefaultScriptFeaturesIndexes();for(var t=this.font.tables.gsub.scripts,r=0;r<t.length;r++){var i=t[r];if(i.tag===e&&i.script.defaultLangSys)return i.script.defaultLangSys.featureIndexes;var n=i.langSysRecords;if(n)for(var s=0;s<n.length;s++){var o=n[s];if(o.tag===e)return o.langSys.featureIndexes}}return this.getDefaultScriptFeaturesIndexes()},go.prototype.mapTagsToFeatures=function(e,t){for(var r={},i=0;i<e.length;i++){var n=e[i].tag,s=e[i].feature;r[n]=s}this.features[t].tags=r},go.prototype.getScriptFeatures=function(e){var t=this.features[e];if(this.features.hasOwnProperty(e))return t;var r=this.getScriptFeaturesIndexes(e);if(!r)return null;var i=this.font.tables.gsub;return t=r.map((function(e){return i.features[e]})),this.features[e]=t,this.mapTagsToFeatures(t,e),t},go.prototype.getSubstitutionType=function(e,t){return e.lookupType.toString()+t.substFormat.toString()},go.prototype.getLookupMethod=function(e,t){var r=this;switch(this.getSubstitutionType(e,t)){case"11":return function(e){return wo.apply(r,[e,t])};case"12":return function(e){return So.apply(r,[e,t])};case"63":return function(e){return xo.apply(r,[e,t])};case"41":return function(e){return To.apply(r,[e,t])};case"21":return function(e){return Po.apply(r,[e,t])};default:throw new Error("lookupType: "+e.lookupType+" - substFormat: "+t.substFormat+" is not yet supported")}},go.prototype.lookupFeature=function(e){var t=e.contextParams,r=t.index,i=this.getFeature({tag:e.tag,script:e.script});if(!i)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+e.tag+"' for script '"+e.script+"'.");for(var n=this.getFeatureLookups(i),s=[].concat(t.context),o=0;o<n.length;o++)for(var a=n[o],c=this.getLookupSubtables(a),h=0;h<c.length;h++){var u=c[h],l=this.getSubstitutionType(a,u),d=this.getLookupMethod(a,u),p=void 0;switch(l){case"11":(p=d(t.current))&&s.splice(r,1,new yo({id:11,tag:e.tag,substitution:p}));break;case"12":(p=d(t.current))&&s.splice(r,1,new yo({id:12,tag:e.tag,substitution:p}));break;case"63":p=d(t),Array.isArray(p)&&p.length&&s.splice(r,1,new yo({id:63,tag:e.tag,substitution:p}));break;case"41":(p=d(t))&&s.splice(r,1,new yo({id:41,tag:e.tag,substitution:p}));break;case"21":(p=d(t.current))&&s.splice(r,1,new yo({id:21,tag:e.tag,substitution:p}))}t=new co(s,r),Array.isArray(p)&&!p.length||(p=null)}return s.length?s:null},go.prototype.supports=function(e){if(!e.script)return!1;this.getScriptFeatures(e.script);var t=this.features.hasOwnProperty(e.script);if(!e.tag)return t;var r=this.features[e.script].some((function(t){return t.tag===e.tag}));return t&&r},go.prototype.getLookupSubtables=function(e){return e.subtables||null},go.prototype.getLookupByIndex=function(e){return this.font.tables.gsub.lookups[e]||null},go.prototype.getFeatureLookups=function(e){return e.lookupListIndexes.map(this.getLookupByIndex.bind(this))},go.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var t=this.features[e.script];return t?t.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};var No={startCheck:function(e){var t=e.current,r=e.get(-1);return null===r&&po(t)||!po(r)&&po(t)},endCheck:function(e){var t=e.get(1);return null===t||!po(t)}},Co={startCheck:function(e){var t=e.current,r=e.get(-1);return(po(t)||vo(t))&&!po(r)},endCheck:function(e){var t=e.get(1);switch(!0){case null===t:return!0;case!po(t)&&!vo(t):var r=/\s/.test(t);if(!r)return!0;if(r)if(!e.lookahead.some((function(e){return po(e)||vo(e)})))return!0;break;default:return!1}}},ko={11:function(e,t,r){t[r].setState(e.tag,e.substitution)},12:function(e,t,r){t[r].setState(e.tag,e.substitution)},63:function(e,t,r){e.substitution.forEach((function(i,n){t[r+n].setState(e.tag,i)}))},41:function(e,t,r){var i=t[r];i.setState(e.tag,e.substitution.ligGlyph);for(var n=e.substitution.components.length,s=0;s<n;s++)(i=t[r+s+1]).setState("deleted",!0)}};function Do(e,t,r){e instanceof yo&&ko[e.id]&&ko[e.id](e,t,r)}function Oo(e){var t=this,r="arab",i=this.featuresTags[r],n=this.tokenizer.getRangeTokens(e);if(1!==n.length){var s=new co(n.map((function(e){return e.getState("glyphIndex")})),0),o=new co(n.map((function(e){return e.char})),0);n.forEach((function(e,a){if(!vo(e.char)){s.setCurrentIndex(a),o.setCurrentIndex(a);var c,h=0;switch(function(e){for(var t=[].concat(e.backtrack),r=t.length-1;r>=0;r--){var i=t[r],n=fo(i),s=vo(i);if(!n&&!s)return!0;if(n)return!1}return!1}(o)&&(h|=1),function(e){if(fo(e.current))return!1;for(var t=0;t<e.lookahead.length;t++)if(!vo(e.lookahead[t]))return!0;return!1}(o)&&(h|=2),h){case 1:c="fina";break;case 2:c="init";break;case 3:c="medi"}if(-1!==i.indexOf(c)){var u=t.query.lookupFeature({tag:c,script:r,contextParams:s});if(u instanceof Error)return console.info(u.message);u.forEach((function(e,t){e instanceof yo&&(Do(e,n,t),s.context[t]=e.substitution)}))}}}))}}function Ao(e,t){return new co(e.map((function(e){return e.activeState.value})),t||0)}function Fo(e){var t=this,r=this.tokenizer.getRangeTokens(e),i=Ao(r);i.context.forEach((function(e,n){i.setCurrentIndex(n);var s=t.query.lookupFeature({tag:"rlig",script:"arab",contextParams:i});s.length&&(s.forEach((function(e){return Do(e,r,n)})),i=Ao(r))}))}var Ro={startCheck:function(e){var t=e.current,r=e.get(-1);return null===r&&mo(t)||!mo(r)&&mo(t)},endCheck:function(e){var t=e.get(1);return null===t||!mo(t)}};function Bo(e,t){return new co(e.map((function(e){return e.activeState.value})),t||0)}function Mo(e){var t=this,r=this.tokenizer.getRangeTokens(e),i=Bo(r);i.context.forEach((function(e,n){i.setCurrentIndex(n);var s=t.query.lookupFeature({tag:"liga",script:"latn",contextParams:i});s.length&&(s.forEach((function(e){return Do(e,r,n)})),i=Bo(r))}))}function Lo(e){this.baseDir=e||"ltr",this.tokenizer=new lo,this.featuresTags={}}function Io(e){var t=this.contextChecks[e+"Check"];return this.tokenizer.registerContextChecker(e,t.startCheck,t.endCheck)}function Wo(){return Io.call(this,"latinWord"),Io.call(this,"arabicWord"),Io.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function Uo(){var e=this;this.tokenizer.getContextRanges("arabicSentence").forEach((function(t){var r=e.tokenizer.getRangeTokens(t);e.tokenizer.replaceRange(t.startIndex,t.endOffset,r.reverse())}))}function _o(){if(-1===this.tokenizer.registeredModifiers.indexOf("glyphIndex"))throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function Ho(){var e=this;this.featuresTags.hasOwnProperty("arab")&&(_o.call(this),this.tokenizer.getContextRanges("arabicWord").forEach((function(t){Oo.call(e,t)})))}function Go(){var e=this,t="arab";this.featuresTags.hasOwnProperty(t)&&-1!==this.featuresTags[t].indexOf("rlig")&&(_o.call(this),this.tokenizer.getContextRanges("arabicWord").forEach((function(t){Fo.call(e,t)})))}function Vo(){var e=this,t="latn";this.featuresTags.hasOwnProperty(t)&&-1!==this.featuresTags[t].indexOf("liga")&&(_o.call(this),this.tokenizer.getContextRanges("latinWord").forEach((function(t){Mo.call(e,t)})))}function zo(e){(e=e||{}).tables=e.tables||{},e.empty||(cs(e.familyName,"When creating a new Font object, familyName is required."),cs(e.styleName,"When creating a new Font object, styleName is required."),cs(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),cs(e.ascender,"When creating a new Font object, ascender is required."),cs(e.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables=Object.assign(e.tables,{os2:Object.assign({usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR},e.tables.os2)})),this.supported=!0,this.glyphs=new en.GlyphSet(this,e.glyphs||[]),this.encoding=new $i(this),this.position=new ns(this),this.substitution=new ss(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new bs(this):void 0}})}function jo(e,t){var r=JSON.stringify(e),i=256;for(var n in t){var s=parseInt(n);if(s&&!(s<256)){if(JSON.stringify(t[n])===r)return s;i<=s&&(i=s+1)}}return t[i]=e,i}function $o(e,t,r){var i=jo(t.name,r);return[{name:"tag_"+e,type:"TAG",value:t.tag},{name:"minValue_"+e,type:"FIXED",value:t.minValue<<16},{name:"defaultValue_"+e,type:"FIXED",value:t.defaultValue<<16},{name:"maxValue_"+e,type:"FIXED",value:t.maxValue<<16},{name:"flags_"+e,type:"USHORT",value:0},{name:"nameID_"+e,type:"USHORT",value:i}]}function qo(e,t,r){var i={},n=new Ui.Parser(e,t);return i.tag=n.parseTag(),i.minValue=n.parseFixed(),i.defaultValue=n.parseFixed(),i.maxValue=n.parseFixed(),n.skip("uShort",1),i.name=r[n.parseUShort()]||{},i}function Yo(e,t,r,i){for(var n=[{name:"nameID_"+e,type:"USHORT",value:jo(t.name,i)},{name:"flags_"+e,type:"USHORT",value:0}],s=0;s<r.length;++s){var o=r[s].tag;n.push({name:"axis_"+e+" "+o,type:"FIXED",value:t.coordinates[o]<<16})}return n}function Xo(e,t,r,i){var n={},s=new Ui.Parser(e,t);n.name=i[s.parseUShort()]||{},s.skip("uShort",1),n.coordinates={};for(var o=0;o<r.length;++o)n.coordinates[r[o].tag]=s.parseFixed();return n}Lo.prototype.setText=function(e){this.text=e},Lo.prototype.contextChecks={latinWordCheck:Ro,arabicWordCheck:No,arabicSentenceCheck:Co},Lo.prototype.registerFeatures=function(e,t){var r=this,i=t.filter((function(t){return r.query.supports({script:e,tag:t})}));this.featuresTags.hasOwnProperty(e)?this.featuresTags[e]=this.featuresTags[e].concat(i):this.featuresTags[e]=i},Lo.prototype.applyFeatures=function(e,t){if(!e)throw new Error("No valid font was provided to apply features");this.query||(this.query=new go(e));for(var r=0;r<t.length;r++){var i=t[r];this.query.supports({script:i.script})&&this.registerFeatures(i.script,i.tags)}},Lo.prototype.registerModifier=function(e,t,r){this.tokenizer.registerModifier(e,t,r)},Lo.prototype.checkContextReady=function(e){return!!this.tokenizer.getContext(e)},Lo.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(Ho.call(this),Go.call(this)),this.checkContextReady("latinWord")&&Vo.call(this),this.checkContextReady("arabicSentence")&&Uo.call(this)},Lo.prototype.processText=function(e){this.text&&this.text===e||(this.setText(e),Wo.call(this),this.applyFeaturesToContexts())},Lo.prototype.getBidiText=function(e){return this.processText(e),this.tokenizer.getText()},Lo.prototype.getTextGlyphs=function(e){this.processText(e);for(var t=[],r=0;r<this.tokenizer.tokens.length;r++){var i=this.tokenizer.tokens[r];if(!i.state.deleted){var n=i.activeState.value;t.push(Array.isArray(n)?n[0]:n)}}return t},zo.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},zo.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},zo.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e),r=this.glyphs.get(t);return r||(r=this.glyphs.get(0)),r},zo.prototype.updateFeatures=function(e){return this.defaultRenderOptions.features.map((function(t){return"latn"===t.script?{script:"latn",tags:t.tags.filter((function(t){return e[t]}))}:t}))},zo.prototype.stringToGlyphs=function(e,t){var r=this,i=new Lo;i.registerModifier("glyphIndex",null,(function(e){return r.charToGlyphIndex(e.char)}));var n=t?this.updateFeatures(t.features):this.defaultRenderOptions.features;i.applyFeatures(this,n);for(var s=i.getTextGlyphs(e),o=s.length,a=new Array(o),c=this.glyphs.get(0),h=0;h<o;h+=1)a[h]=this.glyphs.get(s[h])||c;return a},zo.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},zo.prototype.nameToGlyph=function(e){var t=this.nameToGlyphIndex(e),r=this.glyphs.get(t);return r||(r=this.glyphs.get(0)),r},zo.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},zo.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var r=this.position.defaultKerningTables;return r?this.position.getKerningValue(r,e,t):this.kerningPairs[e+","+t]||0},zo.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]},zo.prototype.forEachGlyph=function(e,t,r,i,n,s){t=void 0!==t?t:0,r=void 0!==r?r:0,i=void 0!==i?i:72,n=Object.assign({},this.defaultRenderOptions,n);var o,a=1/this.unitsPerEm*i,c=this.stringToGlyphs(e,n);if(n.kerning){var h=n.script||this.position.getDefaultScriptName();o=this.position.getKerningTables(h,n.language)}for(var u=0;u<c.length;u+=1){var l=c[u];s.call(this,l,t,r,i,n),l.advanceWidth&&(t+=l.advanceWidth*a),n.kerning&&u<c.length-1&&(t+=(o?this.position.getKerningValue(o,l.index,c[u+1].index):this.getKerningValue(l,c[u+1]))*a),n.letterSpacing?t+=n.letterSpacing*i:n.tracking&&(t+=n.tracking/1e3*i)}return t},zo.prototype.getPath=function(e,t,r,i,n){var s=new oi;return this.forEachGlyph(e,t,r,i,n,(function(e,t,r,i){var o=e.getPath(t,r,i,n,this);s.extend(o)})),s},zo.prototype.getPaths=function(e,t,r,i,n){var s=[];return this.forEachGlyph(e,t,r,i,n,(function(e,t,r,i){var o=e.getPath(t,r,i,n,this);s.push(o)})),s},zo.prototype.getAdvanceWidth=function(e,t,r){return this.forEachGlyph(e,0,0,t,r,(function(){}))},zo.prototype.draw=function(e,t,r,i,n,s){this.getPath(t,r,i,n,s).draw(e)},zo.prototype.drawPoints=function(e,t,r,i,n,s){this.forEachGlyph(t,r,i,n,s,(function(t,r,i,n){t.drawPoints(e,r,i,n)}))},zo.prototype.drawMetrics=function(e,t,r,i,n,s){this.forEachGlyph(t,r,i,n,s,(function(t,r,i,n){t.drawMetrics(e,r,i,n)}))},zo.prototype.getEnglishName=function(e){var t=this.names[e];if(t)return t.en},zo.prototype.validate=function(){var e=this;function t(t){var r=e.getEnglishName(t);r&&r.trim().length}t("fontFamily"),t("weightName"),t("manufacturer"),t("copyright"),t("version"),this.unitsPerEm},zo.prototype.toTables=function(){return Kn(this)},zo.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},zo.prototype.toArrayBuffer=function(){for(var e=this.toTables().encode(),t=new ArrayBuffer(e.length),r=new Uint8Array(t),i=0;i<e.length;i++)r[i]=e[i];return t},zo.prototype.download=function(e){var t=this.getEnglishName("fontFamily"),i=this.getEnglishName("fontSubfamily");e=e||t.replace(/\s/g,"")+"-"+i+".otf";var n=this.toArrayBuffer();if("undefined"!=typeof window)if(window.URL=window.URL||window.webkitURL,window.URL){var s=new DataView(n),o=new Blob([s],{type:"font/opentype"}),a=document.createElement("a");a.href=window.URL.createObjectURL(o),a.download=e;var c=document.createEvent("MouseEvents");c.initEvent("click",!0,!1),a.dispatchEvent(c)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var h=r(256),u=function(e){for(var t=new Buffer(e.byteLength),r=new Uint8Array(e),i=0;i<t.length;++i)t[i]=r[i];return t}(n);h.writeFileSync(e,u)}},zo.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},zo.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},zo.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Zo={make:function(e,t){var r=new Ai.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:e.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:e.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*e.axes.length}]);r.offsetToData=r.sizeOf();for(var i=0;i<e.axes.length;i++)r.fields=r.fields.concat($o(i,e.axes[i],t));for(var n=0;n<e.instances.length;n++)r.fields=r.fields.concat(Yo(n,e.instances[n],e.axes,t));return r},parse:function(e,t,r){var i=new Ui.Parser(e,t),n=i.parseULong();hi.argument(65536===n,"Unsupported fvar table version.");var s=i.parseOffset16();i.skip("uShort",1);for(var o=i.parseUShort(),a=i.parseUShort(),c=i.parseUShort(),h=i.parseUShort(),u=[],l=0;l<o;l++)u.push(qo(e,t+s+l*a,r));for(var d=[],p=t+s+o*a,f=0;f<c;f++)d.push(Xo(e,p+f*h,u,r));return{axes:u,instances:d}}},Qo=function(){return{coverage:this.parsePointer(Ii.coverage),attachPoints:this.parseList(Ii.pointer(Ii.uShortList))}},Jo=function(){var e=this.parseUShort();return hi.argument(1===e||2===e||3===e,"Unsupported CaretValue table version."),1===e?{coordinate:this.parseShort()}:2===e?{pointindex:this.parseShort()}:3===e?{coordinate:this.parseShort()}:void 0},Ko=function(){return this.parseList(Ii.pointer(Jo))},ea=function(){return{coverage:this.parsePointer(Ii.coverage),ligGlyphs:this.parseList(Ii.pointer(Ko))}},ta=function(){return this.parseUShort(),this.parseList(Ii.pointer(Ii.coverage))},ra={parse:function(e,t){var r=new Ii(e,t=t||0),i=r.parseVersion(1);hi.argument(1===i||1.2===i||1.3===i,"Unsupported GDEF table version.");var n={version:i,classDef:r.parsePointer(Ii.classDef),attachList:r.parsePointer(Qo),ligCaretList:r.parsePointer(ea),markAttachClassDef:r.parsePointer(Ii.classDef)};return i>=1.2&&(n.markGlyphSets=r.parsePointer(ta)),n}},ia=new Array(10);ia[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{posFormat:1,coverage:this.parsePointer(Ii.coverage),value:this.parseValueRecord()}:2===t?{posFormat:2,coverage:this.parsePointer(Ii.coverage),values:this.parseValueRecordList()}:void hi.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},ia[2]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();hi.assert(1===t||2===t,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var r=this.parsePointer(Ii.coverage),i=this.parseUShort(),n=this.parseUShort();if(1===t)return{posFormat:t,coverage:r,valueFormat1:i,valueFormat2:n,pairSets:this.parseList(Ii.pointer(Ii.list((function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(i),value2:this.parseValueRecord(n)}}))))};if(2===t){var s=this.parsePointer(Ii.classDef),o=this.parsePointer(Ii.classDef),a=this.parseUShort(),c=this.parseUShort();return{posFormat:t,coverage:r,valueFormat1:i,valueFormat2:n,classDef1:s,classDef2:o,class1Count:a,class2Count:c,classRecords:this.parseList(a,Ii.list(c,(function(){return{value1:this.parseValueRecord(i),value2:this.parseValueRecord(n)}})))}}},ia[3]=function(){return{error:"GPOS Lookup 3 not supported"}},ia[4]=function(){return{error:"GPOS Lookup 4 not supported"}},ia[5]=function(){return{error:"GPOS Lookup 5 not supported"}},ia[6]=function(){return{error:"GPOS Lookup 6 not supported"}},ia[7]=function(){return{error:"GPOS Lookup 7 not supported"}},ia[8]=function(){return{error:"GPOS Lookup 8 not supported"}},ia[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var na=new Array(10),sa={parse:function(e,t){var r=new Ii(e,t=t||0),i=r.parseVersion(1);return hi.argument(1===i||1.1===i,"Unsupported GPOS table version "+i),1===i?{version:i,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(ia)}:{version:i,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(ia),variations:r.parseFeatureVariationsList()}},make:function(e){return new Ai.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ai.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new Ai.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new Ai.LookupList(e.lookups,na)}])}},oa={parse:function(e,t){var r=new Ui.Parser(e,t),i=r.parseUShort();if(0===i)return function(e){var t={};e.skip("uShort");var r=e.parseUShort();hi.argument(0===r,"Unsupported kern sub-table version."),e.skip("uShort",2);var i=e.parseUShort();e.skip("uShort",3);for(var n=0;n<i;n+=1){var s=e.parseUShort(),o=e.parseUShort(),a=e.parseShort();t[s+","+o]=a}return t}(r);if(1===i)return function(e){var t={};e.skip("uShort"),e.parseULong()>1&&console.warn("Only the first kern subtable is supported."),e.skip("uLong");var r=255&e.parseUShort();if(e.skip("uShort"),0===r){var i=e.parseUShort();e.skip("uShort",3);for(var n=0;n<i;n+=1){var s=e.parseUShort(),o=e.parseUShort(),a=e.parseShort();t[s+","+o]=a}}return t}(r);throw new Error("Unsupported kern table version ("+i+").")}},aa={parse:function(e,t,r,i){for(var n=new Ui.Parser(e,t),s=i?n.parseUShort:n.parseULong,o=[],a=0;a<r+1;a+=1){var c=s.call(n);i&&(c*=2),o.push(c)}return o}};function ca(e,t){r(256).readFile(e,(function(e,r){if(e)return t(e.message);t(null,function(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),i=0;i<e.length;++i)r[i]=e[i];return t}(r))}))}function ha(e,t){var r=new XMLHttpRequest;r.open("get",e,!0),r.responseType="arraybuffer",r.onload=function(){return r.response?t(null,r.response):t("Font could not be loaded: "+r.statusText)},r.onerror=function(){t("Font could not be loaded")},r.send()}function ua(e,t){for(var r=[],i=12,n=0;n<t;n+=1){var s=Ui.getTag(e,i),o=Ui.getULong(e,i+4),a=Ui.getULong(e,i+8),c=Ui.getULong(e,i+12);r.push({tag:s,checksum:o,offset:a,length:c,compression:!1}),i+=16}return r}function la(e,t){if("WOFF"===t.compression){var r=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2),i=new Uint8Array(t.length);if(ii(r,i),i.byteLength!==t.length)throw new Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");return{data:new DataView(i.buffer,0),offset:0}}return{data:e,offset:t.offset}}function da(e,t){var r,i;t=null==t?{}:t;var n,s,o,a,c,h,u,l,d,p,f,v,m,g=new zo({empty:!0}),y=new DataView(e,0),b=[],w=Ui.getTag(y,0);if(w===String.fromCharCode(0,1,0,0)||"true"===w||"typ1"===w)g.outlinesFormat="truetype",b=ua(y,n=Ui.getUShort(y,4));else if("OTTO"===w)g.outlinesFormat="cff",b=ua(y,n=Ui.getUShort(y,4));else{if("wOFF"!==w)throw new Error("Unsupported OpenType signature "+w);var S=Ui.getTag(y,4);if(S===String.fromCharCode(0,1,0,0))g.outlinesFormat="truetype";else{if("OTTO"!==S)throw new Error("Unsupported OpenType flavor "+w);g.outlinesFormat="cff"}b=function(e,t){for(var r=[],i=44,n=0;n<t;n+=1){var s,o=Ui.getTag(e,i),a=Ui.getULong(e,i+4),c=Ui.getULong(e,i+8),h=Ui.getULong(e,i+12);s=c<h&&"WOFF",r.push({tag:o,offset:a,compression:s,compressedLength:c,length:h}),i+=20}return r}(y,n=Ui.getUShort(y,12))}for(var E=0;E<n;E+=1){var x=b[E],T=void 0;switch(x.tag){case"cmap":T=la(y,x),g.tables.cmap=Hi.parse(T.data,T.offset),g.encoding=new qi(g.tables.cmap);break;case"cvt ":T=la(y,x),m=new Ui.Parser(T.data,T.offset),g.tables.cvt=m.parseShortList(x.length/2);break;case"fvar":o=x;break;case"fpgm":T=la(y,x),m=new Ui.Parser(T.data,T.offset),g.tables.fpgm=m.parseByteList(x.length);break;case"head":T=la(y,x),g.tables.head=Sn.parse(T.data,T.offset),g.unitsPerEm=g.tables.head.unitsPerEm,r=g.tables.head.indexToLocFormat;break;case"hhea":T=la(y,x),g.tables.hhea=En.parse(T.data,T.offset),g.ascender=g.tables.hhea.ascender,g.descender=g.tables.hhea.descender,g.numberOfHMetrics=g.tables.hhea.numberOfHMetrics;break;case"hmtx":l=x;break;case"ltag":T=la(y,x),i=Tn.parse(T.data,T.offset);break;case"maxp":T=la(y,x),g.tables.maxp=Pn.parse(T.data,T.offset),g.numGlyphs=g.tables.maxp.numGlyphs;break;case"name":f=x;break;case"OS/2":T=la(y,x),g.tables.os2=_n.parse(T.data,T.offset);break;case"post":T=la(y,x),g.tables.post=Hn.parse(T.data,T.offset),g.glyphNames=new Xi(g.tables.post);break;case"prep":T=la(y,x),m=new Ui.Parser(T.data,T.offset),g.tables.prep=m.parseByteList(x.length);break;case"glyf":a=x;break;case"loca":p=x;break;case"CFF ":s=x;break;case"kern":d=x;break;case"GDEF":c=x;break;case"GPOS":h=x;break;case"GSUB":u=x;break;case"meta":v=x}}var P=la(y,f);if(g.tables.name=Wn.parse(P.data,P.offset,i),g.names=g.tables.name,a&&p){var N=0===r,C=la(y,p),k=aa.parse(C.data,C.offset,g.numGlyphs,N),D=la(y,a);g.glyphs=ys.parse(D.data,D.offset,k,g,t)}else{if(!s)throw new Error("Font doesn't contain TrueType or CFF outlines.");var O=la(y,s);wn.parse(O.data,O.offset,g,t)}var A=la(y,l);if(xn.parse(g,A.data,A.offset,g.numberOfHMetrics,g.numGlyphs,g.glyphs,t),function(e,t){t.lowMemory?function(e){e._IndexToUnicodeMap={};for(var t=e.tables.cmap.glyphIndexMap,r=Object.keys(t),i=0;i<r.length;i+=1){var n=r[i],s=t[n];void 0===e._IndexToUnicodeMap[s]?e._IndexToUnicodeMap[s]={unicodes:[parseInt(n)]}:e._IndexToUnicodeMap[s].unicodes.push(parseInt(n))}}(e):function(e){for(var t,r=e.tables.cmap.glyphIndexMap,i=Object.keys(r),n=0;n<i.length;n+=1){var s=i[n],o=r[s];(t=e.glyphs.get(o)).addUnicode(parseInt(s))}for(var a=0;a<e.glyphs.length;a+=1)t=e.glyphs.get(a),e.cffEncoding?e.isCIDFont?t.name="gid"+a:t.name=e.cffEncoding.charset[a]:e.glyphNames.names&&(t.name=e.glyphNames.glyphIndexToName(a))}(e)}(g,t),d){var F=la(y,d);g.kerningPairs=oa.parse(F.data,F.offset)}else g.kerningPairs={};if(c){var R=la(y,c);g.tables.gdef=ra.parse(R.data,R.offset)}if(h){var B=la(y,h);g.tables.gpos=sa.parse(B.data,B.offset),g.position.init()}if(u){var M=la(y,u);g.tables.gsub=jn.parse(M.data,M.offset)}if(o){var L=la(y,o);g.tables.fvar=Zo.parse(L.data,L.offset,g.names)}if(v){var I=la(y,v);g.tables.meta=$n.parse(I.data,I.offset),g.metas=g.tables.meta}return g}function pa(e,t,r,i,n=!0){const s=e.map((e=>{const i=t.shapes.wire.getWires({shape:e}),n=i.map((e=>t.shapes.wire.placeWireOnFace({wire:e,face:r.face}))),s=t.shapes.face.createFaceFromWires({shapes:n,planar:r.facePlanar}),o=new Y.G0.OCCT.BasicShapeRepairDto;o.shape=s,o.minTolerance=1e-8,o.maxTolerance=1e-4;const a=t.shapeFix.basicShapeRepair(o),c=t.shapes.face.getFaces({shape:a});return i.forEach((e=>e.delete())),n.forEach((e=>e.delete())),s.delete(),a.delete(),c})),o=new ir;let a;if(r.faceTextVar===j.separatedExtrusion&&0===r.height){a=t.shapes.compound.makeCompound({shapes:s.flat()});const e=s.map((e=>{const r=t.shapes.face.getFacesCentersOfMass({shapes:e});return i.averageVector(r)}));o.characterCenterCoordinates=e,o.characterParts=s.map(((e,r)=>({id:`character-${r.toString()}`,shapes:{compound:t.shapes.compound.makeCompound({shapes:e})}})))}else if(r.faceTextVar===j.separatedExtrusion&&0!==r.height){const e=s.map((e=>e.map((e=>t.operations.makeThickSolidSimple({shape:e,offset:r.height}))))),n=e.map((e=>{const r=t.shapes.solid.getSolidsCentersOfMass({shapes:e});return i.averageVector(r)}));o.characterCenterCoordinates=n,a=t.shapes.compound.makeCompound({shapes:e.flat()}),o.characterParts=e.map(((e,r)=>({id:`character-${r.toString()}`,shapes:{compound:t.shapes.compound.makeCompound({shapes:e})}})))}else if(r.faceTextVar===j.integratedExtrusion&&0!==r.height){const e=s.map((e=>e.map((e=>t.operations.makeThickSolidSimple({shape:e,offset:r.height}))))),c=e.map((e=>{const r=t.shapes.solid.getSolidsCentersOfMass({shapes:e});return i.averageVector(r)}));o.characterCenterCoordinates=c;const h=s.flat(),u=e.map((e=>e.map((e=>{const i=t.shapes.face.getFaces({shape:e}),n=i.filter((e=>{let t=!0;return h.some((t=>t.IsSame(e)))&&(t=!1),t}));r.height<0&&n.forEach((e=>e.Reverse()));const s=t.shapes.shell.sewFaces({shapes:n,tolerance:1e-4});return i.forEach((e=>e.delete())),s}))));if(e.forEach((e=>e.forEach((e=>e.delete())))),o.characterParts=u.map(((e,r)=>({id:`character-${r.toString()}`,shapes:{compound:t.shapes.compound.makeCompound({shapes:e})}}))),n){const e=t.booleans.difference({shape:r.face,shapes:h,keepEdges:!1}),i=t.shapes.face.getFaces({shape:e});e.delete(),a=t.shapes.shell.sewFaces({shapes:[...i,...u.flat()],tolerance:1e-4}),o.faceParts=i.map(((e,t)=>({id:`face-${t.toString()}`,type:0===t?$.cutout:$.cutoutInsideCharacter,shapes:{face:e}})))}else a=t.shapes.compound.makeCompound({shapes:o.characterParts.map((e=>e.shapes.compound))})}else if(r.faceTextVar===j.integratedExtrusion&&0===r.height)if(o.characterParts=s.map(((e,r)=>({id:`character-${r.toString()}`,shapes:{compound:t.shapes.compound.makeCompound({shapes:e})}}))),n){const e=s.flat(),n=t.booleans.difference({shape:r.face,shapes:e,keepEdges:!1}),c=t.shapes.face.getFaces({shape:n});n.delete();const h=t.shapes.shell.sewFaces({shapes:[...c,...s.flat()],tolerance:1e-4}),u=s.map((e=>{const r=t.shapes.face.getFacesCentersOfMass({shapes:e});return i.averageVector(r)}));o.characterCenterCoordinates=u,a=h,o.faceParts=c.map(((e,t)=>({id:`face-${t.toString()}`,type:0===t?$.cutout:$.cutoutInsideCharacter,shapes:{face:e}})))}else a=t.shapes.compound.makeCompound({shapes:o.characterParts.map((e=>e.shapes.compound))});else if(r.faceTextVar===j.cutout){if(o.characterParts=s.map(((e,r)=>({id:`character-${r.toString()}`,shapes:{compound:t.shapes.compound.makeCompound({shapes:e})}}))),n){const e=t.booleans.difference({shape:r.face,shapes:s.flat(),keepEdges:!1}),n=t.shapes.face.getFaces({shape:e}),c=s.map((e=>{const r=t.shapes.face.getFacesCentersOfMass({shapes:e});return i.averageVector(r)}));o.characterCenterCoordinates=c,a=e,o.faceParts=n.map(((e,t)=>({id:`face-${t.toString()}`,type:0===t?$.cutout:$.cutoutInsideCharacter,shapes:{face:e}})))}}else{const e=s.map((e=>t.shapes.compound.makeCompound({shapes:e}))),r=s.map((e=>{const r=t.shapes.face.getFacesCentersOfMass({shapes:e});return i.averageVector(r)}));o.characterCenterCoordinates=r,a=t.shapes.compound.makeCompound({shapes:e}),o.characterParts=e.map(((e,t)=>({id:`character-${t.toString()}`,shapes:{compound:e}})))}return{res:o,compound:a,placedFacesOfLetters:s}}function fa(e,t){if(e){const r=[],i=Y.$9.parse(e,r,"text-3d-face");return{compound:t,shapes:[{id:"1",shape:t},...r],data:Object.assign({compound:"1"},i)}}}function va(e,t,r,i,n,s){const o=new ir;if(e.length>0){const s=t.booleans.difference({shape:r,shapes:e,keepEdges:!1}),a=t.shapes.face.getFaces({shape:s});s.delete();const c=t.shapes.shell.sewFaces({shapes:[...a,...i],tolerance:1e-4});o.compound=c,n.length>0&&(o.compound=t.shapes.compound.makeCompound({shapes:[...n,c]})),o.faceParts=a.map(((e,t)=>({id:`face-${t.toString()}`,type:0===t?$.cutout:$.cutoutInsideCharacter,shapes:{face:e}})))}else o.compound=t.shapes.compound.makeCompound({shapes:s.map((e=>e.compound))});return o}class ma{constructor(e,t,r,i){this.fonts=[],this.occtService=e,this.dependencies=t,this.occ=r,this.vectorHelper=i}loadFonts(e){return t=this,r=void 0,n=function*(){return new Promise(((t,r)=>{try{void 0!==e&&Array.isArray(e)&&0===e.length&&t({});const r=e?Zt.filter((t=>e.includes(t.key))):Zt,i=r.reduce(((e,t)=>e+t.variants.length),0);let n=0;r.forEach((e=>{e.variants.forEach((r=>{const s=e.key,o=`${s}-${r}`;!function(e,t,r){r=null==r?{}:r;var i="undefined"!=typeof window||r.isUrl?ha:ca;new Promise((function(n,s){i(e,(function(e,i){if(e){if(t)return t(e);s(e)}var o;try{o=da(i,r)}catch(e){if(t)return t(e,null);s(e)}if(t)return t(null,o);n(o)}))}))}(`${X.yI.BITBYBIT_CDN_URL}/fonts/${s}/${o}.ttf`,((e,a)=>{e||(this.fonts.push({name:o,type:s,variant:r,font:a}),n++,n===i&&t({}))}),{isUrl:!0})}))}))}catch(e){r(e)}}))},new((i=void 0)||(i=Promise))((function(e,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i((function(e){e(r)}))).then(o,a)}c((n=n.apply(t,r||[])).next())}));var t,r,i,n}text3dUrl(e){return Ar(e,this.occtService,this.occ)}text3d(e){return Fr(e,this.occtService,this.fonts,this.occ)}text3dFace(e){return function(e,t,r,i,n){const s=new Y.G0.OCCT.DataOnUVDto;s.shape=e.face,s.paramU=e.originParamU,s.paramV=e.originParamV;const o=t.shapes.face.uvOnFace(s),a=[o[1],0,o[0]],c=new Qt;c.direction=[0,1,0],c.fontSize=e.fontSize,c.fontType=e.fontType,c.fontVariant=e.fontVariant,c.height=0,c.origin=a,c.originAlignment=e.originAlignment,c.rotation=e.rotation,c.text=e.text;const h=Fr(c,t,r,i);h.data.name="text3dFace";const u=h.shapes.filter((e=>"1"!==e.id)).map((e=>e.shape)),{res:l,compound:d}=pa(u,t,e,n);return fa(l,d)}(e,this.occtService,this.fonts,this.occ,this.vectorHelper)}text3dFaceUrl(e){return function(e,t,r,i){const n=new Y.G0.OCCT.DataOnUVDto;n.shape=e.face,n.paramU=e.originParamU,n.paramV=e.originParamV;const s=t.shapes.face.uvOnFace(n),o=[s[1],0,s[0]],a=new Kt;a.direction=[0,1,0],a.fontSize=e.fontSize,a.letterPaths=e.letterPaths,a.height=0,a.origin=o,a.originAlignment=e.originAlignment,a.rotation=e.rotation,a.text=e.text;const c=Ar(a,t,r);c.data.name="text3dFace";const h=c.shapes.filter((e=>"1"!==e.id)).map((e=>e.shape)),{res:u,compound:l}=pa(h,t,e,i);return fa(u,l)}(e,this.occtService,this.occ,this.vectorHelper)}texts3dFace(e){return function(e,t,r,i,n){const s=[],o=[],a=[],c=e.definitions.map((c=>{const h=new Y.G0.OCCT.DataOnUVDto;h.shape=e.face,h.paramU=c.originParamU,h.paramV=c.originParamV;const u=t.shapes.face.uvOnFace(h),l=[u[1],0,u[0]],d=new Qt;return d.direction=[0,1,0],d.fontSize=c.fontSize,d.fontType=c.fontType,d.fontVariant=c.fontVariant,d.height=0,d.origin=l,d.originAlignment=c.originAlignment,d.rotation=c.rotation,d.text=c.text,function(e,t,r,i,n,s,o,a,c){e.data.name="text3dFace";const h=pa(e.shapes.filter((e=>"1"!==e.id)).map((e=>e.shape)),t,Object.assign({face:r,facePlanar:i},n),s,!1);return n.faceTextVar!==j.cutout&&n.faceTextVar!==j.integratedExtrusion||o.push(...h.placedFacesOfLetters.flat()),n.faceTextVar===j.integratedExtrusion?h.res.characterParts.forEach((e=>a.push(e.shapes.compound))):n.faceTextVar===j.separatedExtrusion&&c.push(h.compound),h}(Fr(d,t,r,i),t,e.face,e.facePlanar,c,n,s,o,a)})),h=va(s,t,e.face,o,a,c);h.originalInputs=e;const u=c.map((e=>e.res.characterParts)).flat();return u.forEach(((e,t)=>e.id=`texts-character-${t}-${e.id}`)),h.characterParts=u,fa(h,h.compound)}(e,this.occtService,this.fonts,this.occ,this.vectorHelper)}texts3dFaceUrl(e){return function(e,t,r,i){const n=[],s=[],o=[],a=e.definitions.map((a=>{const c=new Y.G0.OCCT.DataOnUVDto;c.shape=e.face,c.paramU=a.originParamU,c.paramV=a.originParamV;const h=t.shapes.face.uvOnFace(c),u=[h[1],0,h[0]],l=new Kt;return l.direction=[0,1,0],l.fontSize=a.fontSize,l.letterPaths=a.letterPaths,l.height=0,l.origin=u,l.originAlignment=a.originAlignment,l.rotation=a.rotation,l.text=a.text,function(e,t,r,i,n,s,o,a){e.data.name="text3dFace";const c=pa(e.shapes.filter((e=>"1"!==e.id)).map((e=>e.shape)),t,Object.assign({face:r.face,facePlanar:r.facePlanar},i),n,!1);return i.faceTextVar!==j.cutout&&i.faceTextVar!==j.integratedExtrusion||s.push(...c.placedFacesOfLetters.flat()),i.faceTextVar===j.integratedExtrusion?c.res.characterParts.forEach((e=>o.push(e.shapes.compound))):i.faceTextVar===j.separatedExtrusion&&a.push(c.compound),c}(Ar(l,t,r),t,e,a,i,n,s,o)})),c=va(n,t,e.face,s,o,a),h=a.map((e=>e.res.characterParts)).flat();return h.forEach(((e,t)=>e.id=`texts-character-${t}-${e.id}`)),c.characterParts=h,fa(c,c.compound)}(e,this.occtService,this.occ,this.vectorHelper)}pyramidSimple(e){return function(e,t,r,i,n){if(function(e){let t;if(["uNumber","vNumber","height","precision"].forEach((r=>{isNaN(e[r])&&(t=`"${r}" must be a number.`)})),e.uNumber<=0?t="U number mus be greater than 0.":e.vNumber<=0?t="V number must be greater than 0.":e.precision<=0&&(t="Precision must be greater than 0."),t)throw new Error(t)}(e),!n.patternsFacePatternPyramidSimple)throw new Error("Could not compute, to use Pyramid Simple algorithm you must be subscribed to our silver or gold plan.");try{const s=`\n            ${n.patternsFacePatternPyramidSimple}\n        `,o=new Function(s),a={name:"pyramidSimple"};return o.apply({inputs:e,occt:t,occ:r,vectorHelper:i,Inputs:Y.G0,Advanced:H,ShapeParser:Y.$9,method:a})}catch(e){throw new Error(e)}}(e,this.occtService,this.occ,this.vectorHelper,this.dependencies)}pyramidSimpleAffectors(e){return function(e,t,r,i,n){if(function(e){let t;if(["uNumber","vNumber","defaultHeight","affectMinHeight","affectMaxHeight","precision"].forEach((r=>{isNaN(e[r])&&(t=`"${r}" must be a number.`)})),e.uNumber<=0?t="U number mus be greater than 0.":e.vNumber<=0?t="V number must be greater than 0.":e.precision<=0&&(t="Precision must be greater than 0."),t)throw new Error(t)}(e),!n.patternsFacePatternPyramidSimple)throw new Error("Could not compute, to use Pyramid Simple Affectors algorithm you must be subscribed to our silver or gold plan.");try{const s=`\n            ${n.patternsFacePatternPyramidSimple}\n        `,o=new Function(s),a={name:"pyramidSimpleAffectors"};return o.apply({inputs:e,occt:t,occ:r,vectorHelper:i,Inputs:Y.G0,Advanced:H,ShapeParser:Y.$9,method:a})}catch(e){throw new Error(e)}}(e,this.occtService,this.occ,this.vectorHelper,this.dependencies)}}class ga{constructor(e){this.dependencies={serenitySwirl:void 0};const t=new Y.V0,r=new Y.yd,i=new ya;this.occtService=new Y.vk(e,new Y.G6(t,r,e)),this.advanced=new ma(this.occtService,this.dependencies,e,t),this.things=new Or(this.occtService,this.advanced,this.dependencies,i)}}class ya{constructor(){this.geometryHelper=new X.Jq,this.math=new X.uX,this.vector=new X.Mi(this.math,this.geometryHelper),this.logic=new X.V2,this.lists=new X.Q8}}},454:(e,t,r)=>{r.a(e,(async(e,t)=>{try{var i=r(466),n=r(170),s=r(139),o=r(975),a=e([s]);s=(a.then?(await a)():a)[0];var c=function(){return c=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},c.apply(this,arguments)},h=o.yI.BITBYBIT_CDN_URL+"/workers/",u=o.yI.BITBYBIT_CDN_URL+"/wasm/bitbybit-dev-occt-64-bit-mt.95baabc7.wasm";addEventListener("message",(function(e){var t=e.data;"initialise"===t.type?function(e){void 0===e&&(e={});var t,r=e.locateFile,i=(t='import "'.concat(h+"bitbybit-dev-occt-64-bit-mt-webworker.js",'";'),new Blob([t],{type:"text/javascript"}));return(0,s.A)(c(c({},e),{mainScriptUrlOrBlob:i,locateFile:function(e,t){if(r){var i=r(e,t);if(i)return i}return e.endsWith(".wasm")?u:e.endsWith(".js")?h+e:t+e}}))}().then((function(e){return r=void 0,s=void 0,a=function(){var r,s;return function(e,t){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(r=1,i&&(n=2&a[0]?i.return:a[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,a[1])).done)return n;switch(i=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((n=(n=o.trys).length>0&&n[n.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){o.label=a[1];break}if(6===a[0]&&o.label<n[1]){o.label=n[1],n=a;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(a);break}n[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{r=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(o){switch(o.label){case 0:r=new n.y(e),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,r.advanced.loadFonts(t.loadFonts)];case 2:return o.sent(),[3,4];case 3:return s=o.sent(),console.error(s),[3,4];case 4:return(0,i.Wl)(e,r),postMessage("occ-initialised"),[2]}}))},new((o=void 0)||(o=Promise))((function(e,t){function i(e){try{c(a.next(e))}catch(e){t(e)}}function n(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof o?r:new o((function(e){e(r)}))).then(i,n)}c((a=a.apply(r,s||[])).next())}));var r,s,o,a})):(0,i.hS)(t,postMessage)})),t()}catch(e){t(e)}}))},93:()=>{},693:()=>{},922:()=>{},256:()=>{}},a={};function c(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return o[e](r,r.exports,c),r.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",i=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},c.a=(n,s,o)=>{var a;o&&((a=[]).d=-1);var c,h,u,l=new Set,d=n.exports,p=new Promise(((e,t)=>{u=t,h=e}));p[t]=d,p[e]=e=>(a&&e(a),l.forEach(e),p.catch((e=>{}))),n.exports=p,s((n=>{var s;c=(n=>n.map((n=>{if(null!==n&&"object"==typeof n){if(n[e])return n;if(n.then){var s=[];s.d=0,n.then((e=>{o[t]=e,i(s)}),(e=>{o[r]=e,i(s)}));var o={};return o[e]=e=>e(s),o}}var a={};return a[e]=e=>{},a[t]=n,a})))(n);var o=()=>c.map((e=>{if(e[r])throw e[r];return e[t]})),h=new Promise((t=>{(s=()=>t(o)).r=0;var r=e=>e!==a&&!l.has(e)&&(l.add(e),e&&!e.d&&(s.r++,e.push(s)));c.map((t=>t[e](r)))}));return s.r?h:o()}),(e=>(e?u(p[r]=e):h(d),i(a)))),a&&a.d<0&&(a.d=0)},s=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var r=Object.create(null);c.r(r);var i={};n=n||[null,s({}),s([]),s(s)];for(var o=2&t&&e;"object"==typeof o&&!~n.indexOf(o);o=s(o))Object.getOwnPropertyNames(o).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,c.d(r,i),r},c.d=(e,t)=>{for(var r in t)c.o(t,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},c.u=e=>e+".bitbybit-dev-occt-64-bit-mt-webworker.js",c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;if("string"==typeof import.meta.url&&(e=import.meta.url),!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),c.p=e})(),c.b=void 0;var h=c(454);h=await h;