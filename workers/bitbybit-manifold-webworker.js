(()=>{var t,e,r={430:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n=r.p+"static/js/manifold.cc2ddd38.wasm"},764:(t,e,r)=>{"use strict";t.exports=r.p+"dae0f2142f7b35966b10.js"},677:()=>{}},n={};function o(t){var e=n[t];if(void 0!==e)return e.exports;var s=n[t]={exports:{}};return r[t](s,s.exports,o),s.exports}e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,o.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var s=Object.create(null);o.r(s);var i={};t=t||[null,e({}),e([]),e(e)];for(var a=2&n&&r;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>i[t]=()=>r[t]));return i.default=()=>r,o.d(s,i),s},o.d=(t,e)=>{for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;o.g.importScripts&&(t=o.g.location+"");var e=o.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&(!t||!/^http(s?):/.test(t));)t=r[n--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=t})(),o.b=void 0,(()=>{"use strict";var t,e,r;(r=t||(t={}))[r.loading=0]="loading",r[r.loaded=1]="loaded",r[r.initialised=2]="initialised",r[r.computing=3]="computing";class n{constructor(){this.hashesFromPreviousRun={},this.usedHashes={},this.argCache={}}cleanAllCache(){Object.keys(this.usedHashes).forEach((t=>{if(this.argCache[t])try{this.argCache[t].delete()}catch(t){}})),this.argCache={},this.usedHashes={},this.hashesFromPreviousRun={}}cleanCacheForHash(t){if(this.argCache[t])try{this.argCache[t].delete()}catch(t){}delete this.argCache[t],delete this.usedHashes[t],delete this.hashesFromPreviousRun[t]}isManifoldObject(t){return null!=t&&!Array.isArray(t)&&void 0!==t.$$||Array.isArray(t)&&t.length>0&&void 0!==t[0].$$}cacheOp(t,e){let r=null;const n=this.computeHash(t);this.usedHashes[n]=n,this.hashesFromPreviousRun[n]=n;const o=this.checkCache(n);if(o)this.isManifoldObject(o)?(r=o,r.hash=o.hash):o.value&&(r=o.value);else if(r=e(),Array.isArray(r)&&this.isManifoldObject(r))r.forEach(((e,r)=>{const n=this.computeHash(Object.assign(Object.assign({},t),{index:r}));e.hash=n,this.addToCache(n,e)}));else if(this.isManifoldObject(r))this.addToCache(n,r);else if(r.compound&&r.data&&r.manifolds&&r.manifolds.length>0){const e=r,o=this.computeHash(Object.assign(Object.assign({},t),{index:"compound"}));e.compound.hash=o,this.addToCache(o,e.compound),e.manifolds.forEach(((e,r)=>{const n=this.computeHash(Object.assign(Object.assign({},t),{index:r}));e.manifold.hash=n,this.addToCache(n,e.manifold)})),this.addToCache(n,{value:e})}else this.addToCache(n,{value:r});return r}checkCache(t){return this.argCache[t]||null}addToCache(t,e){const r=e;return r.hash=t,this.argCache[t]=r,t}computeHash(t,e){let r=JSON.stringify(t);r=r.replace(/(\"ptr\"\:(-?[0-9]*?)\,)/g,""),r=r.replace(/(\"ptr\"\:(-?[0-9]*))/g,""),r.includes("ptr")&&console.error("YOU DONE MESSED UP YOUR REGEX.");const n=Math.random.toString()+r;return e?n:this.stringToHash(n)}stringToHash(t){let e=0;if(0===t.length)return e;for(let r=0;r<t.length;r++)e=(e<<5)-e+t.charCodeAt(r),e|=0;return e}remove(t,e){return t.filter((t=>t.hash!==e.hash||t.ptr!==e.ptr))}}!function(t){let e,r;!function(t){t.evenOdd="EvenOdd",t.nonZero="NonZero",t.positive="Positive",t.negative="Negative"}(e=t.fillRuleEnum||(t.fillRuleEnum={})),function(t){t.square="Square",t.round="Round",t.miter="Miter"}(r=t.manifoldJoinTypeEnum||(t.manifoldJoinTypeEnum={})),t.DecomposedManifoldMeshDto=class{},t.DrawManifoldOrCrossSectionDto=class{constructor(t,e,r,n,o,s,i,a){this.faceOpacity=1,this.faceColour="#ff0000",this.crossSectionColour="#ff00ff",this.crossSectionWidth=2,this.crossSectionOpacity=1,this.computeNormals=!1,void 0!==t&&(this.manifoldOrCrossSection=t),void 0!==e&&(this.faceOpacity=e),void 0!==r&&(this.faceMaterial=r),void 0!==n&&(this.faceColour=n),void 0!==o&&(this.crossSectionColour=o),void 0!==s&&(this.crossSectionWidth=s),void 0!==i&&(this.crossSectionOpacity=i),void 0!==a&&(this.computeNormals=a)}},t.DrawManifoldsOrCrossSectionsDto=class{constructor(t,e,r,n,o,s,i,a){this.faceColour="#ff0000",this.faceOpacity=1,this.crossSectionColour="#ff00ff",this.crossSectionWidth=2,this.crossSectionOpacity=1,this.computeNormals=!1,void 0!==t&&(this.manifoldsOrCrossSections=t),void 0!==e&&(this.faceOpacity=e),void 0!==r&&(this.faceMaterial=r),void 0!==n&&(this.faceColour=n),void 0!==o&&(this.crossSectionColour=o),void 0!==s&&(this.crossSectionWidth=s),void 0!==i&&(this.crossSectionOpacity=i),void 0!==a&&(this.computeNormals=a)}},t.CreateFromMeshDto=class{constructor(t){void 0!==t&&(this.mesh=t)}},t.FromPolygonPointsDto=class{constructor(t){void 0!==t&&(this.polygonPoints=t)}},t.CubeDto=class{constructor(t,e){this.center=!0,this.size=1,void 0!==t&&(this.center=t),void 0!==e&&(this.size=e)}},t.CreateContourSectionDto=class{constructor(t,r){this.fillRule=e.evenOdd,void 0!==t&&(this.polygons=t),void 0!==r&&(this.fillRule=r)}},t.SquareDto=class{constructor(t,e){this.center=!1,this.size=1,void 0!==t&&(this.center=t),void 0!==e&&(this.size=e)}},t.SphereDto=class{constructor(t,e){this.radius=1,void 0!==t&&(this.radius=t),void 0!==e&&(this.circularSegments=e)}},t.CylinderDto=class{constructor(t,e,r,n,o){this.height=1,this.radiusLow=1,this.radiusHigh=1,this.circularSegments=32,this.center=!0,void 0!==t&&(this.height=t),void 0!==e&&(this.radiusLow=e),void 0!==r&&(this.radiusHigh=r),void 0!==n&&(this.circularSegments=n),void 0!==o&&(this.center=o)}},t.CircleDto=class{constructor(t,e){this.radius=1,this.circularSegments=32,void 0!==t&&(this.radius=t),void 0!==e&&(this.circularSegments=e)}},t.RectangleDto=class{constructor(t,e,r){this.length=1,this.height=1,this.center=!1,void 0!==t&&(this.length=t),void 0!==e&&(this.height=e),void 0!==r&&(this.center=r)}},t.ManifoldDto=class{constructor(t){void 0!==t&&(this.manifold=t)}},t.CalculateNormalsDto=class{constructor(t,e,r){this.normalIdx=0,this.minSharpAngle=0,void 0!==t&&(this.manifold=t),void 0!==e&&(this.normalIdx=e),void 0!==r&&(this.minSharpAngle=r)}},t.CalculateCurvatureDto=class{constructor(t){void 0!==t&&(this.manifold=t)}},t.CountDto=class{constructor(t){void 0!==t&&(this.count=t)}},t.ManifoldsMinGapDto=class{constructor(t,e,r){this.searchLength=100,void 0!==t&&(this.manifold1=t),void 0!==e&&(this.manifold2=e),void 0!==r&&(this.searchLength=r)}},t.ManifoldRefineToleranceDto=class{constructor(t,e){this.tolerance=1e-6,void 0!==t&&(this.manifold=t),void 0!==e&&(this.tolerance=e)}},t.ManifoldRefineLengthDto=class{constructor(t,e){this.length=.1,void 0!==t&&(this.manifold=t),void 0!==e&&(this.length=e)}},t.ManifoldRefineDto=class{constructor(t,e){this.number=1,void 0!==t&&(this.manifold=t),void 0!==e&&(this.number=e)}},t.ManifoldSmoothByNormalsDto=class{constructor(t,e){this.normalIdx=0,void 0!==t&&(this.manifold=t),void 0!==e&&(this.normalIdx=e)}},t.ManifoldSmoothOutDto=class{constructor(t,e,r){this.minSharpAngle=60,this.minSmoothness=0,void 0!==t&&(this.manifold=t),void 0!==e&&(this.minSharpAngle=e),void 0!==r&&(this.minSmoothness=r)}},t.HullPointsDto=class{constructor(t){void 0!==t&&(this.points=t)}},t.SliceDto=class{constructor(t){this.height=.5,void 0!==t&&(this.manifold=t)}},t.MeshDto=class{constructor(t){void 0!==t&&(this.mesh=t)}},t.MeshVertexIndexDto=class{constructor(t,e){void 0!==t&&(this.mesh=t),void 0!==e&&(this.vertexIndex=e)}},t.MeshTriangleRunIndexDto=class{constructor(t,e){void 0!==t&&(this.mesh=t),void 0!==e&&(this.triangleRunIndex=e)}},t.MeshHalfEdgeIndexDto=class{constructor(t,e){void 0!==t&&(this.mesh=t),void 0!==e&&(this.halfEdgeIndex=e)}},t.MeshTriangleIndexDto=class{constructor(t,e){void 0!==t&&(this.mesh=t),void 0!==e&&(this.triangleIndex=e)}},t.CrossSectionDto=class{constructor(t){void 0!==t&&(this.crossSection=t)}},t.CrossSectionsDto=class{constructor(t){void 0!==t&&(this.crossSections=t)}},t.ExtrudeDto=class{constructor(t){this.height=1,this.nDivisions=1,this.twistDegrees=0,this.scaleTopX=1,this.scaleTopY=1,this.center=!0,void 0!==t&&(this.crossSection=t)}},t.RevolveDto=class{constructor(t,e,r,n){this.matchProfile=!0,this.circularSegments=32,void 0!==t&&(this.crossSection=t),void 0!==e&&(this.revolveDegrees=e),void 0!==r&&(this.matchProfile=r),void 0!==n&&(this.circularSegments=n)}},t.OffsetDto=class{constructor(t,e,n,o,s){this.joinType=r.round,this.miterLimit=2,this.circularSegments=32,void 0!==t&&(this.crossSection=t),void 0!==e&&(this.delta=e),void 0!==n&&(this.joinType=n),void 0!==o&&(this.miterLimit=o),void 0!==s&&(this.circularSegments=s)}},t.SimplifyDto=class{constructor(t,e){this.epsilon=1e-6,void 0!==t&&(this.crossSection=t),void 0!==e&&(this.epsilon=e)}},t.ComposeDto=class{constructor(t){void 0!==t&&(this.polygons=t)}},t.MirrorCrossSectionDto=class{constructor(t,e){this.normal=[1,0],void 0!==t&&(this.crossSection=t),void 0!==e&&(this.normal=e)}},t.Scale2DCrossSectionDto=class{constructor(t,e){this.vector=[2,2],void 0!==t&&(this.crossSection=t),void 0!==e&&(this.vector=e)}},t.TranslateCrossSectionDto=class{constructor(t,e){void 0!==t&&(this.crossSection=t),void 0!==e&&(this.vector=e)}},t.RotateCrossSectionDto=class{constructor(t,e){void 0!==t&&(this.crossSection=t),void 0!==e&&(this.degrees=e)}},t.ScaleCrossSectionDto=class{constructor(t,e){this.factor=2,void 0!==t&&(this.crossSection=t),void 0!==e&&(this.factor=e)}},t.TranslateXYCrossSectionDto=class{constructor(t,e,r){this.x=0,this.y=0,void 0!==t&&(this.crossSection=t),void 0!==e&&(this.x=e),void 0!==r&&(this.y=r)}},t.TransformCrossSectionDto=class{constructor(t,e){void 0!==t&&(this.crossSection=t),void 0!==e&&(this.transform=e)}},t.MirrorDto=class{constructor(t,e){this.normal=[1,0,0],void 0!==t&&(this.manifold=t),void 0!==e&&(this.normal=e)}},t.Scale3DDto=class{constructor(t,e){this.vector=[2,2,2],void 0!==t&&(this.manifold=t),void 0!==e&&(this.vector=e)}},t.TranslateDto=class{constructor(t,e){void 0!==t&&(this.manifold=t),void 0!==e&&(this.vector=e)}},t.TranslateByVectorsDto=class{constructor(t,e){void 0!==t&&(this.manifold=t),void 0!==e&&(this.vectors=e)}},t.RotateDto=class{constructor(t,e){void 0!==t&&(this.manifold=t),void 0!==e&&(this.vector=e)}},t.RotateXYZDto=class{constructor(t,e,r,n){this.x=0,this.y=0,this.z=0,void 0!==t&&(this.manifold=t),void 0!==e&&(this.x=e),void 0!==r&&(this.y=r),void 0!==n&&(this.z=n)}},t.ScaleDto=class{constructor(t,e){this.factor=2,void 0!==t&&(this.manifold=t),void 0!==e&&(this.factor=e)}},t.TranslateXYZDto=class{constructor(t,e,r,n){this.x=0,this.y=0,this.z=0,void 0!==t&&(this.manifold=t),void 0!==e&&(this.x=e),void 0!==r&&(this.y=r),void 0!==n&&(this.z=n)}},t.TransformDto=class{constructor(t,e){void 0!==t&&(this.manifold=t),void 0!==e&&(this.transform=e)}},t.TransformsDto=class{constructor(t,e){void 0!==t&&(this.manifold=t),void 0!==e&&(this.transforms=e)}},t.TwoCrossSectionsDto=class{constructor(t,e){void 0!==t&&(this.crossSection1=t),void 0!==e&&(this.crossSection2=e)}},t.TwoManifoldsDto=class{constructor(t,e){void 0!==t&&(this.manifold1=t),void 0!==e&&(this.manifold2=e)}},t.SplitManifoldsDto=class{constructor(t,e){void 0!==t&&(this.manifoldToSplit=t),void 0!==e&&(this.manifoldCutter=e)}},t.TrimByPlaneDto=class{constructor(t,e,r){this.normal=[1,0,0],this.originOffset=0,void 0!==t&&(this.manifold=t),void 0!==e&&(this.normal=e),void 0!==r&&(this.originOffset=r)}},t.SplitByPlaneDto=class{constructor(t,e,r){this.normal=[1,0,0],this.originOffset=0,void 0!==t&&(this.manifold=t),void 0!==e&&(this.normal=e),void 0!==r&&(this.originOffset=r)}},t.SplitByPlaneOnOffsetsDto=class{constructor(t,e,r){this.normal=[1,0,0],this.originOffsets=[0],void 0!==t&&(this.manifold=t),void 0!==e&&(this.normal=e),void 0!==r&&(this.originOffsets=r)}},t.ManifoldsDto=class{constructor(t){void 0!==t&&(this.manifolds=t)}},t.ManifoldToMeshDto=class{constructor(t,e){void 0!==t&&(this.manifold=t),void 0!==e&&(this.normalIdx=e)}},t.ManifoldsToMeshesDto=class{constructor(t,e){void 0!==t&&(this.manifolds=t),void 0!==e&&(this.normalIdx=e)}},t.DecomposeManifoldOrCrossSectionDto=class{constructor(t,e){void 0!==t&&(this.manifoldOrCrossSection=t),void 0!==e&&(this.normalIdx=e)}},t.ManifoldOrCrossSectionDto=class{constructor(t){void 0!==t&&(this.manifoldOrCrossSection=t)}},t.ManifoldsOrCrossSectionsDto=class{constructor(t){void 0!==t&&(this.manifoldsOrCrossSections=t)}},t.DecomposeManifoldsOrCrossSectionsDto=class{constructor(t,e){void 0!==t&&(this.manifoldsOrCrossSections=t),void 0!==e&&(this.normalIdx=e)}}}(e||(e={}));class s{constructor(t){this.manifold=t}manifoldFromMesh(t){const{Manifold:e}=this.manifold;return new e(t.mesh)}fromPolygonPoints(t){const{Manifold:r}=this.manifold,n=t.polygonPoints,o=new Map,s=[],i=[];let a=0;for(const t of n)if(t&&3===t.length)for(const e of t){if(!e||3!==e.length||e.some(isNaN))throw console.warn(`Skipping invalid point data in triangle: ${JSON.stringify(e)}`),new Error(`Invalid point data encountered: ${JSON.stringify(e)} in triangle ${JSON.stringify(t)}`);const r=`${e[0]},${e[1]},${e[2]}`;let n;o.has(r)?n=o.get(r):(n=a,o.set(r,n),s.push(e[0],e[1],e[2]),a++),i.push(n)}else console.warn(`Skipping invalid polygon data (expected 3 vertices): ${JSON.stringify(t)}`);const c=Float32Array.from(s),u=Uint32Array.from(i),l=new e.DecomposedManifoldMeshDto;return l.numProp=3,l.vertProperties=c,l.triVerts=u,new r(l)}cube(t){const{Manifold:e}=this.manifold,{cube:r}=e;return r(t.size,t.center)}sphere(t){const{Manifold:e}=this.manifold,{sphere:r}=e;return r(t.radius,t.circularSegments)}tetrahedron(){const{Manifold:t}=this.manifold,{tetrahedron:e}=t;return e()}cylinder(t){const{Manifold:e}=this.manifold,{cylinder:r}=e;return r(t.height,t.radiusLow,t.radiusHigh,t.circularSegments,t.center)}}class i{constructor(t){this.manifold=t}split(t){return t.manifoldToSplit.split(t.manifoldCutter)}splitByPlane(t){return t.manifold.splitByPlane(t.normal,t.originOffset)}splitByPlaneOnOffsets(t){const e=[],r=[t.manifold.asOriginal()],n=[];return t.originOffsets.forEach(((o,s)=>{if(r[s]){const i=r[s].splitByPlane(t.normal,o);i[1].isEmpty()||i[0].isEmpty()?i[1].isEmpty()&&!i[0].isEmpty()?(r.push(i[0]),n.push(i[1])):!i[1].isEmpty()&&i[0].isEmpty()?(e.push(i[1]),n.push(i[0])):i[0].isEmpty()&&i[1].isEmpty()&&n.push(...i):(e.push(i[1]),r.push(i[0]))}})),r.forEach((t=>t.delete())),n.forEach((t=>t.delete())),e}trimByPlane(t){return t.manifold.asOriginal().trimByPlane(t.normal,t.originOffset)}subtract(t){return t.manifold1.subtract(t.manifold2)}add(t){return t.manifold1.add(t.manifold2)}intersect(t){return t.manifold1.intersect(t.manifold2)}differenceTwo(t){const{Manifold:e}=this.manifold,{difference:r}=e;return r(t.manifold1,t.manifold2)}difference(t){const{Manifold:e}=this.manifold,{difference:r}=e;return r(t.manifolds)}unionTwo(t){const{Manifold:e}=this.manifold,{union:r}=e;return r(t.manifold1,t.manifold2)}union(t){const{Manifold:e}=this.manifold,{union:r}=e;return r(t.manifolds)}intersectionTwo(t){const{Manifold:e}=this.manifold,{intersection:r}=e;return r(t.manifold1,t.manifold2)}intersection(t){const{Manifold:e}=this.manifold,{intersection:r}=e;return r(t.manifolds)}}class a{constructor(t){this.manifold=t}hull(t){return t.manifold.hull()}hullPoints(t){const{Manifold:e}=this.manifold,{hull:r}=e;return r(t.points)}slice(t){return t.manifold.slice(t.height)}project(t){return t.manifold.project()}setTolerance(t){return t.manifold.setTolerance(t.tolerance)}asOriginal(t){return t.manifold.asOriginal()}reserveIds(t){const{Manifold:e}=this.manifold,{reserveIDs:r}=e;return r(t.count)}compose(t){const{Manifold:e}=this.manifold,{compose:r}=e;return r(t.manifolds)}decompose(t){return t.manifold.decompose()}calculateNormals(t){return t.manifold.calculateNormals(t.normalIdx,t.minSharpAngle)}calculateCurvature(t){return t.manifold.calculateCurvature(t.gaussianIdx,t.meanIdx)}refineToTolerance(t){return t.manifold.refineToTolerance(t.tolerance)}refineToLength(t){return t.manifold.refineToLength(t.length)}refine(t){return t.manifold.refine(t.number)}smoothOut(t){return t.manifold.smoothOut(t.minSharpAngle,t.minSmoothness)}smoothByNormals(t){return t.manifold.smoothByNormals(t.normalIdx)}}class c{constructor(t){this.manifold=t}scale3D(t){return t.manifold.scale(t.vector)}scale(t){return t.manifold.scale(t.vector)}mirror(t){return t.manifold.mirror(t.normal)}translate(t){return t.manifold.translate(t.vector)}translateByVectors(t){return t.vectors.map((e=>t.manifold.translate(e)))}rotate(t){return t.manifold.rotate(t.vector)}rotateXYZ(t){return t.manifold.rotate(t.x,t.y,t.z)}translateXYZ(t){return t.manifold.translate(t.x,t.y,t.z)}transform(t){return t.manifold.transform(t.transform)}transforms(t){let e=t.manifold;const r=[];t.transforms.forEach((t=>{e=e.transform(t),r.push(e)}));const n=r.pop();return r.forEach((t=>{t.delete()})),n}}class u{constructor(t){this.manifold=t}volume(t){return t.manifold.volume()}surfaceArea(t){return t.manifold.surfaceArea()}isEmpty(t){return t.manifold.isEmpty()}numVert(t){return t.manifold.numVert()}numTri(t){return t.manifold.numTri()}numEdge(t){return t.manifold.numEdge()}numProp(t){return t.manifold.numProp()}numPropVert(t){return t.manifold.numPropVert()}boundingBox(t){const e=t.manifold.boundingBox();return[e.min,e.max]}tolerance(t){return t.manifold.tolerance()}genus(t){return t.manifold.genus()}minGap(t){return t.manifold1.minGap(t.manifold2,t.searchLength)}originalID(t){return t.manifold.originalID()}}class l{constructor(t){this.shapes=new s(t),this.booleans=new i(t),this.operations=new a(t),this.transforms=new c(t),this.evaluate=new u(t)}manifoldToMesh(t){return t.manifold.getMesh(t.normalIdx)}manifoldsToMeshes(t){return t.manifolds.map(((e,r)=>{const n=t.normalIdx?t.normalIdx[r]:void 0;return this.manifoldToMesh({manifold:e,normalIdx:n})}))}}class h{constructor(t){this.manifold=t}create(t){const{CrossSection:e}=this.manifold;return new e(t.polygons,t.fillRule)}square(t){const{CrossSection:e}=this.manifold,{square:r}=e;return r(t.size,t.center)}circle(t){const{CrossSection:e}=this.manifold,{circle:r}=e;return r(t.radius,t.circularSegments)}rectangle(t){const{CrossSection:e}=this.manifold,{square:r}=e;return r([t.length,t.height],t.center)}}class d{constructor(t){this.manifold=t}hull(t){return t.crossSection.hull()}extrude(t){return t.crossSection.extrude(t.height,t.nDivisions,t.twistDegrees,[t.scaleTopX,t.scaleTopY],t.center)}revolve(t){const e=t.crossSection.revolve(t.circularSegments,t.revolveDegrees);return t.matchProfile?e.rotate([90,0,0]):e}offset(t){return t.crossSection.offset(t.delta,t.joinType,t.miterLimit,t.circularSegments)}simplify(t){return t.crossSection.simplify(t.epsilon)}compose(t){const{CrossSection:e}=this.manifold,{compose:r}=e;return r(t.polygons)}decompose(t){return t.crossSection.decompose()}}class f{constructor(t){this.manifold=t}scale2D(t){return t.crossSection.scale(t.vector)}scale(t){return t.crossSection.scale(t.factor)}mirror(t){return t.crossSection.mirror(t.normal)}translate(t){return t.crossSection.translate(t.vector)}translateXY(t){return t.crossSection.translate([t.x,t.y])}rotate(t){return t.crossSection.rotate(t.degrees)}transform(t){return t.crossSection.transform(t.transform)}}class p{constructor(t){this.manifold=t}subtract(t){return t.crossSection1.subtract(t.crossSection2)}add(t){return t.crossSection1.add(t.crossSection2)}intersect(t){return t.crossSection1.intersect(t.crossSection2)}differenceTwo(t){const{CrossSection:e}=this.manifold,{difference:r}=e;return r(t.crossSection1,t.crossSection2)}difference(t){const{CrossSection:e}=this.manifold,{difference:r}=e;return r(t.crossSections)}unionTwo(t){const{CrossSection:e}=this.manifold,{union:r}=e;return r(t.crossSection1,t.crossSection2)}union(t){const{CrossSection:e}=this.manifold,{union:r}=e;return r(t.crossSections)}intersectionTwo(t){const{CrossSection:e}=this.manifold,{intersection:r}=e;return r(t.crossSection1,t.crossSection2)}intersection(t){const{CrossSection:e}=this.manifold,{intersection:r}=e;return r(t.crossSections)}}class m{constructor(t){this.manifold=t}area(t){return t.crossSection.area()}isEmpty(t){return t.crossSection.isEmpty()}numVert(t){return t.crossSection.numVert()}numContour(t){return t.crossSection.numContour()}bounds(t){const e=t.crossSection.bounds();return[e.min,e.max]}}class v{constructor(t){this.manifold=t,this.shapes=new h(t),this.operations=new d(t),this.transforms=new f(t),this.booleans=new p(t),this.evaluate=new m(t)}crossSectionToPolygons(t){return t.crossSection.toPolygons()}crossSectionsToPolygons(t){return t.crossSections.map((t=>this.crossSectionToPolygons({crossSection:t})))}deleteCrossSection(t){t.crossSection.delete()}deleteCrossSections(t){t.crossSections.forEach((t=>this.deleteCrossSection({crossSection:t})))}}class g{constructor(t){this.manifold=t}position(t){const e=t.mesh.position(t.vertexIndex);return[e[0],e[1],e[2]]}tangent(t){const e=t.mesh.tangent(t.halfEdgeIndex);return[e[0],e[1],e[2],e[4]]}verts(t){const e=t.mesh.verts(t.triangleIndex);return[e[0],e[1],e[2]]}extras(t){return[...t.mesh.extras(t.vertexIndex)]}transform(t){return[...t.mesh.transform(t.triangleRunIndex)]}numProp(t){return t.mesh.numProp}numVert(t){return t.mesh.numVert}numTri(t){return t.mesh.numTri}numRun(t){return t.mesh.numRun}}class y{constructor(t){this.manifold=t}merge(t){return t.mesh.merge()}}class b{constructor(t){this.operations=new y(t),this.evaluate=new g(t)}}class S{constructor(t){this.crossSection=new v(t),this.manifold=new l(t),this.mesh=new b(t)}toPolygonPoints(t){if(t.manifold.getMesh){const e=t.manifold.getMesh();if(!e||!e.vertProperties||!e.triVerts||0===e.vertProperties.length||0===e.triVerts.length)return console.warn("Manifold does not contain valid mesh data or is empty."),[];const r=e.vertProperties,n=e.triVerts,o=e.numProp;if(o<3)throw new Error(`Cannot convert to PolygonPoints: Expected numProp >= 3 (for x, y, z), but found ${o}.`);if(n.length%3!=0)throw new Error(`Mesh data corruption: triVerts length (${n.length}) is not a multiple of 3.`);const s=[],i=r.length/o;for(let t=0;t<n.length;t+=3){const e=n[t],a=n[t+1],c=n[t+2];if(e>=i||a>=i||c>=i){console.error(`Invalid vertex index found in triVerts at offset ${t}. Max index should be ${i-1}. Indices: ${e}, ${a}, ${c}`);continue}const u=e*o,l=a*o,h=c*o,d=[[r[u],r[u+1],r[u+2]],[r[l],r[l+1],r[l+2]],[r[h],r[h+1],r[h+2]]];s.push(d)}return s}}decomposeManifoldOrCrossSection(t){return t.manifoldOrCrossSection.getMesh?t.manifoldOrCrossSection.getMesh(t.normalIdx):t.manifoldOrCrossSection.toPolygons()}decomposeManifoldsOrCrossSections(t){return t.manifoldsOrCrossSections.map(((e,r)=>{const n=t.normalIdx?t.normalIdx[r]:void 0;return this.decomposeManifoldOrCrossSection({manifoldOrCrossSection:e,normalIdx:n})}))}}let C,w,T;var $,P=($="file:///Users/matasubarevicius/Documents/MyProjects/bitbybit-ui/projects/bitbybit-runners/browser-babylon/node_modules/manifold-3d/manifold.js",async function(t={}){var e,r,n=t,s=new Promise(((t,n)=>{e=t,r=n})),i="object"==typeof window,a="function"==typeof importScripts,c="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(c){const{createRequire:t}=await Promise.resolve().then(o.t.bind(o,677,19));var u=t("file:///Users/matasubarevicius/Documents/MyProjects/bitbybit-ui/projects/bitbybit-runners/browser-babylon/node_modules/manifold-3d/manifold.js")}var l=!1;n.setup=function(){if(l)return;function t(t,e,r=(t=>t)){if(e)for(let n of e)t.push_back(r(n));return t}function e(t,e=(t=>t)){const r=[],n=t.size();for(let o=0;o<n;o++)r.push(e(t.get(o)));return r}function r(e){return e[0].length<3&&(e=[e]),t(new n.Vector2_vec2,e,(e=>t(new n.Vector_vec2,e,(t=>t instanceof Array?{x:t[0],y:t[1]}:t))))}function o(t){for(let e=0;e<t.size();e++)t.get(e).delete();t.delete()}function s(t){return t[0]instanceof Array?{x:t[0][0],y:t[0][1]}:"number"==typeof t[0]?{x:t[0]||0,y:t[1]||0}:t[0]}function i(t){return t[0]instanceof Array?{x:t[0][0],y:t[0][1],z:t[0][2]}:"number"==typeof t[0]?{x:t[0]||0,y:t[1]||0,z:t[2]||0}:t[0]}function a(t){return"EvenOdd"==t?0:"NonZero"==t?1:"Negative"==t?3:2}l=!0;const c=n.CrossSection;function u(t,e="Positive"){if(t instanceof c)return t;{const n=r(t),s=new c(n,a(e));return o(n),s}}n.CrossSection.prototype.translate=function(...t){return this._Translate(s(t))},n.CrossSection.prototype.scale=function(t){return"number"==typeof t?this._Scale({x:t,y:t}):this._Scale(s([t]))},n.CrossSection.prototype.mirror=function(t){return this._Mirror(s([t]))},n.CrossSection.prototype.warp=function(t){const e=Se((function(e){const r=[L(e,"double"),L(e+8,"double")];t(r),q(e,r[0],"double"),q(e+8,r[1],"double")}),"vi"),r=this._Warp(e);return Ce(e),r},n.CrossSection.prototype.decompose=function(){const t=this._Decompose(),r=e(t);return t.delete(),r},n.CrossSection.prototype.bounds=function(){const t=this._Bounds();return{min:["x","y"].map((e=>t.min[e])),max:["x","y"].map((e=>t.max[e]))}},n.CrossSection.prototype.offset=function(t,e="Square",r=2,n=0){return this._Offset(t,function(t){return"Round"==t?1:"Miter"==t?2:0}(e),r,n)},n.CrossSection.prototype.extrude=function(t,e=0,r=0,o=[1,1],i=!1){o=s([o]);const a=n._Extrude(this._ToPolygons(),t,e,r,o);return i?a.translate([0,0,-t/2]):a},n.CrossSection.prototype.revolve=function(t=0,e=360){return n._Revolve(this._ToPolygons(),t,e)},n.CrossSection.prototype.add=function(t){return this._add(u(t))},n.CrossSection.prototype.subtract=function(t){return this._subtract(u(t))},n.CrossSection.prototype.intersect=function(t){return this._intersect(u(t))},n.CrossSection.prototype.toPolygons=function(){const t=this._ToPolygons(),e=function(t,e=(t=>t)){const r=[],n=t.size();for(let o=0;o<n;o++){const n=t.get(o),s=n.size(),i=[];for(let t=0;t<s;t++)i.push(e(n.get(t)));r.push(i)}return r}(t,(t=>[t.x,t.y]));return t.delete(),e},n.Manifold.prototype.smoothOut=function(t=60,e=0){return this._SmoothOut(t,e)},n.Manifold.prototype.warp=function(t){const e=Se((function(e){const r=[L(e,"double"),L(e+8,"double"),L(e+16,"double")];t(r),q(e,r[0],"double"),q(e+8,r[1],"double"),q(e+16,r[2],"double")}),"vi"),r=this._Warp(e);Ce(e);const o=r.status();if(0!==o.value)throw new n.ManifoldError(o.value);return r},n.Manifold.prototype.calculateNormals=function(t,e=60){return this._CalculateNormals(t,e)},n.Manifold.prototype.setProperties=function(t,e){const r=this.numProp(),n=Se((function(n,o,s){const i=[];for(let e=0;e<t;++e)i[e]=L(n+8*e,"double");const a=[];for(let t=0;t<3;++t)a[t]=L(o+8*t,"double");const c=[];for(let t=0;t<r;++t)c[t]=L(s+8*t,"double");e(i,a,c);for(let e=0;e<t;++e)q(n+8*e,i[e],"double")}),"viii"),o=this._SetProperties(t,n);return Ce(n),o},n.Manifold.prototype.translate=function(...t){return this._Translate(i(t))},n.Manifold.prototype.rotate=function(t,e,r){return Array.isArray(t)?this._Rotate(...t):this._Rotate(t,e||0,r||0)},n.Manifold.prototype.scale=function(t){return"number"==typeof t?this._Scale({x:t,y:t,z:t}):this._Scale(i([t]))},n.Manifold.prototype.mirror=function(t){return this._Mirror(i([t]))},n.Manifold.prototype.trimByPlane=function(t,e=0){return this._TrimByPlane(i([t]),e)},n.Manifold.prototype.slice=function(t=0){const e=this._Slice(t),r=new c(e,a("Positive"));return o(e),r},n.Manifold.prototype.project=function(){const t=this._Project(),e=new c(t,a("Positive"));return o(t),e.simplify(this.tolerance)},n.Manifold.prototype.split=function(t){const r=this._Split(t),n=e(r);return r.delete(),n},n.Manifold.prototype.splitByPlane=function(t,r=0){const n=this._SplitByPlane(i([t]),r),o=e(n);return n.delete(),o},n.Manifold.prototype.decompose=function(){const t=this._Decompose(),r=e(t);return t.delete(),r},n.Manifold.prototype.boundingBox=function(){const t=this._boundingBox();return{min:["x","y","z"].map((e=>t.min[e])),max:["x","y","z"].map((e=>t.max[e]))}};class h{constructor({numProp:t=3,triVerts:e=new Uint32Array,vertProperties:r=new Float32Array,mergeFromVert:n,mergeToVert:o,runIndex:s,runOriginalID:i,faceID:a,halfedgeTangent:c,runTransform:u}={}){this.numProp=t,this.triVerts=e,this.vertProperties=r,this.mergeFromVert=n,this.mergeToVert=o,this.runIndex=s,this.runOriginalID=i,this.faceID=a,this.halfedgeTangent=c,this.runTransform=u}get numTri(){return this.triVerts.length/3}get numVert(){return this.vertProperties.length/this.numProp}get numRun(){return this.runOriginalID.length}merge(){const{changed:t,mesh:e}=n._Merge(this);return Object.assign(this,{...e}),t}verts(t){return this.triVerts.subarray(3*t,3*(t+1))}position(t){return this.vertProperties.subarray(this.numProp*t,this.numProp*t+3)}extras(t){return this.vertProperties.subarray(this.numProp*t+3,this.numProp*(t+1))}tangent(t){return this.halfedgeTangent.subarray(4*t,4*(t+1))}transform(t){const e=new Array(16);for(const r of[0,1,2,3])for(const n of[0,1,2])e[4*r+n]=this.runTransform[12*t+3*r+n];return e[15]=1,e}}function d(t){return function(...e){1==e.length&&(e=e[0]);const r=new n.Vector_crossSection;for(const t of e)r.push_back(u(t));const o=n["_crossSection"+t](r);return r.delete(),o}}n.Mesh=h,n.Manifold.prototype.getMesh=function(t=-1){return new h(this._GetMeshJS(t))},n.ManifoldError=function(t,...e){let r="Unknown error";switch(t){case n.status.NonFiniteVertex.value:r="Non-finite vertex";break;case n.status.NotManifold.value:r="Not manifold";break;case n.status.VertexOutOfBounds.value:r="Vertex index out of bounds";break;case n.status.PropertiesWrongLength.value:r="Properties have wrong length";break;case n.status.MissingPositionProperties.value:r="Less than three properties";break;case n.status.MergeVectorsDifferentLengths.value:r="Merge vectors have different lengths";break;case n.status.MergeIndexOutOfBounds.value:r="Merge index out of bounds";break;case n.status.TransformWrongLength.value:r="Transform vector has wrong length";break;case n.status.RunIndexWrongLength.value:r="Run index vector has wrong length";break;case n.status.FaceIDWrongLength.value:r="Face ID vector has wrong length";case n.status.InvalidConstruction.value:r="Manifold constructed with invalid parameters"}const o=Error.apply(this,[r,...e]);o.name=this.name="ManifoldError",this.message=o.message,this.stack=o.stack,this.code=t},n.ManifoldError.prototype=Object.create(Error.prototype,{constructor:{value:n.ManifoldError,writable:!0,configurable:!0}}),n.CrossSection=function(t,e="Positive"){const n=r(t),s=new c(n,a(e));return o(n),s},n.CrossSection.ofPolygons=function(t,e="Positive"){return new n.CrossSection(t,e)},n.CrossSection.square=function(...t){let e;e=0==t.length?{x:1,y:1}:"number"==typeof t[0]?{x:t[0],y:t[0]}:s(t);const r=t[1]||!1;return n._Square(e,r)},n.CrossSection.circle=function(t,e=0){return n._Circle(t,e)},n.CrossSection.compose=d("Compose"),n.CrossSection.union=d("UnionN"),n.CrossSection.difference=d("DifferenceN"),n.CrossSection.intersection=d("IntersectionN"),n.CrossSection.hull=function(...e){1==e.length&&(e=e[0]);let r=new n.Vector_vec2;for(const o of e)if(o instanceof c)n._crossSectionCollectVertices(r,o);else if(o instanceof Array&&2==o.length&&"number"==typeof o[0])r.push_back({x:o[0],y:o[1]});else if(o.x)r.push_back(o);else{const e=2==o[0].length&&"number"==typeof o[0][0]||o[0].x?[o]:o;for(const n of e)t(r,n,(t=>t instanceof Array?{x:t[0],y:t[1]}:t))}const o=n._crossSectionHullPoints(r);return r.delete(),o},n.CrossSection.prototype=Object.create(c.prototype),Object.defineProperty(n.CrossSection,Symbol.hasInstance,{get:()=>t=>t instanceof c});const f=n.Manifold;function p(t){return function(...e){1==e.length&&(e=e[0]);const r=new n.Vector_manifold;for(const t of e)r.push_back(t);const o=n["_manifold"+t+"N"](r);return r.delete(),o}}n.Manifold=function(t){const e=new f(t),r=e.status();if(0!==r.value)throw new n.ManifoldError(r.value);return e},n.Manifold.ofMesh=function(t){return new n.Manifold(t)},n.Manifold.tetrahedron=function(){return n._Tetrahedron()},n.Manifold.cube=function(...t){let e;e=0==t.length?{x:1,y:1,z:1}:"number"==typeof t[0]?{x:t[0],y:t[0],z:t[0]}:i(t);const r=t[1]||!1;return n._Cube(e,r)},n.Manifold.cylinder=function(t,e,r=-1,o=0,s=!1){return n._Cylinder(t,e,r,o,s)},n.Manifold.sphere=function(t,e=0){return n._Sphere(t,e)},n.Manifold.smooth=function(e,r=[]){const o=new n.Vector_smoothness;t(o,r);const s=n._Smooth(e,o);return o.delete(),s},n.Manifold.extrude=function(t,e,r=0,o=0,s=[1,1],i=!1){return(t instanceof c?t:n.CrossSection(t,"Positive")).extrude(e,r,o,s,i)},n.Manifold.revolve=function(t,e=0,r=360){return(t instanceof c?t:n.CrossSection(t,"Positive")).revolve(e,r)},n.Manifold.reserveIDs=function(t){return n._ReserveIDs(t)},n.Manifold.compose=function(e){const r=new n.Vector_manifold;t(r,e);const o=n._manifoldCompose(r);return r.delete(),o},n.Manifold.union=p("Union"),n.Manifold.difference=p("Difference"),n.Manifold.intersection=p("Intersection"),n.Manifold.levelSet=function(t,e,r,o=0,s=-1){const i={min:{x:e.min[0],y:e.min[1],z:e.min[2]},max:{x:e.max[0],y:e.max[1],z:e.max[2]}},a=Se((function(e){const r=L(e,"double"),n=L(e+8,"double"),o=L(e+16,"double");return t([r,n,o])}),"di"),c=n._LevelSet(a,i,r,o,s);return Ce(a),c},n.Manifold.hull=function(...e){1==e.length&&(e=e[0]);let r=new n.Vector_vec3;for(const o of e)o instanceof f?n._manifoldCollectVertices(r,o):o instanceof Array&&3==o.length&&"number"==typeof o[0]?r.push_back({x:o[0],y:o[1],z:o[2]}):o.x?r.push_back(o):t(r,o,(t=>t instanceof Array?{x:t[0],y:t[1],z:t[2]}:t));const o=n._manifoldHullPoints(r);return r.delete(),o},n.Manifold.prototype=Object.create(f.prototype),Object.defineProperty(n.Manifold,Symbol.hasInstance,{get:()=>t=>t instanceof f}),n.triangulate=function(t,s=-1){const i=r(t),a=e(n._Triangulate(i,s),(t=>[t[0],t[1],t[2]]));return o(i),a}};var h,d,f,p=Object.assign({},n),m="";if(c){var v=u("fs"),g=u("path");m=u("url").fileURLToPath(new URL(o(764),o.b)),h=(t,e)=>(t=H(t)?new URL(t):g.normalize(t),v.readFileSync(t,e?void 0:"utf8")),f=t=>{var e=h(t,!0);return e.buffer||(e=new Uint8Array(e)),e},d=(t,e,r,n=!0)=>{t=H(t)?new URL(t):g.normalize(t),v.readFile(t,n?void 0:"utf8",((t,o)=>{t?r(t):e(n?o.buffer:o)}))},!n.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2)}else(i||a)&&(a?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),$&&(m=$),m=m.startsWith("blob:")?"":m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1),h=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},a&&(f=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),d=(t,e,r)=>{if(H(t)){var n=new XMLHttpRequest;return n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?e(n.response):r()},n.onerror=r,void n.send(null)}fetch(t,{credentials:"same-origin"}).then((t=>t.ok?t.arrayBuffer():Promise.reject(new Error(t.status+" : "+t.url)))).then(e,r)});n.print||console.log.bind(console);var y,b,S=n.printErr||console.error.bind(console);Object.assign(n,p),p=null,n.arguments&&n.arguments,n.thisProgram&&n.thisProgram,n.quit&&n.quit,n.wasmBinary&&(y=n.wasmBinary);var C,w,T,P,M,O,x,_,D=!1;function A(){var t=b.buffer;n.HEAP8=C=new Int8Array(t),n.HEAP16=T=new Int16Array(t),n.HEAPU8=w=new Uint8Array(t),n.HEAPU16=P=new Uint16Array(t),n.HEAP32=M=new Int32Array(t),n.HEAPU32=O=new Uint32Array(t),n.HEAPF32=x=new Float32Array(t),n.HEAPF64=_=new Float64Array(t)}var E=[],j=[],I=[],k=0,R=null,W=null;function V(t){n.onAbort?.(t),S(t="Aborted("+t+")"),D=!0,t+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(t);throw r(e),e}var F,N=t=>t.startsWith("data:application/octet-stream;base64,"),H=t=>t.startsWith("file://");function B(t){if(t==F&&y)return new Uint8Array(y);if(f)return f(t);throw"both async and sync fetching of the wasm failed"}function U(t,e,r){return function(t){return y?Promise.resolve().then((()=>B(t))):new Promise(((e,r)=>{d(t,(t=>e(new Uint8Array(t))),(n=>{try{e(B(t))}catch(t){r(t)}}))}))}(t).then((t=>WebAssembly.instantiate(t,e))).then(r,(t=>{S(`failed to asynchronously prepare wasm: ${t}`),V(t)}))}var z=t=>{for(;t.length>0;)t.shift()(n)};function L(t,e="i8"){switch(e.endsWith("*")&&(e="*"),e){case"i1":case"i8":return C[t>>>0];case"i16":return T[t>>>1>>>0];case"i32":return M[t>>>2>>>0];case"i64":V("to do getValue(i64) use WASM_BIGINT");case"float":return x[t>>>2>>>0];case"double":return _[t>>>3>>>0];case"*":return O[t>>>2>>>0];default:V(`invalid type for getValue: ${e}`)}}function q(t,e,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":case"i8":C[t>>>0]=e;break;case"i16":T[t>>>1>>>0]=e;break;case"i32":M[t>>>2>>>0]=e;break;case"i64":V("to do setValue(i64) use WASM_BIGINT");case"float":x[t>>>2>>>0]=e;break;case"double":_[t>>>3>>>0]=e;break;case"*":O[t>>>2>>>0]=e;break;default:V(`invalid type for setValue: ${r}`)}}n.noExitRuntime;class G{constructor(t){this.excPtr=t,this.ptr=t-24}set_type(t){O[this.ptr+4>>>2>>>0]=t}get_type(){return O[this.ptr+4>>>2>>>0]}set_destructor(t){O[this.ptr+8>>>2>>>0]=t}get_destructor(){return O[this.ptr+8>>>2>>>0]}set_caught(t){t=t?1:0,C[this.ptr+12>>>0]=t}get_caught(){return 0!=C[this.ptr+12>>>0]}set_rethrown(t){t=t?1:0,C[this.ptr+13>>>0]=t}get_rethrown(){return 0!=C[this.ptr+13>>>0]}init(t,e){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(e)}set_adjusted_ptr(t){O[this.ptr+16>>>2>>>0]=t}get_adjusted_ptr(){return O[this.ptr+16>>>2>>>0]}get_exception_ptr(){if(xe(this.get_type()))return O[this.excPtr>>>2>>>0];var t=this.get_adjusted_ptr();return 0!==t?t:this.excPtr}}var X={},J=t=>{for(;t.length;){var e=t.pop();t.pop()(e)}};function Y(t){return this.fromWireType(O[t>>>2>>>0])}var Z,K,Q,tt={},et={},rt={},nt=t=>{throw new Z(t)},ot=(t,e,r)=>{function n(e){var n=r(e);n.length!==t.length&&nt("Mismatched type converter count");for(var o=0;o<t.length;++o)at(t[o],n[o])}t.forEach((function(t){rt[t]=e}));var o=new Array(e.length),s=[],i=0;e.forEach(((t,e)=>{et.hasOwnProperty(t)?o[e]=et[t]:(s.push(t),tt.hasOwnProperty(t)||(tt[t]=[]),tt[t].push((()=>{o[e]=et[t],++i===s.length&&n(o)})))})),0===s.length&&n(o)},st=t=>{for(var e="",r=t;w[r>>>0];)e+=K[w[r++>>>0]];return e},it=t=>{throw new Q(t)};function at(t,e,r={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");return function(t,e,r={}){var n=e.name;if(t||it(`type "${n}" must have a positive integer typeid pointer`),et.hasOwnProperty(t)){if(r.ignoreDuplicateRegistrations)return;it(`Cannot register type '${n}' twice`)}if(et[t]=e,delete rt[t],tt.hasOwnProperty(t)){var o=tt[t];delete tt[t],o.forEach((t=>t()))}}(t,e,r)}var ct,ut=t=>{it(t.$$.ptrType.registeredClass.name+" instance already deleted")},lt=!1,ht=t=>{},dt=t=>{t.count.value-=1,0===t.count.value&&(t=>{t.smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr)})(t)},ft=(t,e,r)=>{if(e===r)return t;if(void 0===r.baseClass)return null;var n=ft(t,e,r.baseClass);return null===n?null:r.downcast(n)},pt={},mt=[],vt=()=>{for(;mt.length;){var t=mt.pop();t.$$.deleteScheduled=!1,t.delete()}},gt={},yt=(t,e)=>(e.ptrType&&e.ptr||nt("makeClassHandle requires ptr and ptrType"),!!e.smartPtrType!=!!e.smartPtr&&nt("Both smartPtrType and smartPtr must be specified"),e.count={value:1},bt(Object.create(t,{$$:{value:e,writable:!0}})));var bt=t=>"undefined"==typeof FinalizationRegistry?(bt=t=>t,t):(lt=new FinalizationRegistry((t=>{dt(t.$$)})),bt=t=>{var e=t.$$;if(e.smartPtr){var r={$$:e};lt.register(t,r,t)}return t},ht=t=>lt.unregister(t),bt(t));function St(){}var Ct=(t,e)=>Object.defineProperty(e,"name",{value:t}),wt=(t,e,r)=>{if(void 0===t[e].overloadTable){var n=t[e];t[e]=function(...n){return t[e].overloadTable.hasOwnProperty(n.length)||it(`Function '${r}' called with an invalid number of arguments (${n.length}) - expects one of (${t[e].overloadTable})!`),t[e].overloadTable[n.length].apply(this,n)},t[e].overloadTable=[],t[e].overloadTable[n.argCount]=n}},Tt=(t,e,r)=>{n.hasOwnProperty(t)?((void 0===r||void 0!==n[t].overloadTable&&void 0!==n[t].overloadTable[r])&&it(`Cannot register public name '${t}' twice`),wt(n,t,t),n.hasOwnProperty(r)&&it(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),n[t].overloadTable[r]=e):(n[t]=e,void 0!==r&&(n[t].numArguments=r))};function $t(t,e,r,n,o,s,i,a){this.name=t,this.constructor=e,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=o,this.getActualType=s,this.upcast=i,this.downcast=a,this.pureVirtualFunctions=[]}var Pt=(t,e,r)=>{for(;e!==r;)e.upcast||it(`Expected null or instance of ${r.name}, got an instance of ${e.name}`),t=e.upcast(t),e=e.baseClass;return t};function Mt(t,e){if(null===e)return this.isReference&&it(`null is not a valid ${this.name}`),0;e.$$||it(`Cannot pass "${Kt(e)}" as a ${this.name}`),e.$$.ptr||it(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=e.$$.ptrType.registeredClass;return Pt(e.$$.ptr,r,this.registeredClass)}function Ot(t,e){var r;if(null===e)return this.isReference&&it(`null is not a valid ${this.name}`),this.isSmartPointer?(r=this.rawConstructor(),null!==t&&t.push(this.rawDestructor,r),r):0;e&&e.$$||it(`Cannot pass "${Kt(e)}" as a ${this.name}`),e.$$.ptr||it(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&e.$$.ptrType.isConst&&it(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);var n=e.$$.ptrType.registeredClass;if(r=Pt(e.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===e.$$.smartPtr&&it("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?r=e.$$.smartPtr:it(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)r=e.$$.smartPtr;else{var o=e.clone();r=this.rawShare(r,Gt.toHandle((()=>o.delete()))),null!==t&&t.push(this.rawDestructor,r)}break;default:it("Unsupporting sharing policy")}return r}function xt(t,e){if(null===e)return this.isReference&&it(`null is not a valid ${this.name}`),0;e.$$||it(`Cannot pass "${Kt(e)}" as a ${this.name}`),e.$$.ptr||it(`Cannot pass deleted object as a pointer of type ${this.name}`),e.$$.ptrType.isConst&&it(`Cannot convert argument of type ${e.$$.ptrType.name} to parameter type ${this.name}`);var r=e.$$.ptrType.registeredClass;return Pt(e.$$.ptr,r,this.registeredClass)}function _t(t,e,r,n,o,s,i,a,c,u,l){this.name=t,this.registeredClass=e,this.isReference=r,this.isConst=n,this.isSmartPointer=o,this.pointeeType=s,this.sharingPolicy=i,this.rawGetPointee=a,this.rawConstructor=c,this.rawShare=u,this.rawDestructor=l,o||void 0!==e.baseClass?this.toWireType=Ot:n?(this.toWireType=Mt,this.destructorFunction=null):(this.toWireType=xt,this.destructorFunction=null)}var Dt,At,Et=(t,e,r)=>{n.hasOwnProperty(t)||nt("Replacing nonexistent public symbol"),void 0!==n[t].overloadTable&&void 0!==r?n[t].overloadTable[r]=e:(n[t]=e,n[t].argCount=r)},jt=[],It=t=>{var e=jt[t];return e||(t>=jt.length&&(jt.length=t+1),jt[t]=e=Dt.get(t)),e},kt=(t,e)=>(...r)=>((t,e,r=[])=>{if(t.includes("j"))return((t,e,r)=>(t=t.replace(/p/g,"i"),(0,n["dynCall_"+t])(e,...r)))(t,e,r);var o=It(e)(...r);return"p"==t[0]?o>>>0:o})(t,e,r),Rt=(t,e)=>{var r=(t=st(t)).includes("j")||t.includes("p")?kt(t,e):It(e);return"function"!=typeof r&&it(`unknown function pointer with signature ${t}: ${e}`),r},Wt=t=>{var e=Pe(t),r=st(e);return Oe(e),r},Vt=(t,e)=>{var r=[],n={};throw e.forEach((function t(e){n[e]||et[e]||(rt[e]?rt[e].forEach(t):(r.push(e),n[e]=!0))})),new At(`${t}: `+r.map(Wt).join([", "]))},Ft=(t,e)=>{for(var r=[],n=0;n<t;n++)r.push(O[e+4*n>>>2>>>0]);return r};function Nt(t){for(var e=1;e<t.length;++e)if(null!==t[e]&&void 0===t[e].destructorFunction)return!0;return!1}function Ht(t,e){if(!(t instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof t} which is not a function`);var r=Ct(t.name||"unknownFunctionName",(function(){}));r.prototype=t.prototype;var n=new r,o=t.apply(n,e);return o instanceof Object?o:n}function Bt(t,e,r,n,o,s){var i=e.length;i<2&&it("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==e[1]&&null!==r,c=Nt(e),u="void"!==e[0].name,l=[t,it,n,o,J,e[0],e[1]],h=0;h<i-2;++h)l.push(e[h+2]);if(!c)for(h=a?1:2;h<e.length;++h)null!==e[h].destructorFunction&&l.push(e[h].destructorFunction);let[d,f]=function(t,e,r,n){for(var o=Nt(t),s=t.length,i="",a="",c=0;c<s-2;++c)i+=(0!==c?", ":"")+"arg"+c,a+=(0!==c?", ":"")+"arg"+c+"Wired";var u=`\n        return function (${i}) {\n        if (arguments.length !== ${s-2}) {\n          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${s-2}');\n        }`;o&&(u+="var destructors = [];\n");var l=o?"destructors":"null",h=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];for(e&&(u+="var thisWired = classParam['toWireType']("+l+", this);\n"),c=0;c<s-2;++c)u+="var arg"+c+"Wired = argType"+c+"['toWireType']("+l+", arg"+c+");\n",h.push("argType"+c);if(e&&(a="thisWired"+(a.length>0?", ":"")+a),u+=(r||n?"var rv = ":"")+"invoker(fn"+(a.length>0?", ":"")+a+");\n",o)u+="runDestructors(destructors);\n";else for(c=e?1:2;c<t.length;++c){var d=1===c?"thisWired":"arg"+(c-2)+"Wired";null!==t[c].destructorFunction&&(u+=`${d}_dtor(${d});\n`,h.push(`${d}_dtor`))}return r&&(u+="var ret = retType['fromWireType'](rv);\nreturn ret;\n"),[h,u+="}\n"]}(e,a,u,s);d.push(f);var p=Ht(Function,d)(...l);return Ct(t,p)}var Ut=t=>{const e=(t=t.trim()).indexOf("(");return-1!==e?t.substr(0,e):t},zt=[],Lt=[];function qt(t){(t>>>=0)>9&&0==--Lt[t+1]&&(Lt[t]=void 0,zt.push(t))}var Gt={toValue:t=>(t||it("Cannot use deleted val. handle = "+t),Lt[t]),toHandle:t=>{switch(t){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const e=zt.pop()||Lt.length;return Lt[e]=t,Lt[e+1]=1,e}}}},Xt={name:"emscripten::val",fromWireType:t=>{var e=Gt.toValue(t);return qt(t),e},toWireType:(t,e)=>Gt.toHandle(e),argPackAdvance:8,readValueFromPointer:Y,destructorFunction:null};function Jt(t){return at(t>>>=0,Xt)}var Yt=(t,e,r)=>{switch(e){case 1:return r?function(t){return this.fromWireType(C[t>>>0])}:function(t){return this.fromWireType(w[t>>>0])};case 2:return r?function(t){return this.fromWireType(T[t>>>1>>>0])}:function(t){return this.fromWireType(P[t>>>1>>>0])};case 4:return r?function(t){return this.fromWireType(M[t>>>2>>>0])}:function(t){return this.fromWireType(O[t>>>2>>>0])};default:throw new TypeError(`invalid integer width (${e}): ${t}`)}},Zt=(t,e)=>{var r=et[t];return void 0===r&&it(`${e} has unknown type ${Wt(t)}`),r},Kt=t=>{if(null===t)return"null";var e=typeof t;return"object"===e||"array"===e||"function"===e?t.toString():""+t},Qt=(t,e)=>{switch(e){case 4:return function(t){return this.fromWireType(x[t>>>2>>>0])};case 8:return function(t){return this.fromWireType(_[t>>>3>>>0])};default:throw new TypeError(`invalid float width (${e}): ${t}`)}},te=(t,e,r)=>{switch(e){case 1:return r?t=>C[t>>>0]:t=>w[t>>>0];case 2:return r?t=>T[t>>>1>>>0]:t=>P[t>>>1>>>0];case 4:return r?t=>M[t>>>2>>>0]:t=>O[t>>>2>>>0];default:throw new TypeError(`invalid integer width (${e}): ${t}`)}},ee="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,re="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,ne=(t,e)=>{for(var r=t,n=r>>1,o=n+e/2;!(n>=o)&&P[n>>>0];)++n;if((r=n<<1)-t>32&&re)return re.decode(w.subarray(t>>>0,r>>>0));for(var s="",i=0;!(i>=e/2);++i){var a=T[t+2*i>>>1>>>0];if(0==a)break;s+=String.fromCharCode(a)}return s},oe=(t,e,r)=>{if(r??=2147483647,r<2)return 0;for(var n=e,o=(r-=2)<2*t.length?r/2:t.length,s=0;s<o;++s){var i=t.charCodeAt(s);T[e>>>1>>>0]=i,e+=2}return T[e>>>1>>>0]=0,e-n},se=t=>2*t.length,ie=(t,e)=>{for(var r=0,n="";!(r>=e/4);){var o=M[t+4*r>>>2>>>0];if(0==o)break;if(++r,o>=65536){var s=o-65536;n+=String.fromCharCode(55296|s>>10,56320|1023&s)}else n+=String.fromCharCode(o)}return n},ae=(t,e,r)=>{if(e>>>=0,r??=2147483647,r<4)return 0;for(var n=e,o=n+r-4,s=0;s<t.length;++s){var i=t.charCodeAt(s);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&t.charCodeAt(++s)),M[e>>>2>>>0]=i,(e+=4)+4>o)break}return M[e>>>2>>>0]=0,e-n},ce=t=>{for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n>=55296&&n<=57343&&++r,e+=4}return e},ue=(t,e,r)=>{var n=[],o=t.toWireType(n,r);return n.length&&(O[e>>>2>>>0]=Gt.toHandle(n)),o},le={},he=t=>{var e=le[t];return void 0===e?st(t):e},de=[];Reflect.construct;var fe,pe,me,ve=t=>{var e=(t-b.buffer.byteLength+65535)/65536;try{return b.grow(e),A(),1}catch(t){}},ge=(t,e)=>{t<128?e.push(t):e.push(t%128|128,t>>7)},ye=[],be=(t,e)=>{Dt.set(t,e),jt[t]=Dt.get(t)},Se=(t,e)=>{var r=(t=>(fe||(fe=new WeakMap,((t,e)=>{if(fe)for(var r=0;r<0+e;r++){var n=It(r);n&&fe.set(n,r)}})(0,Dt.length)),fe.get(t)||0))(t);if(r)return r;var n=(()=>{if(ye.length)return ye.pop();try{Dt.grow(1)}catch(t){if(!(t instanceof RangeError))throw t;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return Dt.length-1})();try{be(n,t)}catch(r){if(!(r instanceof TypeError))throw r;var o=((t,e)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((t=>{for(var e={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},r={parameters:[],results:"v"==t[0]?[]:[e[t[0]]]},n=1;n<t.length;++n)r.parameters.push(e[t[n]]);return r})(e),t);var r=[1];((t,e)=>{var r=t.slice(0,1),n=t.slice(1),o={i:127,p:127,j:126,f:125,d:124,e:111};e.push(96),ge(n.length,e);for(var s=0;s<n.length;++s)e.push(o[n[s]]);"v"==r?e.push(0):e.push(1,o[r])})(e,r);var n=[0,97,115,109,1,0,0,0,1];ge(r.length,n),n.push(...r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var o=new WebAssembly.Module(new Uint8Array(n));return new WebAssembly.Instance(o,{e:{f:t}}).exports.f})(t,e);be(n,o)}return fe.set(t,n),n},Ce=t=>{fe.delete(It(t)),be(t,null),ye.push(t)};Z=n.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},(()=>{for(var t=new Array(256),e=0;e<256;++e)t[e]=String.fromCharCode(e);K=t})(),Q=n.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Object.assign(St.prototype,{isAliasOf(t){if(!(this instanceof St))return!1;if(!(t instanceof St))return!1;var e=this.$$.ptrType.registeredClass,r=this.$$.ptr;t.$$=t.$$;for(var n=t.$$.ptrType.registeredClass,o=t.$$.ptr;e.baseClass;)r=e.upcast(r),e=e.baseClass;for(;n.baseClass;)o=n.upcast(o),n=n.baseClass;return e===n&&r===o},clone(){if(this.$$.ptr||ut(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t,e=bt(Object.create(Object.getPrototypeOf(this),{$$:{value:(t=this.$$,{count:t.count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType})}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||ut(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&it("Object already scheduled for deletion"),ht(this),dt(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||ut(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&it("Object already scheduled for deletion"),mt.push(this),1===mt.length&&ct&&ct(vt),this.$$.deleteScheduled=!0,this}}),n.getInheritedInstanceCount=()=>Object.keys(gt).length,n.getLiveInheritedInstances=()=>{var t=[];for(var e in gt)gt.hasOwnProperty(e)&&t.push(gt[e]);return t},n.flushPendingDeletes=vt,n.setDelayFunction=t=>{ct=t,mt.length&&ct&&ct(vt)},Object.assign(_t.prototype,{getPointee(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t},destructor(t){this.rawDestructor?.(t)},argPackAdvance:8,readValueFromPointer:Y,fromWireType:function(t){var e=this.getPointee(t);if(!e)return this.destructor(t),null;var r=((t,e)=>(e=((t,e)=>{for(void 0===e&&it("ptr should not be undefined");t.baseClass;)e=t.upcast(e),t=t.baseClass;return e})(t,e),gt[e]))(this.registeredClass,e);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=e,r.$$.smartPtr=t,r.clone();var n=r.clone();return this.destructor(t),n}function o(){return this.isSmartPointer?yt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:e,smartPtrType:this,smartPtr:t}):yt(this.registeredClass.instancePrototype,{ptrType:this,ptr:t})}var s,i=this.registeredClass.getActualType(e),a=pt[i];if(!a)return o.call(this);s=this.isConst?a.constPointerType:a.pointerType;var c=ft(e,this.registeredClass,s.registeredClass);return null===c?o.call(this):this.isSmartPointer?yt(s.registeredClass.instancePrototype,{ptrType:s,ptr:c,smartPtrType:this,smartPtr:t}):yt(s.registeredClass.instancePrototype,{ptrType:s,ptr:c})}}),At=n.UnboundTypeError=(pe=Error,(me=Ct("UnboundTypeError",(function(t){this.name="UnboundTypeError",this.message=t;var e=new Error(t).stack;void 0!==e&&(this.stack=this.toString()+"\n"+e.replace(/^Error(:[^\n]*)?\n/,""))}))).prototype=Object.create(pe.prototype),me.prototype.constructor=me,me.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},me),Lt.push(0,1,void 0,1,null,1,!0,1,!1,1),n.count_emval_handles=()=>Lt.length/2-5-zt.length;var we,Te={r:function(t,e,r){throw e>>>=0,r>>>=0,new G(t>>>=0).init(e,r),t},D:()=>{V("")},s:function(t){var e=X[t>>>=0];delete X[t];var r=e.rawConstructor,n=e.rawDestructor,o=e.fields,s=o.map((t=>t.getterReturnType)).concat(o.map((t=>t.setterArgumentType)));ot([t],s,(t=>{var s={};return o.forEach(((e,r)=>{var n=e.fieldName,i=t[r],a=e.getter,c=e.getterContext,u=t[r+o.length],l=e.setter,h=e.setterContext;s[n]={read:t=>i.fromWireType(a(c,t)),write:(t,e)=>{var r=[];l(h,t,u.toWireType(r,e)),J(r)}}})),[{name:e.name,fromWireType:t=>{var e={};for(var r in s)e[r]=s[r].read(t);return n(t),e},toWireType:(t,e)=>{for(var o in s)if(!(o in e))throw new TypeError(`Missing field: "${o}"`);var i=r();for(o in s)s[o].write(i,e[o]);return null!==t&&t.push(n,i),i},argPackAdvance:8,readValueFromPointer:Y,destructorFunction:n}]}))},C:function(t,e,r,n,o){},H:function(t,e,r,n){at(t>>>=0,{name:e=st(e>>>=0),fromWireType:function(t){return!!t},toWireType:function(t,e){return e?r:n},argPackAdvance:8,readValueFromPointer:function(t){return this.fromWireType(w[t>>>0])},destructorFunction:null})},o:function(t,e,r,n,o,s,i,a,c,u,l,h,d){t>>>=0,e>>>=0,r>>>=0,n>>>=0,o>>>=0,s>>>=0,i>>>=0,a>>>=0,c>>>=0,u>>>=0,h>>>=0,d>>>=0,l=st(l>>>=0),s=Rt(o,s),a&&=Rt(i,a),u&&=Rt(c,u),d=Rt(h,d);var f=(t=>{if(void 0===t)return"_unknown";var e=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return e>=48&&e<=57?`_${t}`:t})(l);Tt(f,(function(){Vt(`Cannot construct ${l} due to unbound types`,[n])})),ot([t,e,r],n?[n]:[],(e=>{var r,o;e=e[0],o=n?(r=e.registeredClass).instancePrototype:St.prototype;var i=Ct(l,(function(...t){if(Object.getPrototypeOf(this)!==c)throw new Q("Use 'new' to construct "+l);if(void 0===h.constructor_body)throw new Q(l+" has no accessible constructor");var e=h.constructor_body[t.length];if(void 0===e)throw new Q(`Tried to invoke ctor of ${l} with invalid number of parameters (${t.length}) - expected (${Object.keys(h.constructor_body).toString()}) parameters instead!`);return e.apply(this,t)})),c=Object.create(o,{constructor:{value:i}});i.prototype=c;var h=new $t(l,i,c,d,r,s,a,u);h.baseClass&&(h.baseClass.__derivedClasses??=[],h.baseClass.__derivedClasses.push(h));var p=new _t(l,h,!0,!1,!1),m=new _t(l+"*",h,!1,!1,!1),v=new _t(l+" const*",h,!1,!0,!1);return pt[t]={pointerType:m,constPointerType:v},Et(f,i),[p,m,v]}))},n:function(t,e,r,n,o,s){t>>>=0,n>>>=0,o>>>=0,s>>>=0;var i=Ft(e,r>>>=0);o=Rt(n,o),ot([],[t],(t=>{var r=`constructor ${(t=t[0]).name}`;if(void 0===t.registeredClass.constructor_body&&(t.registeredClass.constructor_body=[]),void 0!==t.registeredClass.constructor_body[e-1])throw new Q(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${t.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return t.registeredClass.constructor_body[e-1]=()=>{Vt(`Cannot construct ${t.name} due to unbound types`,i)},ot([],i,(n=>(n.splice(1,0,null),t.registeredClass.constructor_body[e-1]=Bt(r,n,null,o,s),[]))),[]}))},a:function(t,e,r,n,o,s,i,a,c){t>>>=0,e>>>=0,o>>>=0,s>>>=0,i>>>=0;var u=Ft(r,n>>>=0);e=st(e),e=Ut(e),s=Rt(o,s),ot([],[t],(t=>{var n=`${(t=t[0]).name}.${e}`;function o(){Vt(`Cannot call ${n} due to unbound types`,u)}e.startsWith("@@")&&(e=Symbol[e.substring(2)]),a&&t.registeredClass.pureVirtualFunctions.push(e);var l=t.registeredClass.instancePrototype,h=l[e];return void 0===h||void 0===h.overloadTable&&h.className!==t.name&&h.argCount===r-2?(o.argCount=r-2,o.className=t.name,l[e]=o):(wt(l,e,n),l[e].overloadTable[r-2]=o),ot([],u,(o=>{var a=Bt(n,o,t,s,i,c);return void 0===l[e].overloadTable?(a.argCount=r-2,l[e]=a):l[e].overloadTable[r-2]=a,[]})),[]}))},G:Jt,y:function(t,e,r,n){function o(){}t>>>=0,r>>>=0,e=st(e>>>=0),o.values={},at(t,{name:e,constructor:o,fromWireType:function(t){return this.constructor.values[t]},toWireType:(t,e)=>e.value,argPackAdvance:8,readValueFromPointer:Yt(e,r,n),destructorFunction:null}),Tt(e,o)},h:function(t,e,r){e>>>=0;var n=Zt(t>>>=0,"enum");e=st(e);var o=n.constructor,s=Object.create(n.constructor.prototype,{value:{value:r},constructor:{value:Ct(`${n.name}_${e}`,(function(){}))}});o.values[r]=s,o[e]=s},A:function(t,e,r){r>>>=0,at(t>>>=0,{name:e=st(e>>>=0),fromWireType:t=>t,toWireType:(t,e)=>e,argPackAdvance:8,readValueFromPointer:Qt(e,r),destructorFunction:null})},d:function(t,e,r,n,o,s,i){t>>>=0,n>>>=0,o>>>=0,s>>>=0;var a=Ft(e,r>>>=0);t=st(t),t=Ut(t),o=Rt(n,o),Tt(t,(function(){Vt(`Cannot call ${t} due to unbound types`,a)}),e-1),ot([],a,(r=>{var n=[r[0],null].concat(r.slice(1));return Et(t,Bt(t,n,null,o,s,i),e-1),[]}))},p:function(t,e,r,n,o){t>>>=0,r>>>=0,e=st(e>>>=0),-1===o&&(o=4294967295);var s=t=>t;if(0===n){var i=32-8*r;s=t=>t<<i>>>i}var a=e.includes("unsigned");at(t,{name:e,fromWireType:s,toWireType:a?function(t,e){return this.name,e>>>0}:function(t,e){return this.name,e},argPackAdvance:8,readValueFromPointer:te(e,r,0!==n),destructorFunction:null})},g:function(t,e,r){r>>>=0;var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function o(t){var e=O[t>>>2>>>0],r=O[t+4>>>2>>>0];return new n(C.buffer,r,e)}at(t>>>=0,{name:r=st(r),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},q:function(t,e){Jt(t>>>=0)},z:function(t,e){t>>>=0;var r="std::string"===(e=st(e>>>=0));at(t,{name:e,fromWireType(t){var e,n,o,s=O[t>>>2>>>0],i=t+4;if(r)for(var a=i,c=0;c<=s;++c){var u=i+c;if(c==s||0==w[u>>>0]){var l=(n=a,o=u-a,(n>>>=0)?((t,e,r)=>{for(var n=(e>>>=0)+r,o=e;t[o]&&!(o>=n);)++o;if(o-e>16&&t.buffer&&ee)return ee.decode(t.subarray(e,o));for(var s="";e<o;){var i=t[e++];if(128&i){var a=63&t[e++];if(192!=(224&i)){var c=63&t[e++];if((i=224==(240&i)?(15&i)<<12|a<<6|c:(7&i)<<18|a<<12|c<<6|63&t[e++])<65536)s+=String.fromCharCode(i);else{var u=i-65536;s+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else s+=String.fromCharCode((31&i)<<6|a)}else s+=String.fromCharCode(i)}return s})(w,n,o):"");void 0===e?e=l:(e+=String.fromCharCode(0),e+=l),a=u+1}}else{var h=new Array(s);for(c=0;c<s;++c)h[c]=String.fromCharCode(w[i+c>>>0]);e=h.join("")}return Oe(t),e},toWireType(t,e){var n;e instanceof ArrayBuffer&&(e=new Uint8Array(e));var o="string"==typeof e;o||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||it("Cannot pass non-string to std::string"),n=r&&o?(t=>{for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n<=127?e++:n<=2047?e+=2:n>=55296&&n<=57343?(e+=4,++r):e+=3}return e})(e):e.length;var s=Me(4+n+1),i=s+4;if(O[s>>>2>>>0]=n,r&&o)((t,e,r,n)=>{if(!(n>0))return 0;for(var o=(r>>>=0)+n-1,s=0;s<t.length;++s){var i=t.charCodeAt(s);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&t.charCodeAt(++s)),i<=127){if(r>=o)break;e[r++>>>0]=i}else if(i<=2047){if(r+1>=o)break;e[r++>>>0]=192|i>>6,e[r++>>>0]=128|63&i}else if(i<=65535){if(r+2>=o)break;e[r++>>>0]=224|i>>12,e[r++>>>0]=128|i>>6&63,e[r++>>>0]=128|63&i}else{if(r+3>=o)break;e[r++>>>0]=240|i>>18,e[r++>>>0]=128|i>>12&63,e[r++>>>0]=128|i>>6&63,e[r++>>>0]=128|63&i}}e[r>>>0]=0})(e,w,i,n+1);else if(o)for(var a=0;a<n;++a){var c=e.charCodeAt(a);c>255&&(Oe(i),it("String has UTF-16 code units that do not fit in 8 bits")),w[i+a>>>0]=c}else for(a=0;a<n;++a)w[i+a>>>0]=e[a];return null!==t&&t.push(Oe,s),s},argPackAdvance:8,readValueFromPointer:Y,destructorFunction(t){Oe(t)}})},x:function(t,e,r){var n,o,s,i;t>>>=0,e>>>=0,r=st(r>>>=0),2===e?(n=ne,o=oe,i=se,s=t=>P[t>>>1>>>0]):4===e&&(n=ie,o=ae,i=ce,s=t=>O[t>>>2>>>0]),at(t,{name:r,fromWireType:t=>{for(var r,o=O[t>>>2>>>0],i=t+4,a=0;a<=o;++a){var c=t+4+a*e;if(a==o||0==s(c)){var u=n(i,c-i);void 0===r?r=u:(r+=String.fromCharCode(0),r+=u),i=c+e}}return Oe(t),r},toWireType:(t,n)=>{"string"!=typeof n&&it(`Cannot pass non-string to C++ string type ${r}`);var s=i(n),a=Me(4+s+e);return O[a>>>2>>>0]=s/e,o(n,a+4,s+e),null!==t&&t.push(Oe,a),a},argPackAdvance:8,readValueFromPointer:Y,destructorFunction(t){Oe(t)}})},t:function(t,e,r,n,o,s){e>>>=0,r>>>=0,n>>>=0,o>>>=0,s>>>=0,X[t>>>=0]={name:st(e),rawConstructor:Rt(r,n),rawDestructor:Rt(o,s),fields:[]}},i:function(t,e,r,n,o,s,i,a,c,u){e>>>=0,r>>>=0,n>>>=0,o>>>=0,s>>>=0,i>>>=0,a>>>=0,c>>>=0,u>>>=0,X[t>>>=0].fields.push({fieldName:st(e),getterReturnType:r,getter:Rt(n,o),getterContext:s,setterArgumentType:i,setter:Rt(a,c),setterContext:u})},I:function(t,e){at(t>>>=0,{isVoid:!0,name:e=st(e>>>=0),argPackAdvance:0,fromWireType:()=>{},toWireType:(t,e)=>{}})},F:function(t,e,r){return t>>>=0,e>>>=0,r>>>=0,w.copyWithin(t>>>0,e>>>0,e+r>>>0)},v:function(t,e,r){return t>>>=0,e>>>=0,r>>>=0,t=Gt.toValue(t),e=Zt(e,"emval::as"),ue(e,r,t)},k:function(t,e,r,n,o){return e>>>=0,r>>>=0,n>>>=0,o>>>=0,(t=de[t>>>=0])(e=Gt.toValue(e),e[r=he(r)],n,o)},b:qt,u:function(t,e){return t>>>=0,e>>>=0,(t=Gt.toValue(t))==Gt.toValue(e)},l:function(t,e,r){var n=((t,e)=>{for(var r=new Array(t),n=0;n<t;++n)r[n]=Zt(O[e+4*n>>>2>>>0],"parameter "+n);return r})(t,e>>>=0),o=n.shift();t--;var s="return function (obj, func, destructorsRef, args) {\n",i=0,a=[];0===r&&a.push("obj");for(var c=["retType"],u=[o],l=0;l<t;++l)a.push("arg"+l),c.push("argType"+l),u.push(n[l]),s+=`  var arg${l} = argType${l}.readValueFromPointer(args${i?"+"+i:""});\n`,i+=n[l].argPackAdvance;s+=`  var rv = ${1===r?"new func":"func.call"}(${a.join(", ")});\n`,o.isVoid||(c.push("emval_returnValue"),u.push(ue),s+="  return emval_returnValue(retType, destructorsRef, rv);\n"),s+="};\n",c.push(s);var h,d,f=Ht(Function,c)(...u),p=`methodCaller<(${n.map((t=>t.name)).join(", ")}) => ${o.name}>`;return h=Ct(p,f),d=de.length,de.push(h),d},f:function(t,e){return t>>>=0,e>>>=0,t=Gt.toValue(t),e=Gt.toValue(e),Gt.toHandle(t[e])},w:function(t){(t>>>=0)>9&&(Lt[t+1]+=1)},c:function(t){return t>>>=0,Gt.toHandle(he(t))},B:function(){return Gt.toHandle({})},j:function(t){t>>>=0;var e=Gt.toValue(t);J(e),qt(t)},m:function(t,e,r){t>>>=0,e>>>=0,r>>>=0,t=Gt.toValue(t),e=Gt.toValue(e),r=Gt.toValue(r),t[e]=r},e:function(t,e){e>>>=0;var r=(t=Zt(t>>>=0,"_emval_take_value")).readValueFromPointer(e);return Gt.toHandle(r)},E:function(t){t>>>=0;var e=w.length,r=4294901760;if(t>r)return!1;for(var n,o=1;o<=4;o*=2){var s=e*(1+.2/o);s=Math.min(s,t+100663296);var i=Math.min(r,(n=Math.max(t,s))+(65536-n%65536)%65536);if(ve(i))return!0}return!1}},$e=function(){var t,e,s,i,a={a:Te};function u(t,e){var r;return $e=function(t){var e,r=t=>e=>t(e)>>>0;return(t=Object.assign({},t)).L=r(t.L),t.N=r(t.N),t._emscripten_stack_alloc=r(t._emscripten_stack_alloc),t.emscripten_stack_get_current=(e=t.emscripten_stack_get_current,()=>e()>>>0),t}($e=t.exports),b=$e.J,A(),Dt=$e.M,r=$e.K,j.unshift(r),function(t){if(k--,n.monitorRunDependencies?.(k),0==k&&(null!==R&&(clearInterval(R),R=null),W)){var e=W;W=null,e()}}(),$e}if(k++,n.monitorRunDependencies?.(k),n.instantiateWasm)try{return n.instantiateWasm(a,u)}catch(t){S(`Module.instantiateWasm callback failed with error: ${t}`),r(t)}return F||(F=function(){if(n.locateFile){var t="manifold.wasm";return N(t)?t:(e=t,n.locateFile?n.locateFile(e,m):m+e)}var e;return new URL(o(430),o.b).href}()),(t=y,e=F,s=a,i=function(t){u(t.instance)},t||"function"!=typeof WebAssembly.instantiateStreaming||N(e)||H(e)||c||"function"!=typeof fetch?U(e,s,i):fetch(e,{credentials:"same-origin"}).then((t=>WebAssembly.instantiateStreaming(t,s).then(i,(function(t){return S(`wasm streaming compile failed: ${t}`),S("falling back to ArrayBuffer instantiation"),U(e,s,i)}))))).catch(r),{}}(),Pe=t=>(Pe=$e.L)(t),Me=t=>(Me=$e.N)(t),Oe=t=>(Oe=$e.O)(t),xe=t=>(xe=$e.P)(t);function _e(){function t(){we||(we=!0,n.calledRun=!0,D||(z(j),e(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),function(){if(n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;)t=n.postRun.shift(),I.unshift(t);var t;z(I)}()))}k>0||(function(){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)t=n.preRun.shift(),E.unshift(t);var t;z(E)}(),k>0||(n.setStatus?(n.setStatus("Running..."),setTimeout((function(){setTimeout((function(){n.setStatus("")}),1),t()}),1)):t()))}if(n.addFunction=Se,n.removeFunction=Ce,W=function t(){we||_e(),we||(W=t)},n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return _e(),s});const M=P;(async()=>{const t=await M({locateFile:()=>"https://cdn.jsdelivr.net/gh/bitbybit-dev/bitbybit-assets@0.20.9/wasm/manifold.cc2ddd38.wasm"});var e;t.setup(),e=t,w=new n,C=new S(e),postMessage("manifold-initialised"),postMessage("manifold-initialised")})(),addEventListener("message",(({data:t})=>{((t,e)=>{let r;e("busy");try{if("manifoldToMesh"!==t.action.functionName&&"manifoldsToMeshes"!==t.action.functionName&&"deleteManifoldOrCrossSection"!==t.action.functionName&&"deleteManifoldsOrCrossSections"!==t.action.functionName&&"manifoldToMeshPointer"!==t.action.functionName&&"startedTheRun"!==t.action.functionName&&"cleanAllCache"!==t.action.functionName&&"addManifoldPluginDependency"!==t.action.functionName){Object.keys(t.action.inputs).forEach((e=>{const r=t.action.inputs[e];r&&r.type&&"manifold-shape"===r.type&&r.hash&&(t.action.inputs[e]=w.checkCache(t.action.inputs[e].hash)),r&&Array.isArray(r)&&r.length>0&&(r[0].type&&"manifold-shape"===r[0].type&&r[0].hash?t.action.inputs[e]=t.action.inputs[e].map((t=>w.checkCache(t.hash))):Array.isArray(r[0])&&r[0][0].type&&"manifold-shape"===r[0][0].type&&r[0][0].hash&&(t.action.inputs[e]=t.action.inputs[e].map((t=>t.map((t=>w.checkCache(t.hash)))))))}));const e=t.action.functionName.split(".");let n;if(n=3===e.length?w.cacheOp(t.action,(()=>C[e[0]][e[1]][e[2]](t.action.inputs))):2===e.length?w.cacheOp(t.action,(()=>C[e[0]][e[1]](t.action.inputs))):w.cacheOp(t.action,(()=>C[t.action.functionName](t.action.inputs))),w.isManifoldObject(n))r=Array.isArray(n)?n.map((t=>({hash:t.hash,type:"manifold-shape"}))):{hash:n.hash,type:"manifold-shape"};else if(n&&n.compound&&n.data&&n.manifolds&&n.manifolds.length>0){const t=n;t.manifolds=t.manifolds.map((t=>({id:t.id,manifold:{hash:t.manifold.hash,type:"manifold-shape"}}))),t.compound={hash:t.compound.hash,type:"manifold-shape"},r=t}else r=n}if("addManifoldPluginDependency"===t.action.functionName&&(C&&C.plugins?Object.keys(t.action.inputs).forEach((e=>{C.plugins.dependencies[e]=t.action.inputs[e]})):T=t.action.inputs),"manifoldToMesh"===t.action.functionName&&(t.action.inputs.manifold=w.checkCache(t.action.inputs.manifold.hash),r=C.decomposeManifoldOrCrossSection(t.action.inputs)),"manifoldToMeshPointer"===t.action.functionName){t.action.inputs.manifold=w.checkCache(t.action.inputs.manifold.hash);const e=C.manifold.manifoldToMesh(t.action.inputs),n=w.computeHash(t.action);w.addToCache(n,e),r={hash:n,type:"manifold-shape"}}if("manifoldsToMeshes"===t.action.functionName){if(!(t.action.inputs.manifolds&&t.action.inputs.manifolds.length>0))throw new Error("No manifolds detected");t.action.inputs.manifolds=t.action.inputs.manifolds.map((t=>w.checkCache(t.hash))),r=C.decomposeManifoldsOrCrossSections(t.action.inputs)}"deleteManifoldOrCrossSection"===t.action.functionName&&(w.cleanCacheForHash(t.action.inputs.manifoldOrCrossSection.hash),r={}),"deleteManifoldsOrCrossSections"===t.action.functionName&&(t.action.inputs.manifoldsOrCrossSections.forEach((t=>w.cleanCacheForHash(t.hash))),r={}),"startedTheRun"===t.action.functionName&&(w&&Object.keys(w.usedHashes).length>1e4&&w.cleanAllCache(),r={}),"cleanAllCache"===t.action.functionName&&(w.cleanAllCache(),r={}),e({uid:t.uid,result:r})}catch(r){let n,o;t&&t.action&&t.action.inputs&&(n=`Input values were: {${Object.keys(t.action.inputs).map((e=>`${e}: ${JSON.stringify(t.action.inputs[e])}`)).join(",")}}. `),t&&t.action&&t.action.functionName&&(o=`- ${t.action.functionName}`),e({uid:t.uid,result:void 0,error:`Manifold computation failed. ${r} While executing function ${o}. ${n}`})}})(t,postMessage)}))})()})();