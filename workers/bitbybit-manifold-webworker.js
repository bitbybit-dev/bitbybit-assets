(()=>{"use strict";var t,e,r,n,o={644:(t,e,r)=>{r.r(e),r.d(e,{default:()=>n});const n=r.p+"static/js/manifold.cc2ddd38.wasm"},581:(t,e,r)=>{var n;r.r(e),r.d(e,{default:()=>o});const o=(n="file:///Users/matasubarevicius/Documents/MyProjects/bitbybit-ui/node_modules/manifold-3d/manifold.js",async function(t={}){var e,o,s=t,i=new Promise(((t,r)=>{e=t,o=r})),a="object"==typeof window,c="function"==typeof importScripts,u="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(u){const{createRequire:t}=await r.e(167).then(r.t.bind(r,167,23));var l=t("file:///Users/matasubarevicius/Documents/MyProjects/bitbybit-ui/node_modules/manifold-3d/manifold.js")}var d=!1;s.setup=function(){if(d)return;function t(t,e,r=(t=>t)){if(e)for(let n of e)t.push_back(r(n));return t}function e(t,e=(t=>t)){const r=[],n=t.size();for(let o=0;o<n;o++)r.push(e(t.get(o)));return r}function r(e){return e[0].length<3&&(e=[e]),t(new s.Vector2_vec2,e,(e=>t(new s.Vector_vec2,e,(t=>t instanceof Array?{x:t[0],y:t[1]}:t))))}function n(t){for(let e=0;e<t.size();e++)t.get(e).delete();t.delete()}function o(t){return t[0]instanceof Array?{x:t[0][0],y:t[0][1]}:"number"==typeof t[0]?{x:t[0]||0,y:t[1]||0}:t[0]}function i(t){return t[0]instanceof Array?{x:t[0][0],y:t[0][1],z:t[0][2]}:"number"==typeof t[0]?{x:t[0]||0,y:t[1]||0,z:t[2]||0}:t[0]}function a(t){return"EvenOdd"==t?0:"NonZero"==t?1:"Negative"==t?3:2}d=!0;const c=s.CrossSection;function u(t,e="Positive"){if(t instanceof c)return t;{const o=r(t),s=new c(o,a(e));return n(o),s}}s.CrossSection.prototype.translate=function(...t){return this._Translate(o(t))},s.CrossSection.prototype.scale=function(t){return"number"==typeof t?this._Scale({x:t,y:t}):this._Scale(o([t]))},s.CrossSection.prototype.mirror=function(t){return this._Mirror(o([t]))},s.CrossSection.prototype.warp=function(t){const e=Ce((function(e){const r=[z(e,"double"),z(e+8,"double")];t(r),q(e,r[0],"double"),q(e+8,r[1],"double")}),"vi"),r=this._Warp(e);return Se(e),r},s.CrossSection.prototype.decompose=function(){const t=this._Decompose(),r=e(t);return t.delete(),r},s.CrossSection.prototype.bounds=function(){const t=this._Bounds();return{min:["x","y"].map((e=>t.min[e])),max:["x","y"].map((e=>t.max[e]))}},s.CrossSection.prototype.offset=function(t,e="Square",r=2,n=0){return this._Offset(t,function(t){return"Round"==t?1:"Miter"==t?2:0}(e),r,n)},s.CrossSection.prototype.extrude=function(t,e=0,r=0,n=[1,1],i=!1){n=o([n]);const a=s._Extrude(this._ToPolygons(),t,e,r,n);return i?a.translate([0,0,-t/2]):a},s.CrossSection.prototype.revolve=function(t=0,e=360){return s._Revolve(this._ToPolygons(),t,e)},s.CrossSection.prototype.add=function(t){return this._add(u(t))},s.CrossSection.prototype.subtract=function(t){return this._subtract(u(t))},s.CrossSection.prototype.intersect=function(t){return this._intersect(u(t))},s.CrossSection.prototype.toPolygons=function(){const t=this._ToPolygons(),e=function(t,e=(t=>t)){const r=[],n=t.size();for(let o=0;o<n;o++){const n=t.get(o),s=n.size(),i=[];for(let t=0;t<s;t++)i.push(e(n.get(t)));r.push(i)}return r}(t,(t=>[t.x,t.y]));return t.delete(),e},s.Manifold.prototype.smoothOut=function(t=60,e=0){return this._SmoothOut(t,e)},s.Manifold.prototype.warp=function(t){const e=Ce((function(e){const r=[z(e,"double"),z(e+8,"double"),z(e+16,"double")];t(r),q(e,r[0],"double"),q(e+8,r[1],"double"),q(e+16,r[2],"double")}),"vi"),r=this._Warp(e);Se(e);const n=r.status();if(0!==n.value)throw new s.ManifoldError(n.value);return r},s.Manifold.prototype.calculateNormals=function(t,e=60){return this._CalculateNormals(t,e)},s.Manifold.prototype.setProperties=function(t,e){const r=this.numProp(),n=Ce((function(n,o,s){const i=[];for(let e=0;e<t;++e)i[e]=z(n+8*e,"double");const a=[];for(let t=0;t<3;++t)a[t]=z(o+8*t,"double");const c=[];for(let t=0;t<r;++t)c[t]=z(s+8*t,"double");e(i,a,c);for(let e=0;e<t;++e)q(n+8*e,i[e],"double")}),"viii"),o=this._SetProperties(t,n);return Se(n),o},s.Manifold.prototype.translate=function(...t){return this._Translate(i(t))},s.Manifold.prototype.rotate=function(t,e,r){return Array.isArray(t)?this._Rotate(...t):this._Rotate(t,e||0,r||0)},s.Manifold.prototype.scale=function(t){return"number"==typeof t?this._Scale({x:t,y:t,z:t}):this._Scale(i([t]))},s.Manifold.prototype.mirror=function(t){return this._Mirror(i([t]))},s.Manifold.prototype.trimByPlane=function(t,e=0){return this._TrimByPlane(i([t]),e)},s.Manifold.prototype.slice=function(t=0){const e=this._Slice(t),r=new c(e,a("Positive"));return n(e),r},s.Manifold.prototype.project=function(){const t=this._Project(),e=new c(t,a("Positive"));return n(t),e.simplify(this.tolerance)},s.Manifold.prototype.split=function(t){const r=this._Split(t),n=e(r);return r.delete(),n},s.Manifold.prototype.splitByPlane=function(t,r=0){const n=this._SplitByPlane(i([t]),r),o=e(n);return n.delete(),o},s.Manifold.prototype.decompose=function(){const t=this._Decompose(),r=e(t);return t.delete(),r},s.Manifold.prototype.boundingBox=function(){const t=this._boundingBox();return{min:["x","y","z"].map((e=>t.min[e])),max:["x","y","z"].map((e=>t.max[e]))}};class l{constructor({numProp:t=3,triVerts:e=new Uint32Array,vertProperties:r=new Float32Array,mergeFromVert:n,mergeToVert:o,runIndex:s,runOriginalID:i,faceID:a,halfedgeTangent:c,runTransform:u}={}){this.numProp=t,this.triVerts=e,this.vertProperties=r,this.mergeFromVert=n,this.mergeToVert=o,this.runIndex=s,this.runOriginalID=i,this.faceID=a,this.halfedgeTangent=c,this.runTransform=u}get numTri(){return this.triVerts.length/3}get numVert(){return this.vertProperties.length/this.numProp}get numRun(){return this.runOriginalID.length}merge(){const{changed:t,mesh:e}=s._Merge(this);return Object.assign(this,{...e}),t}verts(t){return this.triVerts.subarray(3*t,3*(t+1))}position(t){return this.vertProperties.subarray(this.numProp*t,this.numProp*t+3)}extras(t){return this.vertProperties.subarray(this.numProp*t+3,this.numProp*(t+1))}tangent(t){return this.halfedgeTangent.subarray(4*t,4*(t+1))}transform(t){const e=new Array(16);for(const r of[0,1,2,3])for(const n of[0,1,2])e[4*r+n]=this.runTransform[12*t+3*r+n];return e[15]=1,e}}function h(t){return function(...e){1==e.length&&(e=e[0]);const r=new s.Vector_crossSection;for(const t of e)r.push_back(u(t));const n=s["_crossSection"+t](r);return r.delete(),n}}s.Mesh=l,s.Manifold.prototype.getMesh=function(t=-1){return new l(this._GetMeshJS(t))},s.ManifoldError=function(t,...e){let r="Unknown error";switch(t){case s.status.NonFiniteVertex.value:r="Non-finite vertex";break;case s.status.NotManifold.value:r="Not manifold";break;case s.status.VertexOutOfBounds.value:r="Vertex index out of bounds";break;case s.status.PropertiesWrongLength.value:r="Properties have wrong length";break;case s.status.MissingPositionProperties.value:r="Less than three properties";break;case s.status.MergeVectorsDifferentLengths.value:r="Merge vectors have different lengths";break;case s.status.MergeIndexOutOfBounds.value:r="Merge index out of bounds";break;case s.status.TransformWrongLength.value:r="Transform vector has wrong length";break;case s.status.RunIndexWrongLength.value:r="Run index vector has wrong length";break;case s.status.FaceIDWrongLength.value:r="Face ID vector has wrong length";case s.status.InvalidConstruction.value:r="Manifold constructed with invalid parameters"}const n=Error.apply(this,[r,...e]);n.name=this.name="ManifoldError",this.message=n.message,this.stack=n.stack,this.code=t},s.ManifoldError.prototype=Object.create(Error.prototype,{constructor:{value:s.ManifoldError,writable:!0,configurable:!0}}),s.CrossSection=function(t,e="Positive"){const o=r(t),s=new c(o,a(e));return n(o),s},s.CrossSection.ofPolygons=function(t,e="Positive"){return new s.CrossSection(t,e)},s.CrossSection.square=function(...t){let e;e=0==t.length?{x:1,y:1}:"number"==typeof t[0]?{x:t[0],y:t[0]}:o(t);const r=t[1]||!1;return s._Square(e,r)},s.CrossSection.circle=function(t,e=0){return s._Circle(t,e)},s.CrossSection.compose=h("Compose"),s.CrossSection.union=h("UnionN"),s.CrossSection.difference=h("DifferenceN"),s.CrossSection.intersection=h("IntersectionN"),s.CrossSection.hull=function(...e){1==e.length&&(e=e[0]);let r=new s.Vector_vec2;for(const n of e)if(n instanceof c)s._crossSectionCollectVertices(r,n);else if(n instanceof Array&&2==n.length&&"number"==typeof n[0])r.push_back({x:n[0],y:n[1]});else if(n.x)r.push_back(n);else{const e=2==n[0].length&&"number"==typeof n[0][0]||n[0].x?[n]:n;for(const n of e)t(r,n,(t=>t instanceof Array?{x:t[0],y:t[1]}:t))}const n=s._crossSectionHullPoints(r);return r.delete(),n},s.CrossSection.prototype=Object.create(c.prototype),Object.defineProperty(s.CrossSection,Symbol.hasInstance,{get:()=>t=>t instanceof c});const f=s.Manifold;function p(t){return function(...e){1==e.length&&(e=e[0]);const r=new s.Vector_manifold;for(const t of e)r.push_back(t);const n=s["_manifold"+t+"N"](r);return r.delete(),n}}s.Manifold=function(t){const e=new f(t),r=e.status();if(0!==r.value)throw new s.ManifoldError(r.value);return e},s.Manifold.ofMesh=function(t){return new s.Manifold(t)},s.Manifold.tetrahedron=function(){return s._Tetrahedron()},s.Manifold.cube=function(...t){let e;e=0==t.length?{x:1,y:1,z:1}:"number"==typeof t[0]?{x:t[0],y:t[0],z:t[0]}:i(t);const r=t[1]||!1;return s._Cube(e,r)},s.Manifold.cylinder=function(t,e,r=-1,n=0,o=!1){return s._Cylinder(t,e,r,n,o)},s.Manifold.sphere=function(t,e=0){return s._Sphere(t,e)},s.Manifold.smooth=function(e,r=[]){const n=new s.Vector_smoothness;t(n,r);const o=s._Smooth(e,n);return n.delete(),o},s.Manifold.extrude=function(t,e,r=0,n=0,o=[1,1],i=!1){return(t instanceof c?t:s.CrossSection(t,"Positive")).extrude(e,r,n,o,i)},s.Manifold.revolve=function(t,e=0,r=360){return(t instanceof c?t:s.CrossSection(t,"Positive")).revolve(e,r)},s.Manifold.reserveIDs=function(t){return s._ReserveIDs(t)},s.Manifold.compose=function(e){const r=new s.Vector_manifold;t(r,e);const n=s._manifoldCompose(r);return r.delete(),n},s.Manifold.union=p("Union"),s.Manifold.difference=p("Difference"),s.Manifold.intersection=p("Intersection"),s.Manifold.levelSet=function(t,e,r,n=0,o=-1){const i={min:{x:e.min[0],y:e.min[1],z:e.min[2]},max:{x:e.max[0],y:e.max[1],z:e.max[2]}},a=Ce((function(e){const r=z(e,"double"),n=z(e+8,"double"),o=z(e+16,"double");return t([r,n,o])}),"di"),c=s._LevelSet(a,i,r,n,o);return Se(a),c},s.Manifold.hull=function(...e){1==e.length&&(e=e[0]);let r=new s.Vector_vec3;for(const n of e)n instanceof f?s._manifoldCollectVertices(r,n):n instanceof Array&&3==n.length&&"number"==typeof n[0]?r.push_back({x:n[0],y:n[1],z:n[2]}):n.x?r.push_back(n):t(r,n,(t=>t instanceof Array?{x:t[0],y:t[1],z:t[2]}:t));const n=s._manifoldHullPoints(r);return r.delete(),n},s.Manifold.prototype=Object.create(f.prototype),Object.defineProperty(s.Manifold,Symbol.hasInstance,{get:()=>t=>t instanceof f}),s.triangulate=function(t,o=-1){const i=r(t),a=e(s._Triangulate(i,o),(t=>[t[0],t[1],t[2]]));return n(i),a}};var h,f,p,m=Object.assign({},s),v="";if(u){var y=l("fs"),g=l("path");v=l("url").fileURLToPath(new URL(r(581),r.b)),h=(t,e)=>(t=H(t)?new URL(t):g.normalize(t),y.readFileSync(t,e?void 0:"utf8")),p=t=>{var e=h(t,!0);return e.buffer||(e=new Uint8Array(e)),e},f=(t,e,r,n=!0)=>{t=H(t)?new URL(t):g.normalize(t),y.readFile(t,n?void 0:"utf8",((t,o)=>{t?r(t):e(n?o.buffer:o)}))},!s.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2)}else(a||c)&&(c?v=self.location.href:"undefined"!=typeof document&&document.currentScript&&(v=document.currentScript.src),n&&(v=n),v=v.startsWith("blob:")?"":v.substr(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1),h=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},c&&(p=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),f=(t,e,r)=>{if(H(t)){var n=new XMLHttpRequest;return n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?e(n.response):r()},n.onerror=r,void n.send(null)}fetch(t,{credentials:"same-origin"}).then((t=>t.ok?t.arrayBuffer():Promise.reject(new Error(t.status+" : "+t.url)))).then(e,r)});s.print||console.log.bind(console);var b,C,S=s.printErr||console.error.bind(console);Object.assign(s,m),m=null,s.arguments&&s.arguments,s.thisProgram&&s.thisProgram,s.quit&&s.quit,s.wasmBinary&&(b=s.wasmBinary);var w,T,$,P,M,O,x,_,D=!1;function A(){var t=C.buffer;s.HEAP8=w=new Int8Array(t),s.HEAP16=$=new Int16Array(t),s.HEAPU8=T=new Uint8Array(t),s.HEAPU16=P=new Uint16Array(t),s.HEAP32=M=new Int32Array(t),s.HEAPU32=O=new Uint32Array(t),s.HEAPF32=x=new Float32Array(t),s.HEAPF64=_=new Float64Array(t)}var k=[],E=[],j=[],I=0,R=null,W=null;function F(t){s.onAbort?.(t),S(t="Aborted("+t+")"),D=!0,t+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(t);throw o(e),e}var V,N=t=>t.startsWith("data:application/octet-stream;base64,"),H=t=>t.startsWith("file://");function B(t){if(t==V&&b)return new Uint8Array(b);if(p)return p(t);throw"both async and sync fetching of the wasm failed"}function L(t,e,r){return function(t){return b?Promise.resolve().then((()=>B(t))):new Promise(((e,r)=>{f(t,(t=>e(new Uint8Array(t))),(n=>{try{e(B(t))}catch(t){r(t)}}))}))}(t).then((t=>WebAssembly.instantiate(t,e))).then(r,(t=>{S(`failed to asynchronously prepare wasm: ${t}`),F(t)}))}var U=t=>{for(;t.length>0;)t.shift()(s)};function z(t,e="i8"){switch(e.endsWith("*")&&(e="*"),e){case"i1":case"i8":return w[t>>>0];case"i16":return $[t>>>1>>>0];case"i32":return M[t>>>2>>>0];case"i64":F("to do getValue(i64) use WASM_BIGINT");case"float":return x[t>>>2>>>0];case"double":return _[t>>>3>>>0];case"*":return O[t>>>2>>>0];default:F(`invalid type for getValue: ${e}`)}}function q(t,e,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":case"i8":w[t>>>0]=e;break;case"i16":$[t>>>1>>>0]=e;break;case"i32":M[t>>>2>>>0]=e;break;case"i64":F("to do setValue(i64) use WASM_BIGINT");case"float":x[t>>>2>>>0]=e;break;case"double":_[t>>>3>>>0]=e;break;case"*":O[t>>>2>>>0]=e;break;default:F(`invalid type for setValue: ${r}`)}}s.noExitRuntime;class G{constructor(t){this.excPtr=t,this.ptr=t-24}set_type(t){O[this.ptr+4>>>2>>>0]=t}get_type(){return O[this.ptr+4>>>2>>>0]}set_destructor(t){O[this.ptr+8>>>2>>>0]=t}get_destructor(){return O[this.ptr+8>>>2>>>0]}set_caught(t){t=t?1:0,w[this.ptr+12>>>0]=t}get_caught(){return 0!=w[this.ptr+12>>>0]}set_rethrown(t){t=t?1:0,w[this.ptr+13>>>0]=t}get_rethrown(){return 0!=w[this.ptr+13>>>0]}init(t,e){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(e)}set_adjusted_ptr(t){O[this.ptr+16>>>2>>>0]=t}get_adjusted_ptr(){return O[this.ptr+16>>>2>>>0]}get_exception_ptr(){if(xe(this.get_type()))return O[this.excPtr>>>2>>>0];var t=this.get_adjusted_ptr();return 0!==t?t:this.excPtr}}var X={},Y=t=>{for(;t.length;){var e=t.pop();t.pop()(e)}};function Z(t){return this.fromWireType(O[t>>>2>>>0])}var J,K,Q,tt={},et={},rt={},nt=t=>{throw new J(t)},ot=(t,e,r)=>{function n(e){var n=r(e);n.length!==t.length&&nt("Mismatched type converter count");for(var o=0;o<t.length;++o)at(t[o],n[o])}t.forEach((function(t){rt[t]=e}));var o=new Array(e.length),s=[],i=0;e.forEach(((t,e)=>{et.hasOwnProperty(t)?o[e]=et[t]:(s.push(t),tt.hasOwnProperty(t)||(tt[t]=[]),tt[t].push((()=>{o[e]=et[t],++i===s.length&&n(o)})))})),0===s.length&&n(o)},st=t=>{for(var e="",r=t;T[r>>>0];)e+=K[T[r++>>>0]];return e},it=t=>{throw new Q(t)};function at(t,e,r={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");return function(t,e,r={}){var n=e.name;if(t||it(`type "${n}" must have a positive integer typeid pointer`),et.hasOwnProperty(t)){if(r.ignoreDuplicateRegistrations)return;it(`Cannot register type '${n}' twice`)}if(et[t]=e,delete rt[t],tt.hasOwnProperty(t)){var o=tt[t];delete tt[t],o.forEach((t=>t()))}}(t,e,r)}var ct,ut=t=>{it(t.$$.ptrType.registeredClass.name+" instance already deleted")},lt=!1,dt=t=>{},ht=t=>{t.count.value-=1,0===t.count.value&&(t=>{t.smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr)})(t)},ft=(t,e,r)=>{if(e===r)return t;if(void 0===r.baseClass)return null;var n=ft(t,e,r.baseClass);return null===n?null:r.downcast(n)},pt={},mt=[],vt=()=>{for(;mt.length;){var t=mt.pop();t.$$.deleteScheduled=!1,t.delete()}},yt={},gt=(t,e)=>(e.ptrType&&e.ptr||nt("makeClassHandle requires ptr and ptrType"),!!e.smartPtrType!=!!e.smartPtr&&nt("Both smartPtrType and smartPtr must be specified"),e.count={value:1},bt(Object.create(t,{$$:{value:e,writable:!0}})));var bt=t=>"undefined"==typeof FinalizationRegistry?(bt=t=>t,t):(lt=new FinalizationRegistry((t=>{ht(t.$$)})),bt=t=>{var e=t.$$;if(e.smartPtr){var r={$$:e};lt.register(t,r,t)}return t},dt=t=>lt.unregister(t),bt(t));function Ct(){}var St=(t,e)=>Object.defineProperty(e,"name",{value:t}),wt=(t,e,r)=>{if(void 0===t[e].overloadTable){var n=t[e];t[e]=function(...n){return t[e].overloadTable.hasOwnProperty(n.length)||it(`Function '${r}' called with an invalid number of arguments (${n.length}) - expects one of (${t[e].overloadTable})!`),t[e].overloadTable[n.length].apply(this,n)},t[e].overloadTable=[],t[e].overloadTable[n.argCount]=n}},Tt=(t,e,r)=>{s.hasOwnProperty(t)?((void 0===r||void 0!==s[t].overloadTable&&void 0!==s[t].overloadTable[r])&&it(`Cannot register public name '${t}' twice`),wt(s,t,t),s.hasOwnProperty(r)&&it(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),s[t].overloadTable[r]=e):(s[t]=e,void 0!==r&&(s[t].numArguments=r))};function $t(t,e,r,n,o,s,i,a){this.name=t,this.constructor=e,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=o,this.getActualType=s,this.upcast=i,this.downcast=a,this.pureVirtualFunctions=[]}var Pt=(t,e,r)=>{for(;e!==r;)e.upcast||it(`Expected null or instance of ${r.name}, got an instance of ${e.name}`),t=e.upcast(t),e=e.baseClass;return t};function Mt(t,e){if(null===e)return this.isReference&&it(`null is not a valid ${this.name}`),0;e.$$||it(`Cannot pass "${Kt(e)}" as a ${this.name}`),e.$$.ptr||it(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=e.$$.ptrType.registeredClass;return Pt(e.$$.ptr,r,this.registeredClass)}function Ot(t,e){var r;if(null===e)return this.isReference&&it(`null is not a valid ${this.name}`),this.isSmartPointer?(r=this.rawConstructor(),null!==t&&t.push(this.rawDestructor,r),r):0;e&&e.$$||it(`Cannot pass "${Kt(e)}" as a ${this.name}`),e.$$.ptr||it(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&e.$$.ptrType.isConst&&it(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);var n=e.$$.ptrType.registeredClass;if(r=Pt(e.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===e.$$.smartPtr&&it("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?r=e.$$.smartPtr:it(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)r=e.$$.smartPtr;else{var o=e.clone();r=this.rawShare(r,Gt.toHandle((()=>o.delete()))),null!==t&&t.push(this.rawDestructor,r)}break;default:it("Unsupporting sharing policy")}return r}function xt(t,e){if(null===e)return this.isReference&&it(`null is not a valid ${this.name}`),0;e.$$||it(`Cannot pass "${Kt(e)}" as a ${this.name}`),e.$$.ptr||it(`Cannot pass deleted object as a pointer of type ${this.name}`),e.$$.ptrType.isConst&&it(`Cannot convert argument of type ${e.$$.ptrType.name} to parameter type ${this.name}`);var r=e.$$.ptrType.registeredClass;return Pt(e.$$.ptr,r,this.registeredClass)}function _t(t,e,r,n,o,s,i,a,c,u,l){this.name=t,this.registeredClass=e,this.isReference=r,this.isConst=n,this.isSmartPointer=o,this.pointeeType=s,this.sharingPolicy=i,this.rawGetPointee=a,this.rawConstructor=c,this.rawShare=u,this.rawDestructor=l,o||void 0!==e.baseClass?this.toWireType=Ot:n?(this.toWireType=Mt,this.destructorFunction=null):(this.toWireType=xt,this.destructorFunction=null)}var Dt,At,kt=(t,e,r)=>{s.hasOwnProperty(t)||nt("Replacing nonexistent public symbol"),void 0!==s[t].overloadTable&&void 0!==r?s[t].overloadTable[r]=e:(s[t]=e,s[t].argCount=r)},Et=[],jt=t=>{var e=Et[t];return e||(t>=Et.length&&(Et.length=t+1),Et[t]=e=Dt.get(t)),e},It=(t,e)=>(...r)=>((t,e,r=[])=>{if(t.includes("j"))return((t,e,r)=>(t=t.replace(/p/g,"i"),(0,s["dynCall_"+t])(e,...r)))(t,e,r);var n=jt(e)(...r);return"p"==t[0]?n>>>0:n})(t,e,r),Rt=(t,e)=>{var r=(t=st(t)).includes("j")||t.includes("p")?It(t,e):jt(e);return"function"!=typeof r&&it(`unknown function pointer with signature ${t}: ${e}`),r},Wt=t=>{var e=Pe(t),r=st(e);return Oe(e),r},Ft=(t,e)=>{var r=[],n={};throw e.forEach((function t(e){n[e]||et[e]||(rt[e]?rt[e].forEach(t):(r.push(e),n[e]=!0))})),new At(`${t}: `+r.map(Wt).join([", "]))},Vt=(t,e)=>{for(var r=[],n=0;n<t;n++)r.push(O[e+4*n>>>2>>>0]);return r};function Nt(t){for(var e=1;e<t.length;++e)if(null!==t[e]&&void 0===t[e].destructorFunction)return!0;return!1}function Ht(t,e){if(!(t instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof t} which is not a function`);var r=St(t.name||"unknownFunctionName",(function(){}));r.prototype=t.prototype;var n=new r,o=t.apply(n,e);return o instanceof Object?o:n}function Bt(t,e,r,n,o,s){var i=e.length;i<2&&it("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==e[1]&&null!==r,c=Nt(e),u="void"!==e[0].name,l=[t,it,n,o,Y,e[0],e[1]],d=0;d<i-2;++d)l.push(e[d+2]);if(!c)for(d=a?1:2;d<e.length;++d)null!==e[d].destructorFunction&&l.push(e[d].destructorFunction);let[h,f]=function(t,e,r,n){for(var o=Nt(t),s=t.length,i="",a="",c=0;c<s-2;++c)i+=(0!==c?", ":"")+"arg"+c,a+=(0!==c?", ":"")+"arg"+c+"Wired";var u=`\n        return function (${i}) {\n        if (arguments.length !== ${s-2}) {\n          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${s-2}');\n        }`;o&&(u+="var destructors = [];\n");var l=o?"destructors":"null",d=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];for(e&&(u+="var thisWired = classParam['toWireType']("+l+", this);\n"),c=0;c<s-2;++c)u+="var arg"+c+"Wired = argType"+c+"['toWireType']("+l+", arg"+c+");\n",d.push("argType"+c);if(e&&(a="thisWired"+(a.length>0?", ":"")+a),u+=(r||n?"var rv = ":"")+"invoker(fn"+(a.length>0?", ":"")+a+");\n",o)u+="runDestructors(destructors);\n";else for(c=e?1:2;c<t.length;++c){var h=1===c?"thisWired":"arg"+(c-2)+"Wired";null!==t[c].destructorFunction&&(u+=`${h}_dtor(${h});\n`,d.push(`${h}_dtor`))}return r&&(u+="var ret = retType['fromWireType'](rv);\nreturn ret;\n"),[d,u+="}\n"]}(e,a,u,s);h.push(f);var p=Ht(Function,h)(...l);return St(t,p)}var Lt=t=>{const e=(t=t.trim()).indexOf("(");return-1!==e?t.substr(0,e):t},Ut=[],zt=[];function qt(t){(t>>>=0)>9&&0==--zt[t+1]&&(zt[t]=void 0,Ut.push(t))}var Gt={toValue:t=>(t||it("Cannot use deleted val. handle = "+t),zt[t]),toHandle:t=>{switch(t){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const e=Ut.pop()||zt.length;return zt[e]=t,zt[e+1]=1,e}}}},Xt={name:"emscripten::val",fromWireType:t=>{var e=Gt.toValue(t);return qt(t),e},toWireType:(t,e)=>Gt.toHandle(e),argPackAdvance:8,readValueFromPointer:Z,destructorFunction:null};function Yt(t){return at(t>>>=0,Xt)}var Zt=(t,e,r)=>{switch(e){case 1:return r?function(t){return this.fromWireType(w[t>>>0])}:function(t){return this.fromWireType(T[t>>>0])};case 2:return r?function(t){return this.fromWireType($[t>>>1>>>0])}:function(t){return this.fromWireType(P[t>>>1>>>0])};case 4:return r?function(t){return this.fromWireType(M[t>>>2>>>0])}:function(t){return this.fromWireType(O[t>>>2>>>0])};default:throw new TypeError(`invalid integer width (${e}): ${t}`)}},Jt=(t,e)=>{var r=et[t];return void 0===r&&it(`${e} has unknown type ${Wt(t)}`),r},Kt=t=>{if(null===t)return"null";var e=typeof t;return"object"===e||"array"===e||"function"===e?t.toString():""+t},Qt=(t,e)=>{switch(e){case 4:return function(t){return this.fromWireType(x[t>>>2>>>0])};case 8:return function(t){return this.fromWireType(_[t>>>3>>>0])};default:throw new TypeError(`invalid float width (${e}): ${t}`)}},te=(t,e,r)=>{switch(e){case 1:return r?t=>w[t>>>0]:t=>T[t>>>0];case 2:return r?t=>$[t>>>1>>>0]:t=>P[t>>>1>>>0];case 4:return r?t=>M[t>>>2>>>0]:t=>O[t>>>2>>>0];default:throw new TypeError(`invalid integer width (${e}): ${t}`)}},ee="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,re="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,ne=(t,e)=>{for(var r=t,n=r>>1,o=n+e/2;!(n>=o)&&P[n>>>0];)++n;if((r=n<<1)-t>32&&re)return re.decode(T.subarray(t>>>0,r>>>0));for(var s="",i=0;!(i>=e/2);++i){var a=$[t+2*i>>>1>>>0];if(0==a)break;s+=String.fromCharCode(a)}return s},oe=(t,e,r)=>{if(r??=2147483647,r<2)return 0;for(var n=e,o=(r-=2)<2*t.length?r/2:t.length,s=0;s<o;++s){var i=t.charCodeAt(s);$[e>>>1>>>0]=i,e+=2}return $[e>>>1>>>0]=0,e-n},se=t=>2*t.length,ie=(t,e)=>{for(var r=0,n="";!(r>=e/4);){var o=M[t+4*r>>>2>>>0];if(0==o)break;if(++r,o>=65536){var s=o-65536;n+=String.fromCharCode(55296|s>>10,56320|1023&s)}else n+=String.fromCharCode(o)}return n},ae=(t,e,r)=>{if(e>>>=0,r??=2147483647,r<4)return 0;for(var n=e,o=n+r-4,s=0;s<t.length;++s){var i=t.charCodeAt(s);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&t.charCodeAt(++s)),M[e>>>2>>>0]=i,(e+=4)+4>o)break}return M[e>>>2>>>0]=0,e-n},ce=t=>{for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n>=55296&&n<=57343&&++r,e+=4}return e},ue=(t,e,r)=>{var n=[],o=t.toWireType(n,r);return n.length&&(O[e>>>2>>>0]=Gt.toHandle(n)),o},le={},de=t=>{var e=le[t];return void 0===e?st(t):e},he=[];Reflect.construct;var fe,pe,me,ve=t=>{var e=(t-C.buffer.byteLength+65535)/65536;try{return C.grow(e),A(),1}catch(t){}},ye=(t,e)=>{t<128?e.push(t):e.push(t%128|128,t>>7)},ge=[],be=(t,e)=>{Dt.set(t,e),Et[t]=Dt.get(t)},Ce=(t,e)=>{var r=(t=>(fe||(fe=new WeakMap,((t,e)=>{if(fe)for(var r=0;r<0+e;r++){var n=jt(r);n&&fe.set(n,r)}})(0,Dt.length)),fe.get(t)||0))(t);if(r)return r;var n=(()=>{if(ge.length)return ge.pop();try{Dt.grow(1)}catch(t){if(!(t instanceof RangeError))throw t;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return Dt.length-1})();try{be(n,t)}catch(r){if(!(r instanceof TypeError))throw r;var o=((t,e)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((t=>{for(var e={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},r={parameters:[],results:"v"==t[0]?[]:[e[t[0]]]},n=1;n<t.length;++n)r.parameters.push(e[t[n]]);return r})(e),t);var r=[1];((t,e)=>{var r=t.slice(0,1),n=t.slice(1),o={i:127,p:127,j:126,f:125,d:124,e:111};e.push(96),ye(n.length,e);for(var s=0;s<n.length;++s)e.push(o[n[s]]);"v"==r?e.push(0):e.push(1,o[r])})(e,r);var n=[0,97,115,109,1,0,0,0,1];ye(r.length,n),n.push(...r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var o=new WebAssembly.Module(new Uint8Array(n));return new WebAssembly.Instance(o,{e:{f:t}}).exports.f})(t,e);be(n,o)}return fe.set(t,n),n},Se=t=>{fe.delete(jt(t)),be(t,null),ge.push(t)};J=s.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},(()=>{for(var t=new Array(256),e=0;e<256;++e)t[e]=String.fromCharCode(e);K=t})(),Q=s.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Object.assign(Ct.prototype,{isAliasOf(t){if(!(this instanceof Ct))return!1;if(!(t instanceof Ct))return!1;var e=this.$$.ptrType.registeredClass,r=this.$$.ptr;t.$$=t.$$;for(var n=t.$$.ptrType.registeredClass,o=t.$$.ptr;e.baseClass;)r=e.upcast(r),e=e.baseClass;for(;n.baseClass;)o=n.upcast(o),n=n.baseClass;return e===n&&r===o},clone(){if(this.$$.ptr||ut(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t,e=bt(Object.create(Object.getPrototypeOf(this),{$$:{value:(t=this.$$,{count:t.count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType})}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||ut(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&it("Object already scheduled for deletion"),dt(this),ht(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||ut(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&it("Object already scheduled for deletion"),mt.push(this),1===mt.length&&ct&&ct(vt),this.$$.deleteScheduled=!0,this}}),s.getInheritedInstanceCount=()=>Object.keys(yt).length,s.getLiveInheritedInstances=()=>{var t=[];for(var e in yt)yt.hasOwnProperty(e)&&t.push(yt[e]);return t},s.flushPendingDeletes=vt,s.setDelayFunction=t=>{ct=t,mt.length&&ct&&ct(vt)},Object.assign(_t.prototype,{getPointee(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t},destructor(t){this.rawDestructor?.(t)},argPackAdvance:8,readValueFromPointer:Z,fromWireType:function(t){var e=this.getPointee(t);if(!e)return this.destructor(t),null;var r=((t,e)=>(e=((t,e)=>{for(void 0===e&&it("ptr should not be undefined");t.baseClass;)e=t.upcast(e),t=t.baseClass;return e})(t,e),yt[e]))(this.registeredClass,e);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=e,r.$$.smartPtr=t,r.clone();var n=r.clone();return this.destructor(t),n}function o(){return this.isSmartPointer?gt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:e,smartPtrType:this,smartPtr:t}):gt(this.registeredClass.instancePrototype,{ptrType:this,ptr:t})}var s,i=this.registeredClass.getActualType(e),a=pt[i];if(!a)return o.call(this);s=this.isConst?a.constPointerType:a.pointerType;var c=ft(e,this.registeredClass,s.registeredClass);return null===c?o.call(this):this.isSmartPointer?gt(s.registeredClass.instancePrototype,{ptrType:s,ptr:c,smartPtrType:this,smartPtr:t}):gt(s.registeredClass.instancePrototype,{ptrType:s,ptr:c})}}),At=s.UnboundTypeError=(pe=Error,(me=St("UnboundTypeError",(function(t){this.name="UnboundTypeError",this.message=t;var e=new Error(t).stack;void 0!==e&&(this.stack=this.toString()+"\n"+e.replace(/^Error(:[^\n]*)?\n/,""))}))).prototype=Object.create(pe.prototype),me.prototype.constructor=me,me.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},me),zt.push(0,1,void 0,1,null,1,!0,1,!1,1),s.count_emval_handles=()=>zt.length/2-5-Ut.length;var we,Te={r:function(t,e,r){throw e>>>=0,r>>>=0,new G(t>>>=0).init(e,r),t},D:()=>{F("")},s:function(t){var e=X[t>>>=0];delete X[t];var r=e.rawConstructor,n=e.rawDestructor,o=e.fields,s=o.map((t=>t.getterReturnType)).concat(o.map((t=>t.setterArgumentType)));ot([t],s,(t=>{var s={};return o.forEach(((e,r)=>{var n=e.fieldName,i=t[r],a=e.getter,c=e.getterContext,u=t[r+o.length],l=e.setter,d=e.setterContext;s[n]={read:t=>i.fromWireType(a(c,t)),write:(t,e)=>{var r=[];l(d,t,u.toWireType(r,e)),Y(r)}}})),[{name:e.name,fromWireType:t=>{var e={};for(var r in s)e[r]=s[r].read(t);return n(t),e},toWireType:(t,e)=>{for(var o in s)if(!(o in e))throw new TypeError(`Missing field: "${o}"`);var i=r();for(o in s)s[o].write(i,e[o]);return null!==t&&t.push(n,i),i},argPackAdvance:8,readValueFromPointer:Z,destructorFunction:n}]}))},C:function(t,e,r,n,o){},H:function(t,e,r,n){at(t>>>=0,{name:e=st(e>>>=0),fromWireType:function(t){return!!t},toWireType:function(t,e){return e?r:n},argPackAdvance:8,readValueFromPointer:function(t){return this.fromWireType(T[t>>>0])},destructorFunction:null})},o:function(t,e,r,n,o,s,i,a,c,u,l,d,h){t>>>=0,e>>>=0,r>>>=0,n>>>=0,o>>>=0,s>>>=0,i>>>=0,a>>>=0,c>>>=0,u>>>=0,d>>>=0,h>>>=0,l=st(l>>>=0),s=Rt(o,s),a&&=Rt(i,a),u&&=Rt(c,u),h=Rt(d,h);var f=(t=>{if(void 0===t)return"_unknown";var e=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return e>=48&&e<=57?`_${t}`:t})(l);Tt(f,(function(){Ft(`Cannot construct ${l} due to unbound types`,[n])})),ot([t,e,r],n?[n]:[],(e=>{var r,o;e=e[0],o=n?(r=e.registeredClass).instancePrototype:Ct.prototype;var i=St(l,(function(...t){if(Object.getPrototypeOf(this)!==c)throw new Q("Use 'new' to construct "+l);if(void 0===d.constructor_body)throw new Q(l+" has no accessible constructor");var e=d.constructor_body[t.length];if(void 0===e)throw new Q(`Tried to invoke ctor of ${l} with invalid number of parameters (${t.length}) - expected (${Object.keys(d.constructor_body).toString()}) parameters instead!`);return e.apply(this,t)})),c=Object.create(o,{constructor:{value:i}});i.prototype=c;var d=new $t(l,i,c,h,r,s,a,u);d.baseClass&&(d.baseClass.__derivedClasses??=[],d.baseClass.__derivedClasses.push(d));var p=new _t(l,d,!0,!1,!1),m=new _t(l+"*",d,!1,!1,!1),v=new _t(l+" const*",d,!1,!0,!1);return pt[t]={pointerType:m,constPointerType:v},kt(f,i),[p,m,v]}))},n:function(t,e,r,n,o,s){t>>>=0,n>>>=0,o>>>=0,s>>>=0;var i=Vt(e,r>>>=0);o=Rt(n,o),ot([],[t],(t=>{var r=`constructor ${(t=t[0]).name}`;if(void 0===t.registeredClass.constructor_body&&(t.registeredClass.constructor_body=[]),void 0!==t.registeredClass.constructor_body[e-1])throw new Q(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${t.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return t.registeredClass.constructor_body[e-1]=()=>{Ft(`Cannot construct ${t.name} due to unbound types`,i)},ot([],i,(n=>(n.splice(1,0,null),t.registeredClass.constructor_body[e-1]=Bt(r,n,null,o,s),[]))),[]}))},a:function(t,e,r,n,o,s,i,a,c){t>>>=0,e>>>=0,o>>>=0,s>>>=0,i>>>=0;var u=Vt(r,n>>>=0);e=st(e),e=Lt(e),s=Rt(o,s),ot([],[t],(t=>{var n=`${(t=t[0]).name}.${e}`;function o(){Ft(`Cannot call ${n} due to unbound types`,u)}e.startsWith("@@")&&(e=Symbol[e.substring(2)]),a&&t.registeredClass.pureVirtualFunctions.push(e);var l=t.registeredClass.instancePrototype,d=l[e];return void 0===d||void 0===d.overloadTable&&d.className!==t.name&&d.argCount===r-2?(o.argCount=r-2,o.className=t.name,l[e]=o):(wt(l,e,n),l[e].overloadTable[r-2]=o),ot([],u,(o=>{var a=Bt(n,o,t,s,i,c);return void 0===l[e].overloadTable?(a.argCount=r-2,l[e]=a):l[e].overloadTable[r-2]=a,[]})),[]}))},G:Yt,y:function(t,e,r,n){function o(){}t>>>=0,r>>>=0,e=st(e>>>=0),o.values={},at(t,{name:e,constructor:o,fromWireType:function(t){return this.constructor.values[t]},toWireType:(t,e)=>e.value,argPackAdvance:8,readValueFromPointer:Zt(e,r,n),destructorFunction:null}),Tt(e,o)},h:function(t,e,r){e>>>=0;var n=Jt(t>>>=0,"enum");e=st(e);var o=n.constructor,s=Object.create(n.constructor.prototype,{value:{value:r},constructor:{value:St(`${n.name}_${e}`,(function(){}))}});o.values[r]=s,o[e]=s},A:function(t,e,r){r>>>=0,at(t>>>=0,{name:e=st(e>>>=0),fromWireType:t=>t,toWireType:(t,e)=>e,argPackAdvance:8,readValueFromPointer:Qt(e,r),destructorFunction:null})},d:function(t,e,r,n,o,s,i){t>>>=0,n>>>=0,o>>>=0,s>>>=0;var a=Vt(e,r>>>=0);t=st(t),t=Lt(t),o=Rt(n,o),Tt(t,(function(){Ft(`Cannot call ${t} due to unbound types`,a)}),e-1),ot([],a,(r=>{var n=[r[0],null].concat(r.slice(1));return kt(t,Bt(t,n,null,o,s,i),e-1),[]}))},p:function(t,e,r,n,o){t>>>=0,r>>>=0,e=st(e>>>=0),-1===o&&(o=4294967295);var s=t=>t;if(0===n){var i=32-8*r;s=t=>t<<i>>>i}var a=e.includes("unsigned");at(t,{name:e,fromWireType:s,toWireType:a?function(t,e){return this.name,e>>>0}:function(t,e){return this.name,e},argPackAdvance:8,readValueFromPointer:te(e,r,0!==n),destructorFunction:null})},g:function(t,e,r){r>>>=0;var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function o(t){var e=O[t>>>2>>>0],r=O[t+4>>>2>>>0];return new n(w.buffer,r,e)}at(t>>>=0,{name:r=st(r),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},q:function(t,e){Yt(t>>>=0)},z:function(t,e){t>>>=0;var r="std::string"===(e=st(e>>>=0));at(t,{name:e,fromWireType(t){var e,n,o,s=O[t>>>2>>>0],i=t+4;if(r)for(var a=i,c=0;c<=s;++c){var u=i+c;if(c==s||0==T[u>>>0]){var l=(n=a,o=u-a,(n>>>=0)?((t,e,r)=>{for(var n=(e>>>=0)+r,o=e;t[o]&&!(o>=n);)++o;if(o-e>16&&t.buffer&&ee)return ee.decode(t.subarray(e,o));for(var s="";e<o;){var i=t[e++];if(128&i){var a=63&t[e++];if(192!=(224&i)){var c=63&t[e++];if((i=224==(240&i)?(15&i)<<12|a<<6|c:(7&i)<<18|a<<12|c<<6|63&t[e++])<65536)s+=String.fromCharCode(i);else{var u=i-65536;s+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else s+=String.fromCharCode((31&i)<<6|a)}else s+=String.fromCharCode(i)}return s})(T,n,o):"");void 0===e?e=l:(e+=String.fromCharCode(0),e+=l),a=u+1}}else{var d=new Array(s);for(c=0;c<s;++c)d[c]=String.fromCharCode(T[i+c>>>0]);e=d.join("")}return Oe(t),e},toWireType(t,e){var n;e instanceof ArrayBuffer&&(e=new Uint8Array(e));var o="string"==typeof e;o||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||it("Cannot pass non-string to std::string"),n=r&&o?(t=>{for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n<=127?e++:n<=2047?e+=2:n>=55296&&n<=57343?(e+=4,++r):e+=3}return e})(e):e.length;var s=Me(4+n+1),i=s+4;if(O[s>>>2>>>0]=n,r&&o)((t,e,r,n)=>{if(!(n>0))return 0;for(var o=(r>>>=0)+n-1,s=0;s<t.length;++s){var i=t.charCodeAt(s);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&t.charCodeAt(++s)),i<=127){if(r>=o)break;e[r++>>>0]=i}else if(i<=2047){if(r+1>=o)break;e[r++>>>0]=192|i>>6,e[r++>>>0]=128|63&i}else if(i<=65535){if(r+2>=o)break;e[r++>>>0]=224|i>>12,e[r++>>>0]=128|i>>6&63,e[r++>>>0]=128|63&i}else{if(r+3>=o)break;e[r++>>>0]=240|i>>18,e[r++>>>0]=128|i>>12&63,e[r++>>>0]=128|i>>6&63,e[r++>>>0]=128|63&i}}e[r>>>0]=0})(e,T,i,n+1);else if(o)for(var a=0;a<n;++a){var c=e.charCodeAt(a);c>255&&(Oe(i),it("String has UTF-16 code units that do not fit in 8 bits")),T[i+a>>>0]=c}else for(a=0;a<n;++a)T[i+a>>>0]=e[a];return null!==t&&t.push(Oe,s),s},argPackAdvance:8,readValueFromPointer:Z,destructorFunction(t){Oe(t)}})},x:function(t,e,r){var n,o,s,i;t>>>=0,e>>>=0,r=st(r>>>=0),2===e?(n=ne,o=oe,i=se,s=t=>P[t>>>1>>>0]):4===e&&(n=ie,o=ae,i=ce,s=t=>O[t>>>2>>>0]),at(t,{name:r,fromWireType:t=>{for(var r,o=O[t>>>2>>>0],i=t+4,a=0;a<=o;++a){var c=t+4+a*e;if(a==o||0==s(c)){var u=n(i,c-i);void 0===r?r=u:(r+=String.fromCharCode(0),r+=u),i=c+e}}return Oe(t),r},toWireType:(t,n)=>{"string"!=typeof n&&it(`Cannot pass non-string to C++ string type ${r}`);var s=i(n),a=Me(4+s+e);return O[a>>>2>>>0]=s/e,o(n,a+4,s+e),null!==t&&t.push(Oe,a),a},argPackAdvance:8,readValueFromPointer:Z,destructorFunction(t){Oe(t)}})},t:function(t,e,r,n,o,s){e>>>=0,r>>>=0,n>>>=0,o>>>=0,s>>>=0,X[t>>>=0]={name:st(e),rawConstructor:Rt(r,n),rawDestructor:Rt(o,s),fields:[]}},i:function(t,e,r,n,o,s,i,a,c,u){e>>>=0,r>>>=0,n>>>=0,o>>>=0,s>>>=0,i>>>=0,a>>>=0,c>>>=0,u>>>=0,X[t>>>=0].fields.push({fieldName:st(e),getterReturnType:r,getter:Rt(n,o),getterContext:s,setterArgumentType:i,setter:Rt(a,c),setterContext:u})},I:function(t,e){at(t>>>=0,{isVoid:!0,name:e=st(e>>>=0),argPackAdvance:0,fromWireType:()=>{},toWireType:(t,e)=>{}})},F:function(t,e,r){return t>>>=0,e>>>=0,r>>>=0,T.copyWithin(t>>>0,e>>>0,e+r>>>0)},v:function(t,e,r){return t>>>=0,e>>>=0,r>>>=0,t=Gt.toValue(t),e=Jt(e,"emval::as"),ue(e,r,t)},k:function(t,e,r,n,o){return e>>>=0,r>>>=0,n>>>=0,o>>>=0,(t=he[t>>>=0])(e=Gt.toValue(e),e[r=de(r)],n,o)},b:qt,u:function(t,e){return t>>>=0,e>>>=0,(t=Gt.toValue(t))==Gt.toValue(e)},l:function(t,e,r){var n=((t,e)=>{for(var r=new Array(t),n=0;n<t;++n)r[n]=Jt(O[e+4*n>>>2>>>0],"parameter "+n);return r})(t,e>>>=0),o=n.shift();t--;var s="return function (obj, func, destructorsRef, args) {\n",i=0,a=[];0===r&&a.push("obj");for(var c=["retType"],u=[o],l=0;l<t;++l)a.push("arg"+l),c.push("argType"+l),u.push(n[l]),s+=`  var arg${l} = argType${l}.readValueFromPointer(args${i?"+"+i:""});\n`,i+=n[l].argPackAdvance;s+=`  var rv = ${1===r?"new func":"func.call"}(${a.join(", ")});\n`,o.isVoid||(c.push("emval_returnValue"),u.push(ue),s+="  return emval_returnValue(retType, destructorsRef, rv);\n"),s+="};\n",c.push(s);var d,h,f=Ht(Function,c)(...u),p=`methodCaller<(${n.map((t=>t.name)).join(", ")}) => ${o.name}>`;return d=St(p,f),h=he.length,he.push(d),h},f:function(t,e){return t>>>=0,e>>>=0,t=Gt.toValue(t),e=Gt.toValue(e),Gt.toHandle(t[e])},w:function(t){(t>>>=0)>9&&(zt[t+1]+=1)},c:function(t){return t>>>=0,Gt.toHandle(de(t))},B:function(){return Gt.toHandle({})},j:function(t){t>>>=0;var e=Gt.toValue(t);Y(e),qt(t)},m:function(t,e,r){t>>>=0,e>>>=0,r>>>=0,t=Gt.toValue(t),e=Gt.toValue(e),r=Gt.toValue(r),t[e]=r},e:function(t,e){e>>>=0;var r=(t=Jt(t>>>=0,"_emval_take_value")).readValueFromPointer(e);return Gt.toHandle(r)},E:function(t){t>>>=0;var e=T.length,r=4294901760;if(t>r)return!1;for(var n,o=1;o<=4;o*=2){var s=e*(1+.2/o);s=Math.min(s,t+100663296);var i=Math.min(r,(n=Math.max(t,s))+(65536-n%65536)%65536);if(ve(i))return!0}return!1}},$e=function(){var t,e,n,i,a={a:Te};function c(t,e){var r;return $e=function(t){var e,r=t=>e=>t(e)>>>0;return(t=Object.assign({},t)).L=r(t.L),t.N=r(t.N),t._emscripten_stack_alloc=r(t._emscripten_stack_alloc),t.emscripten_stack_get_current=(e=t.emscripten_stack_get_current,()=>e()>>>0),t}($e=t.exports),C=$e.J,A(),Dt=$e.M,r=$e.K,E.unshift(r),function(t){if(I--,s.monitorRunDependencies?.(I),0==I&&(null!==R&&(clearInterval(R),R=null),W)){var e=W;W=null,e()}}(),$e}if(I++,s.monitorRunDependencies?.(I),s.instantiateWasm)try{return s.instantiateWasm(a,c)}catch(t){S(`Module.instantiateWasm callback failed with error: ${t}`),o(t)}return V||(V=function(){if(s.locateFile){var t="manifold.wasm";return N(t)?t:(e=t,s.locateFile?s.locateFile(e,v):v+e)}var e;return new URL(r(644),r.b).href}()),(t=b,e=V,n=a,i=function(t){c(t.instance)},t||"function"!=typeof WebAssembly.instantiateStreaming||N(e)||H(e)||u||"function"!=typeof fetch?L(e,n,i):fetch(e,{credentials:"same-origin"}).then((t=>WebAssembly.instantiateStreaming(t,n).then(i,(function(t){return S(`wasm streaming compile failed: ${t}`),S("falling back to ArrayBuffer instantiation"),L(e,n,i)}))))).catch(o),{}}(),Pe=t=>(Pe=$e.L)(t),Me=t=>(Me=$e.N)(t),Oe=t=>(Oe=$e.O)(t),xe=t=>(xe=$e.P)(t);function _e(){function t(){we||(we=!0,s.calledRun=!0,D||(U(E),e(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),function(){if(s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;)t=s.postRun.shift(),j.unshift(t);var t;U(j)}()))}I>0||(function(){if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)t=s.preRun.shift(),k.unshift(t);var t;U(k)}(),I>0||(s.setStatus?(s.setStatus("Running..."),setTimeout((function(){setTimeout((function(){s.setStatus("")}),1),t()}),1)):t()))}if(s.addFunction=Ce,s.removeFunction=Se,W=function t(){we||_e(),we||(W=t)},s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();return _e(),i})}},s={};function i(t){var e=s[t];if(void 0!==e)return e.exports;var r=s[t]={exports:{}};return o[t](r,r.exports,i),r.exports}i.m=o,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,i.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var o=Object.create(null);i.r(o);var s={};t=t||[null,e({}),e([]),e(e)];for(var a=2&n&&r;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>s[t]=()=>r[t]));return s.default=()=>r,i.d(o,s),o},i.d=(t,e)=>{for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.f={},i.e=t=>Promise.all(Object.keys(i.f).reduce(((e,r)=>(i.f[r](t,e),e)),[])),i.u=t=>t+".bitbybit-manifold-webworker.js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r={},n="@bitbybit-dev/runner:",i.l=(t,e,o,s)=>{if(r[t])r[t].push(e);else{var a,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==t||d.getAttribute("data-webpack")==n+o){a=d;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.setAttribute("data-webpack",n+o),a.src=t),r[t]=[e];var h=(e,n)=>{a.onerror=a.onload=null,clearTimeout(f);var o=r[t];if(delete r[t],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((t=>t(n))),e)return e(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),c&&document.head.appendChild(a)}},i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&(!t||!/^http(s?):/.test(t));)t=r[n--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),(()=>{i.b=document.baseURI||self.location.href;var t={792:0};i.f.j=(e,r)=>{var n=i.o(t,e)?t[e]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,o)=>n=t[e]=[r,o]));r.push(n[2]=o);var s=i.p+i.u(e),a=new Error;i.l(s,(r=>{if(i.o(t,e)&&(0!==(n=t[e])&&(t[e]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,n[1](a)}}),"chunk-"+e,e)}};var e=(e,r)=>{var n,o,[s,a,c]=r,u=0;if(s.some((e=>0!==t[e]))){for(n in a)i.o(a,n)&&(i.m[n]=a[n]);c&&c(i)}for(e&&e(r);u<s.length;u++)o=s[u],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0},r=self.webpackChunk_bitbybit_dev_runner=self.webpackChunk_bitbybit_dev_runner||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),(()=>{var t,e,r;(r=t||(t={}))[r.loading=0]="loading",r[r.loaded=1]="loaded",r[r.initialised=2]="initialised",r[r.computing=3]="computing";class n{constructor(){this.hashesFromPreviousRun={},this.usedHashes={},this.argCache={}}cleanAllCache(){Object.keys(this.usedHashes).forEach((t=>{if(this.argCache[t])try{this.argCache[t].delete()}catch(t){}})),this.argCache={},this.usedHashes={},this.hashesFromPreviousRun={}}cleanCacheForHash(t){if(this.argCache[t])try{this.argCache[t].delete()}catch(t){}delete this.argCache[t],delete this.usedHashes[t],delete this.hashesFromPreviousRun[t]}isManifoldObject(t){return null!=t&&!Array.isArray(t)&&void 0!==t.$$||Array.isArray(t)&&t.length>0&&void 0!==t[0].$$}cacheOp(t,e){let r=null;const n=this.computeHash(t);this.usedHashes[n]=n,this.hashesFromPreviousRun[n]=n;const o=this.checkCache(n);if(o)this.isManifoldObject(o)?(r=o,r.hash=o.hash):o.value&&(r=o.value);else if(r=e(),Array.isArray(r)&&this.isManifoldObject(r))r.forEach(((e,r)=>{const n=this.computeHash(Object.assign(Object.assign({},t),{index:r}));e.hash=n,this.addToCache(n,e)}));else if(this.isManifoldObject(r))this.addToCache(n,r);else if(r.compound&&r.data&&r.manifolds&&r.manifolds.length>0){const e=r,o=this.computeHash(Object.assign(Object.assign({},t),{index:"compound"}));e.compound.hash=o,this.addToCache(o,e.compound),e.manifolds.forEach(((e,r)=>{const n=this.computeHash(Object.assign(Object.assign({},t),{index:r}));e.manifold.hash=n,this.addToCache(n,e.manifold)})),this.addToCache(n,{value:e})}else this.addToCache(n,{value:r});return r}checkCache(t){return this.argCache[t]||null}addToCache(t,e){const r=e;return r.hash=t,this.argCache[t]=r,t}computeHash(t,e){let r=JSON.stringify(t);r=r.replace(/(\"ptr\"\:(-?[0-9]*?)\,)/g,""),r=r.replace(/(\"ptr\"\:(-?[0-9]*))/g,""),r.includes("ptr")&&console.error("YOU DONE MESSED UP YOUR REGEX.");const n=Math.random.toString()+r;return e?n:this.stringToHash(n)}stringToHash(t){let e=0;if(0===t.length)return e;for(let r=0;r<t.length;r++)e=(e<<5)-e+t.charCodeAt(r),e|=0;return e}remove(t,e){return t.filter((t=>t.hash!==e.hash||t.ptr!==e.ptr))}}!function(t){let e,r;!function(t){t.evenOdd="EvenOdd",t.nonZero="NonZero",t.positive="Positive",t.negative="Negative"}(e=t.fillRuleEnum||(t.fillRuleEnum={})),function(t){t.square="Square",t.round="Round",t.miter="Miter"}(r=t.manifoldJoinTypeEnum||(t.manifoldJoinTypeEnum={})),t.DecomposedManifoldMeshDto=class{},t.DrawManifoldOrCrossSectionDto=class{constructor(t,e,r,n,o,s,i,a){this.faceOpacity=1,this.faceColour="#ff0000",this.crossSectionColour="#ff00ff",this.crossSectionWidth=2,this.crossSectionOpacity=1,this.computeNormals=!1,void 0!==t&&(this.manifoldOrCrossSection=t),void 0!==e&&(this.faceOpacity=e),void 0!==r&&(this.faceMaterial=r),void 0!==n&&(this.faceColour=n),void 0!==o&&(this.crossSectionColour=o),void 0!==s&&(this.crossSectionWidth=s),void 0!==i&&(this.crossSectionOpacity=i),void 0!==a&&(this.computeNormals=a)}},t.DrawManifoldsOrCrossSectionsDto=class{constructor(t,e,r,n,o,s,i,a){this.faceColour="#ff0000",this.faceOpacity=1,this.crossSectionColour="#ff00ff",this.crossSectionWidth=2,this.crossSectionOpacity=1,this.computeNormals=!1,void 0!==t&&(this.manifoldsOrCrossSections=t),void 0!==e&&(this.faceOpacity=e),void 0!==r&&(this.faceMaterial=r),void 0!==n&&(this.faceColour=n),void 0!==o&&(this.crossSectionColour=o),void 0!==s&&(this.crossSectionWidth=s),void 0!==i&&(this.crossSectionOpacity=i),void 0!==a&&(this.computeNormals=a)}},t.CreateFromMeshDto=class{constructor(t){void 0!==t&&(this.mesh=t)}},t.CubeDto=class{constructor(t,e){this.center=!0,this.size=1,void 0!==t&&(this.center=t),void 0!==e&&(this.size=e)}},t.CreateContourSectionDto=class{constructor(t,r){this.fillRule=e.evenOdd,void 0!==t&&(this.polygons=t),void 0!==r&&(this.fillRule=r)}},t.SquareDto=class{constructor(t,e){this.center=!1,this.size=1,void 0!==t&&(this.center=t),void 0!==e&&(this.size=e)}},t.SphereDto=class{constructor(t,e){this.radius=1,void 0!==t&&(this.radius=t),void 0!==e&&(this.circularSegments=e)}},t.CylinderDto=class{constructor(t,e,r,n,o){this.height=1,this.radiusLow=1,this.radiusHigh=1,this.circularSegments=32,this.center=!0,void 0!==t&&(this.height=t),void 0!==e&&(this.radiusLow=e),void 0!==r&&(this.radiusHigh=r),void 0!==n&&(this.circularSegments=n),void 0!==o&&(this.center=o)}},t.CircleDto=class{constructor(t,e){this.radius=1,this.circularSegments=32,void 0!==t&&(this.radius=t),void 0!==e&&(this.circularSegments=e)}},t.RectangleDto=class{constructor(t,e,r){this.length=1,this.height=1,this.center=!1,void 0!==t&&(this.length=t),void 0!==e&&(this.height=e),void 0!==r&&(this.center=r)}},t.ManifoldDto=class{constructor(t){void 0!==t&&(this.manifold=t)}},t.CalculateNormalsDto=class{constructor(t,e,r){this.normalIdx=0,this.minSharpAngle=0,void 0!==t&&(this.manifold=t),void 0!==e&&(this.normalIdx=e),void 0!==r&&(this.minSharpAngle=r)}},t.CalculateCurvatureDto=class{constructor(t){void 0!==t&&(this.manifold=t)}},t.CountDto=class{constructor(t){void 0!==t&&(this.count=t)}},t.ManifoldsMinGapDto=class{constructor(t,e,r){this.searchLength=100,void 0!==t&&(this.manifold1=t),void 0!==e&&(this.manifold2=e),void 0!==r&&(this.searchLength=r)}},t.ManifoldRefineToleranceDto=class{constructor(t,e){this.tolerance=1e-6,void 0!==t&&(this.manifold=t),void 0!==e&&(this.tolerance=e)}},t.ManifoldRefineLengthDto=class{constructor(t,e){this.length=.1,void 0!==t&&(this.manifold=t),void 0!==e&&(this.length=e)}},t.ManifoldRefineDto=class{constructor(t,e){this.number=1,void 0!==t&&(this.manifold=t),void 0!==e&&(this.number=e)}},t.ManifoldSmoothByNormalsDto=class{constructor(t,e){this.normalIdx=0,void 0!==t&&(this.manifold=t),void 0!==e&&(this.normalIdx=e)}},t.ManifoldSmoothOutDto=class{constructor(t,e,r){this.minSharpAngle=60,this.minSmoothness=0,void 0!==t&&(this.manifold=t),void 0!==e&&(this.minSharpAngle=e),void 0!==r&&(this.minSmoothness=r)}},t.HullPointsDto=class{constructor(t){void 0!==t&&(this.points=t)}},t.SliceDto=class{constructor(t){this.height=.5,void 0!==t&&(this.manifold=t)}},t.MeshDto=class{constructor(t){void 0!==t&&(this.mesh=t)}},t.MeshVertexIndexDto=class{constructor(t,e){void 0!==t&&(this.mesh=t),void 0!==e&&(this.vertexIndex=e)}},t.MeshTriangleRunIndexDto=class{constructor(t,e){void 0!==t&&(this.mesh=t),void 0!==e&&(this.triangleRunIndex=e)}},t.MeshHalfEdgeIndexDto=class{constructor(t,e){void 0!==t&&(this.mesh=t),void 0!==e&&(this.halfEdgeIndex=e)}},t.MeshTriangleIndexDto=class{constructor(t,e){void 0!==t&&(this.mesh=t),void 0!==e&&(this.triangleIndex=e)}},t.CrossSectionDto=class{constructor(t){void 0!==t&&(this.crossSection=t)}},t.CrossSectionsDto=class{constructor(t){void 0!==t&&(this.crossSections=t)}},t.ExtrudeDto=class{constructor(t){this.height=1,this.nDivisions=1,this.twistDegrees=0,this.scaleTopX=1,this.scaleTopY=1,this.center=!0,void 0!==t&&(this.crossSection=t)}},t.RevolveDto=class{constructor(t,e,r,n){this.matchProfile=!0,this.circularSegments=32,void 0!==t&&(this.crossSection=t),void 0!==e&&(this.revolveDegrees=e),void 0!==r&&(this.matchProfile=r),void 0!==n&&(this.circularSegments=n)}},t.OffsetDto=class{constructor(t,e,n,o,s){this.joinType=r.round,this.miterLimit=2,this.circularSegments=32,void 0!==t&&(this.crossSection=t),void 0!==e&&(this.delta=e),void 0!==n&&(this.joinType=n),void 0!==o&&(this.miterLimit=o),void 0!==s&&(this.circularSegments=s)}},t.SimplifyDto=class{constructor(t,e){this.epsilon=1e-6,void 0!==t&&(this.crossSection=t),void 0!==e&&(this.epsilon=e)}},t.ComposeDto=class{constructor(t){void 0!==t&&(this.polygons=t)}},t.MirrorCrossSectionDto=class{constructor(t,e){this.normal=[1,0],void 0!==t&&(this.crossSection=t),void 0!==e&&(this.normal=e)}},t.Scale2DCrossSectionDto=class{constructor(t,e){this.vector=[2,2],void 0!==t&&(this.crossSection=t),void 0!==e&&(this.vector=e)}},t.TranslateCrossSectionDto=class{constructor(t,e){void 0!==t&&(this.crossSection=t),void 0!==e&&(this.vector=e)}},t.RotateCrossSectionDto=class{constructor(t,e){void 0!==t&&(this.crossSection=t),void 0!==e&&(this.degrees=e)}},t.ScaleCrossSectionDto=class{constructor(t,e){this.factor=2,void 0!==t&&(this.crossSection=t),void 0!==e&&(this.factor=e)}},t.TranslateXYCrossSectionDto=class{constructor(t,e,r){this.x=0,this.y=0,void 0!==t&&(this.crossSection=t),void 0!==e&&(this.x=e),void 0!==r&&(this.y=r)}},t.TransformCrossSectionDto=class{constructor(t,e){void 0!==t&&(this.crossSection=t),void 0!==e&&(this.transform=e)}},t.MirrorDto=class{constructor(t,e){this.normal=[1,0,0],void 0!==t&&(this.manifold=t),void 0!==e&&(this.normal=e)}},t.Scale3DDto=class{constructor(t,e){this.vector=[2,2,2],void 0!==t&&(this.manifold=t),void 0!==e&&(this.vector=e)}},t.TranslateDto=class{constructor(t,e){void 0!==t&&(this.manifold=t),void 0!==e&&(this.vector=e)}},t.TranslateByVectorsDto=class{constructor(t,e){void 0!==t&&(this.manifold=t),void 0!==e&&(this.vectors=e)}},t.RotateDto=class{constructor(t,e){void 0!==t&&(this.manifold=t),void 0!==e&&(this.vector=e)}},t.RotateXYZDto=class{constructor(t,e,r,n){this.x=0,this.y=0,this.z=0,void 0!==t&&(this.manifold=t),void 0!==e&&(this.x=e),void 0!==r&&(this.y=r),void 0!==n&&(this.z=n)}},t.ScaleDto=class{constructor(t,e){this.factor=2,void 0!==t&&(this.manifold=t),void 0!==e&&(this.factor=e)}},t.TranslateXYZDto=class{constructor(t,e,r,n){this.x=0,this.y=0,this.z=0,void 0!==t&&(this.manifold=t),void 0!==e&&(this.x=e),void 0!==r&&(this.y=r),void 0!==n&&(this.z=n)}},t.TransformDto=class{constructor(t,e){void 0!==t&&(this.manifold=t),void 0!==e&&(this.transform=e)}},t.TransformsDto=class{constructor(t,e){void 0!==t&&(this.manifold=t),void 0!==e&&(this.transforms=e)}},t.TwoCrossSectionsDto=class{constructor(t,e){void 0!==t&&(this.crossSection1=t),void 0!==e&&(this.crossSection2=e)}},t.TwoManifoldsDto=class{constructor(t,e){void 0!==t&&(this.manifold1=t),void 0!==e&&(this.manifold2=e)}},t.SplitManifoldsDto=class{constructor(t,e){void 0!==t&&(this.manifoldToSplit=t),void 0!==e&&(this.manifoldCutter=e)}},t.TrimByPlaneDto=class{constructor(t,e,r){this.normal=[1,0,0],this.originOffset=0,void 0!==t&&(this.manifold=t),void 0!==e&&(this.normal=e),void 0!==r&&(this.originOffset=r)}},t.SplitByPlaneDto=class{constructor(t,e,r){this.normal=[1,0,0],this.originOffset=0,void 0!==t&&(this.manifold=t),void 0!==e&&(this.normal=e),void 0!==r&&(this.originOffset=r)}},t.ManifoldsDto=class{constructor(t){void 0!==t&&(this.manifolds=t)}},t.ManifoldToMeshDto=class{constructor(t,e){void 0!==t&&(this.manifold=t),void 0!==e&&(this.normalIdx=e)}},t.ManifoldsToMeshesDto=class{constructor(t,e){void 0!==t&&(this.manifolds=t),void 0!==e&&(this.normalIdx=e)}},t.DecomposeManifoldOrCrossSectionDto=class{constructor(t,e){void 0!==t&&(this.manifoldOrCrossSection=t),void 0!==e&&(this.normalIdx=e)}},t.ManifoldOrCrossSectionDto=class{constructor(t){void 0!==t&&(this.manifoldOrCrossSection=t)}},t.ManifoldsOrCrossSectionsDto=class{constructor(t){void 0!==t&&(this.manifoldsOrCrossSections=t)}},t.DecomposeManifoldsOrCrossSectionsDto=class{constructor(t,e){void 0!==t&&(this.manifoldsOrCrossSections=t),void 0!==e&&(this.normalIdx=e)}}}(e||(e={}));class o{constructor(t){this.manifold=t}manifoldFromMesh(t){const{Manifold:e}=this.manifold;return new e(t.mesh)}cube(t){const{Manifold:e}=this.manifold,{cube:r}=e;return r(t.size,t.center)}sphere(t){const{Manifold:e}=this.manifold,{sphere:r}=e;return r(t.radius,t.circularSegments)}tetrahedron(){const{Manifold:t}=this.manifold,{tetrahedron:e}=t;return e()}cylinder(t){const{Manifold:e}=this.manifold,{cylinder:r}=e;return r(t.height,t.radiusLow,t.radiusHigh,t.circularSegments,t.center)}}class s{constructor(t){this.manifold=t}split(t){return t.manifoldToSplit.split(t.manifoldCutter)}splitByPlane(t){return t.manifold.splitByPlane(t.normal,t.originOffset)}trimByPlane(t){return t.manifold.asOriginal().trimByPlane(t.normal,t.originOffset)}subtract(t){return t.manifold1.subtract(t.manifold2)}add(t){return t.manifold1.add(t.manifold2)}intersect(t){return t.manifold1.intersect(t.manifold2)}differenceTwo(t){const{Manifold:e}=this.manifold,{difference:r}=e;return r(t.manifold1,t.manifold2)}difference(t){const{Manifold:e}=this.manifold,{difference:r}=e;return r(t.manifolds)}unionTwo(t){const{Manifold:e}=this.manifold,{union:r}=e;return r(t.manifold1,t.manifold2)}union(t){const{Manifold:e}=this.manifold,{union:r}=e;return r(t.manifolds)}intersectionTwo(t){const{Manifold:e}=this.manifold,{intersection:r}=e;return r(t.manifold1,t.manifold2)}intersection(t){const{Manifold:e}=this.manifold,{intersection:r}=e;return r(t.manifolds)}}class a{constructor(t){this.manifold=t}hull(t){return t.manifold.hull()}hullPoints(t){const{Manifold:e}=this.manifold,{hull:r}=e;return r(t.points)}slice(t){return t.manifold.slice(t.height)}project(t){return t.manifold.project()}setTolerance(t){return t.manifold.setTolerance(t.tolerance)}asOriginal(t){return t.manifold.asOriginal()}reserveIds(t){const{Manifold:e}=this.manifold,{reserveIDs:r}=e;return r(t.count)}compose(t){const{Manifold:e}=this.manifold,{compose:r}=e;return r(t.manifolds)}decompose(t){return t.manifold.decompose()}calculateNormals(t){return t.manifold.calculateNormals(t.normalIdx,t.minSharpAngle)}calculateCurvature(t){return t.manifold.calculateCurvature(t.gaussianIdx,t.meanIdx)}refineToTolerance(t){return t.manifold.refineToTolerance(t.tolerance)}refineToLength(t){return t.manifold.refineToLength(t.length)}refine(t){return t.manifold.refine(t.number)}smoothOut(t){return t.manifold.smoothOut(t.minSharpAngle,t.minSmoothness)}smoothByNormals(t){return t.manifold.smoothByNormals(t.normalIdx)}}class c{constructor(t){this.manifold=t}scale3D(t){return t.manifold.scale(t.vector)}scale(t){return t.manifold.scale(t.vector)}mirror(t){return t.manifold.mirror(t.normal)}translate(t){return t.manifold.translate(t.vector)}translateByVectors(t){return t.vectors.map((e=>t.manifold.translate(e)))}rotate(t){return t.manifold.rotate(t.vector)}rotateXYZ(t){return t.manifold.rotate(t.x,t.y,t.z)}translateXYZ(t){return t.manifold.translate(t.x,t.y,t.z)}transform(t){return t.manifold.transform(t.transform)}transforms(t){let e=t.manifold;const r=[];t.transforms.forEach((t=>{e=e.transform(t),r.push(e)}));const n=r.pop();return r.forEach((t=>{t.delete()})),n}}class u{constructor(t){this.manifold=t}volume(t){return t.manifold.volume()}surfaceArea(t){return t.manifold.surfaceArea()}isEmpty(t){return t.manifold.isEmpty()}numVert(t){return t.manifold.numVert()}numTri(t){return t.manifold.numTri()}numEdge(t){return t.manifold.numEdge()}numProp(t){return t.manifold.numProp()}numPropVert(t){return t.manifold.numPropVert()}boundingBox(t){const e=t.manifold.boundingBox();return[e.min,e.max]}tolerance(t){return t.manifold.tolerance()}genus(t){return t.manifold.genus()}minGap(t){return t.manifold1.minGap(t.manifold2,t.searchLength)}originalID(t){return t.manifold.originalID()}}class l{constructor(t){this.shapes=new o(t),this.booleans=new s(t),this.operations=new a(t),this.transforms=new c(t),this.evaluate=new u(t)}manifoldToMesh(t){return t.manifold.getMesh(t.normalIdx)}manifoldsToMeshes(t){return t.manifolds.map(((e,r)=>{const n=t.normalIdx?t.normalIdx[r]:void 0;return this.manifoldToMesh({manifold:e,normalIdx:n})}))}}class d{constructor(t){this.manifold=t}create(t){const{CrossSection:e}=this.manifold;return new e(t.polygons,t.fillRule)}square(t){const{CrossSection:e}=this.manifold,{square:r}=e;return r(t.size,t.center)}circle(t){const{CrossSection:e}=this.manifold,{circle:r}=e;return r(t.radius,t.circularSegments)}rectangle(t){const{CrossSection:e}=this.manifold,{square:r}=e;return r([t.length,t.height],t.center)}}class h{constructor(t){this.manifold=t}hull(t){return t.crossSection.hull()}extrude(t){return t.crossSection.extrude(t.height,t.nDivisions,t.twistDegrees,[t.scaleTopX,t.scaleTopY],t.center)}revolve(t){const e=t.crossSection.revolve(t.circularSegments,t.revolveDegrees);return t.matchProfile?e.rotate([90,0,0]):e}offset(t){return t.crossSection.offset(t.delta,t.joinType,t.miterLimit,t.circularSegments)}simplify(t){return t.crossSection.simplify(t.epsilon)}compose(t){const{CrossSection:e}=this.manifold,{compose:r}=e;return r(t.polygons)}decompose(t){return t.crossSection.decompose()}}class f{constructor(t){this.manifold=t}scale2D(t){return t.crossSection.scale(t.vector)}scale(t){return t.crossSection.scale(t.factor)}mirror(t){return t.crossSection.mirror(t.normal)}translate(t){return t.crossSection.translate(t.vector)}translateXY(t){return t.crossSection.translate([t.x,t.y])}rotate(t){return t.crossSection.rotate(t.degrees)}transform(t){return t.crossSection.transform(t.transform)}}class p{constructor(t){this.manifold=t}subtract(t){return t.crossSection1.subtract(t.crossSection2)}add(t){return t.crossSection1.add(t.crossSection2)}intersect(t){return t.crossSection1.intersect(t.crossSection2)}differenceTwo(t){const{CrossSection:e}=this.manifold,{difference:r}=e;return r(t.crossSection1,t.crossSection2)}difference(t){const{CrossSection:e}=this.manifold,{difference:r}=e;return r(t.crossSections)}unionTwo(t){const{CrossSection:e}=this.manifold,{union:r}=e;return r(t.crossSection1,t.crossSection2)}union(t){const{CrossSection:e}=this.manifold,{union:r}=e;return r(t.crossSections)}intersectionTwo(t){const{CrossSection:e}=this.manifold,{intersection:r}=e;return r(t.crossSection1,t.crossSection2)}intersection(t){const{CrossSection:e}=this.manifold,{intersection:r}=e;return r(t.crossSections)}}class m{constructor(t){this.manifold=t}area(t){return t.crossSection.area()}isEmpty(t){return t.crossSection.isEmpty()}numVert(t){return t.crossSection.numVert()}numContour(t){return t.crossSection.numContour()}bounds(t){const e=t.crossSection.bounds();return[e.min,e.max]}}class v{constructor(t){this.manifold=t,this.shapes=new d(t),this.operations=new h(t),this.transforms=new f(t),this.booleans=new p(t),this.evaluate=new m(t)}crossSectionToPolygons(t){return t.crossSection.toPolygons()}crossSectionsToPolygons(t){return t.crossSections.map((t=>this.crossSectionToPolygons({crossSection:t})))}deleteCrossSection(t){t.crossSection.delete()}deleteCrossSections(t){t.crossSections.forEach((t=>this.deleteCrossSection({crossSection:t})))}}class y{constructor(t){this.manifold=t}position(t){const e=t.mesh.position(t.vertexIndex);return[e[0],e[1],e[2]]}tangent(t){const e=t.mesh.tangent(t.halfEdgeIndex);return[e[0],e[1],e[2],e[4]]}verts(t){const e=t.mesh.verts(t.triangleIndex);return[e[0],e[1],e[2]]}extras(t){return[...t.mesh.extras(t.vertexIndex)]}transform(t){return[...t.mesh.transform(t.triangleRunIndex)]}numProp(t){return t.mesh.numProp}numVert(t){return t.mesh.numVert}numTri(t){return t.mesh.numTri}numRun(t){return t.mesh.numRun}}class g{constructor(t){this.manifold=t}merge(t){return t.mesh.merge()}}class b{constructor(t){this.operations=new g(t),this.evaluate=new y(t)}}class C{constructor(t){this.crossSection=new v(t),this.manifold=new l(t),this.mesh=new b(t)}decomposeManifoldOrCrossSection(t){return t.manifoldOrCrossSection.getMesh?t.manifoldOrCrossSection.getMesh(t.normalIdx):t.manifoldOrCrossSection.toPolygons()}decomposeManifoldsOrCrossSections(t){return t.manifoldsOrCrossSections.map(((e,r)=>{const n=t.normalIdx?t.normalIdx[r]:void 0;return this.decomposeManifoldOrCrossSection({manifoldOrCrossSection:e,normalIdx:n})}))}}let S,w,T;var $,P,M=i(581);P=function(){var t;return function(t,e){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(e){switch(e.label){case 0:return[4,(0,M.default)({locateFile:function(){return"https://cdn.jsdelivr.net/gh/bitbybit-dev/bitbybit-assets@0.19.0-alpha.0/wasm/manifold.cc2ddd38.wasm"}})];case 1:return(t=e.sent()).setup(),r=t,w=new n,S=new C(r),postMessage("manifold-initialised"),postMessage("manifold-initialised"),[2]}var r}))},new(($=void 0)||($=Promise))((function(t,e){function r(t){try{o(P.next(t))}catch(t){e(t)}}function n(t){try{o(P.throw(t))}catch(t){e(t)}}function o(e){var o;e.done?t(e.value):(o=e.value,o instanceof $?o:new $((function(t){t(o)}))).then(r,n)}o((P=P.apply(void 0,[])).next())})),addEventListener("message",(function(t){((t,e)=>{let r;e("busy");try{if("manifoldToMesh"!==t.action.functionName&&"manifoldsToMeshes"!==t.action.functionName&&"deleteManifoldOrCrossSection"!==t.action.functionName&&"deleteManifoldsOrCrossSections"!==t.action.functionName&&"manifoldToMeshPointer"!==t.action.functionName&&"startedTheRun"!==t.action.functionName&&"cleanAllCache"!==t.action.functionName&&"addManifoldPluginDependency"!==t.action.functionName){Object.keys(t.action.inputs).forEach((e=>{const r=t.action.inputs[e];r&&r.type&&"manifold-shape"===r.type&&r.hash&&(t.action.inputs[e]=w.checkCache(t.action.inputs[e].hash)),r&&Array.isArray(r)&&r.length>0&&(r[0].type&&"manifold-shape"===r[0].type&&r[0].hash?t.action.inputs[e]=t.action.inputs[e].map((t=>w.checkCache(t.hash))):Array.isArray(r[0])&&r[0][0].type&&"manifold-shape"===r[0][0].type&&r[0][0].hash&&(t.action.inputs[e]=t.action.inputs[e].map((t=>t.map((t=>w.checkCache(t.hash)))))))}));const e=t.action.functionName.split(".");let n;if(n=3===e.length?w.cacheOp(t.action,(()=>S[e[0]][e[1]][e[2]](t.action.inputs))):2===e.length?w.cacheOp(t.action,(()=>S[e[0]][e[1]](t.action.inputs))):w.cacheOp(t.action,(()=>S[t.action.functionName](t.action.inputs))),w.isManifoldObject(n))r=Array.isArray(n)?n.map((t=>({hash:t.hash,type:"manifold-shape"}))):{hash:n.hash,type:"manifold-shape"};else if(n&&n.compound&&n.data&&n.manifolds&&n.manifolds.length>0){const t=n;t.manifolds=t.manifolds.map((t=>({id:t.id,manifold:{hash:t.manifold.hash,type:"manifold-shape"}}))),t.compound={hash:t.compound.hash,type:"manifold-shape"},r=t}else r=n}if("addManifoldPluginDependency"===t.action.functionName&&(S&&S.plugins?Object.keys(t.action.inputs).forEach((e=>{S.plugins.dependencies[e]=t.action.inputs[e]})):T=t.action.inputs),"manifoldToMesh"===t.action.functionName&&(t.action.inputs.manifold=w.checkCache(t.action.inputs.manifold.hash),r=S.decomposeManifoldOrCrossSection(t.action.inputs)),"manifoldToMeshPointer"===t.action.functionName){t.action.inputs.manifold=w.checkCache(t.action.inputs.manifold.hash);const e=S.manifold.manifoldToMesh(t.action.inputs),n=w.computeHash(t.action);w.addToCache(n,e),r={hash:n,type:"manifold-shape"}}if("manifoldsToMeshes"===t.action.functionName){if(!(t.action.inputs.manifolds&&t.action.inputs.manifolds.length>0))throw new Error("No manifolds detected");t.action.inputs.manifolds=t.action.inputs.manifolds.map((t=>w.checkCache(t.hash))),r=S.decomposeManifoldsOrCrossSections(t.action.inputs)}"deleteManifoldOrCrossSection"===t.action.functionName&&(w.cleanCacheForHash(t.action.inputs.manifoldOrCrossSection.hash),r={}),"deleteManifoldsOrCrossSections"===t.action.functionName&&(t.action.inputs.manifoldsOrCrossSections.forEach((t=>w.cleanCacheForHash(t.hash))),r={}),"startedTheRun"===t.action.functionName&&(w&&Object.keys(w.usedHashes).length>1e4&&w.cleanAllCache(),r={}),"cleanAllCache"===t.action.functionName&&(w.cleanAllCache(),r={}),e({uid:t.uid,result:r})}catch(r){let n,o;t&&t.action&&t.action.inputs&&(n=`Input values were: {${Object.keys(t.action.inputs).map((e=>`${e}: ${JSON.stringify(t.action.inputs[e])}`)).join(",")}}. `),t&&t.action&&t.action.functionName&&(o=`- ${t.action.functionName}`),e({uid:t.uid,result:void 0,error:`Manifold computation failed. ${r} While executing function ${o}. ${n}`})}})(t.data,postMessage)}))})()})();