"use strict";(self.webpackChunk_bitbybit_dev_runner=self.webpackChunk_bitbybit_dev_runner||[]).push([[903],{903:(e,t,n)=>{let o;function r(){return o}n.r(t),n.d(t,{default:()=>r}),function e(t,n,o){function r(a,i){if(!n[a]){if(!t[a]){if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){return r(t[a][1][e]||e)}),l,l.exports,e,t,n,o)}return n[a].exports}for(var s=void 0,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,t,n){o=e("./node_modules/@jscad/modeling/src/index.js"),o.IOUTILS=e("./node_modules/@jscad/io-utils/index.js"),o.STLSERIALIZER=e("./node_modules/@jscad/stl-serializer/index.js"),o.DXFSERIALIZER=e("./node_modules/@jscad/dxf-serializer/index.js"),o.THREEMFSERIALIZER=e("./node_modules/@jscad/3mf-serializer/src/index.js")},{"./node_modules/@jscad/3mf-serializer/src/index.js":2,"./node_modules/@jscad/dxf-serializer/index.js":13,"./node_modules/@jscad/io-utils/index.js":418,"./node_modules/@jscad/modeling/src/index.js":511,"./node_modules/@jscad/stl-serializer/index.js":826}],2:[function(e,t,n){const o=e("fflate").zipSync,r=e("fflate").strToU8,s=e("onml/lib/stringify"),{colors:a,geometries:i,modifiers:c}=e("@jscad/modeling"),{flatten:l,toArray:u}=e("@jscad/array-utils"),p=(e,t)=>{let n=["basematerials",{id:"0"}];const o=[];return e.forEach(((e,n)=>{let r=a.rgbToHex(t.defaultcolor).toUpperCase();e.color&&(r=a.rgbToHex(e.color).toUpperCase()),o.push(["base",{name:`mat${n}`,displaycolor:r}])})),n=n.concat(o),n},f=(e,t)=>{const n=[];return e.forEach(((e,o)=>{i.geom3.isA(e)&&i.geom3.toPolygons(e).length>0&&(t.id=o,n.push(h(e,t)))})),n},h=(e,t)=>{const n=e.name?e.name:`Part ${t.id}`;return["object",{id:`${t.id+1}`,type:"model",pid:"0",pindex:`${t.id}`,name:n},m(e,t)]},m=(e,t)=>["mesh",{},g(e,t),y(e,t)],g=(e,t)=>{const n=[];return i.geom3.toPolygons(e).forEach((e=>{for(let o=0;o<e.vertices.length;o++)n.push(d(e.vertices[o],t))})),["vertices",{}].concat(n)},d=(e,t)=>["vertex",{x:e[0],y:e[1],z:e[2]}],y=(e,t)=>{let n=0;const o=i.geom3.toPolygons(e);let r=["triangles",{}];return o.forEach((e=>{if(e.vertices.length<3)return;const t=v(e,n);r=r.concat(t),n+=e.vertices.length})),r},v=(e,t)=>{const n=[];for(let o=0;o<e.vertices.length-2;o++){const e=["triangle",{v1:t,v2:t+o+1,v3:t+o+2}];n.push(e)}return n};t.exports={serialize:(e,...t)=>{e=Object.assign({},{unit:"millimeter",metadata:!0,defaultcolor:[1,160/255,0,1],compress:!0},e);let n=(t=l(t)).filter((e=>i.geom3.isA(e)));if(0===n.length)throw new Error("only 3D geometries can be serialized to 3MF");t.length!==n.length&&console.warn("some objects could not be serialized to 3MF"),t=u(c.generalize({snap:!0,triangulate:!0},n));const a=["model",{unit:e.unit,"xml:lang":"und"},["metadata",{name:"Application"},"JSCAD"]];e.metadata&&a.push(["metadata",{name:"CreationDate"},(new Date).toISOString()]),a.push(((e,t)=>{let n=["resources",{},p(e,t)];return n=n.concat(f(e,t)),n})(t,e)),a.push(((e,t)=>{let n=["build",{}];const o=[];return e.forEach(((e,t)=>{o.push(["item",{objectid:`${t+1}`}])})),n=n.concat(o),n})(t));const h=`<?xml version="1.0" encoding="UTF-8"?>\n${s(a,2)}`;if(e.compress){const e={"3D":{"3dmodel.model":r(h)},_rels:{".rels":r('<?xml version="1.0" encoding="UTF-8" ?>\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  <Relationship Target="/3D/3dmodel.model" Id="rel0" Type="http://schemas.microsoft.com/3dmanufacturing/2013/01/3dmodel">\n  </Relationship>\n</Relationships>')},"[Content_Types].xml":r('<?xml version="1.0" encoding="UTF-8" ?>\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">\n  <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml">\n  </Default>\n  <Default Extension="model" ContentType="application/vnd.ms-package.3dmanufacturing-3dmodel+xml">\n  </Default>\n</Types>')};return[o(e,{comment:"created by JSCAD"}).buffer]}return[h]},mimeType:"model/3mf",fileExtension:"3mf"}},{"@jscad/array-utils":6,"@jscad/modeling":511,fflate:827,"onml/lib/stringify":829}],3:[function(e,t,n){const o=e=>e.reduce(((e,t)=>Array.isArray(t)?e.concat(o(t)):e.concat(t)),[]);t.exports=o},{}],4:[function(e,t,n){t.exports=(e,t)=>e-t},{}],5:[function(e,t,n){t.exports=e=>{if(Array.isArray(e)&&0!==e.length)return e[0]}},{}],6:[function(e,t,n){t.exports={flatten:e("./flatten"),fnNumberSort:e("./fnNumberSort"),head:e("./head"),insertSorted:e("./insertSorted"),nth:e("./nth"),padToLength:e("./padToLength"),toArray:e("./toArray")}},{"./flatten":3,"./fnNumberSort":4,"./head":5,"./insertSorted":7,"./nth":8,"./padToLength":9,"./toArray":10}],7:[function(e,t,n){t.exports=(e,t,n)=>{let o=0,r=e.length;for(;r>o;){const s=Math.floor((o+r)/2);n(t,e[s])>0?o=s+1:r=s}return e.splice(o,0,t),e}},{}],8:[function(e,t,n){t.exports=(e,t)=>{if(Array.isArray(e)&&!(e.length<t))return e[t]}},{}],9:[function(e,t,n){t.exports=(e,t,n)=>{for(e=e.slice();e.length<n;)e.push(t);return e}},{}],10:[function(e,t,n){t.exports=e=>Array.isArray(e)?e:null==e?[]:[e]},{}],11:[function(e,t,n){t.exports={dxfHeaders:function(){return"  0\nSECTION\n  2\nHEADER\n  9\n$ACADVER\n  1\nAC1027\n  9\n$ACADMAINTVER\n 70\n8\n  9\n$DWGCODEPAGE\n  3\nANSI_1252\n  9\n$LASTSAVEDBY\n  1\nunknown\n  9\n$REQUIREDVERSIONS\n160\n0\n  9\n$INSBASE\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$EXTMIN\n 10\n1e+20\n 20\n1e+20\n 30\n1e+20\n  9\n$EXTMAX\n 10\n-1e+20\n 20\n-1e+20\n 30\n-1e+20\n  9\n$LIMMIN\n 10\n0.0\n 20\n0.0\n  9\n$LIMMAX\n 10\n12.0\n 20\n9.0\n  9\n$ORTHOMODE\n 70\n0\n  9\n$REGENMODE\n 70\n1\n  9\n$FILLMODE\n 70\n1\n  9\n$QTEXTMODE\n 70\n0\n  9\n$MIRRTEXT\n 70\n0\n  9\n$LTSCALE\n 40\n1.0\n  9\n$ATTMODE\n 70\n1\n  9\n$TEXTSIZE\n 40\n0.2\n  9\n$TRACEWID\n 40\n0.05\n  9\n$TEXTSTYLE\n  7\nNotes\n  9\n$CLAYER\n  8\n0\n  9\n$CELTYPE\n  6\nByLayer\n  9\n$CECOLOR\n 62\n256\n  9\n$CELTSCALE\n 40\n1.0\n  9\n$DISPSILH\n 70\n0\n  9\n$DIMSCALE\n 40\n1.0\n  9\n$DIMASZ\n 40\n3.0\n  9\n$DIMEXO\n 40\n1.5\n  9\n$DIMDLI\n 40\n6.0\n  9\n$DIMRND\n 40\n0.0\n  9\n$DIMDLE\n 40\n0.0\n  9\n$DIMEXE\n 40\n3.0\n  9\n$DIMTP\n 40\n0.0\n  9\n$DIMTM\n 40\n0.0\n  9\n$DIMTXT\n 40\n3.0\n  9\n$DIMCEN\n 40\n3.0\n  9\n$DIMTSZ\n 40\n0.0\n  9\n$DIMTOL\n 70\n0\n  9\n$DIMLIM\n 70\n0\n  9\n$DIMTIH\n 70\n0\n  9\n$DIMTOH\n 70\n0\n  9\n$DIMSE1\n 70\n0\n  9\n$DIMSE2\n 70\n0\n  9\n$DIMTAD\n 70\n1\n  9\n$DIMZIN\n 70\n3\n  9\n$DIMBLK\n  1\n\n  9\n$DIMASO\n 70\n1\n  9\n$DIMSHO\n 70\n1\n  9\n$DIMPOST\n  1\n\n  9\n$DIMAPOST\n  1\n\n  9\n$DIMALT\n 70\n0\n  9\n$DIMALTD\n 70\n2\n  9\n$DIMALTF\n 40\n25.4\n  9\n$DIMLFAC\n 40\n1.0\n  9\n$DIMTOFL\n 70\n0\n  9\n$DIMTVP\n 40\n0.0\n  9\n$DIMTIX\n 70\n0\n  9\n$DIMSOXD\n 70\n0\n  9\n$DIMSAH\n 70\n0\n  9\n$DIMBLK1\n  1\n\n  9\n$DIMBLK2\n  1\n\n  9\n$DIMSTYLE\n  2\nCivil-Metric\n  9\n$DIMCLRD\n 70\n0\n  9\n$DIMCLRE\n 70\n0\n  9\n$DIMCLRT\n 70\n0\n  9\n$DIMTFAC\n 40\n1.0\n  9\n$DIMGAP\n 40\n2.0\n  9\n$DIMJUST\n 70\n0\n  9\n$DIMSD1\n 70\n0\n  9\n$DIMSD2\n 70\n0\n  9\n$DIMTOLJ\n 70\n1\n  9\n$DIMTZIN\n 70\n0\n  9\n$DIMALTZ\n 70\n0\n  9\n$DIMALTTZ\n 70\n0\n  9\n$DIMUPT\n 70\n0\n  9\n$DIMDEC\n 70\n2\n  9\n$DIMTDEC\n 70\n2\n  9\n$DIMALTU\n 70\n2\n  9\n$DIMALTTD\n 70\n2\n  9\n$DIMTXSTY\n  7\nStandard\n  9\n$DIMAUNIT\n 70\n0\n  9\n$DIMADEC\n 70\n2\n  9\n$DIMALTRND\n 40\n0.0\n  9\n$DIMAZIN\n 70\n2\n  9\n$DIMDSEP\n 70\n46\n  9\n$DIMATFIT\n 70\n3\n  9\n$DIMFRAC\n 70\n1\n  9\n$DIMLDRBLK\n  1\n\n  9\n$DIMLUNIT\n 70\n2\n  9\n$DIMLWD\n 70\n-2\n  9\n$DIMLWE\n 70\n-2\n  9\n$DIMTMOVE\n 70\n0\n  9\n$DIMFXL\n 40\n1.0\n  9\n$DIMFXLON\n 70\n0\n  9\n$DIMJOGANG\n 40\n0.785398163397\n  9\n$DIMTFILL\n 70\n0\n  9\n$DIMTFILLCLR\n 70\n0\n  9\n$DIMARCSYM\n 70\n0\n  9\n$DIMLTYPE\n  6\n\n  9\n$DIMLTEX1\n  6\n\n  9\n$DIMLTEX2\n  6\n\n  9\n$DIMTXTDIRECTION\n 70\n0\n  9\n$LUNITS\n 70\n2\n  9\n$LUPREC\n 70\n4\n  9\n$SKETCHINC\n 40\n0.1\n  9\n$FILLETRAD\n 40\n0.0\n  9\n$AUNITS\n 70\n4\n  9\n$AUPREC\n 70\n5\n  9\n$MENU\n  1\n.\n  9\n$ELEVATION\n 40\n0.0\n  9\n$PELEVATION\n 40\n0.0\n  9\n$THICKNESS\n 40\n0.0\n  9\n$LIMCHECK\n 70\n0\n  9\n$CHAMFERA\n 40\n0.0\n  9\n$CHAMFERB\n 40\n0.0\n  9\n$CHAMFERC\n 40\n0.0\n  9\n$CHAMFERD\n 40\n0.0\n  9\n$SKPOLY\n 70\n0\n  9\n$TDCREATE\n 40\n2457986.69756\n  9\n$TDUCREATE\n 40\n2455631.2632\n  9\n$TDUPDATE\n 40\n2457986.69756\n  9\n$TDUUPDATE\n 40\n2456436.43179\n  9\n$TDINDWG\n 40\n0.0003490741\n  9\n$TDUSRTIMER\n 40\n0.0003487153\n  9\n$USRTIMER\n 70\n1\n  9\n$ANGBASE\n 50\n0.0\n  9\n$ANGDIR\n 70\n0\n  9\n$PDMODE\n 70\n0\n  9\n$PDSIZE\n 40\n0.0\n  9\n$PLINEWID\n 40\n0.0\n  9\n$SPLFRAME\n 70\n0\n  9\n$SPLINETYPE\n 70\n6\n  9\n$SPLINESEGS\n 70\n8\n  9\n$HANDSEED\n  5\n5C7\n  9\n$SURFTAB1\n 70\n6\n  9\n$SURFTAB2\n 70\n6\n  9\n$SURFTYPE\n 70\n6\n  9\n$SURFU\n 70\n6\n  9\n$SURFV\n 70\n6\n  9\n$UCSBASE\n  2\n\n  9\n$UCSNAME\n  2\n\n  9\n$UCSORG\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$UCSXDIR\n 10\n1.0\n 20\n0.0\n 30\n0.0\n  9\n$UCSYDIR\n 10\n0.0\n 20\n1.0\n 30\n0.0\n  9\n$UCSORTHOREF\n  2\n\n  9\n$UCSORTHOVIEW\n 70\n0\n  9\n$UCSORGTOP\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$UCSORGBOTTOM\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$UCSORGLEFT\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$UCSORGRIGHT\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$UCSORGFRONT\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$UCSORGBACK\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$PUCSBASE\n  2\n\n  9\n$PUCSNAME\n  2\n\n  9\n$PUCSORG\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$PUCSXDIR\n 10\n1.0\n 20\n0.0\n 30\n0.0\n  9\n$PUCSYDIR\n 10\n0.0\n 20\n1.0\n 30\n0.0\n  9\n$PUCSORTHOREF\n  2\n\n  9\n$PUCSORTHOVIEW\n 70\n0\n  9\n$PUCSORGTOP\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$PUCSORGBOTTOM\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$PUCSORGLEFT\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$PUCSORGRIGHT\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$PUCSORGFRONT\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$PUCSORGBACK\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$USERI1\n 70\n0\n  9\n$USERI2\n 70\n0\n  9\n$USERI3\n 70\n0\n  9\n$USERI4\n 70\n0\n  9\n$USERI5\n 70\n0\n  9\n$USERR1\n 40\n0.0\n  9\n$USERR2\n 40\n0.0\n  9\n$USERR3\n 40\n0.0\n  9\n$USERR4\n 40\n0.0\n  9\n$USERR5\n 40\n0.0\n  9\n$WORLDVIEW\n 70\n1\n  9\n$SHADEDGE\n 70\n3\n  9\n$SHADEDIF\n 70\n70\n  9\n$TILEMODE\n 70\n1\n  9\n$MAXACTVP\n 70\n64\n  9\n$PINSBASE\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$PLIMCHECK\n 70\n0\n  9\n$PEXTMIN\n 10\n0.628866766397\n 20\n0.799999952316\n 30\n0.0\n  9\n$PEXTMAX\n 10\n9.02886638493\n 20\n7.19999957085\n 30\n0.0\n  9\n$PLIMMIN\n 10\n-0.700541819174\n 20\n-0.228100386192\n  9\n$PLIMMAX\n 10\n10.2994579405\n 20\n8.27189937351\n  9\n$UNITMODE\n 70\n0\n  9\n$VISRETAIN\n 70\n1\n  9\n$PLINEGEN\n 70\n0\n  9\n$PSLTSCALE\n 70\n1\n  9\n$TREEDEPTH\n 70\n3020\n  9\n$CMLSTYLE\n  2\nStandard\n  9\n$CMLJUST\n 70\n0\n  9\n$CMLSCALE\n 40\n1.0\n  9\n$PROXYGRAPHICS\n 70\n1\n  9\n$MEASUREMENT\n 70\n1\n  9\n$CELWEIGHT\n370\n-1\n  9\n$ENDCAPS\n280\n0\n  9\n$JOINSTYLE\n280\n0\n  9\n$LWDISPLAY\n290\n0\n  9\n$INSUNITS\n 70\n4\n  9\n$HYPERLINKBASE\n  1\n\n  9\n$STYLESHEET\n  1\n\n  9\n$XEDIT\n290\n1\n  9\n$CEPSNTYPE\n380\n0\n  9\n$PSTYLEMODE\n290\n1\n  9\n$FINGERPRINTGUID\n  2\n{39DB1BDD-BC6C-46D3-A333-DFCC0DC4782D}\n  9\n$VERSIONGUID\n  2\n{69EEBB2D-7039-498F-9366-3F994E4A07E7}\n  9\n$EXTNAMES\n290\n1\n  9\n$PSVPSCALE\n 40\n0.0\n  9\n$OLESTARTUP\n290\n0\n  9\n$SORTENTS\n280\n127\n  9\n$INDEXCTL\n280\n0\n  9\n$HIDETEXT\n280\n1\n  9\n$XCLIPFRAME\n280\n0\n  9\n$HALOGAP\n280\n0\n  9\n$OBSCOLOR\n 70\n257\n  9\n$OBSLTYPE\n280\n0\n  9\n$INTERSECTIONDISPLAY\n280\n0\n  9\n$INTERSECTIONCOLOR\n 70\n257\n  9\n$DIMASSOC\n280\n2\n  9\n$PROJECTNAME\n  1\n\n  9\n$CAMERADISPLAY\n290\n0\n  9\n$LENSLENGTH\n 40\n50.0\n  9\n$CAMERAHEIGHT\n 40\n0.0\n  9\n$STEPSPERSEC\n 40\n2.0\n  9\n$STEPSIZE\n 40\n6.0\n  9\n$3DDWFPREC\n 40\n2.0\n  9\n$PSOLWIDTH\n 40\n0.25\n  9\n$PSOLHEIGHT\n 40\n4.0\n  9\n$LOFTANG1\n 40\n1.57079632679\n  9\n$LOFTANG2\n 40\n1.57079632679\n  9\n$LOFTMAG1\n 40\n0.0\n  9\n$LOFTMAG2\n 40\n0.0\n  9\n$LOFTPARAM\n 70\n7\n  9\n$LOFTNORMALS\n280\n1\n  9\n$LATITUDE\n 40\n37.795\n  9\n$LONGITUDE\n 40\n-122.394\n  9\n$NORTHDIRECTION\n 40\n0.0\n  9\n$TIMEZONE\n 70\n-8000\n  9\n$LIGHTGLYPHDISPLAY\n280\n1\n  9\n$TILEMODELIGHTSYNCH\n280\n1\n  9\n$CMATERIAL\n347\n96\n  9\n$SOLIDHIST\n280\n1\n  9\n$SHOWHIST\n280\n1\n  9\n$DWFFRAME\n280\n2\n  9\n$DGNFRAME\n280\n0\n  9\n$REALWORLDSCALE\n290\n1\n  9\n$INTERFERECOLOR\n 62\n1\n  9\n$INTERFEREOBJVS\n345\nA3\n  9\n$INTERFEREVPVS\n346\nA0\n  9\n$CSHADOW\n280\n0\n  9\n$SHADOWPLANELOCATION\n 40\n0.0\n  0\nENDSEC"},dxfClasses:function(){return'  0\nSECTION\n  2\nCLASSES\n  0\nCLASS\n  1\nACDBDICTIONARYWDFLT\n  2\nAcDbDictionaryWithDefault\n  3\nObjectDBX Classes\n 90\n0\n 91\n1\n280\n0\n281\n0\n  0\nCLASS\n  1\nDICTIONARYVAR\n  2\nAcDbDictionaryVar\n  3\nObjectDBX Classes\n 90\n0\n 91\n15\n280\n0\n281\n0\n  0\nCLASS\n  1\nTABLESTYLE\n  2\nAcDbTableStyle\n  3\nObjectDBX Classes\n 90\n4095\n 91\n1\n280\n0\n281\n0\n  0\nCLASS\n  1\nMATERIAL\n  2\nAcDbMaterial\n  3\nObjectDBX Classes\n 90\n1153\n 91\n3\n280\n0\n281\n0\n  0\nCLASS\n  1\nVISUALSTYLE\n  2\nAcDbVisualStyle\n  3\nObjectDBX Classes\n 90\n4095\n 91\n26\n280\n0\n281\n0\n  0\nCLASS\n  1\nSCALE\n  2\nAcDbScale\n  3\nObjectDBX Classes\n 90\n1153\n 91\n17\n280\n0\n281\n0\n  0\nCLASS\n  1\nMLEADERSTYLE\n  2\nAcDbMLeaderStyle\n  3\nACDB_MLEADERSTYLE_CLASS\n 90\n4095\n 91\n3\n280\n0\n281\n0\n  0\nCLASS\n  1\nCELLSTYLEMAP\n  2\nAcDbCellStyleMap\n  3\nObjectDBX Classes\n 90\n1152\n 91\n2\n280\n0\n281\n0\n  0\nCLASS\n  1\nEXACXREFPANELOBJECT\n  2\nExAcXREFPanelObject\n  3\nEXAC_ESW\n 90\n1025\n 91\n0\n280\n0\n281\n0\n  0\nCLASS\n  1\nNPOCOLLECTION\n  2\nAcDbImpNonPersistentObjectsCollection\n  3\nObjectDBX Classes\n 90\n1153\n 91\n0\n280\n0\n281\n0\n  0\nCLASS\n  1\nLAYER_INDEX\n  2\nAcDbLayerIndex\n  3\nObjectDBX Classes\n 90\n0\n 91\n0\n280\n0\n281\n0\n  0\nCLASS\n  1\nSPATIAL_INDEX\n  2\nAcDbSpatialIndex\n  3\nObjectDBX Classes\n 90\n0\n 91\n0\n280\n0\n281\n0\n  0\nCLASS\n  1\nIDBUFFER\n  2\nAcDbIdBuffer\n  3\nObjectDBX Classes\n 90\n0\n 91\n0\n280\n0\n281\n0\n  0\nCLASS\n  1\nDIMASSOC\n  2\nAcDbDimAssoc\n  3\n"AcDbDimAssoc|Product Desc:     AcDim ARX App For Dimension|Company:          Autodesk, Inc.|WEB Address:      www.autodesk.com"\n 90\n0\n 91\n0\n280\n0\n281\n0\n  0\nCLASS\n  1\nACDBSECTIONVIEWSTYLE\n  2\nAcDbSectionViewStyle\n  3\nObjectDBX Classes\n 90\n1025\n 91\n1\n280\n0\n281\n0\n  0\nCLASS\n  1\nACDBDETAILVIEWSTYLE\n  2\nAcDbDetailViewStyle\n  3\nObjectDBX Classes\n 90\n1025\n 91\n1\n280\n0\n281\n0\n  0\nCLASS\n  1\nIMAGEDEF\n  2\nAcDbRasterImageDef\n  3\nISM\n 90\n0\n 91\n1\n280\n0\n281\n0\n  0\nCLASS\n  1\nRASTERVARIABLES\n  2\nAcDbRasterVariables\n  3\nISM\n 90\n0\n 91\n1\n280\n0\n281\n0\n  0\nCLASS\n  1\nIMAGEDEF_REACTOR\n  2\nAcDbRasterImageDefReactor\n  3\nISM\n 90\n1\n 91\n1\n280\n0\n281\n0\n  0\nCLASS\n  1\nIMAGE\n  2\nAcDbRasterImage\n  3\nISM\n 90\n2175\n 91\n1\n280\n0\n281\n1\n  0\nCLASS\n  1\nPDFDEFINITION\n  2\nAcDbPdfDefinition\n  3\nObjectDBX Classes\n 90\n1153\n 91\n1\n280\n0\n281\n0\n  0\nCLASS\n  1\nPDFUNDERLAY\n  2\nAcDbPdfReference\n  3\nObjectDBX Classes\n 90\n4095\n 91\n1\n280\n0\n281\n1\n  0\nCLASS\n  1\nDWFDEFINITION\n  2\nAcDbDwfDefinition\n  3\nObjectDBX Classes\n 90\n1153\n 91\n2\n280\n0\n281\n0\n  0\nCLASS\n  1\nDWFUNDERLAY\n  2\nAcDbDwfReference\n  3\nObjectDBX Classes\n 90\n1153\n 91\n1\n280\n0\n281\n1\n  0\nCLASS\n  1\nDGNDEFINITION\n  2\nAcDbDgnDefinition\n  3\nObjectDBX Classes\n 90\n1153\n 91\n2\n280\n0\n281\n0\n  0\nCLASS\n  1\nDGNUNDERLAY\n  2\nAcDbDgnReference\n  3\nObjectDBX Classes\n 90\n1153\n 91\n1\n280\n0\n281\n1\n  0\nENDSEC'},dxfTables:function(){return"  0\nSECTION\n  2\nTABLES\n  0\nTABLE\n  2\nVPORT\n  5\n8\n330\n0\n100\nAcDbSymbolTable\n 70\n0\n  0\nENDTAB\n  0\nTABLE\n  2\nLTYPE\n  5\n5F\n330\n0\n100\nAcDbSymbolTable\n 70\n7\n  0\nLTYPE\n  5\n14\n330\n5F\n100\nAcDbSymbolTableRecord\n100\nAcDbLinetypeTableRecord\n  2\nByBlock\n 70\n0\n  3\n\n 72\n65\n 73\n0\n 40\n0.0\n  0\nLTYPE\n  5\n15\n330\n5F\n100\nAcDbSymbolTableRecord\n100\nAcDbLinetypeTableRecord\n  2\nByLayer\n 70\n0\n  3\n\n 72\n65\n 73\n0\n 40\n0.0\n  0\nLTYPE\n  5\n16\n330\n5F\n100\nAcDbSymbolTableRecord\n100\nAcDbLinetypeTableRecord\n  2\nContinuous\n 70\n0\n  3\nSolid line\n 72\n65\n 73\n0\n 40\n0.0\n  0\nLTYPE\n  5\n1B1\n330\n5F\n100\nAcDbSymbolTableRecord\n100\nAcDbLinetypeTableRecord\n  2\nCENTER\n 70\n0\n  3\nCenter ____ _ ____ _ ____ _ ____ _ ____ _ ____\n 72\n65\n 73\n4\n 40\n2.0\n 49\n1.25\n 74\n0\n 49\n-0.25\n 74\n0\n 49\n0.25\n 74\n0\n 49\n-0.25\n 74\n0\n  0\nLTYPE\n  5\n1B2\n330\n5F\n100\nAcDbSymbolTableRecord\n100\nAcDbLinetypeTableRecord\n  2\nDASHED\n 70\n0\n  3\nDashed __ __ __ __ __ __ __ __ __ __ __ __ __ _\n 72\n65\n 73\n2\n 40\n0.75\n 49\n0.5\n 74\n0\n 49\n-0.25\n 74\n0\n  0\nLTYPE\n  5\n1B3\n330\n5F\n100\nAcDbSymbolTableRecord\n100\nAcDbLinetypeTableRecord\n  2\nPHANTOM\n 70\n0\n  3\nPhantom ______  __  __  ______  __  __  ______\n 72\n65\n 73\n6\n 40\n2.5\n 49\n1.25\n 74\n0\n 49\n-0.25\n 74\n0\n 49\n0.25\n 74\n0\n 49\n-0.25\n 74\n0\n 49\n0.25\n 74\n0\n 49\n-0.25\n 74\n0\n  0\nLTYPE\n  5\n39E\n330\n5F\n100\nAcDbSymbolTableRecord\n100\nAcDbLinetypeTableRecord\n  2\nHIDDEN\n 70\n0\n  3\nHidden __ __ __ __ __ __ __ __ __ __ __ __ __ __\n 72\n65\n 73\n2\n 40\n9.525\n 49\n6.35\n 74\n0\n 49\n-3.175\n 74\n0\n  0\nENDTAB\n  0\nTABLE\n  2\nLAYER\n  5\n2\n330\n0\n100\nAcDbSymbolTable\n 70\n3\n  0\nLAYER\n  5\n10\n330\n2\n100\nAcDbSymbolTableRecord\n100\nAcDbLayerTableRecord\n  2\n0\n 70\n0\n  6\nContinuous\n370\n-3\n390\nF\n347\n98\n348\n0\n  0\nLAYER\n  5\n1B4\n330\n2\n100\nAcDbSymbolTableRecord\n100\nAcDbLayerTableRecord\n  2\nView Port\n 70\n0\n  6\nContinuous\n290\n0\n370\n-3\n390\nF\n347\n98\n348\n0\n  0\nLAYER\n  5\n21D\n330\n2\n100\nAcDbSymbolTableRecord\n100\nAcDbLayerTableRecord\n  2\nDefpoints\n 70\n0\n  6\nContinuous\n290\n0\n370\n-3\n390\nF\n347\n98\n348\n0\n  0\nENDTAB\n  0\nTABLE\n  2\nSTYLE\n  5\n3\n330\n0\n100\nAcDbSymbolTable\n 70\n3\n  0\nSTYLE\n  5\n11\n330\n3\n100\nAcDbSymbolTableRecord\n100\nAcDbTextStyleTableRecord\n  2\nStandard\n 70\n0\n 40\n0.0\n 41\n1.0\n 50\n0.0\n 71\n0\n 42\n0.2\n  3\narial.ttf\n  4\n\n  0\nSTYLE\n  5\nDC\n330\n3\n100\nAcDbSymbolTableRecord\n100\nAcDbTextStyleTableRecord\n  2\nAnnotative\n 70\n0\n 40\n0.0\n 41\n1.0\n 50\n0.0\n 71\n0\n 42\n0.2\n  3\narial.ttf\n  4\n\n  0\nSTYLE\n  5\n178\n330\n3\n100\nAcDbSymbolTableRecord\n100\nAcDbTextStyleTableRecord\n  2\nNotes\n 70\n0\n 40\n3.0\n 41\n1.0\n 50\n0.0\n 71\n0\n 42\n0.2\n  3\narial.ttf\n  4\n\n  0\nENDTAB\n  0\nTABLE\n  2\nVIEW\n  5\n6\n330\n0\n100\nAcDbSymbolTable\n 70\n0\n  0\nENDTAB\n  0\nTABLE\n  2\nUCS\n  5\n7\n330\n0\n100\nAcDbSymbolTable\n 70\n0\n  0\nENDTAB\n  0\nTABLE\n  2\nAPPID\n  5\n9\n330\n0\n100\nAcDbSymbolTable\n 70\n12\n  0\nAPPID\n  5\n12\n330\n9\n100\nAcDbSymbolTableRecord\n100\nAcDbRegAppTableRecord\n  2\nACAD\n 70\n0\n  0\nAPPID\n  5\nDD\n330\n9\n100\nAcDbSymbolTableRecord\n100\nAcDbRegAppTableRecord\n  2\nAcadAnnoPO\n 70\n0\n  0\nAPPID\n  5\nDE\n330\n9\n100\nAcDbSymbolTableRecord\n100\nAcDbRegAppTableRecord\n  2\nAcadAnnotative\n 70\n0\n  0\nAPPID\n  5\nDF\n330\n9\n100\nAcDbSymbolTableRecord\n100\nAcDbRegAppTableRecord\n  2\nACAD_DSTYLE_DIMJAG\n 70\n0\n  0\nAPPID\n  5\nE0\n330\n9\n100\nAcDbSymbolTableRecord\n100\nAcDbRegAppTableRecord\n  2\nACAD_DSTYLE_DIMTALN\n 70\n0\n  0\nAPPID\n  5\n107\n330\n9\n100\nAcDbSymbolTableRecord\n100\nAcDbRegAppTableRecord\n  2\nACAD_MLEADERVER\n 70\n0\n  0\nAPPID\n  5\n1B5\n330\n9\n100\nAcDbSymbolTableRecord\n100\nAcDbRegAppTableRecord\n  2\nAcAecLayerStandard\n 70\n0\n  0\nAPPID\n  5\n1BA\n330\n9\n100\nAcDbSymbolTableRecord\n100\nAcDbRegAppTableRecord\n  2\nACAD_EXEMPT_FROM_CAD_STANDARDS\n 70\n0\n  0\nAPPID\n  5\n237\n330\n9\n100\nAcDbSymbolTableRecord\n100\nAcDbRegAppTableRecord\n  2\nACAD_DSTYLE_DIMBREAK\n 70\n0\n  0\nAPPID\n  5\n28E\n330\n9\n100\nAcDbSymbolTableRecord\n100\nAcDbRegAppTableRecord\n  2\nACAD_PSEXT\n 70\n0\n  0\nAPPID\n  5\n4B0\n330\n9\n100\nAcDbSymbolTableRecord\n100\nAcDbRegAppTableRecord\n  2\nACAD_NAV_VCDISPLAY\n 70\n0\n  0\nAPPID\n  5\n4E3\n330\n9\n100\nAcDbSymbolTableRecord\n100\nAcDbRegAppTableRecord\n  2\nHATCHBACKGROUNDCOLOR\n 70\n0\n  0\nENDTAB\n  0\nTABLE\n  2\nDIMSTYLE\n  5\nA\n330\n0\n100\nAcDbSymbolTable\n 70\n3\n100\nAcDbDimStyleTable\n 71\n3\n340\n242\n340\n27\n340\nE1\n  0\nDIMSTYLE\n105\n27\n330\nA\n100\nAcDbSymbolTableRecord\n100\nAcDbDimStyleTableRecord\n  2\nStandard\n 70\n0\n 41\n3.0\n 42\n2.0\n 43\n9.0\n 44\n5.0\n140\n3.0\n141\n2.0\n147\n2.0\n340\n11\n1001\nACAD_DSTYLE_DIMJAG\n1070\n388\n1040\n38.0\n1001\nACAD_DSTYLE_DIMBREAK\n1070\n391\n1040\n90.0\n1001\nACAD_DSTYLE_DIMTALN\n1070\n392\n1070\n0\n  0\nDIMSTYLE\n105\nE1\n330\nA\n100\nAcDbSymbolTableRecord\n100\nAcDbDimStyleTableRecord\n  2\nAnnotative\n 70\n0\n 40\n0.0\n 41\n3.0\n 42\n2.5\n 43\n10.0\n 44\n5.0\n140\n3.0\n141\n2.0\n147\n2.0\n340\n11\n1001\nAcadAnnotative\n1000\nAnnotativeData\n1002\n{\n1070\n1\n1070\n1\n1002\n}\n1001\nACAD_DSTYLE_DIMJAG\n1070\n388\n1040\n38.0\n1001\nACAD_DSTYLE_DIMBREAK\n1070\n391\n1040\n90.0\n1001\nACAD_DSTYLE_DIMTALN\n1070\n392\n1070\n0\n  0\nDIMSTYLE\n105\n242\n330\nA\n100\nAcDbSymbolTableRecord\n100\nAcDbDimStyleTableRecord\n  2\nCivil-Metric\n 70\n0\n 41\n3.0\n 42\n1.5\n 43\n6.0\n 44\n3.0\n 73\n0\n 74\n0\n 77\n1\n 78\n3\n 79\n2\n140\n3.0\n141\n3.0\n147\n2.0\n179\n2\n271\n2\n272\n2\n276\n1\n340\n11\n1001\nACAD_DSTYLE_DIMBREAK\n1070\n391\n1040\n3.0\n1001\nACAD_DSTYLE_DIMJAG\n1070\n388\n1040\n38.0\n1001\nACAD_DSTYLE_DIMTALN\n1070\n392\n1070\n0\n  0\nENDTAB\n  0\nTABLE\n  2\nBLOCK_RECORD\n  5\n1\n330\n0\n100\nAcDbSymbolTable\n 70\n4\n  0\nBLOCK_RECORD\n  5\n1F\n330\n1\n100\nAcDbSymbolTableRecord\n100\nAcDbBlockTableRecord\n  2\n*Model_Space\n340\n530\n 70\n0\n280\n1\n281\n0\n  0\nBLOCK_RECORD\n  5\n58\n330\n1\n100\nAcDbSymbolTableRecord\n100\nAcDbBlockTableRecord\n  2\n*Paper_Space\n340\n531\n 70\n0\n280\n1\n281\n0\n  0\nBLOCK_RECORD\n  5\n238\n330\n1\n100\nAcDbSymbolTableRecord\n100\nAcDbBlockTableRecord\n  2\n_ArchTick\n340\n0\n 70\n0\n280\n1\n281\n0\n  0\nBLOCK_RECORD\n  5\n23C\n330\n1\n100\nAcDbSymbolTableRecord\n100\nAcDbBlockTableRecord\n  2\n_Open30\n340\n0\n 70\n0\n280\n1\n281\n0\n  0\nENDTAB\n  0\nENDSEC"},dxfBlocks:function(){return"  0\nSECTION\n  2\nBLOCKS\n  0\nBLOCK\n  5\n23A\n330\n238\n100\nAcDbEntity\n  8\n0\n100\nAcDbBlockBegin\n  2\n_ArchTick\n 70\n0\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  3\n_ArchTick\n  1\n\n  0\nENDBLK\n  5\n23B\n330\n238\n100\nAcDbEntity\n  8\n0\n100\nAcDbBlockEnd\n  0\nBLOCK\n  5\n20\n330\n1F\n100\nAcDbEntity\n  8\n0\n100\nAcDbBlockBegin\n  2\n*Model_Space\n 70\n0\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  3\n*Model_Space\n  1\n\n  0\nENDBLK\n  5\n21\n330\n1F\n100\nAcDbEntity\n  8\n0\n100\nAcDbBlockEnd\n  0\nBLOCK\n  5\n5A\n330\n58\n100\nAcDbEntity\n 67\n1\n  8\n0\n100\nAcDbBlockBegin\n  2\n*Paper_Space\n 70\n0\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  3\n*Paper_Space\n  1\n\n  0\nENDBLK\n  5\n5B\n330\n58\n100\nAcDbEntity\n 67\n1\n  8\n0\n100\nAcDbBlockEnd\n  0\nBLOCK\n  5\n240\n330\n23C\n100\nAcDbEntity\n  8\n0\n100\nAcDbBlockBegin\n  2\n_Open30\n 70\n0\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  3\n_Open30\n  1\n\n  0\nENDBLK\n  5\n241\n330\n23C\n100\nAcDbEntity\n  8\n0\n100\nAcDbBlockEnd\n  0\nENDSEC"},dxfObjects:function(){return"  0\nSECTION\n  2\nOBJECTS\n  0\nDICTIONARY\n  5\nC\n330\n0\n100\nAcDbDictionary\n281\n1\n  3\nACAD_COLOR\n350\n524\n  3\nACAD_GROUP\n350\n525\n  3\nACAD_LAYOUT\n350\n526\n  3\nACAD_MATERIAL\n350\n527\n  3\nACAD_MLEADERSTYLE\n350\n528\n  3\nACAD_MLINESTYLE\n350\n529\n  3\nACAD_PLOTSETTINGS\n350\n52A\n  3\nACAD_PLOTSTYLENAME\n350\n52C\n  3\nACAD_SCALELIST\n350\n52D\n  3\nACAD_TABLESTYLE\n350\n52E\n  3\nACAD_VISUALSTYLE\n350\n52F\n  0\nDICTIONARY\n  5\n524\n330\nC\n100\nAcDbDictionary\n281\n1\n  0\nDICTIONARY\n  5\n525\n330\nC\n100\nAcDbDictionary\n281\n1\n  0\nDICTIONARY\n  5\n526\n330\nC\n100\nAcDbDictionary\n281\n1\n  3\nModel\n350\n530\n  3\nLayout1\n350\n531\n  0\nDICTIONARY\n  5\n527\n330\nC\n100\nAcDbDictionary\n281\n1\n  0\nDICTIONARY\n  5\n528\n330\nC\n100\nAcDbDictionary\n281\n1\n  0\nDICTIONARY\n  5\n529\n330\nC\n100\nAcDbDictionary\n281\n1\n  0\nDICTIONARY\n  5\n52A\n330\nC\n100\nAcDbDictionary\n281\n1\n  0\nACDBPLACEHOLDER\n  5\n52B\n330\n52C\n  0\nACDBDICTIONARYWDFLT\n  5\n52C\n330\nC\n100\nAcDbDictionary\n281\n1\n  3\nNormal\n350\n52B\n100\nAcDbDictionaryWithDefault\n340\n52B\n  0\nDICTIONARY\n  5\n52D\n330\nC\n100\nAcDbDictionary\n281\n1\n  0\nDICTIONARY\n  5\n52E\n330\nC\n100\nAcDbDictionary\n281\n1\n  0\nDICTIONARY\n  5\n52F\n330\nC\n100\nAcDbDictionary\n281\n1\n  0\nLAYOUT\n  5\n530\n330\n526\n100\nAcDbPlotSettings\n  1\n\n  2\nDWFx ePlot (XPS Compatible).pc3\n  4\nANSI_A_(8.50_x_11.00_Inches)\n  6\n\n 40\n5.8\n 41\n17.8\n 42\n5.8\n 43\n17.8\n 44\n215.9\n 45\n279.4\n 46\n0.0\n 47\n0.0\n 48\n0.0\n 49\n0.0\n140\n0.0\n141\n0.0\n142\n1.0\n143\n14.53\n 70\n11952\n 72\n0\n 73\n1\n 74\n0\n  7\n\n 75\n0\n147\n0.069\n148\n114.98\n149\n300.29\n100\nAcDbLayout\n  1\nModel\n 70\n1\n 71\n0\n 10\n0.0\n 20\n0.0\n 11\n12.0\n 21\n9.0\n 12\n0.0\n 22\n0.0\n 32\n0.0\n 14\n0.0\n 24\n0.0\n 34\n0.0\n 15\n0.0\n 25\n0.0\n 35\n0.0\n146\n0.0\n 13\n0.0\n 23\n0.0\n 33\n0.0\n 16\n1.0\n 26\n0.0\n 36\n0.0\n 17\n0.0\n 27\n1.0\n 37\n0.0\n 76\n0\n330\n1F\n  0\nLAYOUT\n  5\n531\n330\n526\n100\nAcDbPlotSettings\n  1\n\n  2\nDWFx ePlot (XPS Compatible).pc3\n  4\nANSI_A_(8.50_x_11.00_Inches)\n  6\n\n 40\n5.8\n 41\n17.8\n 42\n5.8\n 43\n17.8\n 44\n215.9\n 45\n279.4\n 46\n0.0\n 47\n0.0\n 48\n0.0\n 49\n0.0\n140\n0.0\n141\n0.0\n142\n1.0\n143\n1.0\n 70\n688\n 72\n0\n 73\n1\n 74\n5\n  7\nacad.ctb\n 75\n16\n147\n1.0\n148\n0.0\n149\n0.0\n100\nAcDbLayout\n  1\nLayout1\n 70\n1\n 71\n1\n 10\n-0.7\n 20\n-0.23\n 11\n10.3\n 21\n8.27\n 12\n0.0\n 22\n0.0\n 32\n0.0\n 14\n0.63\n 24\n0.8\n 34\n0.0\n 15\n9.0\n 25\n7.2\n 35\n0.0\n146\n0.0\n 13\n0.0\n 23\n0.0\n 33\n0.0\n 16\n1.0\n 26\n0.0\n 36\n0.0\n 17\n0.0\n 27\n1.0\n 37\n0.0\n 76\n0\n330\n58\n  0\nENDSEC"}}},{}],12:[function(e,t,n){t.exports=[[0,0,0,255],[255,0,0,255],[255,255,0,255],[0,255,0,255],[0,255,255,255],[0,0,255,255],[255,0,255,255],[255,255,255,255],[128,128,128,255],[192,192,192,255],[255,0,0,255],[255,127,127,255],[165,0,0,255],[165,82,82,255],[127,0,0,255],[127,63,63,255],[76,0,0,255],[76,38,38,255],[38,0,0,255],[38,19,19,255],[255,63,0,255],[255,159,127,255],[165,41,0,255],[165,103,82,255],[127,31,0,255],[127,79,63,255],[76,19,0,255],[76,47,38,255],[38,9,0,255],[38,28,19,255],[255,127,0,255],[255,191,127,255],[165,82,0,255],[165,124,82,255],[127,63,0,255],[127,95,63,255],[76,38,0,255],[76,57,38,255],[38,19,0,255],[38,28,19,255],[255,191,0,255],[255,223,127,255],[165,124,0,255],[165,145,82,255],[127,95,0,255],[127,111,63,255],[76,57,0,255],[76,66,38,255],[38,28,0,255],[38,33,19,255],[255,255,0,255],[255,255,127,255],[165,165,0,255],[165,165,82,255],[127,127,0,255],[127,127,63,255],[76,76,0,255],[76,76,38,255],[38,38,0,255],[38,38,19,255],[191,255,0,255],[223,255,127,255],[124,165,0,255],[145,165,82,255],[95,127,0,255],[111,127,63,255],[57,76,0,255],[66,76,38,255],[28,38,0,255],[33,38,19,255],[127,255,0,255],[191,255,127,255],[82,165,0,255],[124,165,82,255],[63,127,0,255],[95,127,63,255],[38,76,0,255],[57,76,38,255],[19,38,0,255],[28,38,19,255],[63,255,0,255],[159,255,127,255],[41,165,0,255],[103,165,82,255],[31,127,0,255],[79,127,63,255],[19,76,0,255],[47,76,38,255],[9,38,0,255],[23,38,19,255],[0,255,0,255],[125,255,127,255],[0,165,0,255],[82,165,82,255],[0,127,0,255],[63,127,63,255],[0,76,0,255],[38,76,38,255],[0,38,0,255],[19,38,19,255],[0,255,63,255],[127,255,159,255],[0,165,41,255],[82,165,103,255],[0,127,31,255],[63,127,79,255],[0,76,19,255],[38,76,47,255],[0,38,9,255],[19,88,23,255],[0,255,127,255],[127,255,191,255],[0,165,82,255],[82,165,124,255],[0,127,63,255],[63,127,95,255],[0,76,38,255],[38,76,57,255],[0,38,19,255],[19,88,28,255],[0,255,191,255],[127,255,223,255],[0,165,124,255],[82,165,145,255],[0,127,95,255],[63,127,111,255],[0,76,57,255],[38,76,66,255],[0,38,28,255],[19,88,88,255],[0,255,255,255],[127,255,255,255],[0,165,165,255],[82,165,165,255],[0,127,127,255],[63,127,127,255],[0,76,76,255],[38,76,76,255],[0,38,38,255],[19,88,88,255],[0,191,255,255],[127,223,255,255],[0,124,165,255],[82,145,165,255],[0,95,127,255],[63,111,217,255],[0,57,76,255],[38,66,126,255],[0,28,38,255],[19,88,88,255],[0,127,255,255],[127,191,255,255],[0,82,165,255],[82,124,165,255],[0,63,127,255],[63,95,127,255],[0,38,76,255],[38,57,126,255],[0,19,38,255],[19,28,88,255],[0,63,255,255],[127,159,255,255],[0,41,165,255],[82,103,165,255],[0,31,127,255],[63,79,127,255],[0,19,76,255],[38,47,126,255],[0,9,38,255],[19,23,88,255],[0,0,255,255],[127,127,255,255],[0,0,165,255],[82,82,165,255],[0,0,127,255],[63,63,127,255],[0,0,76,255],[38,38,126,255],[0,0,38,255],[19,19,88,255],[63,0,255,255],[159,127,255,255],[41,0,165,255],[103,82,165,255],[31,0,127,255],[79,63,127,255],[19,0,76,255],[47,38,126,255],[9,0,38,255],[23,19,88,255],[127,0,255,255],[191,127,255,255],[165,0,82,255],[124,82,165,255],[63,0,127,255],[95,63,127,255],[38,0,76,255],[57,38,126,255],[19,0,38,255],[28,19,88,255],[191,0,255,255],[223,127,255,255],[124,0,165,255],[142,82,165,255],[95,0,127,255],[111,63,127,255],[57,0,76,255],[66,38,76,255],[28,0,38,255],[88,19,88,255],[255,0,255,255],[255,127,255,255],[165,0,165,255],[165,82,165,255],[127,0,127,255],[127,63,127,255],[76,0,76,255],[76,38,76,255],[38,0,38,255],[88,19,88,255],[255,0,191,255],[255,127,223,255],[165,0,124,255],[165,82,145,255],[127,0,95,255],[127,63,111,255],[76,0,57,255],[76,38,66,255],[38,0,28,255],[88,19,88,255],[255,0,127,255],[255,127,191,255],[165,0,82,255],[165,82,124,255],[127,0,63,255],[127,63,95,255],[76,0,38,255],[76,38,57,255],[38,0,19,255],[88,19,28,255],[255,0,63,255],[255,127,159,255],[165,0,41,255],[165,82,103,255],[127,0,31,255],[127,63,79,255],[76,0,19,255],[76,38,47,255],[38,0,9,255],[88,19,23,255],[0,0,0,255],[101,101,101,255],[102,102,102,255],[153,153,153,255],[204,204,204,255],[255,255,255,255]]},{}],13:[function(e,t,n){const{geometries:o,modifiers:r}=e("@jscad/modeling"),{geom3:s,geom2:a,path2:i}=o,{flatten:c,toArray:l}=e("@jscad/array-utils"),{dxfHeaders:u,dxfClasses:p,dxfTables:f,dxfBlocks:h,dxfObjects:m}=e("./autocad_AC2017"),g=e("./colorindex2017"),d=(e,t)=>{const n=e.map(((e,n)=>{if(a.isA(e)){const n=e.color,o=e.name,r=a.toOutlines(e).map((e=>({closed:!0,points:e,color:n,name:o})));return"polyline"===t.geom2To?v(r,t):y(r,t)}if(s.isA(e))return"polyline"===t.geom3To?E(e,t):b(e,t);if(i.isA(e)){const n=e.color,o=e.name,r={closed:e.isClosed,points:i.toPoints(e),color:n,name:o};return y([r],t)}return""}));let o="  0\nSECTION\n  2\nENTITIES\n";return n.forEach((e=>{e&&(o+=e)})),o+="  0\nENDSEC",o},y=(e,t)=>{t.statusCallback&&t.statusCallback({progress:0});let n="";return e.forEach(((o,r)=>{if(o.points.length<1)return;const s=o.points.length+(o.closed?1:0);n+=`  0\nLWPOLYLINE\n  5\n${S(t)}\n  100\nAcDbEntity\n  3\n${T(o,t)}\n  8\n0\n  67\n0\n  62\n${P(o,t)}\n  100\nAcDbPolyline\n  90\n${s}\n  70\n${o.closed?1:0}\n`;for(let e=0;e<s;e++){let t=e;t>=o.points.length&&(t-=o.points.length);const r=o.points[t];n+=`  10\n${r[0]}\n  20\n${r[1]}\n`}t.statusCallback&&t.statusCallback({progress:100*r/e.length})})),t.statusCallback&&t.statusCallback({progress:100}),[n]},v=(e,t)=>{t.statusCallback&&t.statusCallback({progress:0});let n="";return e.forEach(((o,r)=>{const s=o.points.length+(o.closed?1:0);n+=`  0\nPOLYLINE\n  5\n${S(t)}\n  100\nAcDbEntity\n  3\n${T(o,t)}\n  8\n0\n  62\n${P(o,t)}\n  100\nAcDb2dPolyline\n`;for(let e=0;e<s;e++){let r=e;r>=o.points.length&&(r-=o.points.length);const s=o.points[r];n+=`  0\nVERTEX\n  5\n${S(t)}\n  100\nAcDbEntity\n  8\n0\n  100\nAcDbVertex\n  100\nAcDb2dVertex\n 10\n${s[0]}\n 20\n${s[1]}\n`}n+=`  0\nSEQEND\n  5\n${S(t)}\n  100\nAcDbEntity\n`,t.statusCallback&&t.statusCallback({progress:100*r/e.length})})),t.statusCallback&&t.statusCallback({progress:100}),[n]},b=(e,t)=>{t.statusCallback&&t.statusCallback({progress:0});let n="";const o=s.toPolygons(e),r=P(e,t);return o.forEach(((e,o)=>{const s=e.color?P(e,t):r;x(e).forEach(((e,o)=>{n+=A(e,t,s)}))})),t.statusCallback&&t.statusCallback({progress:100}),[n]},x=e=>{const t=e.vertices.length-2;if(t<1)return[];const n=e.vertices[0],o=[];for(let r=0;r<t;r++)o.push([n,e.vertices[r+1],e.vertices[r+2]]);return o},A=(e,t,n)=>{const o=e[0],r=e[1],s=e[2],a=e[2];return`  0\n3DFACE\n  5\n${S(t)}\n  100\nAcDbEntity\n  8\n0\n  62\n${n}\n  100\nAcDbFace\n  70\n0\n  10\n${o[0]}\n  20\n${o[1]}\n  30\n${o[2]}\n  11\n${r[0]}\n  21\n${r[1]}\n  31\n${r[2]}\n  12\n${s[0]}\n  22\n${s[1]}\n  32\n${s[2]}\n  13\n${a[0]}\n  23\n${a[1]}\n  33\n${a[2]}\n`},E=(e,t)=>{let n="";const o=w(s.toPolygons(e));return o.faces.length>0&&(n+=`  0\nPOLYLINE\n  5\n${S(t)}\n  100\nAcDbEntity\n  3\n${T(e,t)}\n  8\n0\n  62\n${P(e,t)}\n  100\nAcDb3dPolyline\n  70\n64\n  71\n${o.vertices.length}\n  72\n${o.faces.length}\n`,o.vertices.forEach((e=>{n+=`  0\nVERTEX\n  5\n${S(t)}\n  100\nAcDbEntity\n  8\n0\n  100\nAcDbVertex\n  100\nAcDb3dPolylineVertex\n  10\n${e[0]}\n  20\n${e[1]}\n  30\n${e[2]}\n  70\n192\n`})),o.faces.forEach((e=>{n+=`  0\nVERTEX\n  5\n${S(t)}\n  100\nAcDbEntity\n  8\n0\n  100\nAcDbVertex\n  100\nAcDb3dPolylineVertex\n  10\n0\n  20\n0\n  30\n0\n  70\n128\n  71\n${e[0]}\n  72\n${e[1]}\n  73\n${e[2]}\n  74\n${e[3]}\n`}))),[n]},w=e=>{const t=[],n=[];for(let o=0;o<e.length;++o){const r=e[o],s=[];for(let e=0;e<r.vertices.length;++e){const t=r.vertices[e];n.push([t[0],t[1],t[2]]),s.push(n.length)}for(;s.length<4;)s.push(0);t.push(s)}return{faces:t,vertices:n}},S=e=>{e.entityId++;const t="00000"+e.entityId.toString(16).toUpperCase();return"CAD"+t.substr(t.length-5)},T=(e,t)=>{if(e.name)return e.name;const n="00000"+t.entityId.toString(16).toUpperCase();return"CAD"+n.substr(n.length-5)},P=(e,t)=>{let n=256;if(e.color){const o=Math.floor(255*e.color[0]),r=Math.floor(255*e.color[1]),s=Math.floor(255*e.color[2]),a=t.colorIndex;let i=765;for(let e=1;e<a.length;e++){const t=a[e],c=Math.abs(o-t[0])+Math.abs(r-t[1])+Math.abs(s-t[2]);if(c<i){if(n=e,0===c)break;i=c}}}return n};t.exports={serialize:(e,...t)=>{const n={geom2To:"lwpolyline",geom3To:"3dface",pathTo:"lwpolyline",statusCallback:null,colorIndex:g};if((e=Object.assign({},n,e)).entityId=0,0===(t=(t=c(t)).filter((e=>s.isA(e)||a.isA(e)||i.isA(e)))).length)throw new Error("only JSCAD geometries can be serialized to DXF");return t=l(r.generalize({snap:!0,triangulate:!0},t)),[`999\nCreated by JSCAD\n${u(e)}\n${p(e)}\n${f(e)}\n${h(e)}\n${d(t,e)}\n${m(e)}\n  0\nEOF\n`]},mimeType:"application/dxf"}},{"./autocad_AC2017":11,"./colorindex2017":12,"@jscad/array-utils":6,"@jscad/modeling":104}],14:[function(e,t,n){const o=e("./cssColors");t.exports=e=>o[e.toLowerCase()]},{"./cssColors":16}],15:[function(e,t,n){const o=e("../utils/flatten"),r=e("../geometries/geom2"),s=e("../geometries/geom3"),a=e("../geometries/path2"),i=e("../geometries/poly3");t.exports=(e,...t)=>{if(!Array.isArray(e))throw new Error("color must be an array");if(e.length<3)throw new Error("color must contain R, G and B values");if(3===e.length&&(e=[e[0],e[1],e[2],1]),0===(t=o(t)).length)throw new Error("wrong number of arguments");const n=t.map((t=>r.isA(t)?((e,t)=>{const n=r.clone(t);return n.color=e,n})(e,t):s.isA(t)?((e,t)=>{const n=s.clone(t);return n.color=e,n})(e,t):a.isA(t)?((e,t)=>{const n=a.clone(t);return n.color=e,n})(e,t):i.isA(t)?((e,t)=>{const n=i.clone(t);return n.color=e,n})(e,t):(t.color=e,t)));return 1===n.length?n[0]:n}},{"../geometries/geom2":38,"../geometries/geom3":53,"../geometries/path2":74,"../geometries/poly3":91,"../utils/flatten":408}],16:[function(e,t,n){t.exports={black:[0,0,0],silver:[192/255,192/255,192/255],gray:[128/255,128/255,128/255],white:[1,1,1],maroon:[128/255,0,0],red:[1,0,0],purple:[128/255,0,128/255],fuchsia:[1,0,1],green:[0,128/255,0],lime:[0,1,0],olive:[128/255,128/255,0],yellow:[1,1,0],navy:[0,0,128/255],blue:[0,0,1],teal:[0,128/255,128/255],aqua:[0,1,1],aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],blanchedalmond:[1,235/255,205/255],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[.6,50/255,.8],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,.6],lightslategrey:[119/255,136/255,.6],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],mediumaquamarine:[.4,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,.8],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],oldlace:[253/255,245/255,230/255],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],whitesmoke:[245/255,245/255,245/255],yellowgreen:[154/255,205/255,50/255]}},{}],17:[function(e,t,n){t.exports=e=>{if((e=e.replace("#","")).length<6)throw new Error("the given notation must contain 3 or more hex values");const t=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,o=parseInt(e.substring(4,6),16)/255;return e.length>=8?[t,n,o,parseInt(e.substring(6,8),16)/255]:[t,n,o]}},{}],18:[function(e,t,n){const o=e("../utils/flatten"),r=e("./hueToColorComponent");t.exports=(...e)=>{if((e=o(e)).length<3)throw new Error("values must contain H, S and L values");const t=e[0],n=e[1],s=e[2];let a=s,i=s,c=s;if(0!==n){const e=s<.5?s*(1+n):s+n-s*n,o=2*s-e;a=r(o,e,t+1/3),i=r(o,e,t),c=r(o,e,t-1/3)}return e.length>3?[a,i,c,e[3]]:[a,i,c]}},{"../utils/flatten":408,"./hueToColorComponent":20}],19:[function(e,t,n){const o=e("../utils/flatten");t.exports=(...e)=>{if((e=o(e)).length<3)throw new Error("values must contain H, S and V values");const t=e[0],n=e[1],r=e[2];let s=0,a=0,i=0;const c=Math.floor(6*t),l=6*t-c,u=r*(1-n),p=r*(1-l*n),f=r*(1-(1-l)*n);switch(c%6){case 0:s=r,a=f,i=u;break;case 1:s=p,a=r,i=u;break;case 2:s=u,a=r,i=f;break;case 3:s=u,a=p,i=r;break;case 4:s=f,a=u,i=r;break;case 5:s=r,a=u,i=p}return e.length>3?[s,a,i,e[3]]:[s,a,i]}},{"../utils/flatten":408}],20:[function(e,t,n){t.exports=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e)},{}],21:[function(e,t,n){t.exports={colorize:e("./colorize"),colorNameToRgb:e("./colorNameToRgb"),cssColors:e("./cssColors"),hexToRgb:e("./hexToRgb"),hslToRgb:e("./hslToRgb"),hsvToRgb:e("./hsvToRgb"),hueToColorComponent:e("./hueToColorComponent"),rgbToHex:e("./rgbToHex"),rgbToHsl:e("./rgbToHsl"),rgbToHsv:e("./rgbToHsv")}},{"./colorNameToRgb":14,"./colorize":15,"./cssColors":16,"./hexToRgb":17,"./hslToRgb":18,"./hsvToRgb":19,"./hueToColorComponent":20,"./rgbToHex":22,"./rgbToHsl":23,"./rgbToHsv":24}],22:[function(e,t,n){const o=e("../utils/flatten");t.exports=(...e)=>{if((e=o(e)).length<3)throw new Error("values must contain R, G and B values");const t=255*e[0],n=255*e[1],r=255*e[2];let s=`#${Number(16777216+65536*t+256*n+r).toString(16).substring(1,7)}`;return e.length>3&&(s+=Number(255*e[3]).toString(16)),s}},{"../utils/flatten":408}],23:[function(e,t,n){const o=e("../utils/flatten");t.exports=(...e)=>{if((e=o(e)).length<3)throw new Error("values must contain R, G and B values");const t=e[0],n=e[1],r=e[2],s=Math.max(t,n,r),a=Math.min(t,n,r);let i,c;const l=(s+a)/2;if(s===a)i=c=0;else{const e=s-a;switch(c=l>.5?e/(2-s-a):e/(s+a),s){case t:i=(n-r)/e+(n<r?6:0);break;case n:i=(r-t)/e+2;break;case r:i=(t-n)/e+4}i/=6}return e.length>3?[i,c,l,e[3]]:[i,c,l]}},{"../utils/flatten":408}],24:[function(e,t,n){const o=e("../utils/flatten");t.exports=(...e)=>{if((e=o(e)).length<3)throw new Error("values must contain R, G and B values");const t=e[0],n=e[1],r=e[2],s=Math.max(t,n,r),a=Math.min(t,n,r);let i;const c=s,l=s-a,u=0===s?0:l/s;if(s===a)i=0;else{switch(s){case t:i=(n-r)/l+(n<r?6:0);break;case n:i=(r-t)/l+2;break;case r:i=(t-n)/l+4}i/=6}return e.length>3?[i,u,c,e[3]]:[i,u,c]}},{"../utils/flatten":408}],25:[function(e,t,n){const o=e("./lengths");t.exports=(e,t)=>{const{distance:n,segments:r}=Object.assign({},{distance:0,segments:100},e),s=o(r,t);let a=0,i=r;for(;a<=i;){const e=Math.floor(a+(i-a)/2),t=s[e]-n;if(t<0)a=e+1;else{if(!(t>0)){i=e;break}i=e-1}}const c=i;if(s[c]===n)return c/r;const l=s[c];return(c+(n-l)/(s[c+1]-l))/r}},{"./lengths":29}],26:[function(e,t,n){const o=function(e){const t=[];for(let n=0;n<=e;n++)t.push(r(e)/(r(n)*r(e-n)));return t},r=function(e){let t=1;for(let n=2;n<=e;n++)t*=n;return t};t.exports=e=>{if(!Array.isArray(e))throw new Error("Bezier points must be a valid array/");if(e.length<2)throw new Error("Bezier points must contain at least 2 values.");const t=function(e){let t=null;return e.forEach((e=>{let n="";if(Number.isFinite(e))n="float_single";else{if(!Array.isArray(e))throw new Error("Bezier points must all be numbers or arrays of number.");e.forEach((e=>{if(!Number.isFinite(e))throw new Error("Bezier point values must all be numbers.")})),n="float_"+e.length}if(null==t)t=n;else if(t!==n)throw new Error("Bezier points must be either all numbers or all arrays of numbers of the same size.")})),t}(e);return{points:e,pointType:t,dimensions:"float_single"===t?0:e[0].length,permutations:o(e.length-1),tangentPermutations:o(e.length-2)}}},{}],27:[function(e,t,n){t.exports={create:e("./create"),valueAt:e("./valueAt"),tangentAt:e("./tangentAt"),lengths:e("./lengths"),length:e("./length"),arcLengthToT:e("./arcLengthToT")}},{"./arcLengthToT":25,"./create":26,"./length":28,"./lengths":29,"./tangentAt":30,"./valueAt":31}],28:[function(e,t,n){const o=e("./lengths");t.exports=(e,t)=>o(e,t)[e]},{"./lengths":29}],29:[function(e,t,n){const o=e("./valueAt"),r=(e,t)=>{if(Number.isFinite(e)&&Number.isFinite(t))return Math.abs(e-t);if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)throw new Error("The operands must have the same number of dimensions.");let n=0;for(let o=0;o<e.length;o++)n+=(t[o]-e[o])*(t[o]-e[o]);return Math.sqrt(n)}throw new Error("The operands must be of the same type, either number or array.")};t.exports=(e,t)=>{let n=0;const s=[0];let a=o(0,t);for(let i=1;i<=e;i++){const c=o(i/e,t);n+=r(c,a),s.push(n),a=c}return s}},{"./valueAt":31}],30:[function(e,t,n){const o=function(e,t,n){const o=t.length-1;let r=0;for(let s=0;s<o;s++){const a=o*(t[s+1]-t[s]);r+=e.tangentPermutations[s]*Math.pow(1-n,o-1-s)*Math.pow(n,s)*a}return r};t.exports=(e,t)=>{if(e<0||e>1)throw new Error("Bezier tangentAt() input must be between 0 and 1");if("float_single"===t.pointType)return o(t,t.points,e);{const n=[];for(let r=0;r<t.dimensions;r++){const s=[];for(let e=0;e<t.points.length;e++)s.push(t.points[e][r]);n.push(o(t,s,e))}return n}}},{}],31:[function(e,t,n){const o=function(e,t,n){const o=t.length-1;let r=0;for(let s=0;s<=o;s++)r+=e.permutations[s]*Math.pow(1-n,o-s)*Math.pow(n,s)*t[s];return r};t.exports=(e,t)=>{if(e<0||e>1)throw new Error("Bezier valueAt() input must be between 0 and 1");if("float_single"===t.pointType)return o(t,t.points,e);{const n=[];for(let r=0;r<t.dimensions;r++){const s=[];for(let e=0;e<t.points.length;e++)s.push(t.points[e][r]);n.push(o(t,s,e))}return n}}},{}],32:[function(e,t,n){t.exports={bezier:e("./bezier")}},{"./bezier":27}],33:[function(e,t,n){const o=e("../../maths/mat4"),r=e("../../maths/vec2");t.exports=e=>(o.isIdentity(e.transforms)||(e.sides=e.sides.map((t=>[r.transform(r.create(),t[0],e.transforms),r.transform(r.create(),t[1],e.transforms)])),e.transforms=o.create()),e)},{"../../maths/mat4":155,"../../maths/vec2":202}],34:[function(e,t,n){t.exports=e=>Object.assign({},e)},{}],35:[function(e,t,n){const o=e("../../maths/mat4");t.exports=e=>(void 0===e&&(e=[]),{sides:e,transforms:o.create()})},{"../../maths/mat4":155}],36:[function(e,t,n){const o=e("../../maths/mat4"),r=e("../../maths/vec2"),s=e("./create");t.exports=e=>{if(0!==e[0])throw new Error("invalid compact binary data");const t=s();t.transforms=o.clone(e.slice(1,17));for(let n=21;n<e.length;n+=4){const o=r.fromValues(e[n+0],e[n+1]),s=r.fromValues(e[n+2],e[n+3]);t.sides.push([o,s])}return e[17]>=0&&(t.color=[e[17],e[18],e[19],e[20]]),t}},{"../../maths/mat4":155,"../../maths/vec2":202,"./create":35}],37:[function(e,t,n){const o=e("../../maths/vec2"),r=e("./create");t.exports=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");let t=e.length;if(t<3)throw new Error("the given points must define a closed geometry with three or more points");o.equals(e[0],e[t-1])&&--t;const n=[];let s=e[t-1];for(let r=0;r<t;r++){const t=e[r];n.push([o.clone(s),o.clone(t)]),s=t}return r(n)}},{"../../maths/vec2":202,"./create":35}],38:[function(e,t,n){t.exports={clone:e("./clone"),create:e("./create"),fromPoints:e("./fromPoints"),fromCompactBinary:e("./fromCompactBinary"),isA:e("./isA"),reverse:e("./reverse"),toOutlines:e("./toOutlines"),toPoints:e("./toPoints"),toSides:e("./toSides"),toString:e("./toString"),toCompactBinary:e("./toCompactBinary"),transform:e("./transform"),validate:e("./validate")}},{"./clone":34,"./create":35,"./fromCompactBinary":36,"./fromPoints":37,"./isA":39,"./reverse":40,"./toCompactBinary":41,"./toOutlines":42,"./toPoints":43,"./toSides":44,"./toString":45,"./transform":46,"./validate":47}],39:[function(e,t,n){t.exports=e=>!!(e&&"object"==typeof e&&"sides"in e&&"transforms"in e&&Array.isArray(e.sides)&&"length"in e.transforms)},{}],40:[function(e,t,n){const o=e("./create"),r=e("./toSides");t.exports=e=>{const t=r(e).map((e=>[e[1],e[0]]));return t.reverse(),o(t)}},{"./create":35,"./toSides":44}],41:[function(e,t,n){t.exports=e=>{const t=e.sides,n=e.transforms;let o=[-1,-1,-1,-1];e.color&&(o=e.color);const r=new Float32Array(21+4*t.length);r[0]=0,r[1]=n[0],r[2]=n[1],r[3]=n[2],r[4]=n[3],r[5]=n[4],r[6]=n[5],r[7]=n[6],r[8]=n[7],r[9]=n[8],r[10]=n[9],r[11]=n[10],r[12]=n[11],r[13]=n[12],r[14]=n[13],r[15]=n[14],r[16]=n[15],r[17]=o[0],r[18]=o[1],r[19]=o[2],r[20]=o[3];for(let e=0;e<t.length;e++){const n=4*e+21,o=t[e][0],s=t[e][1];r[n+0]=o[0],r[n+1]=o[1],r[n+2]=s[0],r[n+3]=s[1]}return r}},{}],42:[function(e,t,n){const o=e("../../maths/vec2"),r=e("./toSides"),s=(e,t)=>{if(1===t.length)return t.pop();const n=o.create(),r=o.angleDegrees(o.subtract(n,e[1],e[0]));let s,a;t.forEach(((e,t)=>{let i=o.angleDegrees(o.subtract(n,e[1],e[0]))-r;i<-180&&(i+=360),i>=180&&(i-=360),(void 0===a||i>s)&&(a=t,s=i)}));const i=t[a];return t.splice(a,1),i};t.exports=e=>{const t=(e=>{const t=new Map;return(e=>{const t=new Map,n=e=>{const n=e.toString();return t.has(n)?t.get(n):(t.set(n,e),e)};return e.map((e=>e.map(n)))})(e).forEach((e=>{t.has(e[0])?t.get(e[0]).push(e):t.set(e[0],[e])})),t})(r(e)),n=[];for(;;){let e;for(const[n,o]of t){if(e=o.shift(),e)break;t.delete(n)}if(void 0===e)break;const o=[],r=e[0];for(;;){o.push(e[0]);const n=e[1];if(n===r)break;const a=t.get(n);if(!a)throw new Error(`geometry is not closed at vertex ${n}`);const i=s(e,a);0===a.length&&t.delete(n),e=i}o.length>0&&o.push(o.shift()),n.push(o)}return t.clear(),n}},{"../../maths/vec2":202,"./toSides":44}],43:[function(e,t,n){const o=e("./toSides");t.exports=e=>{const t=o(e).map((e=>e[0]));return t.length>0&&t.push(t.shift()),t}},{"./toSides":44}],44:[function(e,t,n){const o=e("./applyTransforms");t.exports=e=>o(e).sides},{"./applyTransforms":33}],45:[function(e,t,n){const o=e("../../maths/vec2"),r=e("./toSides");t.exports=e=>{const t=r(e);let n="geom2 ("+t.length+" sides):\n[\n";return t.forEach((e=>{n+="  ["+o.toString(e[0])+", "+o.toString(e[1])+"]\n"})),n+="]\n",n}},{"../../maths/vec2":202,"./toSides":44}],46:[function(e,t,n){const o=e("../../maths/mat4");t.exports=(e,t)=>{const n=o.multiply(o.create(),e,t.transforms);return Object.assign({},t,{transforms:n})}},{"../../maths/mat4":155}],47:[function(e,t,n){const o=e("../../maths/vec2"),r=e("./isA"),s=e("./toOutlines");t.exports=e=>{if(!r(e))throw new Error("invalid geom2 structure");if(s(e),e.sides.forEach((e=>{if(o.equals(e[0],e[1]))throw new Error(`geom2 self-edge ${e[0]}`)})),!e.transforms.every(Number.isFinite))throw new Error(`geom2 invalid transforms ${e.transforms}`)}},{"../../maths/vec2":202,"./isA":39,"./toOutlines":42}],48:[function(e,t,n){const o=e("../../maths/mat4"),r=e("../poly3");t.exports=e=>(o.isIdentity(e.transforms)||(e.polygons=e.polygons.map((t=>r.transform(e.transforms,t))),e.transforms=o.create()),e)},{"../../maths/mat4":155,"../poly3":91}],49:[function(e,t,n){t.exports=e=>Object.assign({},e)},{}],50:[function(e,t,n){const o=e("../../maths/mat4");t.exports=e=>(void 0===e&&(e=[]),{polygons:e,transforms:o.create()})},{"../../maths/mat4":155}],51:[function(e,t,n){const o=e("../../maths/vec3"),r=e("../../maths/mat4"),s=e("../poly3"),a=e("./create");t.exports=e=>{if(1!==e[0])throw new Error("invalid compact binary data");const t=a();t.transforms=r.clone(e.slice(1,17));const n=e[21];let i=22,c=e.length-3*n;for(;c<e.length;){const n=e[i];i++;const r=[];for(let t=0;t<n;t++)r.push(o.fromValues(e[c],e[c+1],e[c+2])),c+=3;t.polygons.push(s.create(r))}return e[17]>=0&&(t.color=[e[17],e[18],e[19],e[20]]),t}},{"../../maths/mat4":155,"../../maths/vec3":233,"../poly3":91,"./create":50}],52:[function(e,t,n){const o=e("../poly3"),r=e("./create");t.exports=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");const t=e.map(((e,t)=>o.create(e)));return r(t)}},{"../poly3":91,"./create":50}],53:[function(e,t,n){t.exports={clone:e("./clone"),create:e("./create"),fromPoints:e("./fromPoints"),fromCompactBinary:e("./fromCompactBinary"),invert:e("./invert"),isA:e("./isA"),toPoints:e("./toPoints"),toPolygons:e("./toPolygons"),toString:e("./toString"),toCompactBinary:e("./toCompactBinary"),transform:e("./transform"),validate:e("./validate")}},{"./clone":49,"./create":50,"./fromCompactBinary":51,"./fromPoints":52,"./invert":54,"./isA":55,"./toCompactBinary":56,"./toPoints":57,"./toPolygons":58,"./toString":59,"./transform":60,"./validate":61}],54:[function(e,t,n){const o=e("../poly3"),r=e("./create"),s=e("./toPolygons");t.exports=e=>{const t=s(e).map((e=>o.invert(e)));return r(t)}},{"../poly3":91,"./create":50,"./toPolygons":58}],55:[function(e,t,n){t.exports=e=>!!(e&&"object"==typeof e&&"polygons"in e&&"transforms"in e&&Array.isArray(e.polygons)&&"length"in e.transforms)},{}],56:[function(e,t,n){const o=e("../poly3");t.exports=e=>{const t=e.polygons,n=e.transforms,r=t.length,s=t.reduce(((e,t)=>e+t.vertices.length),0);let a=[-1,-1,-1,-1];e.color&&(a=e.color);const i=new Float32Array(22+r+3*s);i[0]=1,i[1]=n[0],i[2]=n[1],i[3]=n[2],i[4]=n[3],i[5]=n[4],i[6]=n[5],i[7]=n[6],i[8]=n[7],i[9]=n[8],i[10]=n[9],i[11]=n[10],i[12]=n[11],i[13]=n[12],i[14]=n[13],i[15]=n[14],i[16]=n[15],i[17]=a[0],i[18]=a[1],i[19]=a[2],i[20]=a[3],i[21]=s;let c=22,l=c+r;return t.forEach((e=>{const t=o.toPoints(e);i[c]=t.length,c++;for(let e=0;e<t.length;e++){const n=t[e];i[l+0]=n[0],i[l+1]=n[1],i[l+2]=n[2],l+=3}})),i}},{"../poly3":91}],57:[function(e,t,n){const o=e("../poly3"),r=e("./toPolygons");t.exports=e=>r(e).map((e=>o.toPoints(e)))},{"../poly3":91,"./toPolygons":58}],58:[function(e,t,n){const o=e("./applyTransforms");t.exports=e=>o(e).polygons},{"./applyTransforms":48}],59:[function(e,t,n){const o=e("../poly3"),r=e("./toPolygons");t.exports=e=>{const t=r(e);let n="geom3 ("+t.length+" polygons):\n";return t.forEach((e=>{n+="  "+o.toString(e)+"\n"})),n}},{"../poly3":91,"./toPolygons":58}],60:[function(e,t,n){const o=e("../../maths/mat4");t.exports=(e,t)=>{const n=o.multiply(o.create(),e,t.transforms);return Object.assign({},t,{transforms:n})}},{"../../maths/mat4":155}],61:[function(e,t,n){const o=e("../poly3"),r=e("./isA");t.exports=e=>{if(!r(e))throw new Error("invalid geom3 structure");if(e.polygons.forEach(o.validate),(e=>{const t=new Map;e.polygons.forEach((({vertices:e})=>{e.forEach(((n,o)=>{const r=`${n}/${e[(o+1)%e.length]}`,s=t.has(r)?t.get(r):0;t.set(r,s+1)}))}));const n=[];if(t.forEach(((e,o)=>{const r=o.split("/").reverse().join("/");e!==t.get(r)&&n.push(o.replace("/"," -> "))})),n.length>0)throw new Error(`non-manifold edges ${n.length}\n${n.join("\n")}`)})(e),!e.transforms.every(Number.isFinite))throw new Error(`geom3 invalid transforms ${e.transforms}`)}},{"../poly3":91,"./isA":55}],62:[function(e,t,n){t.exports={geom2:e("./geom2"),geom3:e("./geom3"),path2:e("./path2"),poly2:e("./poly2"),poly3:e("./poly3")}},{"./geom2":38,"./geom3":53,"./path2":74,"./poly2":85,"./poly3":91}],63:[function(e,t,n){const{TAU:o}=e("../../maths/constants"),r=e("../../maths/vec2"),s=e("./fromPoints"),a=e("./toPoints");t.exports=(e,t)=>{let{endpoint:n,radius:i,xaxisrotation:c,clockwise:l,large:u,segments:p}=Object.assign({},{radius:[0,0],xaxisrotation:0,clockwise:!1,large:!1,segments:16},e);if(!Array.isArray(n))throw new Error("endpoint must be an array of X and Y values");if(n.length<2)throw new Error("endpoint must contain X and Y values");if(n=r.clone(n),!Array.isArray(i))throw new Error("radius must be an array of X and Y values");if(i.length<2)throw new Error("radius must contain X and Y values");if(p<4)throw new Error("segments must be four or more");const f=1e5;if(t.isClosed)throw new Error("the given path cannot be closed");const h=a(t);if(h.length<1)throw new Error("the given path must contain one or more points (as the starting point for the arc)");let m=i[0],g=i[1];const d=h[h.length-1];m=Math.round(m*f)/f,g=Math.round(g*f)/f,n=r.fromValues(Math.round(n[0]*f)/f,Math.round(n[1]*f)/f);const y=!l;let v=[];if(0===m||0===g)v.push(n);else{m=Math.abs(m),g=Math.abs(g);const t=c,s=Math.cos(t),a=Math.sin(t),i=r.subtract(r.create(),d,n);r.scale(i,i,.5);const l=Math.round((s*i[0]+a*i[1])*f)/f,h=Math.round((-a*i[0]+s*i[1])*f)/f,b=r.fromValues(l,h),x=b[0]*b[0]/(m*m)+b[1]*b[1]/(g*g);if(x>1){const e=Math.sqrt(x);m*=e,g*=e,m=Math.round(m*f)/f,g=Math.round(g*f)/f}let A=Math.sqrt((m*m*g*g-m*m*b[1]*b[1]-g*g*b[0]*b[0])/(m*m*b[1]*b[1]+g*g*b[0]*b[0]));y===u&&(A=-A);const E=r.fromValues(m*b[1]/g,-g*b[0]/m);r.scale(E,E,A);let w=r.fromValues(s*E[0]-a*E[1],a*E[0]+s*E[1]);w=r.add(w,w,r.scale(r.create(),r.add(r.create(),d,n),.5));const S=r.fromValues((b[0]-E[0])/m,(b[1]-E[1])/g),T=r.fromValues((-b[0]-E[0])/m,(-b[1]-E[1])/g),P=r.angleRadians(S);let D=r.angleRadians(T)-P;D%=o,!y&&D>0?D-=o:y&&D<0&&(D+=o);let C=Math.ceil(Math.abs(D)/o*p)+1;C<1&&(C=1);for(let e=1;e<C;e++){const t=P+e/C*D,n=Math.cos(t),o=Math.sin(t),i=r.fromValues(s*m*n-a*g*o,a*m*n+s*g*o);r.add(i,i,w),v.push(i)}C&&v.push(e.endpoint)}return v=h.concat(v),s({},v)}},{"../../maths/constants":106,"../../maths/vec2":202,"./fromPoints":73,"./toPoints":78}],64:[function(e,t,n){const{TAU:o}=e("../../maths/constants"),r=e("../../maths/vec2"),s=e("../../maths/vec2"),a=e("./appendPoints"),i=e("./toPoints");t.exports=(e,t)=>{let{controlPoints:n,segments:c}=Object.assign({},{segments:16},e);if(!Array.isArray(n))throw new Error("controlPoints must be an array of one or more points");if(n.length<1)throw new Error("controlPoints must be an array of one or more points");if(c<4)throw new Error("segments must be four or more");if(t.isClosed)throw new Error("the given geometry cannot be closed");const l=i(t);if(l.length<1)throw new Error("the given path must contain one or more points (as the starting point for the bezier curve)");if(n=n.slice(),null===n[0]){if(n.length<2)throw new Error("a null control point must be passed with one more control points");let e=l[l.length-2];if("lastBezierControlPoint"in t&&(e=t.lastBezierControlPoint),!Array.isArray(e))throw new Error("the given path must contain TWO or more points if given a null control point");const o=r.scale(r.create(),l[l.length-1],2);r.subtract(o,o,e),n[0]=o}n.unshift(l[l.length-1]);const u=n.length-1,p=[];let f=1;for(let e=0;e<=u;++e)e>0&&(f*=e),p.push(f);const h=[];for(let e=0;e<=u;++e){const t=p[u]/(p[e]*p[u-e]);h.push(t)}const m=r.create(),g=r.create(),d=s.create(),y=e=>{let t=1,o=Math.pow(1-e,u);const s=1!==e?1/(1-e):1,a=r.create();for(let i=0;i<=u;++i){i===u&&(o=1);const c=h[i]*t*o,l=r.scale(m,n[i],c);r.add(a,a,l),t*=e,o*=s}return a},v=[],b=[],x=u+1;for(let e=0;e<x;++e){const t=e/(x-1),n=y(t);v.push(n),b.push(t)}let A=1;const E=o/c,w=Math.sin(E);for(;A<v.length-1;){const e=r.subtract(m,v[A],v[A-1]);r.normalize(e,e);const t=r.subtract(g,v[A+1],v[A]);r.normalize(t,t);const n=r.cross(d,e,t);if(Math.abs(n[2])>w){const e=b[A-1],t=b[A+1],n=e+1*(t-e)/3,o=e+2*(t-e)/3,r=y(n),s=y(o);v.splice(A,1,r,s),b.splice(A,1,n,o),A--,A<1&&(A=1)}else++A}v.shift();const S=a(v,t);return S.lastBezierControlPoint=n[n.length-2],S}},{"../../maths/constants":106,"../../maths/vec2":202,"./appendPoints":65,"./toPoints":78}],65:[function(e,t,n){const o=e("./concat"),r=e("./create");t.exports=(e,t)=>o(t,r(e))},{"./concat":69,"./create":70}],66:[function(e,t,n){const o=e("../../maths/mat4"),r=e("../../maths/vec2");t.exports=e=>(o.isIdentity(e.transforms)||(e.points=e.points.map((t=>r.transform(r.create(),t,e.transforms))),e.transforms=o.create()),e)},{"../../maths/mat4":155,"../../maths/vec2":202}],67:[function(e,t,n){t.exports=e=>Object.assign({},e)},{}],68:[function(e,t,n){const{EPS:o}=e("../../maths/constants"),r=e("../../maths/vec2"),s=e("./clone");t.exports=e=>{if(e.isClosed)return e;const t=s(e);if(t.isClosed=!0,t.points.length>1){const e=t.points,n=e[0];let s=e[e.length-1];for(;r.distance(n,s)<o*o&&(e.pop(),1!==e.length);)s=e[e.length-1]}return t}},{"../../maths/constants":106,"../../maths/vec2":202,"./clone":67}],69:[function(e,t,n){const o=e("./fromPoints"),r=e("./toPoints"),{equals:s}=e("../../maths/vec2");t.exports=(...e)=>{let t=!1,n=[];return e.forEach(((e,o)=>{const a=r(e).slice();if(n.length>0&&a.length>0&&s(a[0],n[n.length-1])&&a.shift(),a.length>0&&t)throw new Error(`Cannot concatenate to a closed path; check the ${o}th path`);t=e.isClosed,n=n.concat(a)})),o({closed:t},n)}},{"../../maths/vec2":202,"./fromPoints":73,"./toPoints":78}],70:[function(e,t,n){const o=e("../../maths/mat4");t.exports=e=>(void 0===e&&(e=[]),{points:e,isClosed:!1,transforms:o.create()})},{"../../maths/mat4":155}],71:[function(e,t,n){const o=e("../../maths/vec2"),r=e("./toPoints");t.exports=(e,t)=>{if(e.isClosed!==t.isClosed)return!1;if(e.points.length!==t.points.length)return!1;const n=r(e),s=r(t),a=n.length;let i=0;do{let t=!1;for(let e=0;e<a;e++)if(!o.equals(n[e],s[(e+i)%a])){t=!0;break}if(!1===t)return!0;if(!e.isClosed)return!1}while(++i<a);return!1}},{"../../maths/vec2":202,"./toPoints":78}],72:[function(e,t,n){const o=e("../../maths/mat4"),r=e("../../maths/vec2"),s=e("./create");t.exports=e=>{if(2!==e[0])throw new Error("invalid compact binary data");const t=s();t.transforms=o.clone(e.slice(1,17)),t.isClosed=!!e[17];for(let n=22;n<e.length;n+=2){const o=r.fromValues(e[n],e[n+1]);t.points.push(o)}return e[18]>=0&&(t.color=[e[18],e[19],e[20],e[21]]),t}},{"../../maths/mat4":155,"../../maths/vec2":202,"./create":70}],73:[function(e,t,n){const{EPS:o}=e("../../maths/constants"),r=e("../../maths/vec2"),s=e("./close"),a=e("./create");t.exports=(e,t)=>{let{closed:n}=Object.assign({},{closed:!1},e),i=a();if(i.points=t.map((e=>r.clone(e))),i.points.length>1){const e=i.points[0],t=i.points[i.points.length-1];r.distance(e,t)<o*o&&(n=!0)}return!0===n&&(i=s(i)),i}},{"../../maths/constants":106,"../../maths/vec2":202,"./close":68,"./create":70}],74:[function(e,t,n){t.exports={appendArc:e("./appendArc"),appendBezier:e("./appendBezier"),appendPoints:e("./appendPoints"),clone:e("./clone"),close:e("./close"),concat:e("./concat"),create:e("./create"),equals:e("./equals"),fromPoints:e("./fromPoints"),fromCompactBinary:e("./fromCompactBinary"),isA:e("./isA"),reverse:e("./reverse"),toPoints:e("./toPoints"),toString:e("./toString"),toCompactBinary:e("./toCompactBinary"),transform:e("./transform"),validate:e("./validate")}},{"./appendArc":63,"./appendBezier":64,"./appendPoints":65,"./clone":67,"./close":68,"./concat":69,"./create":70,"./equals":71,"./fromCompactBinary":72,"./fromPoints":73,"./isA":75,"./reverse":76,"./toCompactBinary":77,"./toPoints":78,"./toString":79,"./transform":80,"./validate":81}],75:[function(e,t,n){t.exports=e=>!!(e&&"object"==typeof e&&"points"in e&&"transforms"in e&&"isClosed"in e&&Array.isArray(e.points)&&"length"in e.transforms)},{}],76:[function(e,t,n){const o=e("./clone");t.exports=e=>{const t=o(e);return t.points=e.points.slice().reverse(),t}},{"./clone":67}],77:[function(e,t,n){t.exports=e=>{const t=e.points,n=e.transforms;let o=[-1,-1,-1,-1];e.color&&(o=e.color);const r=new Float32Array(22+2*t.length);r[0]=2,r[1]=n[0],r[2]=n[1],r[3]=n[2],r[4]=n[3],r[5]=n[4],r[6]=n[5],r[7]=n[6],r[8]=n[7],r[9]=n[8],r[10]=n[9],r[11]=n[10],r[12]=n[11],r[13]=n[12],r[14]=n[13],r[15]=n[14],r[16]=n[15],r[17]=e.isClosed?1:0,r[18]=o[0],r[19]=o[1],r[20]=o[2],r[21]=o[3];for(let e=0;e<t.length;e++){const n=2*e+22,o=t[e];r[n]=o[0],r[n+1]=o[1]}return r}},{}],78:[function(e,t,n){const o=e("./applyTransforms");t.exports=e=>o(e).points},{"./applyTransforms":66}],79:[function(e,t,n){const o=e("../../maths/vec2"),r=e("./toPoints");t.exports=e=>{const t=r(e);let n="path ("+t.length+" points, "+e.isClosed+"):\n[\n";return t.forEach((e=>{n+="  "+o.toString(e)+",\n"})),n+="]\n",n}},{"../../maths/vec2":202,"./toPoints":78}],80:[function(e,t,n){const o=e("../../maths/mat4");t.exports=(e,t)=>{const n=o.multiply(o.create(),e,t.transforms);return Object.assign({},t,{transforms:n})}},{"../../maths/mat4":155}],81:[function(e,t,n){const o=e("../../maths/vec2"),r=e("./isA");t.exports=e=>{if(!r(e))throw new Error("invalid path2 structure");if(e.points.length>1)for(let t=0;t<e.points.length;t++)if(o.equals(e.points[t],e.points[(t+1)%e.points.length]))throw new Error(`path2 duplicate points ${e.points[t]}`);if(e.points.forEach((e=>{if(!e.every(Number.isFinite))throw new Error(`path2 invalid point ${e}`)})),!e.transforms.every(Number.isFinite))throw new Error(`path2 invalid transforms ${e.transforms}`)}},{"../../maths/vec2":202,"./isA":75}],82:[function(e,t,n){const o=e("./measureArea"),r=e("./flip");t.exports=(e,t)=>{if(0===e.length)return 0;const n=t.vertices;return n.length<3?0:(o(t)<0&&(t=r(t)),e.reduce(((e,t)=>e+((e,t)=>{const n=t.length,o=e[0],r=e[1];let s=t[n-1],a=t[0],i=s[1]>r,c=0,l=0;for(let e=n+1;--e;){const e=a[1]>r;if(i!==e){const e=s[0]>o,t=a[0]>o;(e&&t||a[0]-(a[1]-r)*(s[0]-a[0])/(s[1]-a[1])>=o)&&(c=!c)}i=e,s=a,a=t[++l]}return c})(t,n)),0)===e.length?1:0)}},{"./flip":84,"./measureArea":86}],83:[function(e,t,n){t.exports=e=>((void 0===e||e.length<3)&&(e=[]),{vertices:e})},{}],84:[function(e,t,n){const o=e("./create");t.exports=e=>{const t=e.vertices.slice().reverse();return o(t)}},{"./create":83}],85:[function(e,t,n){t.exports={arePointsInside:e("./arePointsInside"),create:e("./create"),flip:e("./flip"),measureArea:e("./measureArea")}},{"./arePointsInside":82,"./create":83,"./flip":84,"./measureArea":86}],86:[function(e,t,n){const o=e("../../maths/utils/area");t.exports=e=>o(e.vertices)},{"../../maths/utils/area":179}],87:[function(e,t,n){const o=e("./create"),r=e("../../maths/vec3");t.exports=(...e)=>{let t,n;return 1===e.length?(t=o(),n=e[0]):(t=e[0],n=e[1]),t.vertices=n.vertices.map((e=>r.clone(e))),t}},{"../../maths/vec3":233,"./create":88}],88:[function(e,t,n){t.exports=e=>((void 0===e||e.length<3)&&(e=[]),{vertices:e})},{}],89:[function(e,t,n){const o=e("../../maths/vec3"),r=e("./create");t.exports=e=>{const t=e.map((e=>o.clone(e)));return r(t)}},{"../../maths/vec3":233,"./create":88}],90:[function(e,t,n){const o=e("./create");t.exports=(e,t)=>{const n=o(e);return n.plane=t,n}},{"./create":88}],91:[function(e,t,n){t.exports={clone:e("./clone"),create:e("./create"),fromPoints:e("./fromPoints"),fromPointsAndPlane:e("./fromPointsAndPlane"),invert:e("./invert"),isA:e("./isA"),isConvex:e("./isConvex"),measureArea:e("./measureArea"),measureBoundingBox:e("./measureBoundingBox"),measureBoundingSphere:e("./measureBoundingSphere"),measureSignedVolume:e("./measureSignedVolume"),plane:e("./plane"),toPoints:e("./toPoints"),toString:e("./toString"),transform:e("./transform"),validate:e("./validate")}},{"./clone":87,"./create":88,"./fromPoints":89,"./fromPointsAndPlane":90,"./invert":92,"./isA":93,"./isConvex":94,"./measureArea":95,"./measureBoundingBox":96,"./measureBoundingSphere":97,"./measureSignedVolume":98,"./plane":99,"./toPoints":100,"./toString":101,"./transform":102,"./validate":103}],92:[function(e,t,n){const o=e("../../maths/plane"),r=e("./create");t.exports=e=>{const t=e.vertices.slice().reverse(),n=r(t);return e.plane&&(n.plane=o.flip(o.create(),e.plane)),n}},{"../../maths/plane":174,"./create":88}],93:[function(e,t,n){t.exports=e=>!!(e&&"object"==typeof e&&"vertices"in e&&Array.isArray(e.vertices))},{}],94:[function(e,t,n){const o=e("../../maths/plane"),r=e("../../maths/vec3"),s=(e,t,n,o)=>{const s=r.cross(r.create(),r.subtract(r.create(),t,e),r.subtract(r.create(),n,t));return r.dot(s,o)>=0};t.exports=e=>(e=>{const t=e.length;if(t>2){const n=o.fromPoints(o.create(),...e);let r=e[t-2],a=e[t-1];for(let o=0;o<t;o++){const t=e[o];if(!s(r,a,t,n))return!1;r=a,a=t}}return!0})(e.vertices)},{"../../maths/plane":174,"../../maths/vec3":233}],95:[function(e,t,n){const o=e("./plane");t.exports=e=>{const t=e.vertices.length;if(t<3)return 0;const n=e.vertices,r=o(e),s=Math.abs(r[0]),a=Math.abs(r[1]),i=Math.abs(r[2]);if(s+a+i===0)return 0;let c=3;s>a&&s>i?c=1:a>i&&(c=2);let l=0,u=0,p=1,f=2;switch(c){case 1:for(p=1;p<t;p++)u=p-1,f=(p+1)%t,l+=n[p][1]*(n[f][2]-n[u][2]);l+=n[0][1]*(n[1][2]-n[t-1][2]),l/=2*r[0];break;case 2:for(p=1;p<t;p++)u=p-1,f=(p+1)%t,l+=n[p][2]*(n[f][0]-n[u][0]);l+=n[0][2]*(n[1][0]-n[t-1][0]),l/=2*r[1];break;default:for(p=1;p<t;p++)u=p-1,f=(p+1)%t,l+=n[p][0]*(n[f][1]-n[u][1]);l+=n[0][0]*(n[1][1]-n[t-1][1]),l/=2*r[2]}return l}},{"./plane":99}],96:[function(e,t,n){const o=e("../../maths/vec3");t.exports=e=>{const t=e.vertices,n=t.length,r=0===n?o.create():o.clone(t[0]),s=o.clone(r);for(let e=1;e<n;e++)o.min(r,r,t[e]),o.max(s,s,t[e]);return[r,s]}},{"../../maths/vec3":233}],97:[function(e,t,n){const o=e("../../maths/vec4"),r=new WeakMap;t.exports=e=>{const t=r.get(e);if(t)return t;const n=e.vertices,s=o.create();if(0===n.length)return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s;let a=n[0],i=a,c=a,l=a,u=a,p=a;n.forEach((e=>{a[0]>e[0]&&(a=e),i[1]>e[1]&&(i=e),c[2]>e[2]&&(c=e),l[0]<e[0]&&(l=e),u[1]<e[1]&&(u=e),p[2]<e[2]&&(p=e)})),s[0]=.5*(a[0]+l[0]),s[1]=.5*(i[1]+u[1]),s[2]=.5*(c[2]+p[2]);const f=s[0]-l[0],h=s[1]-u[1],m=s[2]-p[2];return s[3]=Math.sqrt(f*f+h*h+m*m),r.set(e,s),s}},{"../../maths/vec4":259}],98:[function(e,t,n){const o=e("../../maths/vec3");t.exports=e=>{let t=0;const n=e.vertices,r=o.create();for(let e=0;e<n.length-2;e++)o.cross(r,n[e+1],n[e+2]),t+=o.dot(n[0],r);return t/=6,t}},{"../../maths/vec3":233}],99:[function(e,t,n){const o=e("../../maths/plane/");t.exports=e=>(e.plane||(e.plane=o.fromPoints(o.create(),...e.vertices)),e.plane)},{"../../maths/plane/":174}],100:[function(e,t,n){t.exports=e=>e.vertices},{}],101:[function(e,t,n){const o=e("../../maths/vec3/");t.exports=e=>{let t="poly3: vertices: [";return e.vertices.forEach((e=>{t+=`${o.toString(e)}, `})),t+="]",t}},{"../../maths/vec3/":233}],102:[function(e,t,n){const o=e("../../maths/mat4"),r=e("../../maths/vec3"),s=e("./create");t.exports=(e,t)=>{const n=t.vertices.map((t=>r.transform(r.create(),t,e)));return o.isMirroring(e)&&n.reverse(),s(n)}},{"../../maths/mat4":155,"../../maths/vec3":233,"./create":88}],103:[function(e,t,n){const o=e("../../maths/plane/signedDistanceToPoint"),{NEPS:r}=e("../../maths/constants"),s=e("../../maths/vec3"),a=e("./isA"),i=e("./isConvex"),c=e("./measureArea"),l=e("./plane");t.exports=e=>{if(!a(e))throw new Error("invalid poly3 structure");if(e.vertices.length<3)throw new Error(`poly3 not enough vertices ${e.vertices.length}`);if(c(e)<=0)throw new Error("poly3 area must be greater than zero");for(let t=0;t<e.vertices.length;t++)if(s.equals(e.vertices[t],e.vertices[(t+1)%e.vertices.length]))throw new Error(`poly3 duplicate vertex ${e.vertices[t]}`);if(!i(e))throw new Error("poly3 must be convex");if(e.vertices.forEach((e=>{if(!e.every(Number.isFinite))throw new Error(`poly3 invalid vertex ${e}`)})),e.vertices.length>3){const t=l(e);e.vertices.forEach((e=>{const n=Math.abs(o(t,e));if(n>r)throw new Error(`poly3 must be coplanar: vertex ${e} distance ${n}`)}))}}},{"../../maths/constants":106,"../../maths/plane/signedDistanceToPoint":176,"../../maths/vec3":233,"./isA":93,"./isConvex":94,"./measureArea":95,"./plane":99}],104:[function(e,t,n){t.exports={colors:e("./colors"),curves:e("./curves"),geometries:e("./geometries"),maths:e("./maths"),measurements:e("./measurements"),primitives:e("./primitives"),text:e("./text"),utils:e("./utils"),booleans:e("./operations/booleans"),expansions:e("./operations/expansions"),extrusions:e("./operations/extrusions"),hulls:e("./operations/hulls"),modifiers:e("./operations/modifiers"),transforms:e("./operations/transforms")}},{"./colors":21,"./curves":32,"./geometries":62,"./maths":107,"./measurements":263,"./operations/booleans":277,"./operations/expansions":306,"./operations/extrusions":329,"./operations/hulls":351,"./operations/modifiers":362,"./operations/transforms":372,"./primitives":388,"./text":402,"./utils":410}],105:[function(e,t,n){const o=e("./mat4"),r=e("./vec2"),s=e("./vec3"),a=function(e,t){arguments.length<2&&(t=s.orthogonal(s.create(),e)),this.v=s.normalize(s.create(),s.cross(s.create(),e,t)),this.u=s.cross(s.create(),this.v,e),this.plane=e,this.planeorigin=s.scale(s.create(),e,e[3])};a.GetCartesian=function(e,t){const n=e+"/"+t;let o,r;if("X/Y"===n)o=[0,0,1],r=[1,0,0];else if("Y/-X"===n)o=[0,0,1],r=[0,1,0];else if("-X/-Y"===n)o=[0,0,1],r=[-1,0,0];else if("-Y/X"===n)o=[0,0,1],r=[0,-1,0];else if("-X/Y"===n)o=[0,0,-1],r=[-1,0,0];else if("-Y/-X"===n)o=[0,0,-1],r=[0,-1,0];else if("X/-Y"===n)o=[0,0,-1],r=[1,0,0];else if("Y/X"===n)o=[0,0,-1],r=[0,1,0];else if("X/Z"===n)o=[0,-1,0],r=[1,0,0];else if("Z/-X"===n)o=[0,-1,0],r=[0,0,1];else if("-X/-Z"===n)o=[0,-1,0],r=[-1,0,0];else if("-Z/X"===n)o=[0,-1,0],r=[0,0,-1];else if("-X/Z"===n)o=[0,1,0],r=[-1,0,0];else if("-Z/-X"===n)o=[0,1,0],r=[0,0,-1];else if("X/-Z"===n)o=[0,1,0],r=[1,0,0];else if("Z/X"===n)o=[0,1,0],r=[0,0,1];else if("Y/Z"===n)o=[1,0,0],r=[0,1,0];else if("Z/-Y"===n)o=[1,0,0],r=[0,0,1];else if("-Y/-Z"===n)o=[1,0,0],r=[0,-1,0];else if("-Z/Y"===n)o=[1,0,0],r=[0,0,-1];else if("-Y/Z"===n)o=[-1,0,0],r=[0,-1,0];else if("-Z/-Y"===n)o=[-1,0,0],r=[0,0,-1];else if("Y/-Z"===n)o=[-1,0,0],r=[0,1,0];else{if("Z/Y"!==n)throw new Error("OrthoNormalBasis.GetCartesian: invalid combination of axis identifiers. Should pass two string arguments from [X,Y,Z,-X,-Y,-Z], being two different axes.");o=[-1,0,0],r=[0,0,1]}return new a(new Plane(new Vector3D(o),0),new Vector3D(r))},a.Z0Plane=function(){const e=new Plane(new Vector3D([0,0,1]),0);return new a(e,new Vector3D([1,0,0]))},a.prototype={getProjectionMatrix:function(){return o.fromValues(this.u[0],this.v[0],this.plane[0],0,this.u[1],this.v[1],this.plane[1],0,this.u[2],this.v[2],this.plane[2],0,0,0,-this.plane[3],1)},getInverseProjectionMatrix:function(){const e=s.scale(s.create(),this.plane,this.plane[3]);return o.fromValues(this.u[0],this.u[1],this.u[2],0,this.v[0],this.v[1],this.v[2],0,this.plane[0],this.plane[1],this.plane[2],0,e[0],e[1],e[2],1)},to2D:function(e){return r.fromValues(s.dot(e,this.u),s.dot(e,this.v))},to3D:function(e){const t=s.scale(s.create(),this.u,e[0]),n=s.scale(s.create(),this.v,e[1]),o=s.add(t,t,this.planeorigin);return s.add(n,n,o)},line3Dto2D:function(e){const t=e.point,n=e.direction.plus(t),o=this.to2D(t),r=this.to2D(n);return Line2D.fromPoints(o,r)},line2Dto3D:function(e){const t=e.origin(),n=e.direction().plus(t),o=this.to3D(t),r=this.to3D(n);return Line3D.fromPoints(o,r)},transform:function(e){const t=this.plane.transform(e),n=this.u.transform(e),o=new Vector3D(0,0,0).transform(e),r=n.minus(o);return new a(t,r)}},t.exports=a},{"./mat4":155,"./vec2":202,"./vec3":233}],106:[function(e,t,n){const o=2*Math.PI;t.exports={EPS:1e-5,NEPS:1e-13,TAU:o,spatialResolution:1e5}},{}],107:[function(e,t,n){t.exports={constants:e("./constants"),line2:e("./line2"),line3:e("./line3"),mat4:e("./mat4"),plane:e("./plane"),utils:e("./utils"),vec2:e("./vec2"),vec3:e("./vec3"),vec4:e("./vec4")}},{"./constants":106,"./line2":117,"./line3":134,"./mat4":155,"./plane":174,"./utils":180,"./vec2":202,"./vec3":233,"./vec4":259}],108:[function(e,t,n){const o=e("./create");t.exports=e=>{const t=o();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},{"./create":111}],109:[function(e,t,n){const o=e("../vec2"),r=e("./direction"),s=e("./origin");t.exports=(e,t)=>{const n=s(e),a=r(e),i=o.subtract(o.create(),t,n),c=o.dot(i,a);return o.scale(i,a,c),o.add(i,i,n),i}},{"../vec2":202,"./direction":112,"./origin":119}],110:[function(e,t,n){t.exports=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e)},{}],111:[function(e,t,n){t.exports=()=>[0,1,0]},{}],112:[function(e,t,n){const o=e("../vec2");t.exports=e=>{const t=o.normal(o.create(),e);return o.negate(t,t),t}},{"../vec2":202}],113:[function(e,t,n){const o=e("../vec2");t.exports=(e,t)=>{let n=o.dot(t,e);return n=Math.abs(n-e[2]),n}},{"../vec2":202}],114:[function(e,t,n){t.exports=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},{}],115:[function(e,t,n){const o=e("../vec2");t.exports=(e,t,n)=>{const r=o.subtract(o.create(),n,t);o.normal(r,r),o.normalize(r,r);const s=o.dot(t,r);return e[0]=r[0],e[1]=r[1],e[2]=s,e}},{"../vec2":202}],116:[function(e,t,n){const o=e("./create");t.exports=(e,t,n)=>{const r=o();return r[0]=e,r[1]=t,r[2]=n,r}},{"./create":111}],117:[function(e,t,n){t.exports={clone:e("./clone"),closestPoint:e("./closestPoint"),copy:e("./copy"),create:e("./create"),direction:e("./direction"),distanceToPoint:e("./distanceToPoint"),equals:e("./equals"),fromPoints:e("./fromPoints"),fromValues:e("./fromValues"),intersectPointOfLines:e("./intersectPointOfLines"),origin:e("./origin"),reverse:e("./reverse"),toString:e("./toString"),transform:e("./transform"),xAtY:e("./xAtY")}},{"./clone":108,"./closestPoint":109,"./copy":110,"./create":111,"./direction":112,"./distanceToPoint":113,"./equals":114,"./fromPoints":115,"./fromValues":116,"./intersectPointOfLines":118,"./origin":119,"./reverse":120,"./toString":121,"./transform":122,"./xAtY":123}],118:[function(e,t,n){const o=e("../vec2"),{solve2Linear:r}=e("../utils");t.exports=(e,t)=>{const n=r(e[0],e[1],t[0],t[1],e[2],t[2]);return o.clone(n)}},{"../utils":180,"../vec2":202}],119:[function(e,t,n){const o=e("../vec2");t.exports=e=>o.scale(o.create(),e,e[2])},{"../vec2":202}],120:[function(e,t,n){const o=e("../vec2"),r=e("./copy"),s=e("./fromValues");t.exports=(e,t)=>{const n=o.negate(o.create(),t),a=-t[2];return r(e,s(n[0],n[1],a))}},{"../vec2":202,"./copy":110,"./fromValues":116}],121:[function(e,t,n){t.exports=e=>`line2: (${e[0].toFixed(7)}, ${e[1].toFixed(7)}, ${e[2].toFixed(7)})`},{}],122:[function(e,t,n){const o=e("../vec2"),r=e("./fromPoints"),s=e("./origin"),a=e("./direction");t.exports=(e,t,n)=>{const i=s(t),c=a(t);return o.transform(i,i,n),o.transform(c,c,n),r(e,i,c)}},{"../vec2":202,"./direction":112,"./fromPoints":115,"./origin":119}],123:[function(e,t,n){const o=e("./origin");t.exports=(e,t)=>{let n=(e[2]-e[1]*t)/e[0];return Number.isNaN(n)&&(n=o(e)[0]),n}},{"./origin":119}],124:[function(e,t,n){const o=e("../vec3"),r=e("./create");t.exports=e=>{const t=r();return o.copy(t[0],e[0]),o.copy(t[1],e[1]),t}},{"../vec3":233,"./create":127}],125:[function(e,t,n){const o=e("../vec3");t.exports=(e,t)=>{const n=e[0],r=e[1],s=o.dot(o.subtract(o.create(),t,n),r)/o.dot(r,r),a=o.scale(o.create(),r,s);return o.add(a,a,n),a}},{"../vec3":233}],126:[function(e,t,n){const o=e("../vec3");t.exports=(e,t)=>(o.copy(e[0],t[0]),o.copy(e[1],t[1]),e)},{"../vec3":233}],127:[function(e,t,n){const o=e("../vec3");t.exports=()=>[o.fromValues(0,0,0),o.fromValues(0,0,1)]},{"../vec3":233}],128:[function(e,t,n){t.exports=e=>e[1]},{}],129:[function(e,t,n){const o=e("../vec3"),r=e("./closestPoint");t.exports=(e,t)=>{const n=r(e,t),s=o.subtract(o.create(),t,n);return o.length(s)}},{"../vec3":233,"./closestPoint":125}],130:[function(e,t,n){const o=e("../vec3");t.exports=(e,t)=>!!o.equals(e[1],t[1])&&!!o.equals(e[0],t[0])},{"../vec3":233}],131:[function(e,t,n){const o=e("../vec3"),{solve2Linear:r}=e("../utils"),{EPS:s}=e("../constants"),a=e("./fromPointAndDirection");t.exports=(e,t,n)=>{let i=o.cross(o.create(),t,n),c=o.length(i);if(c<s)throw new Error("parallel planes do not intersect");c=1/c,i=o.scale(i,i,c);const l=Math.abs(i[0]),u=Math.abs(i[1]),p=Math.abs(i[2]);let f,h;return l>=u&&l>=p?(h=r(t[1],t[2],n[1],n[2],t[3],n[3]),f=o.fromValues(0,h[0],h[1])):u>=l&&u>=p?(h=r(t[0],t[2],n[0],n[2],t[3],n[3]),f=o.fromValues(h[0],0,h[1])):(h=r(t[0],t[1],n[0],n[1],t[3],n[3]),f=o.fromValues(h[0],h[1],0)),a(e,f,i)}},{"../constants":106,"../utils":180,"../vec3":233,"./fromPointAndDirection":132}],132:[function(e,t,n){const o=e("../vec3");t.exports=(e,t,n)=>{const r=o.normalize(o.create(),n);return o.copy(e[0],t),o.copy(e[1],r),e}},{"../vec3":233}],133:[function(e,t,n){const o=e("../vec3"),r=e("./fromPointAndDirection");t.exports=(e,t,n)=>{const s=o.subtract(o.create(),n,t);return r(e,t,s)}},{"../vec3":233,"./fromPointAndDirection":132}],134:[function(e,t,n){t.exports={clone:e("./clone"),closestPoint:e("./closestPoint"),copy:e("./copy"),create:e("./create"),direction:e("./direction"),distanceToPoint:e("./distanceToPoint"),equals:e("./equals"),fromPlanes:e("./fromPlanes"),fromPointAndDirection:e("./fromPointAndDirection"),fromPoints:e("./fromPoints"),intersectPointOfLineAndPlane:e("./intersectPointOfLineAndPlane"),origin:e("./origin"),reverse:e("./reverse"),toString:e("./toString"),transform:e("./transform")}},{"./clone":124,"./closestPoint":125,"./copy":126,"./create":127,"./direction":128,"./distanceToPoint":129,"./equals":130,"./fromPlanes":131,"./fromPointAndDirection":132,"./fromPoints":133,"./intersectPointOfLineAndPlane":135,"./origin":136,"./reverse":137,"./toString":138,"./transform":139}],135:[function(e,t,n){const o=e("../vec3");t.exports=(e,t)=>{const n=t,r=t[3],s=e[0],a=e[1],i=(r-o.dot(n,s))/o.dot(n,a);return o.add(o.create(),s,o.scale(o.create(),a,i))}},{"../vec3":233}],136:[function(e,t,n){t.exports=e=>e[0]},{}],137:[function(e,t,n){const o=e("../vec3"),r=e("./fromPointAndDirection");t.exports=(e,t)=>{const n=o.clone(t[0]),s=o.negate(o.create(),t[1]);return r(e,n,s)}},{"../vec3":233,"./fromPointAndDirection":132}],138:[function(e,t,n){t.exports=e=>{const t=e[0],n=e[1];return`line3: point: (${t[0].toFixed(7)}, ${t[1].toFixed(7)}, ${t[2].toFixed(7)}) direction: (${n[0].toFixed(7)}, ${n[1].toFixed(7)}, ${n[2].toFixed(7)})`}},{}],139:[function(e,t,n){const o=e("../vec3"),r=e("./fromPointAndDirection");t.exports=(e,t,n)=>{const s=t[0],a=t[1],i=o.add(o.create(),s,a),c=o.transform(o.create(),s,n),l=o.transform(i,i,n),u=o.subtract(l,l,c);return r(e,c,u)}},{"../vec3":233,"./fromPointAndDirection":132}],140:[function(e,t,n){t.exports=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e)},{}],141:[function(e,t,n){const o=e("./create");t.exports=e=>{const t=o();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},{"./create":143}],142:[function(e,t,n){t.exports=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e)},{}],143:[function(e,t,n){t.exports=()=>[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},{}],144:[function(e,t,n){t.exports=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]},{}],145:[function(e,t,n){const{EPS:o}=e("../constants"),{sin:r,cos:s}=e("../utils/trigonometry"),a=e("./identity");t.exports=(e,t,n)=>{let[i,c,l]=n;const u=i*i+c*c+l*l;if(Math.abs(u)<o)return a(e);const p=1/Math.sqrt(u);i*=p,c*=p,l*=p;const f=r(t),h=s(t),m=1-h;return e[0]=i*i*m+h,e[1]=c*i*m+l*f,e[2]=l*i*m-c*f,e[3]=0,e[4]=i*c*m-l*f,e[5]=c*c*m+h,e[6]=l*c*m+i*f,e[7]=0,e[8]=i*l*m+c*f,e[9]=c*l*m-i*f,e[10]=l*l*m+h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{"../constants":106,"../utils/trigonometry":184,"./identity":154}],146:[function(e,t,n){t.exports=(e,t)=>(e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)},{}],147:[function(e,t,n){const{sin:o,cos:r}=e("../utils/trigonometry");t.exports=(e,t,n,s)=>{const a=o(t),i=r(t),c=o(n),l=r(n),u=o(s),p=r(s);return e[0]=l*i,e[1]=l*a,e[2]=-c,e[3]=0,e[4]=u*c*i-p*a,e[5]=p*i+u*c*a,e[6]=u*l,e[7]=0,e[8]=u*a+p*c*i,e[9]=p*c*a-u*i,e[10]=p*l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{"../utils/trigonometry":184}],148:[function(e,t,n){t.exports=(e,t)=>(e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e)},{}],149:[function(e,t,n){const o=e("./create");t.exports=(e,t,n,r,s,a,i,c,l,u,p,f,h,m,g,d)=>{const y=o();return y[0]=e,y[1]=t,y[2]=n,y[3]=r,y[4]=s,y[5]=a,y[6]=i,y[7]=c,y[8]=l,y[9]=u,y[10]=p,y[11]=f,y[12]=h,y[13]=m,y[14]=g,y[15]=d,y}},{"./create":143}],150:[function(e,t,n){const o=e("../vec3"),r=e("./fromRotation");t.exports=(e,t,n)=>{const s=o.normalize(o.create(),t),a=o.normalize(o.create(),n),i=o.cross(o.create(),a,s),c=o.dot(a,s);if(-1===c)return r(e,Math.PI,o.orthogonal(i,s));const l=1/(1+c);return e[0]=i[0]*i[0]*l+c,e[1]=i[1]*i[0]*l-i[2],e[2]=i[2]*i[0]*l+i[1],e[3]=0,e[4]=i[0]*i[1]*l+i[2],e[5]=i[1]*i[1]*l+c,e[6]=i[2]*i[1]*l-i[0],e[7]=0,e[8]=i[0]*i[2]*l-i[1],e[9]=i[1]*i[2]*l+i[0],e[10]=i[2]*i[2]*l+c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{"../vec3":233,"./fromRotation":145}],151:[function(e,t,n){const{sin:o,cos:r}=e("../utils/trigonometry");t.exports=(e,t)=>{const n=o(t),s=r(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{"../utils/trigonometry":184}],152:[function(e,t,n){const{sin:o,cos:r}=e("../utils/trigonometry");t.exports=(e,t)=>{const n=o(t),s=r(t);return e[0]=s,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{"../utils/trigonometry":184}],153:[function(e,t,n){const{sin:o,cos:r}=e("../utils/trigonometry");t.exports=(e,t)=>{const n=o(t),s=r(t);return e[0]=s,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{"../utils/trigonometry":184}],154:[function(e,t,n){t.exports=e=>(e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)},{}],155:[function(e,t,n){t.exports={add:e("./add"),clone:e("./clone"),copy:e("./copy"),create:e("./create"),invert:e("./invert"),equals:e("./equals"),fromRotation:e("./fromRotation"),fromScaling:e("./fromScaling"),fromTaitBryanRotation:e("./fromTaitBryanRotation"),fromTranslation:e("./fromTranslation"),fromValues:e("./fromValues"),fromVectorRotation:e("./fromVectorRotation"),fromXRotation:e("./fromXRotation"),fromYRotation:e("./fromYRotation"),fromZRotation:e("./fromZRotation"),identity:e("./identity"),isIdentity:e("./isIdentity"),isOnlyTransformScale:e("./isOnlyTransformScale"),isMirroring:e("./isMirroring"),mirrorByPlane:e("./mirrorByPlane"),multiply:e("./multiply"),rotate:e("./rotate"),rotateX:e("./rotateX"),rotateY:e("./rotateY"),rotateZ:e("./rotateZ"),scale:e("./scale"),subtract:e("./subtract"),toString:e("./toString"),translate:e("./translate")}},{"./add":140,"./clone":141,"./copy":142,"./create":143,"./equals":144,"./fromRotation":145,"./fromScaling":146,"./fromTaitBryanRotation":147,"./fromTranslation":148,"./fromValues":149,"./fromVectorRotation":150,"./fromXRotation":151,"./fromYRotation":152,"./fromZRotation":153,"./identity":154,"./invert":156,"./isIdentity":157,"./isMirroring":158,"./isOnlyTransformScale":159,"./mirrorByPlane":160,"./multiply":161,"./rotate":162,"./rotateX":163,"./rotateY":164,"./rotateZ":165,"./scale":166,"./subtract":167,"./toString":168,"./translate":169}],156:[function(e,t,n){t.exports=(e,t)=>{const n=t[0],o=t[1],r=t[2],s=t[3],a=t[4],i=t[5],c=t[6],l=t[7],u=t[8],p=t[9],f=t[10],h=t[11],m=t[12],g=t[13],d=t[14],y=t[15],v=n*i-o*a,b=n*c-r*a,x=n*l-s*a,A=o*c-r*i,E=o*l-s*i,w=r*l-s*c,S=u*g-p*m,T=u*d-f*m,P=u*y-h*m,D=p*d-f*g,C=p*y-h*g,M=f*y-h*d;let R=v*M-b*C+x*D+A*P-E*T+w*S;return R?(R=1/R,e[0]=(i*M-c*C+l*D)*R,e[1]=(r*C-o*M-s*D)*R,e[2]=(g*w-d*E+y*A)*R,e[3]=(f*E-p*w-h*A)*R,e[4]=(c*P-a*M-l*T)*R,e[5]=(n*M-r*P+s*T)*R,e[6]=(d*x-m*w-y*b)*R,e[7]=(u*w-f*x+h*b)*R,e[8]=(a*C-i*P+l*S)*R,e[9]=(o*P-n*C-s*S)*R,e[10]=(m*E-g*x+y*v)*R,e[11]=(p*x-u*E-h*v)*R,e[12]=(i*T-a*D-c*S)*R,e[13]=(n*D-o*T+r*S)*R,e[14]=(g*b-m*A-d*v)*R,e[15]=(u*A-p*b+f*v)*R,e):null}},{}],157:[function(e,t,n){t.exports=e=>1===e[0]&&0===e[1]&&0===e[2]&&0===e[3]&&0===e[4]&&1===e[5]&&0===e[6]&&0===e[7]&&0===e[8]&&0===e[9]&&1===e[10]&&0===e[11]&&0===e[12]&&0===e[13]&&0===e[14]&&1===e[15]},{}],158:[function(e,t,n){t.exports=e=>{const t=e[4]*e[9]-e[8]*e[5],n=e[8]*e[1]-e[0]*e[9],o=e[0]*e[5]-e[4]*e[1];return t*e[2]+n*e[6]+o*e[10]<0}},{}],159:[function(e,t,n){const o=e=>Math.abs(e)<Number.EPSILON;t.exports=e=>o(e[1])&&o(e[2])&&o(e[3])&&o(e[4])&&o(e[6])&&o(e[7])&&o(e[8])&&o(e[9])&&o(e[11])&&1===e[15]},{}],160:[function(e,t,n){t.exports=(e,t)=>{const[n,o,r,s]=t;return e[0]=1-2*n*n,e[1]=-2*o*n,e[2]=-2*r*n,e[3]=0,e[4]=-2*n*o,e[5]=1-2*o*o,e[6]=-2*r*o,e[7]=0,e[8]=-2*n*r,e[9]=-2*o*r,e[10]=1-2*r*r,e[11]=0,e[12]=2*n*s,e[13]=2*o*s,e[14]=2*r*s,e[15]=1,e}},{}],161:[function(e,t,n){t.exports=(e,t,n)=>{const o=t[0],r=t[1],s=t[2],a=t[3],i=t[4],c=t[5],l=t[6],u=t[7],p=t[8],f=t[9],h=t[10],m=t[11],g=t[12],d=t[13],y=t[14],v=t[15];let b=n[0],x=n[1],A=n[2],E=n[3];return e[0]=b*o+x*i+A*p+E*g,e[1]=b*r+x*c+A*f+E*d,e[2]=b*s+x*l+A*h+E*y,e[3]=b*a+x*u+A*m+E*v,b=n[4],x=n[5],A=n[6],E=n[7],e[4]=b*o+x*i+A*p+E*g,e[5]=b*r+x*c+A*f+E*d,e[6]=b*s+x*l+A*h+E*y,e[7]=b*a+x*u+A*m+E*v,b=n[8],x=n[9],A=n[10],E=n[11],e[8]=b*o+x*i+A*p+E*g,e[9]=b*r+x*c+A*f+E*d,e[10]=b*s+x*l+A*h+E*y,e[11]=b*a+x*u+A*m+E*v,b=n[12],x=n[13],A=n[14],E=n[15],e[12]=b*o+x*i+A*p+E*g,e[13]=b*r+x*c+A*f+E*d,e[14]=b*s+x*l+A*h+E*y,e[15]=b*a+x*u+A*m+E*v,e}},{}],162:[function(e,t,n){const{EPS:o}=e("../constants"),{sin:r,cos:s}=e("../utils/trigonometry"),a=e("./copy");t.exports=(e,t,n,i)=>{let[c,l,u]=i;const p=c*c+l*l+u*u;if(Math.abs(p)<o)return a(e,t);const f=1/Math.sqrt(p);c*=f,l*=f,u*=f;const h=r(n),m=s(n),g=1-m,d=t[0],y=t[1],v=t[2],b=t[3],x=t[4],A=t[5],E=t[6],w=t[7],S=t[8],T=t[9],P=t[10],D=t[11],C=c*c*g+m,M=l*c*g+u*h,R=u*c*g-l*h,I=c*l*g-u*h,L=l*l*g+m,B=u*l*g+c*h,$=c*u*g+l*h,O=l*u*g-c*h,k=u*u*g+m;return e[0]=d*C+x*M+S*R,e[1]=y*C+A*M+T*R,e[2]=v*C+E*M+P*R,e[3]=b*C+w*M+D*R,e[4]=d*I+x*L+S*B,e[5]=y*I+A*L+T*B,e[6]=v*I+E*L+P*B,e[7]=b*I+w*L+D*B,e[8]=d*$+x*O+S*k,e[9]=y*$+A*O+T*k,e[10]=v*$+E*O+P*k,e[11]=b*$+w*O+D*k,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e}},{"../constants":106,"../utils/trigonometry":184,"./copy":142}],163:[function(e,t,n){const{sin:o,cos:r}=e("../utils/trigonometry");t.exports=(e,t,n)=>{const s=o(n),a=r(n),i=t[4],c=t[5],l=t[6],u=t[7],p=t[8],f=t[9],h=t[10],m=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*a+p*s,e[5]=c*a+f*s,e[6]=l*a+h*s,e[7]=u*a+m*s,e[8]=p*a-i*s,e[9]=f*a-c*s,e[10]=h*a-l*s,e[11]=m*a-u*s,e}},{"../utils/trigonometry":184}],164:[function(e,t,n){const{sin:o,cos:r}=e("../utils/trigonometry");t.exports=(e,t,n)=>{const s=o(n),a=r(n),i=t[0],c=t[1],l=t[2],u=t[3],p=t[8],f=t[9],h=t[10],m=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a-p*s,e[1]=c*a-f*s,e[2]=l*a-h*s,e[3]=u*a-m*s,e[8]=i*s+p*a,e[9]=c*s+f*a,e[10]=l*s+h*a,e[11]=u*s+m*a,e}},{"../utils/trigonometry":184}],165:[function(e,t,n){const{sin:o,cos:r}=e("../utils/trigonometry");t.exports=(e,t,n)=>{const s=o(n),a=r(n),i=t[0],c=t[1],l=t[2],u=t[3],p=t[4],f=t[5],h=t[6],m=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a+p*s,e[1]=c*a+f*s,e[2]=l*a+h*s,e[3]=u*a+m*s,e[4]=p*a-i*s,e[5]=f*a-c*s,e[6]=h*a-l*s,e[7]=m*a-u*s,e}},{"../utils/trigonometry":184}],166:[function(e,t,n){t.exports=(e,t,n)=>{const o=n[0],r=n[1],s=n[2];return e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e[3]=t[3]*o,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},{}],167:[function(e,t,n){t.exports=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e)},{}],168:[function(e,t,n){t.exports=e=>e.map((e=>e.toFixed(7))).toString()},{}],169:[function(e,t,n){t.exports=(e,t,n)=>{const o=n[0],r=n[1],s=n[2];let a,i,c,l,u,p,f,h,m,g,d,y;return t===e?(e[12]=t[0]*o+t[4]*r+t[8]*s+t[12],e[13]=t[1]*o+t[5]*r+t[9]*s+t[13],e[14]=t[2]*o+t[6]*r+t[10]*s+t[14],e[15]=t[3]*o+t[7]*r+t[11]*s+t[15]):(a=t[0],i=t[1],c=t[2],l=t[3],u=t[4],p=t[5],f=t[6],h=t[7],m=t[8],g=t[9],d=t[10],y=t[11],e[0]=a,e[1]=i,e[2]=c,e[3]=l,e[4]=u,e[5]=p,e[6]=f,e[7]=h,e[8]=m,e[9]=g,e[10]=d,e[11]=y,e[12]=a*o+u*r+m*s+t[12],e[13]=i*o+p*r+g*s+t[13],e[14]=c*o+f*r+d*s+t[14],e[15]=l*o+h*r+y*s+t[15]),e}},{}],170:[function(e,t,n){t.exports=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e)},{}],171:[function(e,t,n){const o=e("../vec3");t.exports=(e,t,n)=>{const r=o.normalize(o.create(),t),s=o.dot(n,r);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=s,e}},{"../vec3":233}],172:[function(e,t,n){const o=e("../vec3");t.exports=(e,...t)=>{const n=t.length,r=o.create(),s=o.create(),a=e=>{const a=t[e],i=t[(e+1)%n],c=t[(e+2)%n];return o.subtract(r,i,a),o.subtract(s,c,a),o.cross(r,r,s),o.normalize(r,r),r};return e[0]=0,e[1]=0,e[2]=0,3===n?o.copy(e,a(0)):(t.forEach(((t,n)=>{o.add(e,e,a(n))})),o.normalize(e,e)),e[3]=o.dot(e,t[0]),e}},{"../vec3":233}],173:[function(e,t,n){const{EPS:o}=e("../constants"),r=e("../vec3");t.exports=(e,t,n,s)=>{let a=r.subtract(r.create(),n,t),i=r.subtract(r.create(),s,t);r.length(a)<o&&(a=r.orthogonal(a,i)),r.length(i)<o&&(i=r.orthogonal(i,a));let c=r.cross(r.create(),a,i);r.length(c)<o&&(i=r.orthogonal(i,a),c=r.cross(c,a,i)),c=r.normalize(c,c);const l=r.dot(c,t);return e[0]=c[0],e[1]=c[1],e[2]=c[2],e[3]=l,e}},{"../constants":106,"../vec3":233}],174:[function(e,t,n){t.exports={clone:e("../vec4/clone"),copy:e("../vec4/copy"),create:e("../vec4/create"),equals:e("../vec4/equals"),flip:e("./flip"),fromNormalAndPoint:e("./fromNormalAndPoint"),fromValues:e("../vec4/fromValues"),fromPoints:e("./fromPoints"),fromPointsRandom:e("./fromPointsRandom"),projectionOfPoint:e("./projectionOfPoint"),signedDistanceToPoint:e("./signedDistanceToPoint"),toString:e("../vec4/toString"),transform:e("./transform")}},{"../vec4/clone":252,"../vec4/copy":253,"../vec4/create":254,"../vec4/equals":256,"../vec4/fromValues":258,"../vec4/toString":260,"./flip":170,"./fromNormalAndPoint":171,"./fromPoints":172,"./fromPointsRandom":173,"./projectionOfPoint":175,"./signedDistanceToPoint":176,"./transform":177}],175:[function(e,t,n){const o=e("../vec3");t.exports=(e,t)=>{const n=t[0]*e[0]+t[1]*e[1]+t[2]*e[2]-e[3],r=t[0]-n*e[0],s=t[1]-n*e[1],a=t[2]-n*e[2];return o.fromValues(r,s,a)}},{"../vec3":233}],176:[function(e,t,n){const o=e("../vec3");t.exports=(e,t)=>o.dot(e,t)-e[3]},{"../vec3":233}],177:[function(e,t,n){const o=e("../mat4"),r=e("../vec3"),s=e("./fromPoints"),a=e("./flip");t.exports=(e,t,n)=>{const i=o.isMirroring(n),c=r.orthogonal(r.create(),t),l=r.cross(c,t,c),u=r.cross(r.create(),t,l);let p=r.fromScalar(r.create(),t[3]);r.multiply(p,p,t);let f=r.add(r.create(),p,l),h=r.add(r.create(),p,u);return p=r.transform(p,p,n),f=r.transform(f,f,n),h=r.transform(h,h,n),s(e,p,f,h),i&&a(e,e),e}},{"../mat4":155,"../vec3":233,"./flip":170,"./fromPoints":172}],178:[function(e,t,n){const{NEPS:o}=e("../constants");t.exports=(e,t)=>Math.abs(e[0]-t[0])<=o&&Math.abs(e[1]-t[1])<=o&&Math.abs(e[2]-t[2])<=o},{"../constants":106}],179:[function(e,t,n){t.exports=e=>{let t=0;for(let n=0;n<e.length;n++){const o=(n+1)%e.length;t+=e[n][0]*e[o][1],t-=e[o][0]*e[n][1]}return t/2}},{}],180:[function(e,t,n){t.exports={aboutEqualNormals:e("./aboutEqualNormals"),area:e("./area"),cos:e("./trigonometry").cos,interpolateBetween2DPointsForY:e("./interpolateBetween2DPointsForY"),intersect:e("./intersect"),sin:e("./trigonometry").sin,solve2Linear:e("./solve2Linear")}},{"./aboutEqualNormals":178,"./area":179,"./interpolateBetween2DPointsForY":181,"./intersect":182,"./solve2Linear":183,"./trigonometry":184}],181:[function(e,t,n){t.exports=(e,t,n)=>{let o,r=n-e[1],s=t[1]-e[1];return s<0&&(r=-r,s=-s),o=r<=0?0:r>=s?1:s<1e-10?.5:r/s,e[0]+o*(t[0]-e[0])}},{}],182:[function(e,t,n){t.exports=(e,t,n,o)=>{if(e[0]===t[0]&&e[1]===t[1]||n[0]===o[0]&&n[1]===o[1])return;const r=(o[1]-n[1])*(t[0]-e[0])-(o[0]-n[0])*(t[1]-e[1]);if(Math.abs(r)<Number.MIN_VALUE)return;const s=((o[0]-n[0])*(e[1]-n[1])-(o[1]-n[1])*(e[0]-n[0]))/r,a=((t[0]-e[0])*(e[1]-n[1])-(t[1]-e[1])*(e[0]-n[0]))/r;return s<0||s>1||a<0||a>1?void 0:[e[0]+s*(t[0]-e[0]),e[1]+s*(t[1]-e[1])]}},{}],183:[function(e,t,n){t.exports=(e,t,n,o,r,s)=>{const a=1/(e*o-t*n);let i=r*o-t*s,c=-r*n+e*s;return i*=a,c*=a,[i,c]}},{}],184:[function(e,t,n){const{NEPS:o}=e("../constants"),r=e=>Math.abs(e)<o?0:e;t.exports={sin:e=>r(Math.sin(e)),cos:e=>r(Math.cos(e))}},{"../constants":106}],185:[function(e,t,n){t.exports=(e,t)=>(e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e)},{}],186:[function(e,t,n){t.exports=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e)},{}],187:[function(e,t,n){t.exports=e("./angleRadians")},{"./angleRadians":189}],188:[function(e,t,n){const o=e("./angleRadians");t.exports=e=>57.29577951308232*o(e)},{"./angleRadians":189}],189:[function(e,t,n){t.exports=e=>Math.atan2(e[1],e[0])},{}],190:[function(e,t,n){const o=e("./create");t.exports=e=>{const t=o();return t[0]=e[0],t[1]=e[1],t}},{"./create":192}],191:[function(e,t,n){t.exports=(e,t)=>(e[0]=t[0],e[1]=t[1],e)},{}],192:[function(e,t,n){t.exports=()=>[0,0]},{}],193:[function(e,t,n){t.exports=(e,t,n)=>(e[0]=0,e[1]=0,e[2]=t[0]*n[1]-t[1]*n[0],e)},{}],194:[function(e,t,n){t.exports=(e,t)=>{const n=t[0]-e[0],o=t[1]-e[1];return Math.sqrt(n*n+o*o)}},{}],195:[function(e,t,n){t.exports=(e,t,n)=>(e[0]=t[0]/n[0],e[1]=t[1]/n[1],e)},{}],196:[function(e,t,n){t.exports=(e,t)=>e[0]*t[0]+e[1]*t[1]},{}],197:[function(e,t,n){t.exports=(e,t)=>e[0]===t[0]&&e[1]===t[1]},{}],198:[function(e,t,n){const o=e("./fromAngleRadians");t.exports=(e,t)=>o(e,.017453292519943295*t)},{"./fromAngleRadians":199}],199:[function(e,t,n){const{sin:o,cos:r}=e("../utils/trigonometry");t.exports=(e,t)=>(e[0]=r(t),e[1]=o(t),e)},{"../utils/trigonometry":184}],200:[function(e,t,n){t.exports=(e,t)=>(e[0]=t,e[1]=t,e)},{}],201:[function(e,t,n){const o=e("./create");t.exports=(e,t)=>{const n=o();return n[0]=e,n[1]=t,n}},{"./create":192}],202:[function(e,t,n){t.exports={abs:e("./abs"),add:e("./add"),angle:e("./angle"),angleDegrees:e("./angleDegrees"),angleRadians:e("./angleRadians"),clone:e("./clone"),copy:e("./copy"),create:e("./create"),cross:e("./cross"),distance:e("./distance"),divide:e("./divide"),dot:e("./dot"),equals:e("./equals"),fromAngleDegrees:e("./fromAngleDegrees"),fromAngleRadians:e("./fromAngleRadians"),fromScalar:e("./fromScalar"),fromValues:e("./fromValues"),length:e("./length"),lerp:e("./lerp"),max:e("./max"),min:e("./min"),multiply:e("./multiply"),negate:e("./negate"),normal:e("./normal"),normalize:e("./normalize"),rotate:e("./rotate"),scale:e("./scale"),snap:e("./snap"),squaredDistance:e("./squaredDistance"),squaredLength:e("./squaredLength"),subtract:e("./subtract"),toString:e("./toString"),transform:e("./transform")}},{"./abs":185,"./add":186,"./angle":187,"./angleDegrees":188,"./angleRadians":189,"./clone":190,"./copy":191,"./create":192,"./cross":193,"./distance":194,"./divide":195,"./dot":196,"./equals":197,"./fromAngleDegrees":198,"./fromAngleRadians":199,"./fromScalar":200,"./fromValues":201,"./length":203,"./lerp":204,"./max":205,"./min":206,"./multiply":207,"./negate":208,"./normal":209,"./normalize":210,"./rotate":211,"./scale":212,"./snap":213,"./squaredDistance":214,"./squaredLength":215,"./subtract":216,"./toString":217,"./transform":218}],203:[function(e,t,n){t.exports=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1])},{}],204:[function(e,t,n){t.exports=(e,t,n,o)=>{const r=t[0],s=t[1];return e[0]=r+o*(n[0]-r),e[1]=s+o*(n[1]-s),e}},{}],205:[function(e,t,n){t.exports=(e,t,n)=>(e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e)},{}],206:[function(e,t,n){t.exports=(e,t,n)=>(e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e)},{}],207:[function(e,t,n){t.exports=(e,t,n)=>(e[0]=t[0]*n[0],e[1]=t[1]*n[1],e)},{}],208:[function(e,t,n){t.exports=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e)},{}],209:[function(e,t,n){const{TAU:o}=e("../constants"),r=e("./create"),s=e("./rotate");t.exports=(e,t)=>s(e,t,r(),o/4)},{"../constants":106,"./create":192,"./rotate":211}],210:[function(e,t,n){t.exports=(e,t)=>{const n=t[0],o=t[1];let r=n*n+o*o;return r>0&&(r=1/Math.sqrt(r)),e[0]=n*r,e[1]=o*r,e}},{}],211:[function(e,t,n){t.exports=(e,t,n,o)=>{const r=t[0]-n[0],s=t[1]-n[1],a=Math.cos(o),i=Math.sin(o);return e[0]=r*a-s*i+n[0],e[1]=r*i+s*a+n[1],e}},{}],212:[function(e,t,n){t.exports=(e,t,n)=>(e[0]=t[0]*n,e[1]=t[1]*n,e)},{}],213:[function(e,t,n){t.exports=(e,t,n)=>(e[0]=Math.round(t[0]/n)*n+0,e[1]=Math.round(t[1]/n)*n+0,e)},{}],214:[function(e,t,n){t.exports=(e,t)=>{const n=t[0]-e[0],o=t[1]-e[1];return n*n+o*o}},{}],215:[function(e,t,n){t.exports=e=>{const t=e[0],n=e[1];return t*t+n*n}},{}],216:[function(e,t,n){t.exports=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e)},{}],217:[function(e,t,n){t.exports=e=>`[${e[0].toFixed(7)}, ${e[1].toFixed(7)}]`},{}],218:[function(e,t,n){t.exports=(e,t,n)=>{const o=t[0],r=t[1];return e[0]=n[0]*o+n[4]*r+n[12],e[1]=n[1]*o+n[5]*r+n[13],e}},{}],219:[function(e,t,n){t.exports=(e,t)=>(e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e)},{}],220:[function(e,t,n){t.exports=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e)},{}],221:[function(e,t,n){const o=e("./dot");t.exports=(e,t)=>{const n=e[0],r=e[1],s=e[2],a=t[0],i=t[1],c=t[2],l=Math.sqrt(n*n+r*r+s*s)*Math.sqrt(a*a+i*i+c*c),u=l&&o(e,t)/l;return Math.acos(Math.min(Math.max(u,-1),1))}},{"./dot":228}],222:[function(e,t,n){const o=e("./create");t.exports=e=>{const t=o();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},{"./create":224}],223:[function(e,t,n){t.exports=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e)},{}],224:[function(e,t,n){t.exports=()=>[0,0,0]},{}],225:[function(e,t,n){t.exports=(e,t,n)=>{const o=t[0],r=t[1],s=t[2],a=n[0],i=n[1],c=n[2];return e[0]=r*c-s*i,e[1]=s*a-o*c,e[2]=o*i-r*a,e}},{}],226:[function(e,t,n){t.exports=(e,t)=>{const n=t[0]-e[0],o=t[1]-e[1],r=t[2]-e[2];return Math.sqrt(n*n+o*o+r*r)}},{}],227:[function(e,t,n){t.exports=(e,t,n)=>(e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e)},{}],228:[function(e,t,n){t.exports=(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},{}],229:[function(e,t,n){t.exports=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},{}],230:[function(e,t,n){t.exports=(e,t)=>(e[0]=t,e[1]=t,e[2]=t,e)},{}],231:[function(e,t,n){const o=e("./create");t.exports=(e,t,n)=>{const r=o();return r[0]=e,r[1]=t,r[2]=n,r}},{"./create":224}],232:[function(e,t,n){t.exports=(e,t,n=0)=>(e[0]=t[0],e[1]=t[1],e[2]=n,e)},{}],233:[function(e,t,n){t.exports={abs:e("./abs"),add:e("./add"),angle:e("./angle"),clone:e("./clone"),copy:e("./copy"),create:e("./create"),cross:e("./cross"),distance:e("./distance"),divide:e("./divide"),dot:e("./dot"),equals:e("./equals"),fromScalar:e("./fromScalar"),fromValues:e("./fromValues"),fromVec2:e("./fromVec2"),length:e("./length"),lerp:e("./lerp"),max:e("./max"),min:e("./min"),multiply:e("./multiply"),negate:e("./negate"),normalize:e("./normalize"),orthogonal:e("./orthogonal"),rotateX:e("./rotateX"),rotateY:e("./rotateY"),rotateZ:e("./rotateZ"),scale:e("./scale"),snap:e("./snap"),squaredDistance:e("./squaredDistance"),squaredLength:e("./squaredLength"),subtract:e("./subtract"),toString:e("./toString"),transform:e("./transform")}},{"./abs":219,"./add":220,"./angle":221,"./clone":222,"./copy":223,"./create":224,"./cross":225,"./distance":226,"./divide":227,"./dot":228,"./equals":229,"./fromScalar":230,"./fromValues":231,"./fromVec2":232,"./length":234,"./lerp":235,"./max":236,"./min":237,"./multiply":238,"./negate":239,"./normalize":240,"./orthogonal":241,"./rotateX":242,"./rotateY":243,"./rotateZ":244,"./scale":245,"./snap":246,"./squaredDistance":247,"./squaredLength":248,"./subtract":249,"./toString":250,"./transform":251}],234:[function(e,t,n){t.exports=e=>{const t=e[0],n=e[1],o=e[2];return Math.sqrt(t*t+n*n+o*o)}},{}],235:[function(e,t,n){t.exports=(e,t,n,o)=>(e[0]=t[0]+o*(n[0]-t[0]),e[1]=t[1]+o*(n[1]-t[1]),e[2]=t[2]+o*(n[2]-t[2]),e)},{}],236:[function(e,t,n){t.exports=(e,t,n)=>(e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e)},{}],237:[function(e,t,n){t.exports=(e,t,n)=>(e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e)},{}],238:[function(e,t,n){t.exports=(e,t,n)=>(e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e)},{}],239:[function(e,t,n){t.exports=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e)},{}],240:[function(e,t,n){t.exports=(e,t)=>{const n=t[0],o=t[1],r=t[2];let s=n*n+o*o+r*r;return s>0&&(s=1/Math.sqrt(s)),e[0]=n*s,e[1]=o*s,e[2]=r*s,e}},{}],241:[function(e,t,n){const o=e("./abs"),r=e("./create"),s=e("./cross");t.exports=(e,t)=>{const n=o(r(),t),a=0+(n[0]<n[1]&&n[0]<n[2]),i=0+(n[1]<=n[0]&&n[1]<n[2]),c=0+(n[2]<=n[0]&&n[2]<=n[1]);return s(e,t,[a,i,c])}},{"./abs":219,"./create":224,"./cross":225}],242:[function(e,t,n){t.exports=(e,t,n,o)=>{const r=[],s=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],s[0]=r[0],s[1]=r[1]*Math.cos(o)-r[2]*Math.sin(o),s[2]=r[1]*Math.sin(o)+r[2]*Math.cos(o),e[0]=s[0]+n[0],e[1]=s[1]+n[1],e[2]=s[2]+n[2],e}},{}],243:[function(e,t,n){t.exports=(e,t,n,o)=>{const r=[],s=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],s[0]=r[2]*Math.sin(o)+r[0]*Math.cos(o),s[1]=r[1],s[2]=r[2]*Math.cos(o)-r[0]*Math.sin(o),e[0]=s[0]+n[0],e[1]=s[1]+n[1],e[2]=s[2]+n[2],e}},{}],244:[function(e,t,n){t.exports=(e,t,n,o)=>{const r=[],s=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],s[0]=r[0]*Math.cos(o)-r[1]*Math.sin(o),s[1]=r[0]*Math.sin(o)+r[1]*Math.cos(o),e[0]=s[0]+n[0],e[1]=s[1]+n[1],e[2]=t[2],e}},{}],245:[function(e,t,n){t.exports=(e,t,n)=>(e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e)},{}],246:[function(e,t,n){t.exports=(e,t,n)=>(e[0]=Math.round(t[0]/n)*n+0,e[1]=Math.round(t[1]/n)*n+0,e[2]=Math.round(t[2]/n)*n+0,e)},{}],247:[function(e,t,n){t.exports=(e,t)=>{const n=t[0]-e[0],o=t[1]-e[1],r=t[2]-e[2];return n*n+o*o+r*r}},{}],248:[function(e,t,n){t.exports=e=>{const t=e[0],n=e[1],o=e[2];return t*t+n*n+o*o}},{}],249:[function(e,t,n){t.exports=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e)},{}],250:[function(e,t,n){t.exports=e=>`[${e[0].toFixed(7)}, ${e[1].toFixed(7)}, ${e[2].toFixed(7)}]`},{}],251:[function(e,t,n){t.exports=(e,t,n)=>{const o=t[0],r=t[1],s=t[2];let a=n[3]*o+n[7]*r+n[11]*s+n[15];return a=a||1,e[0]=(n[0]*o+n[4]*r+n[8]*s+n[12])/a,e[1]=(n[1]*o+n[5]*r+n[9]*s+n[13])/a,e[2]=(n[2]*o+n[6]*r+n[10]*s+n[14])/a,e}},{}],252:[function(e,t,n){const o=e("./create");t.exports=e=>{const t=o();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}},{"./create":254}],253:[function(e,t,n){t.exports=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e)},{}],254:[function(e,t,n){t.exports=()=>[0,0,0,0]},{}],255:[function(e,t,n){t.exports=(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},{}],256:[function(e,t,n){t.exports=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},{}],257:[function(e,t,n){t.exports=(e,t)=>(e[0]=t,e[1]=t,e[2]=t,e[3]=t,e)},{}],258:[function(e,t,n){const o=e("./create");t.exports=(e,t,n,r)=>{const s=o();return s[0]=e,s[1]=t,s[2]=n,s[3]=r,s}},{"./create":254}],259:[function(e,t,n){t.exports={clone:e("./clone"),copy:e("./copy"),create:e("./create"),dot:e("./dot"),equals:e("./equals"),fromScalar:e("./fromScalar"),fromValues:e("./fromValues"),toString:e("./toString"),transform:e("./transform")}},{"./clone":252,"./copy":253,"./create":254,"./dot":255,"./equals":256,"./fromScalar":257,"./fromValues":258,"./toString":260,"./transform":261}],260:[function(e,t,n){t.exports=e=>`(${e[0].toFixed(9)}, ${e[1].toFixed(9)}, ${e[2].toFixed(9)}, ${e[3].toFixed(9)})`},{}],261:[function(e,t,n){t.exports=(e,t,n)=>{const[o,r,s,a]=t;return e[0]=n[0]*o+n[4]*r+n[8]*s+n[12]*a,e[1]=n[1]*o+n[5]*r+n[9]*s+n[13]*a,e[2]=n[2]*o+n[6]*r+n[10]*s+n[14]*a,e[3]=n[3]*o+n[7]*r+n[11]*s+n[15]*a,e}},{}],262:[function(e,t,n){const{EPS:o}=e("../maths/constants");t.exports=(e,t)=>{let n=0;for(let o=0;o<t;o++)n+=e[1][o]-e[0][o];return o*n/t}},{"../maths/constants":106}],263:[function(e,t,n){t.exports={measureAggregateArea:e("./measureAggregateArea"),measureAggregateBoundingBox:e("./measureAggregateBoundingBox"),measureAggregateEpsilon:e("./measureAggregateEpsilon"),measureAggregateVolume:e("./measureAggregateVolume"),measureArea:e("./measureArea"),measureBoundingBox:e("./measureBoundingBox"),measureBoundingSphere:e("./measureBoundingSphere"),measureCenter:e("./measureCenter"),measureCenterOfMass:e("./measureCenterOfMass"),measureDimensions:e("./measureDimensions"),measureEpsilon:e("./measureEpsilon"),measureVolume:e("./measureVolume")}},{"./measureAggregateArea":264,"./measureAggregateBoundingBox":265,"./measureAggregateEpsilon":266,"./measureAggregateVolume":267,"./measureArea":268,"./measureBoundingBox":269,"./measureBoundingSphere":270,"./measureCenter":271,"./measureCenterOfMass":272,"./measureDimensions":273,"./measureEpsilon":274,"./measureVolume":275}],264:[function(e,t,n){const o=e("../utils/flatten"),r=e("./measureArea");t.exports=(...e)=>{if(0===(e=o(e)).length)throw new Error("measureAggregateArea: no geometries supplied");const t=r(e);return 1===e.length?t:t.reduce(((e,t)=>e+t),0)}},{"../utils/flatten":408,"./measureArea":268}],265:[function(e,t,n){const o=e("../utils/flatten"),r=e("../maths/vec3/min"),s=e("../maths/vec3/max"),a=e("./measureBoundingBox");t.exports=(...e)=>{if(0===(e=o(e)).length)throw new Error("measureAggregateBoundingBox: no geometries supplied");const t=a(e);if(1===e.length)return t;const n=[[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE],[-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE]];return t.reduce(((e,t)=>[r(e[0],e[0],t[0]),s(e[1],e[1],t[1])]),n)}},{"../maths/vec3/max":236,"../maths/vec3/min":237,"../utils/flatten":408,"./measureBoundingBox":269}],266:[function(e,t,n){const o=e("../utils/flatten"),r=e("./measureAggregateBoundingBox"),s=e("./calculateEpsilonFromBounds"),{geom2:a,geom3:i,path2:c}=e("../geometries");t.exports=(...e)=>{if(0===(e=o(e)).length)throw new Error("measureAggregateEpsilon: no geometries supplied");const t=r(e);let n=0;return n=e.reduce(((e,t)=>c.isA(t)||a.isA(t)?Math.max(e,2):i.isA(t)?Math.max(e,3):0),n),s(t,n)}},{"../geometries":62,"../utils/flatten":408,"./calculateEpsilonFromBounds":262,"./measureAggregateBoundingBox":265}],267:[function(e,t,n){const o=e("../utils/flatten"),r=e("./measureVolume");t.exports=(...e)=>{if(0===(e=o(e)).length)throw new Error("measureAggregateVolume: no geometries supplied");const t=r(e);return 1===e.length?t:t.reduce(((e,t)=>e+t),0)}},{"../utils/flatten":408,"./measureVolume":275}],268:[function(e,t,n){const o=e("../utils/flatten"),r=e("../geometries/geom2"),s=e("../geometries/geom3"),a=e("../geometries/path2"),i=e("../geometries/poly3"),c=new WeakMap;t.exports=(...e)=>{if(0===(e=o(e)).length)throw new Error("wrong number of arguments");const t=e.map((e=>a.isA(e)?0:r.isA(e)?(e=>{let t=c.get(e);return t||(t=r.toSides(e).reduce(((e,t)=>e+(t[0][0]*t[1][1]-t[0][1]*t[1][0])),0),t*=.5,c.set(e,t),t)})(e):s.isA(e)?(e=>{let t=c.get(e);return t||(t=s.toPolygons(e).reduce(((e,t)=>e+i.measureArea(t)),0),c.set(e,t),t)})(e):0));return 1===t.length?t[0]:t}},{"../geometries/geom2":38,"../geometries/geom3":53,"../geometries/path2":74,"../geometries/poly3":91,"../utils/flatten":408}],269:[function(e,t,n){const o=e("../utils/flatten"),r=e("../maths/vec2"),s=e("../maths/vec3"),a=e("../geometries/geom2"),i=e("../geometries/geom3"),c=e("../geometries/path2"),l=e("../geometries/poly3"),u=new WeakMap;t.exports=(...e)=>{if(0===(e=o(e)).length)throw new Error("wrong number of arguments");const t=e.map((e=>c.isA(e)?(e=>{let t=u.get(e);if(t)return t;const n=c.toPoints(e);let o;o=0===n.length?r.create():r.clone(n[0]);let s=r.clone(o);return n.forEach((e=>{r.min(o,o,e),r.max(s,s,e)})),o=[o[0],o[1],0],s=[s[0],s[1],0],t=[o,s],u.set(e,t),t})(e):a.isA(e)?(e=>{let t=u.get(e);if(t)return t;const n=a.toPoints(e);let o;o=0===n.length?r.create():r.clone(n[0]);let s=r.clone(o);return n.forEach((e=>{r.min(o,o,e),r.max(s,s,e)})),o=[o[0],o[1],0],s=[s[0],s[1],0],t=[o,s],u.set(e,t),t})(e):i.isA(e)?(e=>{let t=u.get(e);if(t)return t;const n=i.toPolygons(e);let o=s.create();if(n.length>0){const e=l.toPoints(n[0]);s.copy(o,e[0])}let r=s.clone(o);return n.forEach((e=>{l.toPoints(e).forEach((e=>{s.min(o,o,e),s.max(r,r,e)}))})),o=[o[0],o[1],o[2]],r=[r[0],r[1],r[2]],t=[o,r],u.set(e,t),t})(e):[[0,0,0],[0,0,0]]));return 1===t.length?t[0]:t}},{"../geometries/geom2":38,"../geometries/geom3":53,"../geometries/path2":74,"../geometries/poly3":91,"../maths/vec2":202,"../maths/vec3":233,"../utils/flatten":408}],270:[function(e,t,n){const o=e("../utils/flatten"),r=e("../maths/vec2"),s=e("../maths/vec3"),a=e("../geometries/geom2"),i=e("../geometries/geom3"),c=e("../geometries/path2"),l=e("../geometries/poly3"),u=new WeakMap;t.exports=(...e)=>{const t=(e=o(e)).map((e=>c.isA(e)?(e=>{let t=u.get(e);if(void 0!==t)return t;const n=s.create();let o=0;const a=c.toPoints(e);if(a.length>0){let e=0;const t=s.create();a.forEach((o=>{s.add(n,n,s.fromVec2(t,o,0)),e++})),s.scale(n,n,1/e),a.forEach((e=>{o=Math.max(o,r.squaredDistance(n,e))})),o=Math.sqrt(o)}return t=[n,o],u.set(e,t),t})(e):a.isA(e)?(e=>{let t=u.get(e);if(void 0!==t)return t;const n=s.create();let o=0;const i=a.toSides(e);if(i.length>0){let e=0;const t=s.create();i.forEach((o=>{s.add(n,n,s.fromVec2(t,o[0],0)),e++})),s.scale(n,n,1/e),i.forEach((e=>{o=Math.max(o,r.squaredDistance(n,e[0]))})),o=Math.sqrt(o)}return t=[n,o],u.set(e,t),t})(e):i.isA(e)?(e=>{let t=u.get(e);if(void 0!==t)return t;const n=s.create();let o=0;const r=i.toPolygons(e);if(r.length>0){let e=0;r.forEach((t=>{l.toPoints(t).forEach((t=>{s.add(n,n,t),e++}))})),s.scale(n,n,1/e),r.forEach((e=>{l.toPoints(e).forEach((e=>{o=Math.max(o,s.squaredDistance(n,e))}))})),o=Math.sqrt(o)}return t=[n,o],u.set(e,t),t})(e):[[0,0,0],0]));return 1===t.length?t[0]:t}},{"../geometries/geom2":38,"../geometries/geom3":53,"../geometries/path2":74,"../geometries/poly3":91,"../maths/vec2":202,"../maths/vec3":233,"../utils/flatten":408}],271:[function(e,t,n){const o=e("../utils/flatten"),r=e("./measureBoundingBox");t.exports=(...e)=>{const t=(e=o(e)).map((e=>{const t=r(e);return[t[0][0]+(t[1][0]-t[0][0])/2,t[0][1]+(t[1][1]-t[0][1])/2,t[0][2]+(t[1][2]-t[0][2])/2]}));return 1===t.length?t[0]:t}},{"../utils/flatten":408,"./measureBoundingBox":269}],272:[function(e,t,n){const o=e("../utils/flatten"),r=e("../maths/vec3"),s=e("../geometries/geom2"),a=e("../geometries/geom3"),i=new WeakMap;t.exports=(...e)=>{const t=(e=o(e)).map((e=>s.isA(e)?(e=>{let t=i.get(e);if(void 0!==t)return t;const n=s.toSides(e);let o=0,a=0,c=0;if(n.length>0){for(let e=0;e<n.length;e++){const t=n[e][0],r=n[e][1],s=t[0]*r[1]-t[1]*r[0];o+=s,a+=(t[0]+r[0])*s,c+=(t[1]+r[1])*s}o/=2;const e=1/(6*o);a*=e,c*=e}return t=r.fromValues(a,c,0),i.set(e,t),t})(e):a.isA(e)?(e=>{let t=i.get(e);if(void 0!==t)return t;t=r.create();const n=a.toPolygons(e);if(0===n.length)return t;let o=0;const s=r.create();return n.forEach((e=>{const n=e.vertices;for(let e=0;e<n.length-2;e++){r.cross(s,n[e+1],n[e+2]);const a=r.dot(n[0],s)/6;o+=a,r.add(s,n[0],n[e+1]),r.add(s,s,n[e+2]);const i=r.scale(s,s,1/4*a);r.add(t,t,i)}})),r.scale(t,t,1/o),i.set(e,t),t})(e):[0,0,0]));return 1===t.length?t[0]:t}},{"../geometries/geom2":38,"../geometries/geom3":53,"../maths/vec3":233,"../utils/flatten":408}],273:[function(e,t,n){const o=e("../utils/flatten"),r=e("./measureBoundingBox");t.exports=(...e)=>{const t=(e=o(e)).map((e=>{const t=r(e);return[t[1][0]-t[0][0],t[1][1]-t[0][1],t[1][2]-t[0][2]]}));return 1===t.length?t[0]:t}},{"../utils/flatten":408,"./measureBoundingBox":269}],274:[function(e,t,n){const o=e("../utils/flatten"),{geom2:r,geom3:s,path2:a}=e("../geometries"),i=e("./calculateEpsilonFromBounds"),c=e("./measureBoundingBox");t.exports=(...e)=>{if(0===(e=o(e)).length)throw new Error("wrong number of arguments");const t=e.map((e=>a.isA(e)||r.isA(e)?(e=>i(c(e),2))(e):s.isA(e)?(e=>i(c(e),3))(e):0));return 1===t.length?t[0]:t}},{"../geometries":62,"../utils/flatten":408,"./calculateEpsilonFromBounds":262,"./measureBoundingBox":269}],275:[function(e,t,n){const o=e("../utils/flatten"),r=e("../geometries/geom2"),s=e("../geometries/geom3"),a=e("../geometries/path2"),i=e("../geometries/poly3"),c=new WeakMap;t.exports=(...e)=>{if(0===(e=o(e)).length)throw new Error("wrong number of arguments");const t=e.map((e=>a.isA(e)||r.isA(e)?0:s.isA(e)?(e=>{let t=c.get(e);return t||(t=s.toPolygons(e).reduce(((e,t)=>e+i.measureSignedVolume(t)),0),c.set(e,t),t)})(e):0));return 1===t.length?t[0]:t}},{"../geometries/geom2":38,"../geometries/geom3":53,"../geometries/path2":74,"../geometries/poly3":91,"../utils/flatten":408}],276:[function(e,t,n){const o=e("../../maths/vec2"),r=e("../../geometries/geom2");t.exports=(e,t)=>{const n=t.map((t=>((e,t)=>{if(t.vertices.length<4)return null;const n=[],r=t.vertices.filter(((e,t)=>e[2]>0&&(n.push(t),!0)));if(2!==r.length)throw new Error("Assertion failed: fromFakePolygon: not enough points found");const s=r.map((t=>{const n=Math.round(t[0]/e)*e+0,r=Math.round(t[1]/e)*e+0;return o.fromValues(n,r)}));if(o.equals(s[0],s[1]))return null;const a=n[1]-n[0];if(1!==a&&3!==a)throw new Error("Assertion failed: fromFakePolygon: unknown index ordering");return 1===a&&s.reverse(),s})(e,t))).filter((e=>null!==e));return r.create(n)}},{"../../geometries/geom2":38,"../../maths/vec2":202}],277:[function(e,t,n){t.exports={intersect:e("./intersect"),scission:e("./scission"),subtract:e("./subtract"),union:e("./union")}},{"./intersect":278,"./scission":283,"./subtract":285,"./union":296}],278:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../utils/areAllShapesTheSameType"),s=e("../../geometries/geom2"),a=e("../../geometries/geom3"),i=e("./intersectGeom2"),c=e("./intersectGeom3");t.exports=(...e)=>{if(0===(e=o(e)).length)throw new Error("wrong number of arguments");if(!r(e))throw new Error("only intersect of the types are supported");const t=e[0];return s.isA(t)?i(e):a.isA(t)?c(e):t}},{"../../geometries/geom2":38,"../../geometries/geom3":53,"../../utils/areAllShapesTheSameType":406,"../../utils/flatten":408,"./intersectGeom2":279,"./intersectGeom3":280}],279:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../geometries/geom3"),s=e("../../measurements/measureEpsilon"),a=e("./fromFakePolygons"),i=e("./to3DWalls"),c=e("./intersectGeom3");t.exports=(...e)=>{const t=(e=o(e)).map((e=>i({z0:-1,z1:1},e))),n=c(t),l=s(n);return a(l,r.toPolygons(n))}},{"../../geometries/geom3":53,"../../measurements/measureEpsilon":274,"../../utils/flatten":408,"./fromFakePolygons":276,"./intersectGeom3":280,"./to3DWalls":289}],280:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../modifiers/retessellate"),s=e("./intersectGeom3Sub");t.exports=(...e)=>{let t=(e=o(e)).shift();return e.forEach((e=>{t=s(t,e)})),t=r(t),t}},{"../../utils/flatten":408,"../modifiers/retessellate":366,"./intersectGeom3Sub":281}],281:[function(e,t,n){const o=e("../../geometries/geom3"),r=e("./mayOverlap"),{Tree:s}=e("./trees");t.exports=(e,t)=>{if(!r(e,t))return o.create();const n=new s(o.toPolygons(e)),a=new s(o.toPolygons(t));n.invert(),a.clipTo(n),a.invert(),n.clipTo(a),a.clipTo(n),n.addPolygons(a.allPolygons()),n.invert();const i=n.allPolygons();return o.create(i)}},{"../../geometries/geom3":53,"./mayOverlap":282,"./trees":293}],282:[function(e,t,n){const{EPS:o}=e("../../maths/constants"),r=e("../../measurements/measureBoundingBox");t.exports=(e,t)=>{if(0===e.polygons.length||0===t.polygons.length)return!1;const n=r(e),s=n[0],a=n[1],i=r(t),c=i[0],l=i[1];return!(c[0]-a[0]>o||s[0]-l[0]>o||c[1]-a[1]>o||s[1]-l[1]>o||c[2]-a[2]>o||s[2]-l[2]>o)}},{"../../maths/constants":106,"../../measurements/measureBoundingBox":269}],283:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../geometries/geom3"),s=e("./scissionGeom3");t.exports=(...e)=>{if(0===(e=o(e)).length)throw new Error("wrong number of arguments");const t=e.map((e=>r.isA(e)?s(e):e));return 1===t.length?t[0]:t}},{"../../geometries/geom3":53,"../../utils/flatten":408,"./scissionGeom3":284}],284:[function(e,t,n){const o=e("../../maths/vec3"),r=e("../../measurements/measureEpsilon"),s=e("../../geometries/geom3");t.exports=e=>{const t=r(e),n=s.toPolygons(e),a=n.length,i=new Map,c=o.create();n.forEach(((e,n)=>{e.vertices.forEach((e=>{((e,t,n)=>{const o=`${t}`,r=e.get(o);void 0===r?e.set(o,[n]):r.push(n)})(i,o.snap(c,e,t),n)}))}));const l=n.map((e=>{let n=[];return e.vertices.forEach((e=>{n=n.concat(((e,t)=>{const n=`${t}`;return e.get(n)})(i,o.snap(c,e,t)))})),{e:1,d:(r=n,r.sort(((e,t)=>e-t)).filter(((e,t,n)=>!t||e!==n[t-1])))};var r}));i.clear();let u=0;const p=l.length;for(let e=0;e<p;e++){const t=l[e];if(t.e>0){const n=new Array(a);n[e]=!0;do{u=0,n.forEach(((e,t)=>{const o=l[t];if(o.e>0){o.e=-1;for(let e=0;e<o.d.length;e++)n[o.d[e]]=!0;u++}}))}while(u>0);t.indexes=n}}const f=[];for(let e=0;e<p;e++)if(l[e].indexes){const t=[];l[e].indexes.forEach(((e,o)=>t.push(n[o]))),f.push(s.create(t))}return f}},{"../../geometries/geom3":53,"../../maths/vec3":233,"../../measurements/measureEpsilon":274}],285:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../utils/areAllShapesTheSameType"),s=e("../../geometries/geom2"),a=e("../../geometries/geom3"),i=e("./subtractGeom2"),c=e("./subtractGeom3");t.exports=(...e)=>{if(0===(e=o(e)).length)throw new Error("wrong number of arguments");if(!r(e))throw new Error("only subtract of the types are supported");const t=e[0];return s.isA(t)?i(e):a.isA(t)?c(e):t}},{"../../geometries/geom2":38,"../../geometries/geom3":53,"../../utils/areAllShapesTheSameType":406,"../../utils/flatten":408,"./subtractGeom2":286,"./subtractGeom3":287}],286:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../geometries/geom3"),s=e("../../measurements/measureEpsilon"),a=e("./fromFakePolygons"),i=e("./to3DWalls"),c=e("./subtractGeom3");t.exports=(...e)=>{const t=(e=o(e)).map((e=>i({z0:-1,z1:1},e))),n=c(t),l=s(n);return a(l,r.toPolygons(n))}},{"../../geometries/geom3":53,"../../measurements/measureEpsilon":274,"../../utils/flatten":408,"./fromFakePolygons":276,"./subtractGeom3":287,"./to3DWalls":289}],287:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../modifiers/retessellate"),s=e("./subtractGeom3Sub");t.exports=(...e)=>{let t=(e=o(e)).shift();return e.forEach((e=>{t=s(t,e)})),t=r(t),t}},{"../../utils/flatten":408,"../modifiers/retessellate":366,"./subtractGeom3Sub":288}],288:[function(e,t,n){const o=e("../../geometries/geom3"),r=e("./mayOverlap"),{Tree:s}=e("./trees");t.exports=(e,t)=>{if(!r(e,t))return o.clone(e);const n=new s(o.toPolygons(e)),a=new s(o.toPolygons(t));n.invert(),n.clipTo(a),a.clipTo(n,!0),n.addPolygons(a.allPolygons()),n.invert();const i=n.allPolygons();return o.create(i)}},{"../../geometries/geom3":53,"./mayOverlap":282,"./trees":293}],289:[function(e,t,n){const o=e("../../maths/vec3"),r=e("../../geometries/geom2"),s=e("../../geometries/geom3"),a=e("../../geometries/poly3");t.exports=(e,t)=>{const n=r.toSides(t).map((t=>((e,t,n)=>{const r=[o.fromVec2(o.create(),n[0],e),o.fromVec2(o.create(),n[1],e),o.fromVec2(o.create(),n[1],t),o.fromVec2(o.create(),n[0],t)];return a.create(r)})(e.z0,e.z1,t)));return s.create(n)}},{"../../geometries/geom2":38,"../../geometries/geom3":53,"../../geometries/poly3":91,"../../maths/vec3":233}],290:[function(e,t,n){const o=e("../../../maths/plane"),r=e("../../../geometries/poly3");class s{constructor(e){this.plane=null,this.front=null,this.back=null,this.polygontreenodes=[],this.parent=e}invert(){const e=[this];let t;for(let n=0;n<e.length;n++){t=e[n],t.plane&&(t.plane=o.flip(o.create(),t.plane)),t.front&&e.push(t.front),t.back&&e.push(t.back);const r=t.front;t.front=t.back,t.back=r}}clipPolygons(e,t){let n,o={node:this,polygontreenodes:e};const r=[];do{if(n=o.node,e=o.polygontreenodes,n.plane){const o=n.plane,s=[],a=[],i=t?s:a,c=e.length;for(let t=0;t<c;t++){const n=e[t];n.isRemoved()||n.splitByPlane(o,i,s,a,s)}n.front&&a.length>0&&r.push({node:n.front,polygontreenodes:a});const l=s.length;if(n.back&&l>0)r.push({node:n.back,polygontreenodes:s});else for(let e=0;e<l;e++)s[e].remove()}o=r.pop()}while(void 0!==o)}clipTo(e,t){let n=this;const o=[];do{n.polygontreenodes.length>0&&e.rootnode.clipPolygons(n.polygontreenodes,t),n.front&&o.push(n.front),n.back&&o.push(n.back),n=o.pop()}while(void 0!==n)}addPolygonTreeNodes(e){let t={node:this,polygontreenodes:e};const n=[];do{const e=t.node,o=t.polygontreenodes;if(0===o.length){t=n.pop();continue}if(!e.plane){let t=0;t=Math.floor(o.length/2);const n=o[t].getPolygon();e.plane=r.plane(n)}const a=[],i=[],c=o.length;for(let t=0;t<c;++t)o[t].splitByPlane(e.plane,e.polygontreenodes,i,a,i);a.length>0&&(e.front||(e.front=new s(e)),c===a.length&&0===i.length?e.front.polygontreenodes=a:n.push({node:e.front,polygontreenodes:a})),i.length>0&&(e.back||(e.back=new s(e)),c===i.length&&0===a.length?e.back.polygontreenodes=i:n.push({node:e.back,polygontreenodes:i})),t=n.pop()}while(void 0!==t)}}t.exports=s},{"../../../geometries/poly3":91,"../../../maths/plane":174}],291:[function(e,t,n){const{EPS:o}=e("../../../maths/constants"),r=e("../../../maths/vec3"),s=e("../../../geometries/poly3"),a=e("./splitPolygonByPlane");class i{constructor(e,t){this.parent=e,this.children=[],this.polygon=t,this.removed=!1}addPolygons(e){if(!this.isRootNode())throw new Error("Assertion failed");const t=this;e.forEach((e=>{t.addChild(e)}))}remove(){if(!this.removed){this.removed=!0,this.polygon=null;const e=this.parent.children,t=e.indexOf(this);if(t<0)throw new Error("Assertion failed");e.splice(t,1),this.parent.recursivelyInvalidatePolygon()}}isRemoved(){return this.removed}isRootNode(){return!this.parent}invert(){if(!this.isRootNode())throw new Error("Assertion failed");this.invertSub()}getPolygon(){if(!this.polygon)throw new Error("Assertion failed");return this.polygon}getPolygons(e){let t=[this];const n=[t];let o,r,s,a;for(o=0;o<n.length;++o)for(t=n[o],r=0,s=t.length;r<s;r++)a=t[r],a.polygon?e.push(a.polygon):a.children.length>0&&n.push(a.children)}splitByPlane(e,t,n,o,r){if(this.children.length){const s=[this.children];let a,i,c,l,u;for(a=0;a<s.length;a++)for(u=s[a],i=0,c=u.length;i<c;i++)l=u[i],l.children.length>0?s.push(l.children):l._splitByPlane(e,t,n,o,r)}else this._splitByPlane(e,t,n,o,r)}_splitByPlane(e,t,n,i,c){const l=this.polygon;if(l){const u=s.measureBoundingSphere(l),p=u[3]+o,f=u,h=r.dot(e,f)-e[3];if(h>p)i.push(this);else if(h<-p)c.push(this);else{const o=a(e,l);switch(o.type){case 0:t.push(this);break;case 1:n.push(this);break;case 2:i.push(this);break;case 3:c.push(this);break;case 4:if(o.front){const e=this.addChild(o.front);i.push(e)}if(o.back){const e=this.addChild(o.back);c.push(e)}}}}}addChild(e){const t=new i(this,e);return this.children.push(t),t}invertSub(){let e=[this];const t=[e];let n,o,r,a;for(n=0;n<t.length;n++)for(e=t[n],o=0,r=e.length;o<r;o++)a=e[o],a.polygon&&(a.polygon=s.invert(a.polygon)),a.children.length>0&&t.push(a.children)}recursivelyInvalidatePolygon(){this.polygon=null,this.parent&&this.parent.recursivelyInvalidatePolygon()}clear(){let e=[this];const t=[e];for(let n=0;n<t.length;++n){e=t[n];const o=e.length;for(let n=0;n<o;n++){const o=e[n];o.polygon&&(o.polygon=null),o.parent&&(o.parent=null),o.children.length>0&&t.push(o.children),o.children=[]}}}toString(){let e="",t=[this];const n=[t];let o,r,s,a;for(o=0;o<n.length;++o){t=n[o];const i=" ".repeat(o);for(r=0,s=t.length;r<s;r++)a=t[r],e+=`${i}PolygonTreeNode (${a.isRootNode()}): ${a.children.length}`,a.polygon?e+=`\n ${i}polygon: ${a.polygon.vertices}\n`:e+="\n",a.children.length>0&&n.push(a.children)}return e}}t.exports=i},{"../../../geometries/poly3":91,"../../../maths/constants":106,"../../../maths/vec3":233,"./splitPolygonByPlane":295}],292:[function(e,t,n){const o=e("./Node"),r=e("./PolygonTreeNode");t.exports=class{constructor(e){this.polygonTree=new r,this.rootnode=new o(null),e&&this.addPolygons(e)}invert(){this.polygonTree.invert(),this.rootnode.invert()}clipTo(e,t=!1){this.rootnode.clipTo(e,t)}allPolygons(){const e=[];return this.polygonTree.getPolygons(e),e}addPolygons(e){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=this.polygonTree.addChild(e[n]);this.rootnode.addPolygonTreeNodes(t)}clear(){this.polygonTree.clear()}toString(){return"Tree: "+this.polygonTree.toString("")}}},{"./Node":290,"./PolygonTreeNode":291}],293:[function(e,t,n){t.exports={Tree:e("./Tree")}},{"./Tree":292}],294:[function(e,t,n){const o=e("../../../maths/vec3");t.exports=(e,t,n)=>{const r=o.subtract(o.create(),n,t);let s=(e[3]-o.dot(e,t))/o.dot(e,r);return Number.isNaN(s)&&(s=0),s>1&&(s=1),s<0&&(s=0),o.scale(r,r,s),o.add(r,t,r),r}},{"../../../maths/vec3":233}],295:[function(e,t,n){const{EPS:o}=e("../../../maths/constants"),r=e("../../../maths/plane"),s=e("../../../maths/vec3"),a=e("../../../geometries/poly3"),i=e("./splitLineSegmentByPlane");t.exports=(e,t)=>{const n={type:null,front:null,back:null},c=t.vertices,l=c.length,u=a.plane(t);if(r.equals(u,e))n.type=0;else{let t=!1,r=!1;const p=[],f=-o;for(let n=0;n<l;n++){const a=s.dot(e,c[n])-e[3],i=a<f;p.push(i),a>o&&(t=!0),a<f&&(r=!0)}if(t||r)if(r)if(t){n.type=4;const t=[],r=[];let f=p[0];for(let n=0;n<l;n++){const o=c[n];let s=n+1;s>=l&&(s=0);const a=p[s];if(f===a)f?r.push(o):t.push(o);else{const n=c[s],a=i(e,o,n);f?(r.push(o),r.push(a),t.push(a)):(t.push(o),t.push(a),r.push(a))}f=a}const h=o*o;if(r.length>=3){let e=r[r.length-1];for(let t=0;t<r.length;t++){const n=r[t];s.squaredDistance(n,e)<h&&(r.splice(t,1),t--),e=n}}if(t.length>=3){let e=t[t.length-1];for(let n=0;n<t.length;n++){const o=t[n];s.squaredDistance(o,e)<h&&(t.splice(n,1),n--),e=o}}t.length>=3&&(n.front=a.fromPointsAndPlane(t,u)),r.length>=3&&(n.back=a.fromPointsAndPlane(r,u))}else n.type=3;else n.type=2;else{const t=s.dot(e,u);n.type=t>=0?0:1}}return n}},{"../../../geometries/poly3":91,"../../../maths/constants":106,"../../../maths/plane":174,"../../../maths/vec3":233,"./splitLineSegmentByPlane":294}],296:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../utils/areAllShapesTheSameType"),s=e("../../geometries/geom2"),a=e("../../geometries/geom3"),i=e("./unionGeom2"),c=e("./unionGeom3");t.exports=(...e)=>{if(0===(e=o(e)).length)throw new Error("wrong number of arguments");if(!r(e))throw new Error("only unions of the same type are supported");const t=e[0];return s.isA(t)?i(e):a.isA(t)?c(e):t}},{"../../geometries/geom2":38,"../../geometries/geom3":53,"../../utils/areAllShapesTheSameType":406,"../../utils/flatten":408,"./unionGeom2":297,"./unionGeom3":298}],297:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../geometries/geom3"),s=e("../../measurements/measureEpsilon"),a=e("./fromFakePolygons"),i=e("./to3DWalls"),c=e("./unionGeom3");t.exports=(...e)=>{const t=(e=o(e)).map((e=>i({z0:-1,z1:1},e))),n=c(t),l=s(n);return a(l,r.toPolygons(n))}},{"../../geometries/geom3":53,"../../measurements/measureEpsilon":274,"../../utils/flatten":408,"./fromFakePolygons":276,"./to3DWalls":289,"./unionGeom3":298}],298:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../modifiers/retessellate"),s=e("./unionGeom3Sub");t.exports=(...e)=>{let t;for(e=o(e),t=1;t<e.length;t+=2)e.push(s(e[t-1],e[t]));let n=e[t-1];return n=r(n),n}},{"../../utils/flatten":408,"../modifiers/retessellate":366,"./unionGeom3Sub":299}],299:[function(e,t,n){const o=e("../../geometries/geom3"),r=e("./mayOverlap"),{Tree:s}=e("./trees");t.exports=(e,t)=>{if(!r(e,t))return((e,t)=>{let n=o.toPolygons(e);return n=n.concat(o.toPolygons(t)),o.create(n)})(e,t);const n=new s(o.toPolygons(e)),a=new s(o.toPolygons(t));n.clipTo(a,!1),a.clipTo(n),a.invert(),a.clipTo(n),a.invert();const i=n.allPolygons().concat(a.allPolygons());return o.create(i)}},{"../../geometries/geom3":53,"./mayOverlap":282,"./trees":293}],300:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../geometries/geom2"),s=e("../../geometries/geom3"),a=e("../../geometries/path2"),i=e("./expandGeom2"),c=e("./expandGeom3"),l=e("./expandPath2");t.exports=(e,...t)=>{if(0===(t=o(t)).length)throw new Error("wrong number of arguments");const n=t.map((t=>a.isA(t)?l(e,t):r.isA(t)?i(e,t):s.isA(t)?c(e,t):t));return 1===n.length?n[0]:n}},{"../../geometries/geom2":38,"../../geometries/geom3":53,"../../geometries/path2":74,"../../utils/flatten":408,"./expandGeom2":301,"./expandGeom3":302,"./expandPath2":303}],301:[function(e,t,n){const o=e("../../geometries/geom2"),r=e("./offsetFromPoints");t.exports=(e,t)=>{const{delta:n,corners:s,segments:a}=Object.assign({},{delta:1,corners:"edge",segments:16},e);if("edge"!==s&&"chamfer"!==s&&"round"!==s)throw new Error('corners must be "edge", "chamfer", or "round"');const i=o.toOutlines(t).map((t=>r(e={delta:n,corners:s,closed:!0,segments:a},t))).reduce(((e,t)=>e.concat(o.toSides(o.fromPoints(t)))),[]);return o.create(i)}},{"../../geometries/geom2":38,"./offsetFromPoints":308}],302:[function(e,t,n){const o=e("../../geometries/geom3"),r=e("../booleans/union"),s=e("./expandShell");t.exports=(e,t)=>{const{delta:n,corners:a,segments:i}=Object.assign({},{delta:1,corners:"round",segments:12},e);if("round"!==a)throw new Error('corners must be "round" for 3D geometries');if(0===o.toPolygons(t).length)throw new Error("the given geometry cannot be empty");const c=s(e={delta:n,corners:a,segments:i},t);return r(t,c)}},{"../../geometries/geom3":53,"../booleans/union":296,"./expandShell":304}],303:[function(e,t,n){const o=e("../../maths/utils/area"),r=e("../../maths/vec2"),s=e("../../geometries/geom2"),a=e("../../geometries/path2"),i=e("./offsetFromPoints");t.exports=(e,t)=>{e=Object.assign({},{delta:1,corners:"edge",segments:16},e);const{delta:n,corners:c,segments:l}=e;if(n<=0)throw new Error("the given delta must be positive for paths");if("edge"!==c&&"chamfer"!==c&&"round"!==c)throw new Error('corners must be "edge", "chamfer", or "round"');const u=t.isClosed,p=a.toPoints(t);if(0===p.length)throw new Error("the given geometry cannot be empty");const f={points:p,external:i({delta:n,corners:c,segments:l,closed:u},p),internal:i({delta:-n,corners:c,segments:l,closed:u},p)};return t.isClosed?(e=>{let{external:t,internal:n}=e;o(t)<0?t=t.reverse():n=n.reverse();const r=a.fromPoints({closed:!0},t),i=a.fromPoints({closed:!0},n),c=s.toSides(s.fromPoints(a.toPoints(r))),l=s.toSides(s.fromPoints(a.toPoints(i)));return c.push(...l),s.create(c)})(f):((e,t,n,o)=>{const{points:a,external:i,internal:c}=e,l=Math.floor(t/2),u=[],p=[];if("round"===n&&l>0){const e=Math.PI/l,t=a[a.length-1],n=r.angle(r.subtract(r.create(),i[i.length-1],t)),s=a[0],f=r.angle(r.subtract(r.create(),c[0],s));for(let a=1;a<l;a++){let i=n+e*a,c=r.fromAngleRadians(r.create(),i);r.scale(c,c,o),r.add(c,c,t),u.push(c),i=f+e*a,c=r.fromAngleRadians(r.create(),i),r.scale(c,c,o),r.add(c,c,s),p.push(c)}}const f=[];return f.push(...i,...u,...c.reverse(),...p),s.fromPoints(f)})(f,l,c,n)}},{"../../geometries/geom2":38,"../../geometries/path2":74,"../../maths/utils/area":179,"../../maths/vec2":202,"./offsetFromPoints":308}],304:[function(e,t,n){const{EPS:o,TAU:r}=e("../../maths/constants"),s=e("../../maths/mat4"),a=e("../../maths/vec3"),i=e("../../utils/fnNumberSort"),c=e("../../geometries/geom3"),l=e("../../geometries/poly3"),u=e("../../primitives/sphere"),p=e("../modifiers/retessellate"),f=e("../booleans/unionGeom3Sub"),h=e("./extrudePolygon"),m=(e,t,n)=>{const o=t.toString();if(e.has(o))e.get(o)[1].push(n);else{const r=[t,[n]];e.set(o,r)}},g=(e,t,n)=>{const o=t[0].toString(),r=t[1].toString(),s=o<r?`${o},${r}`:`${r},${o}`;if(e.has(s))e.get(s)[1].push(n);else{const o=[t,[n]];e.set(s,o)}},d=(e,t)=>{e.findIndex((e=>e===t))<0&&e.push(t)};t.exports=(e,t)=>{const{delta:n,segments:y}=Object.assign({},{delta:1,segments:12},e);let v=c.create();const b=new Map,x=new Map,A=a.create(),E=a.create();return c.toPolygons(t).forEach(((e,t)=>{const o=a.scale(a.create(),l.plane(e),2*n),r=l.transform(s.fromTranslation(s.create(),a.scale(a.create(),o,-.5)),e),i=h(o,r);v=f(v,i);const c=e.vertices;for(let t=0;t<c.length;t++){m(b,c[t],l.plane(e));const n=(t+1)%c.length,o=[c[t],c[n]];g(x,o,l.plane(e))}})),x.forEach((e=>{const t=e[0],s=e[1],u=t[0],p=t[1],h=a.subtract(a.create(),p,u);a.normalize(h,h);const m=s[0],g=a.cross(a.create(),m,h);let b=[];for(let e=0;e<y;e++)d(b,e*r/y);for(let e=0,t=s.length;e<t;e++){const t=s[e],n=a.dot(g,t),o=a.dot(m,t);let i=Math.atan2(n,o);i<0&&(i+=r),d(b,i),i=Math.atan2(-n,-o),i<0&&(i+=r),d(b,i)}b=b.sort(i);const x=b.length;let w,S;const T=[],P=[],D=[];for(let e=-1;e<x;e++){const t=b[e<0?e+x:e],r=Math.sin(t),s=Math.cos(t);a.scale(A,m,s*n),a.scale(E,g,r*n),a.add(A,A,E);const i=a.add(a.create(),u,A),c=a.add(a.create(),p,A);let f=!1;if(e>=0&&a.distance(i,w)<o&&(f=!0),!f){if(e>=0){T.push(i),P.push(c);const e=[S,c,i,w],t=l.create(e);D.push(t)}w=i,S=c}}P.reverse(),D.push(l.create(T)),D.push(l.create(P));const C=c.create(D);v=f(v,C)})),b.forEach((e=>{const t=e[0],o=e[1],r=o[0];let s=null,i=0;for(let e=1;e<o.length;e++){const t=o[e],n=a.cross(A,r,t),c=a.length(n);c>.05&&c>i&&(i=c,s=t)}s||(s=a.orthogonal(A,r));const c=a.cross(A,r,s);a.normalize(c,c);const l=a.cross(E,c,r),p=u({center:[t[0],t[1],t[2]],radius:n,segments:y,axes:[r,c,l]});v=f(v,p)})),p(v)}},{"../../geometries/geom3":53,"../../geometries/poly3":91,"../../maths/constants":106,"../../maths/mat4":155,"../../maths/vec3":233,"../../primitives/sphere":396,"../../utils/fnNumberSort":409,"../booleans/unionGeom3Sub":299,"../modifiers/retessellate":366,"./extrudePolygon":305}],305:[function(e,t,n){const o=e("../../maths/mat4"),r=e("../../maths/vec3"),s=e("../../geometries/geom3"),a=e("../../geometries/poly3");t.exports=(e,t)=>{r.dot(a.plane(t),e)>0&&(t=a.invert(t));const n=[t],i=a.transform(o.fromTranslation(o.create(),e),t),c=t.vertices.length;for(let e=0;e<c;e++){const o=e<c-1?e+1:0,r=a.create([t.vertices[e],i.vertices[e],i.vertices[o],t.vertices[o]]);n.push(r)}return n.push(a.invert(i)),s.create(n)}},{"../../geometries/geom3":53,"../../geometries/poly3":91,"../../maths/mat4":155,"../../maths/vec3":233}],306:[function(e,t,n){t.exports={expand:e("./expand"),offset:e("./offset")}},{"./expand":300,"./offset":307}],307:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../geometries/geom2"),s=e("../../geometries/path2"),a=e("./offsetGeom2"),i=e("./offsetPath2");t.exports=(e,...t)=>{if(0===(t=o(t)).length)throw new Error("wrong number of arguments");const n=t.map((t=>s.isA(t)?i(e,t):r.isA(t)?a(e,t):t));return 1===n.length?n[0]:n}},{"../../geometries/geom2":38,"../../geometries/path2":74,"../../utils/flatten":408,"./offsetGeom2":309,"./offsetPath2":310}],308:[function(e,t,n){const{EPS:o,TAU:r}=e("../../maths/constants"),s=e("../../maths/utils/intersect"),a=e("../../maths/line2"),i=e("../../maths/vec2"),c=e("../../maths/utils/area");t.exports=(e,t)=>{let{delta:n,corners:l,closed:u,segments:p}=Object.assign({},{delta:1,corners:"edge",closed:!1,segments:16},e);if(Math.abs(n)<o)return t;let f=e.closed?c(t):1;0===f&&(f=1);const h=f>0&&n>=0||f<0&&n<0;n=Math.abs(n);let m=null,g=[];const d=[],y=i.create(),v=t.length;for(let e=0;e<v;e++){const o=(e+1)%v,r=t[e],a=t[o];h?i.subtract(y,r,a):i.subtract(y,a,r),i.normal(y,y),i.normalize(y,y),i.scale(y,y,n);const c=i.add(i.create(),r,y),l=i.add(i.create(),a,y),p=[c,l];if(null!=m&&(u||!u&&0!==o)){const e=s(m[0],m[1],p[0],p[1]);e?(g.pop(),p[0]=e):d.push({c:r,s0:m,s1:p})}m=[c,l],(0!==o||u)&&(g.push(p[0]),g.push(p[1]))}if(u&&null!=m){const e=g[0],n=g[1],o=s(m[0],m[1],e,n);if(o)g[0]=o,g.pop();else{const o=t[0],r=[e,n];d.push({c:o,s0:m,s1:r})}}if("edge"===l){const e=new Map;g.forEach(((t,n)=>e.set(t,n)));const t=a.create(),n=a.create();d.forEach((o=>{a.fromPoints(t,o.s0[0],o.s0[1]),a.fromPoints(n,o.s1[0],o.s1[1]);const r=a.intersectPointOfLines(t,n);if(Number.isFinite(r[0])&&Number.isFinite(r[1])){const t=o.s0[1],n=e.get(t);g[n]=r,g[(n+1)%g.length]=void 0}else{const t=o.s1[0],n=e.get(t);g[n]=void 0}})),g=g.filter((e=>void 0!==e))}if("round"===l){let e=Math.floor(p/4);const t=i.create();d.forEach((o=>{let s=i.angle(i.subtract(t,o.s1[0],o.c));if(s-=i.angle(i.subtract(t,o.s0[1],o.c)),h&&s<0&&(s+=Math.PI,s<0&&(s+=Math.PI)),!h&&s>0&&(s-=Math.PI,s>0&&(s-=Math.PI)),0!==s){e=Math.floor(p*(Math.abs(s)/r));const a=s/e,c=i.angle(i.subtract(t,o.s0[1],o.c)),l=[];for(let t=1;t<e;t++){const e=c+a*t,r=i.fromAngleRadians(i.create(),e);i.scale(r,r,n),i.add(r,r,o.c),l.push(r)}if(l.length>0){const e=o.s0[1];let t=g.findIndex((t=>i.equals(e,t)));t=(t+1)%g.length,g.splice(t,0,...l)}}else{const e=o.s1[0],t=g.findIndex((t=>i.equals(e,t)));g.splice(t,1)}}))}return g}},{"../../maths/constants":106,"../../maths/line2":117,"../../maths/utils/area":179,"../../maths/utils/intersect":182,"../../maths/vec2":202}],309:[function(e,t,n){const o=e("../../geometries/geom2"),r=e("../../geometries/poly2"),s=e("./offsetFromPoints");t.exports=(e,t)=>{const{delta:n,corners:a,segments:i}=Object.assign({},{delta:1,corners:"edge",segments:0},e);if("edge"!==a&&"chamfer"!==a&&"round"!==a)throw new Error('corners must be "edge", "chamfer", or "round"');const c=o.toOutlines(t),l=c.map((t=>{const o=c.reduce(((e,n)=>e+r.arePointsInside(t,r.create(n))),0);return s(e={delta:o%2==0?n:-n,corners:a,closed:!0,segments:i},t)})).reduce(((e,t)=>e.concat(o.toSides(o.fromPoints(t)))),[]);return o.create(l)}},{"../../geometries/geom2":38,"../../geometries/poly2":85,"./offsetFromPoints":308}],310:[function(e,t,n){const o=e("../../geometries/path2"),r=e("./offsetFromPoints");t.exports=(e,t)=>{const n={delta:1,corners:"edge",closed:t.isClosed,segments:16},{delta:s,corners:a,closed:i,segments:c}=Object.assign({},n,e);if("edge"!==a&&"chamfer"!==a&&"round"!==a)throw new Error('corners must be "edge", "chamfer", or "round"');const l=r(e={delta:s,corners:a,closed:i,segments:c},o.toPoints(t));return o.fromPoints({closed:i},l)}},{"../../geometries/path2":74,"./offsetFromPoints":308}],311:[function(e,t,n){const{area:o}=e("../../../maths/utils"),{toOutlines:r}=e("../../../geometries/geom2"),{arePointsInside:s}=e("../../../geometries/poly2");t.exports=e=>{const t=r(e),n=[],a=[];t.forEach(((e,t)=>{const r=o(e);r<0?a.push(t):r>0&&n.push(t)}));const i=[],c=[];return n.forEach(((e,n)=>{const o=t[e];i[n]=[],a.forEach(((e,r)=>{const a=t[e];s([a[0]],{vertices:o})&&(i[n].push(e),c[r]||(c[r]=[]),c[r].push(n))}))})),a.forEach(((e,t)=>{if(c[t]&&c[t].length>1){const n=((e,t)=>{let n,o;return e.forEach(((e,r)=>{const s=t(e);(void 0===o||s<o)&&(n=r,o=s)})),n})(c[t],(e=>i[e].length));c[t].forEach(((t,o)=>{o!==n&&(i[t]=i[t].filter((t=>t!==e)))}))}})),i.map(((e,o)=>({solid:t[n[o]],holes:e.map((e=>t[e]))})))}},{"../../../geometries/geom2":38,"../../../geometries/poly2":85,"../../../maths/utils":180}],312:[function(e,t,n){const{filterPoints:o,linkedPolygon:r,locallyInside:s,splitPolygon:a}=e("./linkedPolygon"),{area:i,pointInTriangle:c}=e("./triangle"),l=(e,t)=>{const n=u(e,t);if(!n)return t;const r=a(n,e),s=o(n,n.next);return o(r,r.next),t===n?s:t},u=(e,t)=>{let n=t;const o=e.x,r=e.y;let a,i=-1/0;do{if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const e=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(e<=o&&e>i){if(i=e,e===o){if(r===n.y)return n;if(r===n.next.y)return n.next}a=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!a)return null;if(o===i)return a;const l=a,u=a.x,f=a.y;let h=1/0;n=a;do{if(o>=n.x&&n.x>=u&&o!==n.x&&c(r<f?o:i,r,u,f,r<f?i:o,r,n.x,n.y)){const t=Math.abs(r-n.y)/(o-n.x);s(n,e)&&(t<h||t===h&&(n.x>a.x||n.x===a.x&&p(a,n)))&&(a=n,h=t)}n=n.next}while(n!==l);return a},p=(e,t)=>i(e.prev,e,t.prev)<0&&i(t.next,e,e.next)<0,f=e=>{let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n};t.exports=(e,t,n,s)=>{const a=[];for(let n=0,o=t.length;n<o;n++){const i=t[n]*s,c=n<o-1?t[n+1]*s:e.length,l=r(e,i,c,s,!1);l===l.next&&(l.steiner=!0),a.push(f(l))}a.sort(((e,t)=>e.x-t.x));for(let e=0;e<a.length;e++)n=l(a[e],n),n=o(n,n.next);return n}},{"./linkedPolygon":316,"./triangle":318}],313:[function(e,t,n){const o=e("./eliminateHoles"),{removeNode:r,sortLinked:s}=e("./linkedList"),{cureLocalIntersections:a,filterPoints:i,isValidDiagonal:c,linkedPolygon:l,splitPolygon:u}=e("./linkedPolygon"),{area:p,pointInTriangle:f}=e("./triangle"),h=(e,t,n,o,s,c,l)=>{if(!e)return;!l&&c&&y(e,o,s,c);let u,p,f=e;for(;e.prev!==e.next;)if(u=e.prev,p=e.next,c?g(e,o,s,c):m(e))t.push(u.i/n),t.push(e.i/n),t.push(p.i/n),r(e),e=p.next,f=p.next;else if((e=p)===f){l?1===l?(e=a(i(e),t,n),h(e,t,n,o,s,c,2)):2===l&&d(e,t,n,o,s,c):h(i(e),t,n,o,s,c,1);break}},m=e=>{const t=e.prev,n=e,o=e.next;if(p(t,n,o)>=0)return!1;let r=e.next.next;for(;r!==e.prev;){if(f(t.x,t.y,n.x,n.y,o.x,o.y,r.x,r.y)&&p(r.prev,r,r.next)>=0)return!1;r=r.next}return!0},g=(e,t,n,o)=>{const r=e.prev,s=e,a=e.next;if(p(r,s,a)>=0)return!1;const i=r.x<s.x?r.x<a.x?r.x:a.x:s.x<a.x?s.x:a.x,c=r.y<s.y?r.y<a.y?r.y:a.y:s.y<a.y?s.y:a.y,l=r.x>s.x?r.x>a.x?r.x:a.x:s.x>a.x?s.x:a.x,u=r.y>s.y?r.y>a.y?r.y:a.y:s.y>a.y?s.y:a.y,h=v(i,c,t,n,o),m=v(l,u,t,n,o);let g=e.prevZ,d=e.nextZ;for(;g&&g.z>=h&&d&&d.z<=m;){if(g!==e.prev&&g!==e.next&&f(r.x,r.y,s.x,s.y,a.x,a.y,g.x,g.y)&&p(g.prev,g,g.next)>=0)return!1;if(g=g.prevZ,d!==e.prev&&d!==e.next&&f(r.x,r.y,s.x,s.y,a.x,a.y,d.x,d.y)&&p(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;g&&g.z>=h;){if(g!==e.prev&&g!==e.next&&f(r.x,r.y,s.x,s.y,a.x,a.y,g.x,g.y)&&p(g.prev,g,g.next)>=0)return!1;g=g.prevZ}for(;d&&d.z<=m;){if(d!==e.prev&&d!==e.next&&f(r.x,r.y,s.x,s.y,a.x,a.y,d.x,d.y)&&p(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0},d=(e,t,n,o,r,s)=>{let a=e;do{let e=a.next.next;for(;e!==a.prev;){if(a.i!==e.i&&c(a,e)){let c=u(a,e);return a=i(a,a.next),c=i(c,c.next),h(a,t,n,o,r,s),void h(c,t,n,o,r,s)}e=e.next}a=a.next}while(a!==e)},y=(e,t,n,o)=>{let r=e;do{null===r.z&&(r.z=v(r.x,r.y,t,n,o)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,s(r,(e=>e.z))},v=(e,t,n,o,r)=>(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-o)*r)|t<<8))|t<<4))|t<<2))|t<<1))<<1;t.exports=(e,t,n=2)=>{const r=t&&t.length,s=r?t[0]*n:e.length;let a=l(e,0,s,n,!0);const i=[];if(!a||a.next===a.prev)return i;let c,u,p,f,m;if(r&&(a=o(e,t,a,n)),e.length>80*n){c=p=e[0],u=f=e[1];for(let t=n;t<s;t+=n){const n=e[t],o=e[t+1];n<c&&(c=n),o<u&&(u=o),n>p&&(p=n),o>f&&(f=o)}m=Math.max(p-c,f-u),m=0!==m?1/m:0}return h(a,i,n,c,u,m),i}},{"./eliminateHoles":312,"./linkedList":314,"./linkedPolygon":316,"./triangle":318}],314:[function(e,t,n){const o=e("./linkedListSort");class r{constructor(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}}t.exports={Node:r,insertNode:(e,t,n,o)=>{const s=new r(e,t,n);return o?(s.next=o.next,s.prev=o,o.next.prev=s,o.next=s):(s.prev=s,s.next=s),s},removeNode:e=>{e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)},sortLinked:o}},{"./linkedListSort":315}],315:[function(e,t,n){t.exports=(e,t)=>{let n,o,r,s,a,i=1;do{o=e,e=null;let c=null;for(a=0;o;){a++,r=o;let l=0;for(n=0;n<i&&(l++,r=r.nextZ,r);n++);let u=i;for(;l>0||u>0&&r;)0!==l&&(0===u||!r||t(o)<=t(r))?(s=o,o=o.nextZ,l--):(s=r,r=r.nextZ,u--),c?c.nextZ=s:e=s,s.prevZ=c,c=s;o=r}c.nextZ=null,i*=2}while(a>1);return e}},{}],316:[function(e,t,n){const{Node:o,insertNode:r,removeNode:s}=e("./linkedList"),{area:a}=e("./triangle"),i=(e,t)=>{if(!e)return e;t||(t=e);let n,o=e;do{if(n=!1,o.steiner||!p(o,o.next)&&0!==a(o.prev,o,o.next))o=o.next;else{if(s(o),o=t=o.prev,o===o.next)break;n=!0}}while(n||o!==t);return t},c=(e,t)=>a(e.prev,e,e.next)<0?a(e,t,e.next)>=0&&a(e,e.prev,t)>=0:a(e,t,e.prev)<0||a(e,e.next,t)<0,l=(e,t,n,o)=>{const r=Math.sign(a(e,t,n)),s=Math.sign(a(e,t,o)),i=Math.sign(a(n,o,e)),c=Math.sign(a(n,o,t));return r!==s&&i!==c||!(0!==r||!u(e,n,t))||!(0!==s||!u(e,o,t))||!(0!==i||!u(n,e,o))||!(0!==c||!u(n,t,o))},u=(e,t,n)=>t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y),p=(e,t)=>e.x===t.x&&e.y===t.y;t.exports={cureLocalIntersections:(e,t,n)=>{let o=e;do{const r=o.prev,a=o.next.next;!p(r,a)&&l(r,o,o.next,a)&&c(r,a)&&c(a,r)&&(t.push(r.i/n),t.push(o.i/n),t.push(a.i/n),s(o),s(o.next),o=e=a),o=o.next}while(o!==e);return i(o)},filterPoints:i,isValidDiagonal:(e,t)=>e.next.i!==t.i&&e.prev.i!==t.i&&!((e,t)=>{let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&l(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1})(e,t)&&(c(e,t)&&c(t,e)&&((e,t)=>{let n=e,o=!1;const r=(e.x+t.x)/2,s=(e.y+t.y)/2;do{n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(o=!o),n=n.next}while(n!==e);return o})(e,t)&&(a(e.prev,e,t.prev)||a(e,t.prev,t))||p(e,t)&&a(e.prev,e,e.next)>0&&a(t.prev,t,t.next)>0),linkedPolygon:(e,t,n,o,a)=>{let i;if(a===((e,t,n,o)=>{let r=0;for(let s=t,a=n-o;s<n;s+=o)r+=(e[a]-e[s])*(e[s+1]+e[a+1]),a=s;return r})(e,t,n,o)>0)for(let s=t;s<n;s+=o)i=r(s,e[s],e[s+1],i);else for(let s=n-o;s>=t;s-=o)i=r(s,e[s],e[s+1],i);return i&&p(i,i.next)&&(s(i),i=i.next),i},locallyInside:c,splitPolygon:(e,t)=>{const n=new o(e.i,e.x,e.y),r=new o(t.i,t.x,t.y),s=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=s,s.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}}},{"./linkedList":314,"./triangle":318}],317:[function(e,t,n){const o=e("../../../geometries/geom2"),r=e("../../../maths/plane"),s=e("../../../maths/vec2"),a=e("../../../maths/vec3"),i=e("../slice/calculatePlane"),c=e("./assignHoles");t.exports=class{constructor(e){this.plane=i(e);const t=a.orthogonal(a.create(),this.plane),n=a.cross(a.create(),this.plane,t);this.v=a.normalize(n,n),this.u=a.cross(a.create(),this.v,this.plane),this.basisMap=new Map;const r=e.edges.map((e=>e.map((e=>this.to2D(e))))),s=o.create(r);this.roots=c(s)}to2D(e){const t=s.fromValues(a.dot(e,this.u),a.dot(e,this.v));return this.basisMap.set(t,e),t}to3D(e){const t=this.basisMap.get(e);if(t)return t;{console.log("Warning: point not in original slice");const t=a.scale(a.create(),this.u,e[0]),n=a.scale(a.create(),this.v,e[1]),o=a.scale(a.create(),r,r[3]),s=a.add(t,t,o);return a.add(n,n,s)}}}},{"../../../geometries/geom2":38,"../../../maths/plane":174,"../../../maths/vec2":202,"../../../maths/vec3":233,"../slice/calculatePlane":331,"./assignHoles":311}],318:[function(e,t,n){t.exports={area:(e,t,n)=>(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y),pointInTriangle:(e,t,n,o,r,s,a,i)=>(r-a)*(t-i)-(e-a)*(s-i)>=0&&(e-a)*(o-i)-(n-a)*(t-i)>=0&&(n-a)*(s-i)-(r-a)*(o-i)>=0}},{}],319:[function(e,t,n){const o=e("../../maths/mat4"),r=e("../../geometries/geom2"),s=e("../../geometries/geom3"),a=e("../../geometries/poly3"),i=e("./slice"),c=e("./slice/repair"),l=e("./extrudeWalls"),u=(e,t,n)=>{let s=null;return r.isA(n)&&(s=i.fromSides(r.toSides(n))),a.isA(n)&&(s=i.fromPoints(a.toPoints(n))),0===e||1===e?i.transform(o.fromTranslation(o.create(),[0,0,e]),s):null};t.exports=(e,t)=>{const n={numberOfSlices:2,capStart:!0,capEnd:!0,close:!1,repair:!0,callback:u},{numberOfSlices:o,capStart:r,capEnd:p,close:f,repair:h,callback:m}=Object.assign({},n,e);if(o<2)throw new Error("numberOfSlices must be 2 or more");h&&(t=c(t));const g=o-1;let d=null,y=null,v=null,b=[];for(let e=0;e<o;e++){const n=m(e/g,e,t);if(n){if(!i.isA(n))throw new Error("the callback function must return slice objects");if(0===i.toEdges(n).length)throw new Error("the callback function must return slices with one or more edges");v&&(b=b.concat(l(v,n))),0===e&&(d=n),e===o-1&&(y=n),v=n}}if(p){const e=i.toPolygons(y);b=b.concat(e)}if(r){const e=i.toPolygons(d).map(a.invert);b=b.concat(e)}return r||p||f&&!i.equals(y,d)&&(b=b.concat(l(y,d))),s.create(b)}},{"../../geometries/geom2":38,"../../geometries/geom3":53,"../../geometries/poly3":91,"../../maths/mat4":155,"./extrudeWalls":328,"./slice":337,"./slice/repair":339}],320:[function(e,t,n){const{TAU:o}=e("../../maths/constants"),r=e("./slice"),s=e("../../maths/mat4"),a=e("./extrudeFromSlices"),i=e("../../geometries/geom2");t.exports=(e,t)=>{const n={angle:o,startAngle:0,pitch:10,endOffset:0,segmentsPerRotation:32},{angle:c,endOffset:l,segmentsPerRotation:u,startAngle:p}=Object.assign({},n,e);let f;if(f=!e.pitch&&e.height?e.height/(c/o):e.pitch?e.pitch:n.pitch,u<3)throw new Error("The number of segments per rotation needs to be at least 3.");const h=i.toSides(t);if(0===h.length)throw new Error("the given geometry cannot be empty");const m=h.filter((e=>e[0][0]>=0));let g=r.fromSides(h);0===m.length&&(g=r.reverse(g));const d=Math.round(u/o*Math.abs(c)),y=d>=2?d:2,v=s.create();let b;return a({numberOfSlices:y+1,callback:(e,t,n)=>{const a=p+c/y*t,i=l/y*t,u=(a-p)/o*f;return s.multiply(v,s.fromTranslation(s.create(),[i,0,u*Math.sign(c)]),s.fromXRotation(s.create(),-o/4*Math.sign(c))),b=s.create(),s.multiply(b,s.fromZRotation(s.create(),a),v),r.transform(b,n)}},g)}},{"../../geometries/geom2":38,"../../maths/constants":106,"../../maths/mat4":155,"./extrudeFromSlices":319,"./slice":337}],321:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../geometries/geom2"),s=e("../../geometries/path2"),a=e("./extrudeLinearGeom2"),i=e("./extrudeLinearPath2");t.exports=(e,...t)=>{const{height:n,twistAngle:c,twistSteps:l,repair:u}=Object.assign({},{height:1,twistAngle:0,twistSteps:1,repair:!0},e);if(0===(t=o(t)).length)throw new Error("wrong number of arguments");e={offset:[0,0,n],twistAngle:c,twistSteps:l,repair:u};const p=t.map((t=>s.isA(t)?i(e,t):r.isA(t)?a(e,t):t));return 1===p.length?p[0]:p}},{"../../geometries/geom2":38,"../../geometries/path2":74,"../../utils/flatten":408,"./extrudeLinearGeom2":322,"./extrudeLinearPath2":323}],322:[function(e,t,n){const o=e("../../maths/mat4"),r=e("../../maths/vec3"),s=e("../../geometries/geom2"),a=e("./slice"),i=e("./extrudeFromSlices");t.exports=(e,t)=>{let{offset:n,twistAngle:c,twistSteps:l,repair:u}=Object.assign({},{offset:[0,0,1],twistAngle:0,twistSteps:12,repair:!0},e);if(l<1)throw new Error("twistSteps must be 1 or more");0===c&&(l=1);const p=r.clone(n),f=s.toSides(t);if(0===f.length)throw new Error("the given geometry cannot be empty");const h=a.fromSides(f);p[2]<0&&a.reverse(h,h);const m=o.create();return i(e={numberOfSlices:l+1,capStart:!0,capEnd:!0,repair:u,callback:(e,t,n)=>{const s=t/l*c,i=r.scale(r.create(),p,t/l);return o.multiply(m,o.fromZRotation(m,s),o.fromTranslation(o.create(),i)),a.transform(m,n)}},h)}},{"../../geometries/geom2":38,"../../maths/mat4":155,"../../maths/vec3":233,"./extrudeFromSlices":319,"./slice":337}],323:[function(e,t,n){const o=e("../../geometries/geom2"),r=e("../../geometries/path2"),s=e("./extrudeLinearGeom2");t.exports=(e,t)=>{if(!t.isClosed)throw new Error("extruded path must be closed");const n=r.toPoints(t),a=o.fromPoints(n);return s(e,a)}},{"../../geometries/geom2":38,"../../geometries/path2":74,"./extrudeLinearGeom2":322}],324:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../geometries/geom2"),s=e("../../geometries/path2"),a=e("./extrudeRectangularPath2"),i=e("./extrudeRectangularGeom2");t.exports=(e,...t)=>{const{size:n,height:c}=Object.assign({},{size:1,height:1},e);if(0===(t=o(t)).length)throw new Error("wrong number of arguments");if(n<=0)throw new Error("size must be positive");if(c<=0)throw new Error("height must be positive");const l=t.map((t=>s.isA(t)?a(e,t):r.isA(t)?i(e,t):t));return 1===l.length?l[0]:l}},{"../../geometries/geom2":38,"../../geometries/path2":74,"../../utils/flatten":408,"./extrudeRectangularGeom2":325,"./extrudeRectangularPath2":326}],325:[function(e,t,n){const{area:o}=e("../../maths/utils"),r=e("../../geometries/geom2"),s=e("../../geometries/path2"),a=e("../expansions/expand"),i=e("./extrudeLinearGeom2");t.exports=(e,t)=>{const{size:n,height:c}=Object.assign({},{size:1,height:1},e);e.delta=n,e.offset=[0,0,c];const l=r.toOutlines(t);if(0===l.length)throw new Error("the given geometry cannot be empty");const u=l.map((t=>(o(t)<0&&t.reverse(),a(e,s.fromPoints({closed:!0},t))))).reduce(((e,t)=>e.concat(r.toSides(t))),[]),p=r.create(u);return i(e,p)}},{"../../geometries/geom2":38,"../../geometries/path2":74,"../../maths/utils":180,"../expansions/expand":300,"./extrudeLinearGeom2":322}],326:[function(e,t,n){const o=e("../../geometries/path2"),r=e("../expansions/expand"),s=e("./extrudeLinearGeom2");t.exports=(e,t)=>{const{size:n,height:a}=Object.assign({},{size:1,height:1},e);if(e.delta=n,e.offset=[0,0,a],0===o.toPoints(t).length)throw new Error("the given geometry cannot be empty");const i=r(e,t);return s(e,i)}},{"../../geometries/path2":74,"../expansions/expand":300,"./extrudeLinearGeom2":322}],327:[function(e,t,n){const{TAU:o}=e("../../maths/constants"),r=e("../../maths/mat4"),{mirrorX:s}=e("../transforms/mirror"),a=e("../../geometries/geom2"),i=e("./slice"),c=e("./extrudeFromSlices");t.exports=(e,t)=>{const n={segments:12,startAngle:0,angle:o,overflow:"cap"};let{segments:l,startAngle:u,angle:p,overflow:f}=Object.assign({},n,e);if(l<3)throw new Error("segments must be greater then 3");u=Math.abs(u)>o?u%o:u,p=Math.abs(p)>o?p%o:p;let h=u+p;if(h=Math.abs(h)>o?h%o:h,h<u){const e=u;u=h,h=e}let m=h-u;if(m<=0&&(m=o),Math.abs(m)<o){const e=o/l;l=Math.floor(Math.abs(m)/e),Math.abs(m)>l*e&&l++}let g=a.toSides(t);if(0===g.length)throw new Error("the given geometry cannot be empty");const d=g.filter((e=>e[0][0]<0)),y=g.filter((e=>e[0][0]>=0));d.length>0&&y.length>0&&"cap"===f&&(d.length>y.length?(g=g.map((e=>{let t=e[0],n=e[1];return t=[Math.min(t[0],0),t[1]],n=[Math.min(n[0],0),n[1]],[t,n]})),t=a.reverse(a.create(g)),t=s(t)):y.length>=d.length&&(g=g.map((e=>{let t=e[0],n=e[1];return t=[Math.max(t[0],0),t[1]],n=[Math.max(n[0],0),n[1]],[t,n]})),t=a.create(g)));const v=m/l,b=Math.abs(m)<o,x=i.fromSides(a.toSides(t));i.reverse(x,x);const A=r.create();return c(e={numberOfSlices:l+1,capStart:b,capEnd:b,close:!b,callback:(e,t,n)=>{let s=v*t+u;return m===o&&t===l&&(s=u),r.multiply(A,r.fromZRotation(A,s),r.fromXRotation(r.create(),o/4)),i.transform(A,n)}},x)}},{"../../geometries/geom2":38,"../../maths/constants":106,"../../maths/mat4":155,"../transforms/mirror":373,"./extrudeFromSlices":319,"./slice":337}],328:[function(e,t,n){const{EPS:o}=e("../../maths/constants"),r=e("../../maths/vec3"),s=e("../../geometries/poly3"),a=e("./slice"),i=(e,t)=>e===t?e:e<t?i(t,e):1===t?1:0===t?e:i(t,e%t),c=(e,t)=>{const n=e/t.length;if(1===n)return t;const o=r.fromValues(n,n,n),s=[];return t.forEach((e=>{const t=r.subtract(r.create(),e[1],e[0]);r.divide(t,t,o);let a=e[0];for(let e=1;e<=n;++e){const e=r.add(r.create(),a,t);s.push([a,e]),a=e}})),s},l=o*o/2*Math.sin(Math.PI/3);t.exports=(e,t)=>{let n=a.toEdges(e),o=a.toEdges(t);if(n.length!==o.length){const e=(r=n.length)*(u=o.length)/i(r,u);e!==n.length&&(n=c(e,n)),e!==o.length&&(o=c(e,o))}var r,u;const p=[];return n.forEach(((e,t)=>{const n=o[t],r=s.create([e[0],e[1],n[1]]),a=s.measureArea(r);Number.isFinite(a)&&a>l&&p.push(r);const i=s.create([e[0],n[1],n[0]]),c=s.measureArea(i);Number.isFinite(c)&&c>l&&p.push(i)})),p}},{"../../geometries/poly3":91,"../../maths/constants":106,"../../maths/vec3":233,"./slice":337}],329:[function(e,t,n){t.exports={extrudeFromSlices:e("./extrudeFromSlices"),extrudeLinear:e("./extrudeLinear"),extrudeRectangular:e("./extrudeRectangular"),extrudeRotate:e("./extrudeRotate"),extrudeHelical:e("./extrudeHelical"),project:e("./project"),slice:e("./slice")}},{"./extrudeFromSlices":319,"./extrudeHelical":320,"./extrudeLinear":321,"./extrudeRectangular":324,"./extrudeRotate":327,"./project":330,"./slice":337}],330:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../maths/utils/aboutEqualNormals"),s=e("../../maths/plane"),a=e("../../maths/mat4"),i=e("../../geometries/geom2"),c=e("../../geometries/geom3"),l=e("../../geometries/poly3"),u=e("../../measurements/measureEpsilon"),p=e("../booleans/unionGeom2");t.exports=(e,...t)=>{const{axis:n,origin:f}=Object.assign({},{axis:[0,0,1],origin:[0,0,0]},e);if(0===(t=o(t)).length)throw new Error("wrong number of arguments");e={axis:n,origin:f};const h=t.map((t=>c.isA(t)?((e,t)=>{const n=s.fromNormalAndPoint(s.create(),e.axis,e.origin);if(Number.isNaN(n[0])||Number.isNaN(n[1])||Number.isNaN(n[2])||Number.isNaN(n[3]))throw new Error("project: invalid axis or origin");const o=u(t),f=o*o*Math.sqrt(3)/4;if(0===o)return i.create();const h=c.toPolygons(t);let m=[];for(let e=0;e<h.length;e++){const t=h[e].vertices.map((e=>s.projectionOfPoint(n,e))),o=l.create(t),a=l.plane(o);r(n,a)&&(l.measureArea(o)<f||m.push(o))}if(!r(n,[0,0,1])){const e=a.fromVectorRotation(a.create(),n,[0,0,1]);m=m.map((t=>l.transform(e,t)))}m=m.sort(((e,t)=>l.measureArea(t)-l.measureArea(e)));const g=m.map((e=>i.fromPoints(e.vertices)));return p(g)})(e,t):t));return 1===h.length?h[0]:h}},{"../../geometries/geom2":38,"../../geometries/geom3":53,"../../geometries/poly3":91,"../../maths/mat4":155,"../../maths/plane":174,"../../maths/utils/aboutEqualNormals":178,"../../measurements/measureEpsilon":274,"../../utils/flatten":408,"../booleans/unionGeom2":297}],331:[function(e,t,n){const o=e("../../../maths/plane"),r=e("../../../maths/vec3");t.exports=e=>{const t=e.edges;if(t.length<3)throw new Error("slices must have 3 or more edges to calculate a plane");const n=t.reduce(((e,t)=>r.add(r.create(),e,t[0])),r.create());let s;r.scale(n,n,1/t.length);let a=0;t.forEach((e=>{if(!r.equals(e[0],e[1])){const t=r.squaredDistance(n,e[0]);t>a&&(s=e,a=t)}}));const i=t.find((e=>r.equals(e[1],s[0])));return o.fromPoints(o.create(),i[0],s[0],s[1])}},{"../../../maths/plane":174,"../../../maths/vec3":233}],332:[function(e,t,n){const o=e("./create"),r=e("../../../maths/vec3");t.exports=(...e)=>{let t,n;return 1===e.length?(t=o(),n=e[0]):(t=e[0],n=e[1]),t.edges=n.edges.map((e=>[r.clone(e[0]),r.clone(e[1])])),t}},{"../../../maths/vec3":233,"./create":333}],333:[function(e,t,n){t.exports=e=>(e||(e=[]),{edges:e})},{}],334:[function(e,t,n){const o=e("../../../maths/vec3");t.exports=(e,t)=>{const n=e.edges,r=t.edges;return n.length===r.length&&n.reduce(((e,t,n)=>{const s=r[n],a=o.squaredDistance(t[0],s[0]);return e&&a<Number.EPSILON}),!0)}},{"../../../maths/vec3":233}],335:[function(e,t,n){const o=e("../../../maths/vec3"),r=e("./create");t.exports=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");if(e.length<3)throw new Error("the given points must contain THREE or more points");const t=[];let n=e[e.length-1];return e.forEach((e=>{2===e.length&&t.push([o.fromVec2(o.create(),n),o.fromVec2(o.create(),e)]),3===e.length&&t.push([n,e]),n=e})),r(t)}},{"../../../maths/vec3":233,"./create":333}],336:[function(e,t,n){const o=e("../../../maths/vec3"),r=e("./create");t.exports=e=>{if(!Array.isArray(e))throw new Error("the given sides must be an array");const t=[];return e.forEach((e=>{t.push([o.fromVec2(o.create(),e[0]),o.fromVec2(o.create(),e[1])])})),r(t)}},{"../../../maths/vec3":233,"./create":333}],337:[function(e,t,n){t.exports={calculatePlane:e("./calculatePlane"),clone:e("./clone"),create:e("./create"),equals:e("./equals"),fromPoints:e("./fromPoints"),fromSides:e("./fromSides"),isA:e("./isA"),reverse:e("./reverse"),toEdges:e("./toEdges"),toPolygons:e("./toPolygons"),toString:e("./toString"),transform:e("./transform")}},{"./calculatePlane":331,"./clone":332,"./create":333,"./equals":334,"./fromPoints":335,"./fromSides":336,"./isA":338,"./reverse":340,"./toEdges":341,"./toPolygons":342,"./toString":343,"./transform":344}],338:[function(e,t,n){t.exports=e=>!!(e&&"object"==typeof e&&"edges"in e&&Array.isArray(e.edges))},{}],339:[function(e,t,n){const o=e("../../../maths/vec3"),r=e("./create");t.exports=e=>{if(!e.edges)return e;let t=e.edges;const n=new Map,s=new Map;t=t.filter((e=>!o.equals(e[0],e[1]))),t.forEach((e=>{const t=e[0].toString(),o=e[1].toString();n.set(t,e[0]),n.set(o,e[1]),s.set(t,(s.get(t)||0)+1),s.set(o,(s.get(o)||0)-1)}));const a=[],i=[];return s.forEach(((e,t)=>{e<0&&a.push(t),e>0&&i.push(t)})),a.forEach((e=>{const r=n.get(e);let s,a=1/0;i.forEach((e=>{const t=n.get(e),i=o.distance(r,t);i<a&&(a=i,s=t)})),console.warn(`slice.repair: repairing vertex gap ${r} to ${s} distance ${a}`),t=t.map((t=>t[0].toString()===e?[s,t[1]]:t[1].toString()===e?[t[0],s]:t))})),r(t)}},{"../../../maths/vec3":233,"./create":333}],340:[function(e,t,n){const o=e("./create");t.exports=(...e)=>{let t,n;return 1===e.length?(t=o(),n=e[0]):(t=e[0],n=e[1]),t.edges=n.edges.map((e=>[e[1],e[0]])),t}},{"./create":333}],341:[function(e,t,n){t.exports=e=>e.edges},{}],342:[function(e,t,n){const o=e("../../../geometries/poly3"),r=e("../earcut"),s=e("../earcut/polygonHierarchy");t.exports=e=>{const t=new s(e),n=[];return t.roots.forEach((({solid:e,holes:s})=>{let a=e.length;const i=[];s.forEach(((e,t)=>{i.push(a),a+=e.length}));const c=[e,...s].flat(),l=c.flat(),u=e=>t.to3D(c[e]),p=r(l,i);for(let e=0;e<p.length;e+=3){const r=p.slice(e,e+3).map(u);n.push(o.fromPointsAndPlane(r,t.plane))}})),n}},{"../../../geometries/poly3":91,"../earcut":313,"../earcut/polygonHierarchy":317}],343:[function(e,t,n){const o=e("../../../maths/vec3");t.exports=e=>{return`[${t=e.edges,t.reduce(((e,t)=>e+`[${o.toString(t[0])}, ${o.toString(t[1])}], `),"")}]`;var t}},{"../../../maths/vec3":233}],344:[function(e,t,n){const o=e("../../../maths/vec3"),r=e("./create");t.exports=(e,t)=>{const n=t.edges.map((t=>[o.transform(o.create(),t[0],e),o.transform(o.create(),t[1],e)]));return r(n)}},{"../../../maths/vec3":233,"./create":333}],345:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../utils/areAllShapesTheSameType"),s=e("../../geometries/geom2"),a=e("../../geometries/geom3"),i=e("../../geometries/path2"),c=e("./hullPath2"),l=e("./hullGeom2"),u=e("./hullGeom3");t.exports=(...e)=>{if(0===(e=o(e)).length)throw new Error("wrong number of arguments");if(!r(e))throw new Error("only hulls of the same type are supported");const t=e[0];return i.isA(t)?c(e):s.isA(t)?l(e):a.isA(t)?u(e):t}},{"../../geometries/geom2":38,"../../geometries/geom3":53,"../../geometries/path2":74,"../../utils/areAllShapesTheSameType":406,"../../utils/flatten":408,"./hullGeom2":347,"./hullGeom3":348,"./hullPath2":349}],346:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../booleans/union"),s=e("./hull");t.exports=(...e)=>{if((e=o(e)).length<2)throw new Error("wrong number of arguments");const t=[];for(let n=1;n<e.length;n++)t.push(s(e[n-1],e[n]));return r(t)}},{"../../utils/flatten":408,"../booleans/union":296,"./hull":345}],347:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../geometries/geom2"),s=e("./hullPoints2"),a=e("./toUniquePoints");t.exports=(...e)=>{e=o(e);const t=a(e),n=s(t);return n.length<3?r.create():r.fromPoints(n)}},{"../../geometries/geom2":38,"../../utils/flatten":408,"./hullPoints2":350,"./toUniquePoints":360}],348:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../geometries/geom3"),s=e("../../geometries/poly3"),a=e("./quickhull"),i=e("./toUniquePoints");t.exports=(...e)=>{if(1===(e=o(e)).length)return e[0];const t=i(e),n=a(t,{skipTriangulation:!0}).map((e=>{const n=e.map((e=>t[e]));return s.create(n)}));return r.create(n)}},{"../../geometries/geom3":53,"../../geometries/poly3":91,"../../utils/flatten":408,"./quickhull":358,"./toUniquePoints":360}],349:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../geometries/path2"),s=e("./hullPoints2"),a=e("./toUniquePoints");t.exports=(...e)=>{e=o(e);const t=a(e),n=s(t);return r.fromPoints({closed:!0},n)}},{"../../geometries/path2":74,"../../utils/flatten":408,"./hullPoints2":350,"./toUniquePoints":360}],350:[function(e,t,n){const o=e("../../maths/vec2");t.exports=e=>{let t=o.fromValues(1/0,1/0);e.forEach((e=>{(e[1]<t[1]||e[1]===t[1]&&e[0]<t[0])&&(t=e)}));const n=[];e.forEach((e=>{const r=(a=e[1]-t[1],i=e[0]-t[0],0===a&&0===i?-1/0:-i/a),s=o.squaredDistance(e,t);var a,i;n.push({point:e,angle:r,distSq:s})})),n.sort(((e,t)=>e.angle!==t.angle?e.angle-t.angle:e.distSq-t.distSq));const r=[];return n.forEach((e=>{let t=r.length;for(;t>1&&(n=r[t-2],o=r[t-1],s=e.point,(o[0]-n[0])*(s[1]-n[1])-(o[1]-n[1])*(s[0]-n[0])<=Number.EPSILON);)r.pop(),t=r.length;var n,o,s;r.push(e.point)})),r}},{"../../maths/vec2":202}],351:[function(e,t,n){t.exports={hull:e("./hull"),hullChain:e("./hullChain")}},{"./hull":345,"./hullChain":346}],352:[function(e,t,n){const o=e("../../../maths/vec3/add"),r=e("../../../maths/vec3/copy"),s=e("../../../maths/vec3/cross"),a=e("../../../maths/vec3/dot"),i=e("../../../maths/vec3/length"),c=e("../../../maths/vec3/normalize"),l=e("../../../maths/vec3/scale"),u=e("../../../maths/vec3/subtract"),p=e("./HalfEdge");class f{constructor(){this.normal=[],this.centroid=[],this.offset=0,this.outside=null,this.mark=0,this.edge=null,this.nVertices=0}getEdge(e){if("number"!=typeof e)throw Error("requires a number");let t=this.edge;for(;e>0;)t=t.next,e-=1;for(;e<0;)t=t.prev,e+=1;return t}computeNormal(){const e=this.edge,t=e.next;let n=t.next;const a=u([],t.head().point,e.head().point),c=[],p=[];for(this.nVertices=2,this.normal=[0,0,0];n!==e;)r(p,a),u(a,n.head().point,e.head().point),o(this.normal,this.normal,s(c,p,a)),n=n.next,this.nVertices+=1;this.area=i(this.normal),this.normal=l(this.normal,this.normal,1/this.area)}computeNormalMinArea(e){if(this.computeNormal(),this.area<e){let e,t=0,n=this.edge;do{const o=n.lengthSquared();o>t&&(e=n,t=o),n=n.next}while(n!==this.edge);const r=e.tail().point,s=e.head().point,i=u([],s,r),p=Math.sqrt(t);l(i,i,1/p);const f=a(this.normal,i);l(i,i,-f),o(this.normal,this.normal,i),c(this.normal,this.normal)}}computeCentroid(){this.centroid=[0,0,0];let e=this.edge;do{o(this.centroid,this.centroid,e.head().point),e=e.next}while(e!==this.edge);l(this.centroid,this.centroid,1/this.nVertices)}computeNormalAndCentroid(e){void 0!==e?this.computeNormalMinArea(e):this.computeNormal(),this.computeCentroid(),this.offset=a(this.normal,this.centroid)}distanceToPlane(e){return a(this.normal,e)-this.offset}connectHalfEdges(e,t){let n;if(e.opposite.face===t.opposite.face){const o=t.opposite.face;let r;e===this.edge&&(this.edge=t),3===o.nVertices?(r=t.opposite.prev.opposite,o.mark=2,n=o):(r=t.opposite.next,o.edge===r.prev&&(o.edge=r),r.prev=r.prev.prev,r.prev.next=r),t.prev=e.prev,t.prev.next=t,t.setOpposite(r),o.computeNormalAndCentroid()}else e.next=t,t.prev=e;return n}mergeAdjacentFaces(e,t){const n=e.opposite,o=n.face;t.push(o),o.mark=2;let r,s,a=e.prev,i=e.next,c=n.prev,l=n.next;for(;a.opposite.face===o;)a=a.prev,l=l.next;for(;i.opposite.face===o;)i=i.next,c=c.prev;for(r=l;r!==c.next;r=r.next)r.face=this;return this.edge=i,s=this.connectHalfEdges(c,i),s&&t.push(s),s=this.connectHalfEdges(a,l),s&&t.push(s),this.computeNormalAndCentroid(),t}collectIndices(){const e=[];let t=this.edge;do{e.push(t.head().index),t=t.next}while(t!==this.edge);return e}static createTriangle(e,t,n,o=0){const r=new f,s=new p(e,r),a=new p(t,r),i=new p(n,r);return s.next=i.prev=a,a.next=s.prev=i,i.next=a.prev=s,r.edge=s,r.computeNormalAndCentroid(o),r}}t.exports={VISIBLE:0,NON_CONVEX:1,DELETED:2,Face:f}},{"../../../maths/vec3/add":220,"../../../maths/vec3/copy":223,"../../../maths/vec3/cross":225,"../../../maths/vec3/dot":228,"../../../maths/vec3/length":234,"../../../maths/vec3/normalize":240,"../../../maths/vec3/scale":245,"../../../maths/vec3/subtract":249,"./HalfEdge":353}],353:[function(e,t,n){const o=e("../../../maths/vec3/distance"),r=e("../../../maths/vec3/squaredDistance");t.exports=class{constructor(e,t){this.vertex=e,this.face=t,this.next=null,this.prev=null,this.opposite=null}head(){return this.vertex}tail(){return this.prev?this.prev.vertex:null}length(){return this.tail()?o(this.tail().point,this.head().point):-1}lengthSquared(){return this.tail()?r(this.tail().point,this.head().point):-1}setOpposite(e){this.opposite=e,e.opposite=this}}},{"../../../maths/vec3/distance":226,"../../../maths/vec3/squaredDistance":247}],354:[function(e,t,n){const o=e("../../../maths/vec3/dot"),r=e("./point-line-distance"),s=e("./get-plane-normal"),a=e("./VertexList"),i=e("./Vertex"),{Face:c,VISIBLE:l,NON_CONVEX:u,DELETED:p}=e("./Face");t.exports=class{constructor(e){if(!Array.isArray(e))throw TypeError("input is not a valid array");if(e.length<4)throw Error("cannot build a simplex out of <4 points");this.tolerance=-1,this.nFaces=0,this.nPoints=e.length,this.faces=[],this.newFaces=[],this.claimed=new a,this.unclaimed=new a,this.vertices=[];for(let t=0;t<e.length;t+=1)this.vertices.push(new i(e[t],t));this.discardedFaces=[],this.vertexPointIndices=[]}addVertexToFace(e,t){e.face=t,t.outside?this.claimed.insertBefore(t.outside,e):this.claimed.add(e),t.outside=e}removeVertexFromFace(e,t){e===t.outside&&(e.next&&e.next.face===t?t.outside=e.next:t.outside=null),this.claimed.remove(e)}removeAllVerticesFromFace(e){if(e.outside){let t=e.outside;for(;t.next&&t.next.face===e;)t=t.next;return this.claimed.removeChain(e.outside,t),t.next=null,e.outside}}deleteFaceVertices(e,t){const n=this.removeAllVerticesFromFace(e);if(n)if(t){let e;for(let o=n;o;o=e)e=o.next,t.distanceToPlane(o.point)>this.tolerance?this.addVertexToFace(o,t):this.unclaimed.add(o)}else this.unclaimed.addAll(n)}resolveUnclaimedPoints(e){let t=this.unclaimed.first();for(let n=t;n;n=t){t=n.next;let o,r=this.tolerance;for(let t=0;t<e.length;t+=1){const s=e[t];if(s.mark===l){const e=s.distanceToPlane(n.point);if(e>r&&(r=e,o=s),r>1e3*this.tolerance)break}}o&&this.addVertexToFace(n,o)}}computeExtremes(){const e=[],t=[],n=[],o=[];let r,s;for(r=0;r<3;r+=1)n[r]=o[r]=this.vertices[0];for(r=0;r<3;r+=1)e[r]=t[r]=this.vertices[0].point[r];for(r=1;r<this.vertices.length;r+=1){const a=this.vertices[r],i=a.point;for(s=0;s<3;s+=1)i[s]<e[s]&&(e[s]=i[s],n[s]=a);for(s=0;s<3;s+=1)i[s]>t[s]&&(t[s]=i[s],o[s]=a)}return this.tolerance=3*Number.EPSILON*(Math.max(Math.abs(e[0]),Math.abs(t[0]))+Math.max(Math.abs(e[1]),Math.abs(t[1]))+Math.max(Math.abs(e[2]),Math.abs(t[2]))),[n,o]}createInitialSimplex(){const e=this.vertices,[t,n]=this.computeExtremes();let a,i,l,u,p=0,f=0;for(l=0;l<3;l+=1){const e=n[l].point[l]-t[l].point[l];e>p&&(p=e,f=l)}const h=t[f],m=n[f];for(p=0,l=0;l<this.vertices.length;l+=1){const e=this.vertices[l];if(e!==h&&e!==m){const t=r(e.point,h.point,m.point);t>p&&(p=t,a=e)}}const g=s([],h.point,m.point,a.point),d=o(h.point,g);for(p=-1,l=0;l<this.vertices.length;l+=1){const e=this.vertices[l];if(e!==h&&e!==m&&e!==a){const t=Math.abs(o(g,e.point)-d);t>p&&(p=t,i=e)}}const y=[];if(o(i.point,g)-d<0)for(y.push(c.createTriangle(h,m,a),c.createTriangle(i,m,h),c.createTriangle(i,a,m),c.createTriangle(i,h,a)),l=0;l<3;l+=1){const e=(l+1)%3;y[l+1].getEdge(2).setOpposite(y[0].getEdge(e)),y[l+1].getEdge(1).setOpposite(y[e+1].getEdge(0))}else for(y.push(c.createTriangle(h,a,m),c.createTriangle(i,h,m),c.createTriangle(i,m,a),c.createTriangle(i,a,h)),l=0;l<3;l+=1){const e=(l+1)%3;y[l+1].getEdge(2).setOpposite(y[0].getEdge((3-l)%3)),y[l+1].getEdge(0).setOpposite(y[e+1].getEdge(1))}for(l=0;l<4;l+=1)this.faces.push(y[l]);for(l=0;l<e.length;l+=1){const t=e[l];if(t!==h&&t!==m&&t!==a&&t!==i){let e;for(p=this.tolerance,u=0;u<4;u+=1){const n=y[u].distanceToPlane(t.point);n>p&&(p=n,e=y[u])}e&&this.addVertexToFace(t,e)}}}reindexFaceAndVertices(){const e=[];for(let t=0;t<this.faces.length;t+=1){const n=this.faces[t];n.mark===l&&e.push(n)}this.faces=e}collectFaces(e){const t=[];for(let n=0;n<this.faces.length;n+=1){if(this.faces[n].mark!==l)throw Error("attempt to include a destroyed face in the hull");const o=this.faces[n].collectIndices();if(e)t.push(o);else for(let e=0;e<o.length-2;e+=1)t.push([o[0],o[e+1],o[e+2]])}return t}nextVertexToAdd(){if(!this.claimed.isEmpty()){let e,t,n=0;const o=this.claimed.first().face;for(t=o.outside;t&&t.face===o;t=t.next){const r=o.distanceToPlane(t.point);r>n&&(n=r,e=t)}return e}}computeHorizon(e,t,n,o){let r;this.deleteFaceVertices(n),n.mark=p,r=t?t.next:t=n.getEdge(0);do{const t=r.opposite,n=t.face;n.mark===l&&(n.distanceToPlane(e)>this.tolerance?this.computeHorizon(e,t,n,o):o.push(r)),r=r.next}while(r!==t)}addAdjoiningFace(e,t){const n=c.createTriangle(e,t.tail(),t.head());return this.faces.push(n),n.getEdge(-1).setOpposite(t.opposite),n.getEdge(0)}addNewFaces(e,t){let n,o;this.newFaces=[];for(let r=0;r<t.length;r+=1){const s=t[r],a=this.addAdjoiningFace(e,s);n?a.next.setOpposite(o):n=a,this.newFaces.push(a.face),o=a}n.next.setOpposite(o)}oppositeFaceDistance(e){return e.face.distanceToPlane(e.opposite.face.centroid)}doAdjacentMerge(e,t){let n=e.edge,o=!0,r=0;do{if(r>=e.nVertices)throw Error("merge recursion limit exceeded");const s=n.opposite.face;let a=!1;if(2===t?(this.oppositeFaceDistance(n)>-this.tolerance||this.oppositeFaceDistance(n.opposite)>-this.tolerance)&&(a=!0):e.area>s.area?this.oppositeFaceDistance(n)>-this.tolerance?a=!0:this.oppositeFaceDistance(n.opposite)>-this.tolerance&&(o=!1):this.oppositeFaceDistance(n.opposite)>-this.tolerance?a=!0:this.oppositeFaceDistance(n)>-this.tolerance&&(o=!1),a){const t=e.mergeAdjacentFaces(n,[]);for(let n=0;n<t.length;n+=1)this.deleteFaceVertices(t[n],e);return!0}n=n.next,r+=1}while(n!==e.edge);return o||(e.mark=u),!1}addVertexToHull(e){const t=[];this.unclaimed.clear(),this.removeVertexFromFace(e,e.face),this.computeHorizon(e.point,null,e.face,t),this.addNewFaces(e,t);for(let e=0;e<this.newFaces.length;e+=1){const t=this.newFaces[e];if(t.mark===l)for(;this.doAdjacentMerge(t,1););}for(let e=0;e<this.newFaces.length;e+=1){const t=this.newFaces[e];if(t.mark===u)for(t.mark=l;this.doAdjacentMerge(t,2););}this.resolveUnclaimedPoints(this.newFaces)}build(){let e;for(this.createInitialSimplex();e=this.nextVertexToAdd();)this.addVertexToHull(e);this.reindexFaceAndVertices()}}},{"../../../maths/vec3/dot":228,"./Face":352,"./Vertex":355,"./VertexList":356,"./get-plane-normal":357,"./point-line-distance":359}],355:[function(e,t,n){t.exports=class{constructor(e,t){this.point=e,this.index=t,this.next=null,this.prev=null,this.face=null}}},{}],356:[function(e,t,n){t.exports=class{constructor(){this.head=null,this.tail=null}clear(){this.head=this.tail=null}insertBefore(e,t){t.prev=e.prev,t.next=e,t.prev?t.prev.next=t:this.head=t,e.prev=t}insertAfter(e,t){t.prev=e,t.next=e.next,t.next?t.next.prev=t:this.tail=t,e.next=t}add(e){this.head?this.tail.next=e:this.head=e,e.prev=this.tail,e.next=null,this.tail=e}addAll(e){for(this.head?this.tail.next=e:this.head=e,e.prev=this.tail;e.next;)e=e.next;this.tail=e}remove(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev}removeChain(e,t){e.prev?e.prev.next=t.next:this.head=t.next,t.next?t.next.prev=e.prev:this.tail=e.prev}first(){return this.head}isEmpty(){return!this.head}}},{}],357:[function(e,t,n){const o=e("../../../maths/vec3/cross"),r=e("../../../maths/vec3/normalize"),s=e("../../../maths/vec3/subtract");t.exports=(e,t,n,a)=>{const i=[0,0,0];return s(e,t,n),s(i,n,a),o(e,e,i),r(e,e)}},{"../../../maths/vec3/cross":225,"../../../maths/vec3/normalize":240,"../../../maths/vec3/subtract":249}],358:[function(e,t,n){const o=e("./QuickHull");t.exports=(e,t={})=>{const n=new o(e);return n.build(),n.collectFaces(t.skipTriangulation)}},{"./QuickHull":354}],359:[function(e,t,n){const o=e("../../../maths/vec3/cross"),r=e("../../../maths/vec3/subtract"),s=e("../../../maths/vec3/squaredLength");t.exports=(e,t,n)=>Math.sqrt(((e,t,n)=>{const a=[],i=[];r(a,n,t),r(i,e,t);const c=s(o([],i,a)),l=s(a);if(0===l)throw Error("a and b are the same point");return c/l})(e,t,n))},{"../../../maths/vec3/cross":225,"../../../maths/vec3/squaredLength":248,"../../../maths/vec3/subtract":249}],360:[function(e,t,n){const o=e("../../geometries/geom2"),r=e("../../geometries/geom3"),s=e("../../geometries/path2");t.exports=e=>{const t=new Set,n=[],a=e=>{const o=e.toString();t.has(o)||(n.push(e),t.add(o))};return e.forEach((e=>{o.isA(e)?o.toPoints(e).forEach(a):r.isA(e)?r.toPoints(e).forEach((e=>e.forEach(a))):s.isA(e)&&s.toPoints(e).forEach(a)})),n}},{"../../geometries/geom2":38,"../../geometries/geom3":53,"../../geometries/path2":74}],361:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../measurements/measureEpsilon"),s=e("../../geometries/geom2"),a=e("../../geometries/geom3"),i=e("../../geometries/path2"),c=e("./snapPolygons"),l=e("./mergePolygons"),u=e("./insertTjunctions"),p=e("./triangulatePolygons");t.exports=(e,...t)=>{if(0===(t=o(t)).length)throw new Error("wrong number of arguments");const n=t.map((t=>{if(i.isA(t))return((e,t)=>t)(0,t);if(s.isA(t))return((e,t)=>t)(0,t);if(a.isA(t))return((e,t)=>{const{snap:n,simplify:o,triangulate:s}=Object.assign({},{snap:!1,simplify:!1,triangulate:!1},e),i=r(t);let f=a.toPolygons(t);n&&(f=c(i,f)),o&&(f=l(i,f)),s&&(f=u(f),f=p(i,f));const h=Object.assign({},t);return h.polygons=f,h})(e,t);throw new Error("invalid geometry")}));return 1===n.length?n[0]:n}},{"../../geometries/geom2":38,"../../geometries/geom3":53,"../../geometries/path2":74,"../../measurements/measureEpsilon":274,"../../utils/flatten":408,"./insertTjunctions":363,"./mergePolygons":364,"./snapPolygons":368,"./triangulatePolygons":369}],362:[function(e,t,n){t.exports={generalize:e("./generalize"),snap:e("./snap"),retessellate:e("./retessellate")}},{"./generalize":361,"./retessellate":366,"./snap":367}],363:[function(e,t,n){const o=e("../../maths/constants"),r=e("../../maths/vec3"),s=e("../../geometries/poly3"),a=e=>`${e}`,i=(e,t,n,o,r,s)=>{const i=a(o),l=a(r),u=`${i}/${l}`,p=`${l}/${i}`;if(e.has(p))return c(e,t,n,r,o,null),null;const f={vertex0:o,vertex1:r,polygonindex:s};return e.has(u)?e.get(u).push(f):e.set(u,[f]),t.has(i)?t.get(i).push(u):t.set(i,[u]),n.has(l)?n.get(l).push(u):n.set(l,[u]),u},c=(e,t,n,o,r,s)=>{const i=a(o),c=a(r),l=`${i}/${c}`;let u=-1;const p=e.get(l);for(let e=0;e<p.length;e++){const t=p[e];let n=a(t.vertex0);if(n===i&&(n=a(t.vertex1),n===c&&(null===s||t.polygonindex===s))){u=e;break}}p.splice(u,1),0===p.length&&e.delete(l),u=t.get(i).indexOf(l),t.get(i).splice(u,1),0===t.get(i).length&&t.delete(i),u=n.get(c).indexOf(l),n.get(c).splice(u,1),0===n.get(c).length&&n.delete(c)};t.exports=e=>{const t=new Map;for(let n=0;n<e.length;n++){const o=e[n],r=o.vertices.length;if(r>=3){let e=o.vertices[0],s=a(e);for(let i=0;i<r;i++){let c=i+1;c===r&&(c=0);const l=o.vertices[c],u=a(l),p=`${s}/${u}`,f=`${u}/${s}`;if(t.has(f)){const e=t.get(f);e.splice(-1,1),0===e.length&&t.delete(f)}else{const o={vertex0:e,vertex1:l,polygonindex:n};t.has(p)?t.get(p).push(o):t.set(p,[o])}e=l,s=u}}else console.warn("warning: invalid polygon found during insertTjunctions")}if(t.size>0){const n=new Map,l=new Map,u=new Map;for(const[e,o]of t)u.set(e,!0),o.forEach((t=>{const o=a(t.vertex0),r=a(t.vertex1);n.has(o)?n.get(o).push(e):n.set(o,[e]),l.has(r)?l.get(r).push(e):l.set(r,[e])}));const p=e.slice(0);for(;0!==t.size;){for(const e of t.keys())u.set(e,!0);let e=!1;for(;;){const f=Array.from(u.keys());if(0===f.length)break;const h=f[0];let m=!0;if(t.has(h)){const f=t.get(h)[0];for(let h=0;h<2;h++){const g=0===h?f.vertex0:f.vertex1,d=0===h?f.vertex1:f.vertex0,y=a(g),v=a(d);let b=[];0===h?l.has(y)&&(b=l.get(y)):n.has(y)&&(b=n.get(y));for(let f=0;f<b.length;f++){const y=b[f],x=t.get(y)[0],A=0===h?x.vertex0:x.vertex1,E=0===h?x.vertex1:x.vertex0,w=a(A);if(a(E),w===v){c(t,n,l,g,d,null),c(t,n,l,d,g,null),m=!1,h=2,e=!0;break}{const f=g,y=d,v=A,b=r.subtract(r.create(),v,f),E=r.dot(r.subtract(r.create(),y,f),b)/r.dot(b,b);if(E>0&&E<1){const g=r.scale(r.create(),b,E);if(r.add(g,g,f),r.squaredDistance(g,y)<o.EPS*o.EPS){const o=x.polygonindex,r=p[o],f=a(x.vertex1);let g=-1;for(let e=0;e<r.vertices.length;e++)if(a(r.vertices[e])===f){g=e;break}const y=r.vertices.slice(0);y.splice(g,0,d);const v=s.create(y);p[o]=v,c(t,n,l,x.vertex0,x.vertex1,o);const b=i(t,n,l,x.vertex0,d,o),A=i(t,n,l,d,x.vertex1,o);null!==b&&u.set(b,!0),null!==A&&u.set(A,!0),m=!1,h=2,e=!0;break}}}}}}m&&u.delete(h)}if(!e)break}e=p}return t.clear(),e}},{"../../geometries/poly3":91,"../../maths/constants":106,"../../maths/vec3":233}],364:[function(e,t,n){const o=e("../../maths/utils/aboutEqualNormals"),r=e("../../maths/vec3"),s=e("../../geometries/poly3"),a=e=>{const t=s.toPoints(e),n=[];for(let e=0;e<t.length;e++){const o=(e+1)%t.length,r={v1:t[e],v2:t[o]};n.push(r)}for(let e=0;e<n.length;e++){const o=(e+1)%t.length;n[e].next=n[o],n[o].prev=n[e]}return n},i=(e,t)=>{const n=`${t.v1}:${t.v2}`;e.set(n,t)},c=(e,t)=>{const n=`${t.v1}:${t.v2}`;e.delete(n)},l=(e,t)=>{const n=`${t.v2}:${t.v1}`;return e.get(n)},u=(e,t,n)=>{let o=e.prev.v1,r=e.prev.v2,s=t.next.v2;const a=h(o,r,s,n);return o=t.prev.v1,r=t.prev.v2,s=e.next.v2,[a,h(o,r,s,n)]},p=r.create(),f=r.create(),h=(e,t,n,o)=>{const s=r.subtract(p,t,e),a=r.subtract(f,n,t);return r.cross(s,s,a),r.dot(s,o)};t.exports=(e,t)=>{const n=[];t.forEach((e=>{const t=n.find((t=>{return n=t[0],r=s.plane(e),Math.abs(n[3]-r[3])<15e-8&&o(n,r);var n,r}));t?t[1].push(e):n.push([s.plane(e),[e]])}));let r=[];return n.forEach((e=>{const t=(e=>{if(e.length<2)return e;const t=e[0].plane,n=e.slice(),o=new Map;for(;n.length>0;){const e=n.shift(),r=a(e);for(let e=0;e<r.length;e++){const n=r[e],s=l(o,n);if(s){const e=u(n,s,t);if(e[0]>=0&&e[1]>=0){const t=s.next,r=n.next;n.prev.next=s.next,n.next.prev=s.prev,s.prev.next=n.next,s.next.prev=n.prev,n.v1=null,n.v2=null,n.next=null,n.prev=null,c(o,s),s.v1=null,s.v2=null,s.next=null,s.prev=null;const a=(e,t,n)=>{const o={v1:n.v1,v2:t.v2,next:t.next,prev:n.prev};n.prev.next=o,t.next.prev=o,c(e,t),t.v1=null,t.v2=null,t.next=null,t.prev=null,c(e,n),n.v1=null,n.v2=null,n.next=null,n.prev=null};0===e[0]&&a(o,t,t.prev),0===e[1]&&a(o,r,r.prev)}}else n.next&&i(o,n)}}const r=[];return o.forEach((e=>{const t=(e=>{let t;const n=[];for(;e.next;){const t=e.next;n.push(e.v1),e.v1=null,e.v2=null,e.next=null,e.prev=null,e=t}return n.length>0&&(t=s.create(n)),t})(e);t&&r.push(t)})),o.clear(),r})(e[1]);r=r.concat(t)})),r}},{"../../geometries/poly3":91,"../../maths/utils/aboutEqualNormals":178,"../../maths/vec3":233}],365:[function(e,t,n){const{EPS:o}=e("../../maths/constants"),r=e("../../maths/line2"),s=e("../../maths/vec2"),a=e("../../maths/OrthoNormalBasis"),i=e("../../maths/utils/interpolateBetween2DPointsForY"),{insertSorted:c,fnNumberSort:l}=e("../../utils"),u=e("../../geometries/poly3");t.exports=e=>{if(e.length<2)return e;const t=[],n=e.length,p=u.plane(e[0]),f=new a(p),h=[],m=[],g=new Map,d=new Map,y=new Map,v=10/o;for(let t=0;t<n;t++){const n=e[t];let o=[],r=n.vertices.length,a=-1;if(r>0){let e,i;for(let c=0;c<r;c++){let r=f.to2D(n.vertices[c]);const l=Math.floor(r[1]*v);let u;y.has(l)?u=y.get(l):y.has(l+1)?u=y.get(l+1):y.has(l-1)?u=y.get(l-1):(u=r[1],y.set(l,r[1])),r=s.fromValues(r[0],u),o.push(r);const p=r[1];(0===c||p<e)&&(e=p,a=c),(0===c||p>i)&&(i=p);let h=d.get(p);h||(h={},d.set(p,h)),h[t]=!0}if(e>=i)o=[],r=0,a=-1;else{let n=g.get(e);n||(n=[],g.set(e,n)),n.push(t)}}o.reverse(),a=r-a-1,h.push(o),m.push(a)}const b=[];d.forEach(((e,t)=>b.push(t))),b.sort(l);let x=[],A=[];for(let e=0;e<b.length;e++){const n=[],a=b[e],l=d.get(a);for(let e=0;e<x.length;++e){const t=x[e],n=t.polygonindex;if(l[n]){const o=h[n],r=o.length;let s=t.leftvertexindex,i=t.rightvertexindex;for(;;){let e=s+1;if(e>=r&&(e=0),o[e][1]!==a)break;s=e}let c=i-1;if(c<0&&(c=r-1),o[c][1]===a&&(i=c),s!==t.leftvertexindex&&s===i)x.splice(e,1),--e;else{t.leftvertexindex=s,t.rightvertexindex=i,t.topleft=o[s],t.topright=o[i];let e=s+1;e>=r&&(e=0),t.bottomleft=o[e];let n=i-1;n<0&&(n=r-1),t.bottomright=o[n]}}}let y;if(e>=b.length-1)x=[],y=null;else{y=Number(b[e+1]);const t=.5*(a+y),n=g.get(a);for(const e in n){const o=n[e],r=h[o],s=r.length,l=m[o];let u=l;for(;;){let e=u+1;if(e>=s&&(e=0),r[e][1]!==a)break;if(e===l)break;u=e}let p=l;for(;;){let e=p-1;if(e<0&&(e=s-1),r[e][1]!==a)break;if(e===u)break;p=e}let f=u+1;f>=s&&(f=0);let g=p-1;g<0&&(g=s-1);const d={polygonindex:o,leftvertexindex:u,rightvertexindex:p,topleft:r[u],topright:r[p],bottomleft:r[f],bottomright:r[g]};c(x,d,((e,n)=>{const o=i(e.topleft,e.bottomleft,t),r=i(n.topleft,n.bottomleft,t);return o>r?1:o<r?-1:0}))}}for(const e in x){const t=x[e];let c=i(t.topleft,t.bottomleft,a);const l=s.fromValues(c,a);c=i(t.topright,t.bottomright,a);const u=s.fromValues(c,a);c=i(t.topleft,t.bottomleft,y);const p=s.fromValues(c,y);c=i(t.topright,t.bottomright,y);const f=s.fromValues(c,y),h={topleft:l,topright:u,bottomleft:p,bottomright:f,leftline:r.fromPoints(r.create(),l,p),rightline:r.fromPoints(r.create(),f,u)};if(n.length>0){const e=n[n.length-1],t=s.distance(h.topleft,e.topright),r=s.distance(h.bottomleft,e.bottomright);t<o&&r<o&&(h.topleft=e.topleft,h.leftline=e.leftline,h.bottomleft=e.bottomleft,n.splice(n.length-1,1))}n.push(h)}if(e>0){const e=new Set,a=new Set;for(let t=0;t<n.length;t++){const i=n[t];for(let t=0;t<A.length;t++)if(!a.has(t)){const n=A[t];if(s.distance(n.bottomleft,i.topleft)<o&&s.distance(n.bottomright,i.topright)<o){a.add(t);const s=r.direction(i.leftline),c=r.direction(n.leftline),l=s[0]-c[0],u=r.direction(i.rightline),p=r.direction(n.rightline),f=u[0]-p[0],h=Math.abs(l)<o,m=Math.abs(f)<o;(h||l>=0)&&(m||f>=0)&&(i.outpolygon=n.outpolygon,i.leftlinecontinues=h,i.rightlinecontinues=m,e.add(t));break}}}for(let n=0;n<A.length;n++)if(!e.has(n)){const e=A[n];e.outpolygon.rightpoints.push(e.bottomright),s.distance(e.bottomright,e.bottomleft)>o&&e.outpolygon.leftpoints.push(e.bottomleft),e.outpolygon.leftpoints.reverse();const r=e.outpolygon.rightpoints.concat(e.outpolygon.leftpoints).map((e=>f.to3D(e))),a=u.fromPointsAndPlane(r,p);a.vertices.length&&t.push(a)}}for(let e=0;e<n.length;e++){const t=n[e];t.outpolygon?(t.leftlinecontinues||t.outpolygon.leftpoints.push(t.topleft),t.rightlinecontinues||t.outpolygon.rightpoints.push(t.topright)):(t.outpolygon={leftpoints:[],rightpoints:[]},t.outpolygon.leftpoints.push(t.topleft),s.distance(t.topleft,t.topright)>o&&t.outpolygon.rightpoints.push(t.topright))}A=n}return t}},{"../../geometries/poly3":91,"../../maths/OrthoNormalBasis":105,"../../maths/constants":106,"../../maths/line2":117,"../../maths/utils/interpolateBetween2DPointsForY":181,"../../maths/vec2":202,"../../utils":410}],366:[function(e,t,n){const o=e("../../geometries/geom3"),r=e("../../geometries/poly3"),{NEPS:s}=e("../../maths/constants"),a=e("./reTesselateCoplanarPolygons"),i=(e,t)=>(n,o)=>n.plane[e]-o.plane[e]>t?1:o.plane[e]-n.plane[e]>t?-1:0;t.exports=e=>{if(e.isRetesselated)return e;const t=(e=>{let t=[e];const n=[];for(let e=3;e>=0;e--){const o=[],r=3===e?15e-9:s;t.forEach((t=>{t.sort(i(e,r));let s=0;for(let a=1;a<t.length;a++)t[a].plane[e]-t[s].plane[e]>r&&(a-s==1?n.push(t[s]):o.push(t.slice(s,a)),s=a);t.length-s==1?n.push(t[s]):o.push(t.slice(s))})),t=o}const o=[];return t.forEach((e=>{e[0]&&(o[e[0].index]=e)})),n.forEach((e=>{o[e.index]=e})),o})(o.toPolygons(e).map(((e,t)=>({vertices:e.vertices,plane:r.plane(e),index:t})))),n=[];t.forEach((e=>{if(Array.isArray(e)){const t=a(e);n.push(...t)}else n.push(e)}));const c=o.create(n);return c.isRetesselated=!0,c}},{"../../geometries/geom3":53,"../../geometries/poly3":91,"../../maths/constants":106,"./reTesselateCoplanarPolygons":365}],367:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../maths/vec2"),s=e("../../geometries/geom2"),a=e("../../geometries/geom3"),i=e("../../geometries/path2"),c=e("../../measurements/measureEpsilon"),l=e("./snapPolygons");t.exports=(...e)=>{if(0===(e=o(e)).length)throw new Error("wrong number of arguments");const t=e.map((e=>i.isA(e)?(e=>{const t=c(e),n=i.toPoints(e).map((e=>r.snap(r.create(),e,t)));return i.create(n)})(e):s.isA(e)?(e=>{const t=c(e);let n=s.toSides(e).map((e=>[r.snap(r.create(),e[0],t),r.snap(r.create(),e[1],t)]));return n=n.filter((e=>!r.equals(e[0],e[1]))),s.create(n)})(e):a.isA(e)?(e=>{const t=c(e),n=a.toPolygons(e),o=l(t,n);return a.create(o)})(e):e));return 1===t.length?t[0]:t}},{"../../geometries/geom2":38,"../../geometries/geom3":53,"../../geometries/path2":74,"../../maths/vec2":202,"../../measurements/measureEpsilon":274,"../../utils/flatten":408,"./snapPolygons":368}],368:[function(e,t,n){const o=e("../../maths/vec3"),r=e("../../geometries/poly3");t.exports=(e,t)=>{let n=t.map((t=>{const n=t.vertices.map((t=>o.snap(o.create(),t,e))),s=[];for(let e=0;e<n.length;e++){const t=(e+1)%n.length;o.equals(n[e],n[t])||s.push(n[e])}const a=r.create(s);return t.color&&(a.color=t.color),a}));const s=e*e*Math.sqrt(3)/4;return n=n.filter((e=>((e,t)=>{const n=Math.abs(r.measureArea(t));return Number.isFinite(n)&&n>e})(s,e))),n}},{"../../geometries/poly3":91,"../../maths/vec3":233}],369:[function(e,t,n){const o=e("../../maths/vec3"),r=e("../../geometries/poly3");t.exports=(e,t)=>{const n=[];return t.forEach((t=>{((e,t,n)=>{const s=t.vertices.length;if(s>3){if(s>4){const a=[0,0,0];t.vertices.forEach((e=>o.add(a,a,e))),o.snap(a,o.divide(a,a,[s,s,s]),e);for(let e=0;e<s;e++){const o=r.create([a,t.vertices[e],t.vertices[(e+1)%s]]);t.color&&(o.color=t.color),n.push(o)}return}const a=r.create([t.vertices[0],t.vertices[1],t.vertices[2]]),i=r.create([t.vertices[0],t.vertices[2],t.vertices[3]]);return t.color&&(a.color=t.color,i.color=t.color),void n.push(a,i)}n.push(t)})(e,t,n)})),n}},{"../../geometries/poly3":91,"../../maths/vec3":233}],370:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../utils/padArrayToLength"),s=e("../../measurements/measureAggregateBoundingBox"),{translate:a}=e("./translate"),i=(e,t,n)=>{const o=s(e),r=[0,0,0];for(let e=0;e<3;e++)"center"===t[e]?r[e]=n[e]-(o[0][e]+o[1][e])/2:"max"===t[e]?r[e]=n[e]-o[1][e]:"min"===t[e]&&(r[e]=n[e]-o[0][e]);return a(r,e)};t.exports=(e,...t)=>{e=(e=>{if(!Array.isArray(e.modes)||e.modes.length>3)throw new Error("align(): modes must be an array of length <= 3");if(e.modes=r(e.modes,"none",3),3!==e.modes.filter((e=>["center","max","min","none"].includes(e))).length)throw new Error('align(): all modes must be one of "center", "max" or "min"');if(!Array.isArray(e.relativeTo)||e.relativeTo.length>3)throw new Error("align(): relativeTo must be an array of length <= 3");if(e.relativeTo=r(e.relativeTo,0,3),3!==e.relativeTo.filter((e=>Number.isFinite(e)||null==e)).length)throw new Error("align(): all relativeTo values must be a number, or null.");if("boolean"!=typeof e.grouped)throw new Error("align(): grouped must be a boolean value.");return e})(e=Object.assign({},{modes:["center","center","min"],relativeTo:[0,0,0],grouped:!1},e));let{modes:n,relativeTo:a,grouped:c}=e;if(0===(t=o(t)).length)throw new Error("align(): No geometries were provided to act upon");if(a.filter((e=>null==e)).length){const e=s(t);a=((e,t,n)=>{for(let o=0;o<3;o++)null==e[o]&&("center"===t[o]?e[o]=(n[0][o]+n[1][o])/2:"max"===t[o]?e[o]=n[1][o]:"min"===t[o]&&(e[o]=n[0][o]));return e})(a,n,e)}return 1===(t=c?i(t,n,a):t.map((e=>i(e,n,a)))).length?t[0]:t}},{"../../measurements/measureAggregateBoundingBox":265,"../../utils/flatten":408,"../../utils/padArrayToLength":412,"./translate":377}],371:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../geometries/geom2"),s=e("../../geometries/geom3"),a=e("../../geometries/path2"),i=e("../../measurements/measureBoundingBox"),{translate:c}=e("./translate"),l=(e,...t)=>{const{axes:n,relativeTo:l}=Object.assign({},{axes:[!0,!0,!0],relativeTo:[0,0,0]},e);if(0===(t=o(t)).length)throw new Error("wrong number of arguments");if(3!==l.length)throw new Error("relativeTo must be an array of length 3");e={axes:n,relativeTo:l};const u=t.map((t=>a.isA(t)||r.isA(t)||s.isA(t)?((e,t)=>{const{axes:n,relativeTo:o}=Object.assign({},{axes:[!0,!0,!0],relativeTo:[0,0,0]},e),r=i(t),s=[0,0,0];return n[0]&&(s[0]=o[0]-(r[0][0]+(r[1][0]-r[0][0])/2)),n[1]&&(s[1]=o[1]-(r[0][1]+(r[1][1]-r[0][1])/2)),n[2]&&(s[2]=o[2]-(r[0][2]+(r[1][2]-r[0][2])/2)),c(s,t)})(e,t):t));return 1===u.length?u[0]:u};t.exports={center:l,centerX:(...e)=>l({axes:[!0,!1,!1]},e),centerY:(...e)=>l({axes:[!1,!0,!1]},e),centerZ:(...e)=>l({axes:[!1,!1,!0]},e)}},{"../../geometries/geom2":38,"../../geometries/geom3":53,"../../geometries/path2":74,"../../measurements/measureBoundingBox":269,"../../utils/flatten":408,"./translate":377}],372:[function(e,t,n){t.exports={align:e("./align"),center:e("./center").center,centerX:e("./center").centerX,centerY:e("./center").centerY,centerZ:e("./center").centerZ,mirror:e("./mirror").mirror,mirrorX:e("./mirror").mirrorX,mirrorY:e("./mirror").mirrorY,mirrorZ:e("./mirror").mirrorZ,rotate:e("./rotate").rotate,rotateX:e("./rotate").rotateX,rotateY:e("./rotate").rotateY,rotateZ:e("./rotate").rotateZ,scale:e("./scale").scale,scaleX:e("./scale").scaleX,scaleY:e("./scale").scaleY,scaleZ:e("./scale").scaleZ,transform:e("./transform"),translate:e("./translate").translate,translateX:e("./translate").translateX,translateY:e("./translate").translateY,translateZ:e("./translate").translateZ}},{"./align":370,"./center":371,"./mirror":373,"./rotate":374,"./scale":375,"./transform":376,"./translate":377}],373:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../maths/mat4"),s=e("../../maths/plane"),a=e("../../geometries/geom2"),i=e("../../geometries/geom3"),c=e("../../geometries/path2"),l=(e,...t)=>{const{origin:n,normal:l}=Object.assign({},{origin:[0,0,0],normal:[0,0,1]},e);if(0===(t=o(t)).length)throw new Error("wrong number of arguments");const u=s.fromNormalAndPoint(s.create(),l,n);if(Number.isNaN(u[0]))throw new Error("the given origin and normal do not define a proper plane");const p=r.mirrorByPlane(r.create(),u),f=t.map((e=>c.isA(e)?c.transform(p,e):a.isA(e)?a.transform(p,e):i.isA(e)?i.transform(p,e):e));return 1===f.length?f[0]:f};t.exports={mirror:l,mirrorX:(...e)=>l({normal:[1,0,0]},e),mirrorY:(...e)=>l({normal:[0,1,0]},e),mirrorZ:(...e)=>l({normal:[0,0,1]},e)}},{"../../geometries/geom2":38,"../../geometries/geom3":53,"../../geometries/path2":74,"../../maths/mat4":155,"../../maths/plane":174,"../../utils/flatten":408}],374:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../maths/mat4"),s=e("../../geometries/geom2"),a=e("../../geometries/geom3"),i=e("../../geometries/path2"),c=(e,...t)=>{if(!Array.isArray(e))throw new Error("angles must be an array");if(0===(t=o(t)).length)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(0);const n=e[2],c=e[1],l=e[0],u=r.fromTaitBryanRotation(r.create(),n,c,l),p=t.map((e=>i.isA(e)?i.transform(u,e):s.isA(e)?s.transform(u,e):a.isA(e)?a.transform(u,e):e));return 1===p.length?p[0]:p};t.exports={rotate:c,rotateX:(e,...t)=>c([e,0,0],t),rotateY:(e,...t)=>c([0,e,0],t),rotateZ:(e,...t)=>c([0,0,e],t)}},{"../../geometries/geom2":38,"../../geometries/geom3":53,"../../geometries/path2":74,"../../maths/mat4":155,"../../utils/flatten":408}],375:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../maths/mat4"),s=e("../../geometries/geom2"),a=e("../../geometries/geom3"),i=e("../../geometries/path2"),c=(e,...t)=>{if(!Array.isArray(e))throw new Error("factors must be an array");if(0===(t=o(t)).length)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(1);if(e[0]<=0||e[1]<=0||e[2]<=0)throw new Error("factors must be positive");const n=r.fromScaling(r.create(),e),c=t.map((e=>i.isA(e)?i.transform(n,e):s.isA(e)?s.transform(n,e):a.isA(e)?a.transform(n,e):e));return 1===c.length?c[0]:c};t.exports={scale:c,scaleX:(e,...t)=>c([e,1,1],t),scaleY:(e,...t)=>c([1,e,1],t),scaleZ:(e,...t)=>c([1,1,e],t)}},{"../../geometries/geom2":38,"../../geometries/geom3":53,"../../geometries/path2":74,"../../maths/mat4":155,"../../utils/flatten":408}],376:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../geometries/geom2"),s=e("../../geometries/geom3"),a=e("../../geometries/path2");t.exports=(e,...t)=>{if(0===(t=o(t)).length)throw new Error("wrong number of arguments");const n=t.map((t=>a.isA(t)?a.transform(e,t):r.isA(t)?r.transform(e,t):s.isA(t)?s.transform(e,t):t));return 1===n.length?n[0]:n}},{"../../geometries/geom2":38,"../../geometries/geom3":53,"../../geometries/path2":74,"../../utils/flatten":408}],377:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../maths/mat4"),s=e("../../geometries/geom2"),a=e("../../geometries/geom3"),i=e("../../geometries/path2"),c=(e,...t)=>{if(!Array.isArray(e))throw new Error("offset must be an array");if(0===(t=o(t)).length)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(0);const n=r.fromTranslation(r.create(),e),c=t.map((e=>i.isA(e)?i.transform(n,e):s.isA(e)?s.transform(n,e):a.isA(e)?a.transform(n,e):e));return 1===c.length?c[0]:c};t.exports={translate:c,translateX:(e,...t)=>c([e,0,0],t),translateY:(e,...t)=>c([0,e,0],t),translateZ:(e,...t)=>c([0,0,e],t)}},{"../../geometries/geom2":38,"../../geometries/geom3":53,"../../geometries/path2":74,"../../maths/mat4":155,"../../utils/flatten":408}],378:[function(e,t,n){const{EPS:o,TAU:r}=e("../maths/constants"),s=e("../maths/vec2"),a=e("../geometries/path2"),{isGT:i,isGTE:c,isNumberArray:l}=e("./commonChecks");t.exports=e=>{const t={center:[0,0],radius:1,startAngle:0,endAngle:r,makeTangent:!1,segments:32};let{center:n,radius:u,startAngle:p,endAngle:f,makeTangent:h,segments:m}=Object.assign({},t,e);if(!l(n,2))throw new Error("center must be an array of X and Y values");if(!i(u,0))throw new Error("radius must be greater than zero");if(!c(p,0))throw new Error("startAngle must be positive");if(!c(f,0))throw new Error("endAngle must be positive");if(!c(m,4))throw new Error("segments must be four or more");p%=r,f%=r;let g=r;p<f&&(g=f-p),p>f&&(g=f+(r-p));const d=Math.acos((u*u+u*u-o*o)/(2*u*u)),y=s.clone(n);let v;const b=[];if(g<d)v=s.fromAngleRadians(s.create(),p),s.scale(v,v,u),s.add(v,v,y),b.push(v);else{const e=Math.max(1,Math.floor(m*(g/r)))+1;let t=.5*e/g;t>.25&&(t=.25);const n=h?e+2:e;for(let o=0;o<=n;o++){let n=o;h&&(n=(o-1)*(e-2*t)/e+t,n<0&&(n=0),n>e&&(n=e));const r=p+n*(g/e);v=s.fromAngleRadians(s.create(),r),s.scale(v,v,u),s.add(v,v,y),b.push(v)}}return a.fromPoints({closed:!1},b)}},{"../geometries/path2":74,"../maths/constants":106,"../maths/vec2":202,"./commonChecks":380}],379:[function(e,t,n){const{TAU:o}=e("../maths/constants"),r=e("./ellipse"),{isGTE:s}=e("./commonChecks");t.exports=e=>{const t={center:[0,0],radius:1,startAngle:0,endAngle:o,segments:32};let{center:n,radius:a,startAngle:i,endAngle:c,segments:l}=Object.assign({},t,e);if(!s(a,0))throw new Error("radius must be positive");return a=[a,a],r({center:n,radius:a,startAngle:i,endAngle:c,segments:l})}},{"../maths/constants":106,"./commonChecks":380,"./ellipse":385}],380:[function(e,t,n){t.exports={isNumberArray:(e,t)=>!!(Array.isArray(e)&&e.length>=t)&&e.every((e=>Number.isFinite(e))),isGT:(e,t)=>Number.isFinite(e)&&e>t,isGTE:(e,t)=>Number.isFinite(e)&&e>=t}},{}],381:[function(e,t,n){const o=e("./cuboid"),{isGTE:r}=e("./commonChecks");t.exports=e=>{let{center:t,size:n}=Object.assign({},{center:[0,0,0],size:2},e);if(!r(n,0))throw new Error("size must be positive");return n=[n,n,n],o({center:t,size:n})}},{"./commonChecks":380,"./cuboid":382}],382:[function(e,t,n){const o=e("../geometries/geom3"),r=e("../geometries/poly3"),{isNumberArray:s}=e("./commonChecks");t.exports=e=>{const{center:t,size:n}=Object.assign({},{center:[0,0,0],size:[2,2,2]},e);if(!s(t,3))throw new Error("center must be an array of X, Y and Z values");if(!s(n,3))throw new Error("size must be an array of width, depth and height values");if(!n.every((e=>e>=0)))throw new Error("size values must be positive");return 0===n[0]||0===n[1]||0===n[2]?o.create():o.create([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map((e=>{const o=e[0].map((e=>[t[0]+n[0]/2*(2*!!(1&e)-1),t[1]+n[1]/2*(2*!!(2&e)-1),t[2]+n[2]/2*(2*!!(4&e)-1)]));return r.create(o)})))}},{"../geometries/geom3":53,"../geometries/poly3":91,"./commonChecks":380}],383:[function(e,t,n){const o=e("../geometries/geom3"),r=e("./cylinderElliptic"),{isGTE:s}=e("./commonChecks");t.exports=e=>{const{center:t,height:n,radius:a,segments:i}=Object.assign({},{center:[0,0,0],height:2,radius:1,segments:32},e);if(!s(a,0))throw new Error("radius must be positive");return 0===n||0===a?o.create():r({center:t,height:n,startRadius:[a,a],endRadius:[a,a],segments:i})}},{"../geometries/geom3":53,"./commonChecks":380,"./cylinderElliptic":384}],384:[function(e,t,n){const{EPS:o,TAU:r}=e("../maths/constants"),s=e("../maths/vec3"),a=e("../geometries/geom3"),i=e("../geometries/poly3"),{sin:c,cos:l}=e("../maths/utils/trigonometry"),{isGT:u,isGTE:p,isNumberArray:f}=e("./commonChecks");t.exports=e=>{const t={center:[0,0,0],height:2,startRadius:[1,1],startAngle:0,endRadius:[1,1],endAngle:r,segments:32};let{center:n,height:h,startRadius:m,startAngle:g,endRadius:d,endAngle:y,segments:v}=Object.assign({},t,e);if(!f(n,3))throw new Error("center must be an array of X, Y and Z values");if(!u(h,0))throw new Error("height must be greater then zero");if(!f(m,2))throw new Error("startRadius must be an array of X and Y values");if(!m.every((e=>e>=0)))throw new Error("startRadius values must be positive");if(!f(d,2))throw new Error("endRadius must be an array of X and Y values");if(!d.every((e=>e>=0)))throw new Error("endRadius values must be positive");if(d.every((e=>0===e))&&m.every((e=>0===e)))throw new Error("at least one radius must be positive");if(!p(g,0))throw new Error("startAngle must be positive");if(!p(y,0))throw new Error("endAngle must be positive");if(!p(v,4))throw new Error("segments must be four or more");g%=r,y%=r;let b=r;g<y&&(b=y-g),g>y&&(b=y+(r-g));const x=Math.min(m[0],m[1],d[0],d[1]),A=Math.acos((x*x+x*x-o*o)/(2*x*x));if(b<A)throw new Error("startAngle and endAngle do not define a significant rotation");const E=Math.floor(v*(b/r)),w=s.fromValues(0,0,-h/2),S=s.fromValues(0,0,h/2),T=s.subtract(s.create(),S,w),P=s.fromValues(1,0,0),D=s.fromValues(0,1,0),C=s.create(),M=s.create(),R=s.create(),I=(e,t,n)=>{const o=t*b+g;return s.scale(C,P,n[0]*l(o)),s.scale(M,D,n[1]*c(o)),s.add(C,C,M),s.scale(R,T,e),s.add(R,R,w),s.add(s.create(),C,R)},L=(...e)=>{const t=e.map((e=>s.add(s.create(),e,n)));return i.create(t)},B=[];for(let e=0;e<E;e++){const t=e/E;let n=(e+1)/E;b===r&&e===E-1&&(n=0),d[0]===m[0]&&d[1]===m[1]?(B.push(L(w,I(0,n,d),I(0,t,d))),B.push(L(I(0,n,d),I(1,n,d),I(1,t,d),I(0,t,d))),B.push(L(S,I(1,t,d),I(1,n,d)))):(m[0]>0&&m[1]>0&&B.push(L(w,I(0,n,m),I(0,t,m))),(m[0]>0||m[1]>0)&&B.push(L(I(0,t,m),I(0,n,m),I(1,t,d))),d[0]>0&&d[1]>0&&B.push(L(S,I(1,t,d),I(1,n,d))),(d[0]>0||d[1]>0)&&B.push(L(I(1,t,d),I(0,n,m),I(1,n,d))))}return b<r&&(B.push(L(w,I(0,0,m),S)),B.push(L(I(0,0,m),I(1,0,d),S)),B.push(L(w,S,I(0,1,m))),B.push(L(I(0,1,m),S,I(1,1,d)))),a.create(B)}},{"../geometries/geom3":53,"../geometries/poly3":91,"../maths/constants":106,"../maths/utils/trigonometry":184,"../maths/vec3":233,"./commonChecks":380}],385:[function(e,t,n){const{EPS:o,TAU:r}=e("../maths/constants"),s=e("../maths/vec2"),a=e("../geometries/geom2"),{sin:i,cos:c}=e("../maths/utils/trigonometry"),{isGTE:l,isNumberArray:u}=e("./commonChecks");t.exports=e=>{const t={center:[0,0],radius:[1,1],startAngle:0,endAngle:r,segments:32};let{center:n,radius:p,startAngle:f,endAngle:h,segments:m}=Object.assign({},t,e);if(!u(n,2))throw new Error("center must be an array of X and Y values");if(!u(p,2))throw new Error("radius must be an array of X and Y values");if(!p.every((e=>e>=0)))throw new Error("radius values must be positive");if(!l(f,0))throw new Error("startAngle must be positive");if(!l(h,0))throw new Error("endAngle must be positive");if(!l(m,3))throw new Error("segments must be three or more");if(0===p[0]||0===p[1])return a.create();f%=r,h%=r;let g=r;f<h&&(g=h-f),f>h&&(g=h+(r-f));const d=Math.min(p[0],p[1]);if(g<Math.acos((d*d+d*d-o*o)/(2*d*d)))throw new Error("startAngle and endAngle do not define a significant rotation");m=Math.floor(m*(g/r));const y=s.clone(n),v=g/m,b=[];m=g<r?m+1:m;for(let e=0;e<m;e++){const t=v*e+f,n=s.fromValues(p[0]*c(t),p[1]*i(t));s.add(n,y,n),b.push(n)}return g<r&&b.push(y),a.fromPoints(b)}},{"../geometries/geom2":38,"../maths/constants":106,"../maths/utils/trigonometry":184,"../maths/vec2":202,"./commonChecks":380}],386:[function(e,t,n){const{TAU:o}=e("../maths/constants"),r=e("../maths/vec3"),s=e("../geometries/geom3"),a=e("../geometries/poly3"),{sin:i,cos:c}=e("../maths/utils/trigonometry"),{isGTE:l,isNumberArray:u}=e("./commonChecks");t.exports=e=>{const{center:t,radius:n,segments:p,axes:f}=Object.assign({},{center:[0,0,0],radius:[1,1,1],segments:32,axes:[[1,0,0],[0,-1,0],[0,0,1]]},e);if(!u(t,3))throw new Error("center must be an array of X, Y and Z values");if(!u(n,3))throw new Error("radius must be an array of X, Y and Z values");if(!n.every((e=>e>=0)))throw new Error("radius values must be positive");if(!l(p,4))throw new Error("segments must be four or more");if(0===n[0]||0===n[1]||0===n[2])return s.create();const h=r.scale(r.create(),r.normalize(r.create(),f[0]),n[0]),m=r.scale(r.create(),r.normalize(r.create(),f[1]),n[1]),g=r.scale(r.create(),r.normalize(r.create(),f[2]),n[2]),d=Math.round(p/4);let y;const v=[],b=r.create(),x=r.create();for(let e=0;e<=p;e++){const n=o*e/p,s=r.add(r.create(),r.scale(b,h,c(n)),r.scale(x,m,i(n)));if(e>0){let e,n;for(let l=0;l<=d;l++){const u=o/4*l/d,p=c(u),f=i(u);if(l>0){let o,i=[];o=r.subtract(r.create(),r.scale(b,y,e),r.scale(x,g,n)),i.push(r.add(o,o,t)),o=r.subtract(r.create(),r.scale(b,s,e),r.scale(x,g,n)),i.push(r.add(o,o,t)),l<d&&(o=r.subtract(r.create(),r.scale(b,s,p),r.scale(x,g,f)),i.push(r.add(o,o,t))),o=r.subtract(r.create(),r.scale(b,y,p),r.scale(x,g,f)),i.push(r.add(o,o,t)),v.push(a.create(i)),i=[],o=r.add(r.create(),r.scale(b,y,e),r.scale(x,g,n)),i.push(r.add(r.create(),t,o)),o=r.add(o,r.scale(b,s,e),r.scale(x,g,n)),i.push(r.add(r.create(),t,o)),l<d&&(o=r.add(o,r.scale(b,s,p),r.scale(x,g,f)),i.push(r.add(r.create(),t,o))),o=r.add(o,r.scale(b,y,p),r.scale(x,g,f)),i.push(r.add(r.create(),t,o)),i.reverse(),v.push(a.create(i))}e=p,n=f}}y=s}return s.create(v)}},{"../geometries/geom3":53,"../geometries/poly3":91,"../maths/constants":106,"../maths/utils/trigonometry":184,"../maths/vec3":233,"./commonChecks":380}],387:[function(e,t,n){const o=e("../maths/mat4"),r=e("../maths/vec3"),s=e("../geometries/geom3"),a=e("./polyhedron"),{isGTE:i}=e("./commonChecks");t.exports=e=>{let{radius:t,frequency:n}=Object.assign({},{radius:1,frequency:6},e);if(!i(t,0))throw new Error("radius must be positive");if(!i(n,6))throw new Error("frequency must be six or more");if(0===t)return s.create();n=Math.floor(n/6);const c=[[.850651,0,-.525731],[.850651,-0,.525731],[-.850651,-0,.525731],[-.850651,0,-.525731],[0,-.525731,.850651],[0,.525731,.850651],[0,.525731,-.850651],[0,-.525731,-.850651],[-.525731,-.850651,-0],[.525731,-.850651,-0],[.525731,.850651,0],[-.525731,.850651,0]],l=[[0,9,1],[1,10,0],[6,7,0],[10,6,0],[7,9,0],[5,1,4],[4,1,9],[5,10,1],[2,8,3],[3,11,2],[2,5,4],[4,8,2],[2,11,5],[3,7,6],[6,11,3],[8,7,3],[9,8,4],[11,10,5],[10,11,6],[8,9,7]],u=(e,t,n)=>{const o=e[0],s=e[1],a=e[2];let i=n;const c=[],l=[];for(let e=0;e<t;e++)for(let n=0;n<t-e;n++){const u=e/t,f=(e+1)/t,h=n/(t-e),m=(n+1)/(t-e),g=t-e-1?n/(t-e-1):1,d=[];d[0]=p(p(o,s,h),a,u),d[1]=p(p(o,s,m),a,u),d[2]=p(p(o,s,g),a,f);for(let e=0;e<3;e++){const t=r.length(d[e]);for(let n=0;n<3;n++)d[e][n]/=t}if(c.push(d[0],d[1],d[2]),l.push([i,i+1,i+2]),i+=3,n<t-e-1){const h=t-e-1?(n+1)/(t-e-1):1;d[0]=p(p(o,s,m),a,u),d[1]=p(p(o,s,h),a,f),d[2]=p(p(o,s,g),a,f);for(let e=0;e<3;e++){const t=r.length(d[e]);for(let n=0;n<3;n++)d[e][n]/=t}c.push(d[0],d[1],d[2]),l.push([i,i+1,i+2]),i+=3}}return{points:c,triangles:l,offset:i}},p=(e,t,n)=>{const o=1-n,r=[];for(let s=0;s<3;s++)r[s]=e[s]*o+t[s]*n;return r};let f=[],h=[],m=0;for(let e=0;e<l.length;e++){const t=u([c[l[e][0]],c[l[e][1]],c[l[e][2]]],n,m);f=f.concat(t.points),h=h.concat(t.triangles),m=t.offset}let g=a({points:f,faces:h,orientation:"inward"});return 1!==t&&(g=s.transform(o.fromScaling(o.create(),[t,t,t]),g)),g}},{"../geometries/geom3":53,"../maths/mat4":155,"../maths/vec3":233,"./commonChecks":380,"./polyhedron":391}],388:[function(e,t,n){t.exports={arc:e("./arc"),circle:e("./circle"),cube:e("./cube"),cuboid:e("./cuboid"),cylinder:e("./cylinder"),cylinderElliptic:e("./cylinderElliptic"),ellipse:e("./ellipse"),ellipsoid:e("./ellipsoid"),geodesicSphere:e("./geodesicSphere"),line:e("./line"),polygon:e("./polygon"),polyhedron:e("./polyhedron"),rectangle:e("./rectangle"),roundedCuboid:e("./roundedCuboid"),roundedCylinder:e("./roundedCylinder"),roundedRectangle:e("./roundedRectangle"),sphere:e("./sphere"),square:e("./square"),star:e("./star"),torus:e("./torus"),triangle:e("./triangle")}},{"./arc":378,"./circle":379,"./cube":381,"./cuboid":382,"./cylinder":383,"./cylinderElliptic":384,"./ellipse":385,"./ellipsoid":386,"./geodesicSphere":387,"./line":389,"./polygon":390,"./polyhedron":391,"./rectangle":392,"./roundedCuboid":393,"./roundedCylinder":394,"./roundedRectangle":395,"./sphere":396,"./square":397,"./star":398,"./torus":399,"./triangle":400}],389:[function(e,t,n){const o=e("../geometries/path2");t.exports=e=>{if(!Array.isArray(e))throw new Error("points must be an array");return o.fromPoints({},e)}},{"../geometries/path2":74}],390:[function(e,t,n){const o=e("../geometries/geom2");t.exports=e=>{const{points:t,paths:n}=Object.assign({},{points:[],paths:[]},e);if(!Array.isArray(t)||!Array.isArray(n))throw new Error("points and paths must be arrays");let r=t;Array.isArray(t[0])&&(Array.isArray(t[0][0])||(r=[t])),r.forEach(((e,t)=>{if(!Array.isArray(e))throw new Error("list of points "+t+" must be an array");if(e.length<3)throw new Error("list of points "+t+" must contain three or more points");e.forEach(((e,n)=>{if(!Array.isArray(e))throw new Error("list of points "+t+", point "+n+" must be an array");if(e.length<2)throw new Error("list of points "+t+", point "+n+" must contain by X and Y values")}))}));let s=n;if(0===n.length){let e=0;s=r.map((t=>t.map((t=>e++))))}const a=[];r.forEach((e=>e.forEach((e=>a.push(e)))));let i=[];return s.forEach((e=>{const t=e.map((e=>a[e])),n=o.fromPoints(t);i=i.concat(o.toSides(n))})),o.create(i)}},{"../geometries/geom2":38}],391:[function(e,t,n){const o=e("../geometries/geom3"),r=e("../geometries/poly3"),{isNumberArray:s}=e("./commonChecks");t.exports=e=>{const{points:t,faces:n,colors:a,orientation:i}=Object.assign({},{points:[],faces:[],colors:void 0,orientation:"outward"},e);if(!Array.isArray(t)||!Array.isArray(n))throw new Error("points and faces must be arrays");if(t.length<3)throw new Error("three or more points are required");if(n.length<1)throw new Error("one or more faces are required");if(a){if(!Array.isArray(a))throw new Error("colors must be an array");if(a.length!==n.length)throw new Error("faces and colors must have the same length")}t.forEach(((e,t)=>{if(!s(e,3))throw new Error(`point ${t} must be an array of X, Y, Z values`)})),n.forEach(((e,t)=>{if(e.length<3)throw new Error(`face ${t} must contain 3 or more indexes`);if(!s(e,e.length))throw new Error(`face ${t} must be an array of numbers`)})),"outward"!==i&&n.forEach((e=>e.reverse()));const c=n.map(((e,n)=>{const o=r.create(e.map((e=>t[e])));return a&&a[n]&&(o.color=a[n]),o}));return o.create(c)}},{"../geometries/geom3":53,"../geometries/poly3":91,"./commonChecks":380}],392:[function(e,t,n){const o=e("../maths/vec2"),r=e("../geometries/geom2"),{isNumberArray:s}=e("./commonChecks");t.exports=e=>{const{center:t,size:n}=Object.assign({},{center:[0,0],size:[2,2]},e);if(!s(t,2))throw new Error("center must be an array of X and Y values");if(!s(n,2))throw new Error("size must be an array of X and Y values");if(!n.every((e=>e>=0)))throw new Error("size values must be positive");if(0===n[0]||0===n[1])return r.create();const a=[n[0]/2,n[1]/2],i=[a[0],-a[1]],c=[o.subtract(o.create(),t,a),o.add(o.create(),t,i),o.add(o.create(),t,a),o.subtract(o.create(),t,i)];return r.fromPoints(c)}},{"../geometries/geom2":38,"../maths/vec2":202,"./commonChecks":380}],393:[function(e,t,n){const{EPS:o,TAU:r}=e("../maths/constants"),s=e("../maths/vec2"),a=e("../maths/vec3"),i=e("../geometries/geom3"),c=e("../geometries/poly3"),{sin:l,cos:u}=e("../maths/utils/trigonometry"),{isGTE:p,isNumberArray:f}=e("./commonChecks"),h=e("./cuboid"),m=(e,t,n,i,c,p)=>{const f=r/4*c/i,h=u(f),m=l(f),g=i-c;let d=n*h,y=t[2]-(n-n*m);p||(y=n-n*m-t[2]),d=d>o?d:0;const v=a.add(a.create(),e,[t[0]-n,t[1]-n,y]),b=a.add(a.create(),e,[n-t[0],t[1]-n,y]),x=a.add(a.create(),e,[n-t[0],n-t[1],y]),A=a.add(a.create(),e,[t[0]-n,n-t[1],y]),E=[],w=[],S=[],T=[];for(let e=0;e<=g;e++){const t=g>0?r/4*e/g:0,n=s.fromAngleRadians(s.create(),t);s.scale(n,n,d);const o=a.fromVec2(a.create(),n);E.push(a.add(a.create(),v,o)),a.rotateZ(o,o,[0,0,0],r/4),w.push(a.add(a.create(),b,o)),a.rotateZ(o,o,[0,0,0],r/4),S.push(a.add(a.create(),x,o)),a.rotateZ(o,o,[0,0,0],r/4),T.push(a.add(a.create(),A,o))}return p?[E,w,S,T]:(E.reverse(),w.reverse(),S.reverse(),T.reverse(),[T,S,w,E])},g=(e,t)=>{const n=[];for(let o=0;o<e.length;o++){const r=e[o],s=t[o];for(let e=0;e<r.length-1;e++)n.push(c.create([r[e],r[e+1],s[e]])),e<s.length-1&&n.push(c.create([s[e],r[e+1],s[e+1]]))}return n},d=(e,t)=>{const n=[];for(let o=0;o<e.length;o++){let r=e[o],s=t[o];const a=r[r.length-1],i=s[s.length-1],l=(o+1)%e.length;r=e[l],s=t[l];const u=r[0],p=s[0];n.push(c.create([a,u,p,i]))}return n},y=(e,t)=>{e=(e=[e[3],e[2],e[1],e[0]]).map((e=>e.slice().reverse()));const n=[];e.forEach((e=>{e.forEach((e=>n.push(e)))}));const o=[];t.forEach((e=>{e.forEach((e=>o.push(e)))}));const r=[];for(let e=0;e<o.length;e++){const t=(e+1)%o.length;r.push(c.create([n[e],n[t],o[t],o[e]]))}return r};t.exports=e=>{let{center:t,size:n,roundRadius:r,segments:s}=Object.assign({},{center:[0,0,0],size:[2,2,2],roundRadius:.2,segments:32},e);if(!f(t,3))throw new Error("center must be an array of X, Y and Z values");if(!f(n,3))throw new Error("size must be an array of X, Y and Z values");if(!n.every((e=>e>=0)))throw new Error("size values must be positive");if(!p(r,0))throw new Error("roundRadius must be positive");if(!p(s,4))throw new Error("segments must be four or more");if(0===n[0]||0===n[1]||0===n[2])return i.create();if(0===r)return h({center:t,size:n});if(n=n.map((e=>e/2)),r>n[0]-o||r>n[1]-o||r>n[2]-o)throw new Error("roundRadius must be smaller then the radius of all dimensions");s=Math.floor(s/4);let a=null,l=null,u=[];for(let e=0;e<=s;e++){const o=m(t,n,r,s,e,!0),i=m(t,n,r,s,e,!1);if(0===e&&(u=u.concat(y(i,o))),a&&(u=u.concat(g(a,o),d(a,o))),l&&(u=u.concat(g(l,i),d(l,i))),e===s){let e=o.map((e=>e[0]));u.push(c.create(e)),e=i.map((e=>e[0])),u.push(c.create(e))}a=o,l=i}return i.create(u)}},{"../geometries/geom3":53,"../geometries/poly3":91,"../maths/constants":106,"../maths/utils/trigonometry":184,"../maths/vec2":202,"../maths/vec3":233,"./commonChecks":380,"./cuboid":382}],394:[function(e,t,n){const{EPS:o,TAU:r}=e("../maths/constants"),s=e("../maths/vec3"),a=e("../geometries/geom3"),i=e("../geometries/poly3"),{sin:c,cos:l}=e("../maths/utils/trigonometry"),{isGTE:u,isNumberArray:p}=e("./commonChecks"),f=e("./cylinder");t.exports=e=>{const{center:t,height:n,radius:h,roundRadius:m,segments:g}=Object.assign({},{center:[0,0,0],height:2,radius:1,roundRadius:.2,segments:32},e);if(!p(t,3))throw new Error("center must be an array of X, Y and Z values");if(!u(n,0))throw new Error("height must be positive");if(!u(h,0))throw new Error("radius must be positive");if(!u(m,0))throw new Error("roundRadius must be positive");if(m>h)throw new Error("roundRadius must be smaller then the radius");if(!u(g,4))throw new Error("segments must be four or more");if(0===n||0===h)return a.create();if(0===m)return f({center:t,height:n,radius:h});const d=[0,0,-n/2],y=[0,0,n/2],v=s.subtract(s.create(),y,d);if(2*m>s.length(v)-o)throw new Error("height must be larger than twice roundRadius");let b;b=Math.abs(v[0])>Math.abs(v[1])?s.fromValues(0,1,0):s.fromValues(1,0,0);const x=s.scale(s.create(),s.normalize(s.create(),v),m),A=s.scale(s.create(),s.normalize(s.create(),s.cross(s.create(),x,b)),h),E=s.scale(s.create(),s.normalize(s.create(),s.cross(s.create(),A,x)),h);s.add(d,d,x),s.subtract(y,y,x);const w=Math.floor(.25*g),S=e=>{const n=e.map((e=>s.add(e,e,t)));return i.create(n)},T=[],P=s.create(),D=s.create();let C;for(let e=0;e<=g;e++){const t=r*e/g,n=s.add(s.create(),s.scale(P,A,l(t)),s.scale(D,E,c(t)));if(e>0){let e,t,o=[];o.push(s.add(s.create(),d,n)),o.push(s.add(s.create(),d,C)),o.push(s.add(s.create(),y,C)),o.push(s.add(s.create(),y,n)),T.push(S(o));for(let a=0;a<=w;a++){const i=r/4*a/w,u=l(i),p=c(i);if(a>0){let r;o=[],r=s.add(s.create(),d,s.subtract(P,s.scale(P,C,e),s.scale(D,x,t))),o.push(r),r=s.add(s.create(),d,s.subtract(P,s.scale(P,n,e),s.scale(D,x,t))),o.push(r),a<w&&(r=s.add(s.create(),d,s.subtract(P,s.scale(P,n,u),s.scale(D,x,p))),o.push(r)),r=s.add(s.create(),d,s.subtract(P,s.scale(P,C,u),s.scale(D,x,p))),o.push(r),T.push(S(o)),o=[],r=s.add(s.create(),s.scale(P,C,e),s.scale(D,x,t)),s.add(r,r,y),o.push(r),r=s.add(s.create(),s.scale(P,n,e),s.scale(D,x,t)),s.add(r,r,y),o.push(r),a<w&&(r=s.add(s.create(),s.scale(P,n,u),s.scale(D,x,p)),s.add(r,r,y),o.push(r)),r=s.add(s.create(),s.scale(P,C,u),s.scale(D,x,p)),s.add(r,r,y),o.push(r),o.reverse(),T.push(S(o))}e=u,t=p}}C=n}return a.create(T)}},{"../geometries/geom3":53,"../geometries/poly3":91,"../maths/constants":106,"../maths/utils/trigonometry":184,"../maths/vec3":233,"./commonChecks":380,"./cylinder":383}],395:[function(e,t,n){const{EPS:o,TAU:r}=e("../maths/constants"),s=e("../maths/vec2"),a=e("../geometries/geom2"),{isGTE:i,isNumberArray:c}=e("./commonChecks"),l=e("./rectangle");t.exports=e=>{let{center:t,size:n,roundRadius:u,segments:p}=Object.assign({},{center:[0,0],size:[2,2],roundRadius:.2,segments:32},e);if(!c(t,2))throw new Error("center must be an array of X and Y values");if(!c(n,2))throw new Error("size must be an array of X and Y values");if(!n.every((e=>e>=0)))throw new Error("size values must be positive");if(!i(u,0))throw new Error("roundRadius must be positive");if(!i(p,4))throw new Error("segments must be four or more");if(0===n[0]||0===n[1])return a.create();if(0===u)return l({center:t,size:n});if(n=n.map((e=>e/2)),u>n[0]-o||u>n[1]-o)throw new Error("roundRadius must be smaller then the radius of all dimensions");const f=Math.floor(p/4),h=s.add(s.create(),t,[n[0]-u,n[1]-u]),m=s.add(s.create(),t,[u-n[0],n[1]-u]),g=s.add(s.create(),t,[u-n[0],u-n[1]]),d=s.add(s.create(),t,[n[0]-u,u-n[1]]),y=[],v=[],b=[],x=[];for(let e=0;e<=f;e++){const t=r/4*e/f,n=s.fromAngleRadians(s.create(),t);s.scale(n,n,u),y.push(s.add(s.create(),h,n)),s.rotate(n,n,s.create(),r/4),v.push(s.add(s.create(),m,n)),s.rotate(n,n,s.create(),r/4),b.push(s.add(s.create(),g,n)),s.rotate(n,n,s.create(),r/4),x.push(s.add(s.create(),d,n))}return a.fromPoints(y.concat(v,b,x))}},{"../geometries/geom2":38,"../maths/constants":106,"../maths/vec2":202,"./commonChecks":380,"./rectangle":392}],396:[function(e,t,n){const o=e("./ellipsoid"),{isGTE:r}=e("./commonChecks");t.exports=e=>{let{center:t,radius:n,segments:s,axes:a}=Object.assign({},{center:[0,0,0],radius:1,segments:32,axes:[[1,0,0],[0,-1,0],[0,0,1]]},e);if(!r(n,0))throw new Error("radius must be positive");return n=[n,n,n],o({center:t,radius:n,segments:s,axes:a})}},{"./commonChecks":380,"./ellipsoid":386}],397:[function(e,t,n){const o=e("./rectangle"),{isGTE:r}=e("./commonChecks");t.exports=e=>{let{center:t,size:n}=Object.assign({},{center:[0,0],size:2},e);if(!r(n,0))throw new Error("size must be positive");return n=[n,n],o({center:t,size:n})}},{"./commonChecks":380,"./rectangle":392}],398:[function(e,t,n){const{TAU:o}=e("../maths/constants"),r=e("../maths/vec2"),s=e("../geometries/geom2"),{isGT:a,isGTE:i,isNumberArray:c}=e("./commonChecks"),l=(e,t,n,s)=>{const a=o/e,i=[];for(let o=0;o<e;o++){const e=r.fromAngleRadians(r.create(),a*o+n);r.scale(e,e,t),r.add(e,s,e),i.push(e)}return i};t.exports=e=>{let{center:t,vertices:n,outerRadius:u,innerRadius:p,density:f,startAngle:h}=Object.assign({},{center:[0,0],vertices:5,outerRadius:1,innerRadius:0,density:2,startAngle:0},e);if(!c(t,2))throw new Error("center must be an array of X and Y values");if(!i(n,2))throw new Error("vertices must be two or more");if(!a(u,0))throw new Error("outerRadius must be greater than zero");if(!i(p,0))throw new Error("innerRadius must be greater than zero");if(!i(h,0))throw new Error("startAngle must be greater than zero");if(n=Math.floor(n),f=Math.floor(f),h%=o,0===p){if(!i(f,2))throw new Error("density must be two or more");p=u*((e,t)=>e>0&&t>1&&t<e/2?Math.cos(Math.PI*t/e)/Math.cos(Math.PI*(t-1)/e):0)(n,f)}const m=r.clone(t),g=l(n,u,h,m),d=l(n,p,h+Math.PI/n,m),y=[];for(let e=0;e<n;e++)y.push(g[e]),y.push(d[e]);return s.fromPoints(y)}},{"../geometries/geom2":38,"../maths/constants":106,"../maths/vec2":202,"./commonChecks":380}],399:[function(e,t,n){const{TAU:o}=e("../maths/constants"),r=e("../operations/extrusions/extrudeRotate"),{rotate:s}=e("../operations/transforms/rotate"),{translate:a}=e("../operations/transforms/translate"),i=e("./circle"),{isGT:c,isGTE:l}=e("./commonChecks");t.exports=e=>{const t={innerRadius:1,innerSegments:32,outerRadius:4,outerSegments:32,innerRotation:0,startAngle:0,outerRotation:o},{innerRadius:n,innerSegments:u,outerRadius:p,outerSegments:f,innerRotation:h,startAngle:m,outerRotation:g}=Object.assign({},t,e);if(!c(n,0))throw new Error("innerRadius must be greater than zero");if(!l(u,3))throw new Error("innerSegments must be three or more");if(!c(p,0))throw new Error("outerRadius must be greater than zero");if(!l(f,3))throw new Error("outerSegments must be three or more");if(!l(m,0))throw new Error("startAngle must be positive");if(!c(g,0))throw new Error("outerRotation must be greater than zero");if(n>=p)throw new Error("inner circle is two large to rotate about the outer circle");let d=i({radius:n,segments:u});return 0!==h&&(d=s([0,0,h],d)),d=a([p,0],d),r({startAngle:m,angle:g,segments:f},d)}},{"../maths/constants":106,"../operations/extrusions/extrudeRotate":327,"../operations/transforms/rotate":374,"../operations/transforms/translate":377,"./circle":379,"./commonChecks":380}],400:[function(e,t,n){const{NEPS:o}=e("../maths/constants"),r=e("../maths/vec2"),s=e("../geometries/geom2"),{isNumberArray:a}=e("./commonChecks"),i=(e,t,n)=>Math.acos((e*e+t*t-n*n)/(2*e*t)),c=(e,t,n,o,a,i)=>{const c=r.fromValues(0,0),l=r.fromValues(i,0),u=r.fromValues(o,0);return r.add(u,r.rotate(u,u,[0,0],Math.PI-t),l),s.fromPoints([c,l,u])};t.exports=e=>{let{type:t,values:n}=Object.assign({},{type:"SSS",values:[1,1,1]},e);if("string"!=typeof t)throw new Error("triangle type must be a string");if(t=t.toUpperCase(),"A"!==t[0]&&"S"!==t[0]||"A"!==t[1]&&"S"!==t[1]||"A"!==t[2]&&"S"!==t[2])throw new Error("triangle type must contain three letters; A or S");if(!a(n,3))throw new Error("triangle values must contain three values");if(!n.every((e=>e>0)))throw new Error("triangle values must be greater than zero");switch(t){case"AAA":return(e=>{if(Math.abs(e[0]+e[1]+e[2]-Math.PI)>o)throw new Error("AAA triangles require angles that sum to PI");const t=e[0],n=e[1],r=Math.PI-t-n,s=1/Math.sin(r)*Math.sin(t),a=1/Math.sin(r)*Math.sin(n);return c(t,n,r,s,a,1)})(n);case"AAS":return(e=>{const t=e[0],n=e[1],r=Math.PI+o-t-n;if(r<o)throw new Error("AAS triangles require angles that sum to PI");const s=e[2],a=s/Math.sin(t)*Math.sin(n),i=s/Math.sin(t)*Math.sin(r);return c(t,n,r,s,a,i)})(n);case"ASA":return(e=>{const t=e[0],n=e[2],r=Math.PI+o-t-n;if(r<o)throw new Error("ASA triangles require angles that sum to PI");const s=e[1],a=s/Math.sin(r)*Math.sin(t),i=s/Math.sin(r)*Math.sin(n);return c(t,n,r,a,i,s)})(n);case"SAS":return(e=>{const t=e[0],n=e[1],r=e[2],s=((e,t,n)=>t>o?Math.sqrt(e*e+n*n-2*e*n*Math.cos(t)):Math.sqrt((e-n)*(e-n)+e*n*t*t*(1-t*t/12)))(t,n,r),a=i(s,t,r),l=Math.PI-a-n;return c(a,n,l,r,s,t)})(n);case"SSA":return(e=>{const t=e[0],n=e[1],o=e[2],r=Math.asin(n*Math.sin(o)/t),s=Math.PI-r-o,a=t/Math.sin(o)*Math.sin(s);return c(r,s,o,n,a,t)})(n);case"SSS":return(e=>{const t=e[1],n=e[2],o=e[0];if(t+n<=o||n+o<=t||o+t<=n)throw new Error("SSS triangle is incorrect, as the longest side is longer than the sum of the other sides");const r=i(n,o,t),s=i(o,t,n),a=Math.PI-r-s;return c(r,s,a,t,n,o)})(n);default:throw new Error("invalid triangle type, try again")}}},{"../geometries/geom2":38,"../maths/constants":106,"../maths/vec2":202,"./commonChecks":380}],401:[function(e,t,n){t.exports={height:14,32:[16],33:[10,5,21,5,7,void 0,5,2,4,1,5,0,6,1,5,2],34:[16,4,21,4,14,void 0,12,21,12,14],35:[21,11,25,4,-7,void 0,17,25,10,-7,void 0,4,12,18,12,void 0,3,6,17,6],36:[20,8,25,8,-4,void 0,12,25,12,-4,void 0,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],37:[24,21,21,3,0,void 0,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,void 0,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7],38:[26,23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2],39:[10,5,19,4,20,5,21,6,20,6,18,5,16,4,15],40:[14,11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7],41:[14,3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7],42:[16,8,21,8,9,void 0,3,18,13,12,void 0,13,18,3,12],43:[26,13,18,13,0,void 0,4,9,22,9],44:[10,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],45:[26,4,9,22,9],46:[10,5,2,4,1,5,0,6,1,5,2],47:[22,20,25,2,-7],48:[20,9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21],49:[20,6,17,8,18,11,21,11,0],50:[20,4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0],51:[20,5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],52:[20,13,21,3,7,18,7,void 0,13,21,13,0],53:[20,15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],54:[20,16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7],55:[20,17,21,7,0,void 0,3,21,17,21],56:[20,8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21],57:[20,16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3],58:[10,5,14,4,13,5,12,6,13,5,14,void 0,5,2,4,1,5,0,6,1,5,2],59:[10,5,14,4,13,5,12,6,13,5,14,void 0,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],60:[24,20,18,4,9,20,0],61:[26,4,12,22,12,void 0,4,6,22,6],62:[24,4,18,20,9,4,0],63:[18,3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,void 0,9,2,8,1,9,0,10,1,9,2],64:[27,18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,void 0,12,16,10,14,9,11,9,8,10,6,11,5,void 0,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,void 0,19,16,18,8,18,6,19,5],65:[18,9,21,1,0,void 0,9,21,17,0,void 0,4,7,14,7],66:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,void 0,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0],67:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5],68:[21,4,21,4,0,void 0,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0],69:[19,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11,void 0,4,0,17,0],70:[18,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11],71:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,void 0,13,8,18,8],72:[22,4,21,4,0,void 0,18,21,18,0,void 0,4,11,18,11],73:[8,4,21,4,0],74:[16,12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7],75:[21,4,21,4,0,void 0,18,21,4,7,void 0,9,12,18,0],76:[17,4,21,4,0,void 0,4,0,16,0],77:[24,4,21,4,0,void 0,4,21,12,0,void 0,20,21,12,0,void 0,20,21,20,0],78:[22,4,21,4,0,void 0,4,21,18,0,void 0,18,21,18,0],79:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21],80:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10],81:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,void 0,12,4,18,-2],82:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,void 0,11,11,18,0],83:[20,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],84:[16,8,21,8,0,void 0,1,21,15,21],85:[22,4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21],86:[18,1,21,9,0,void 0,17,21,9,0],87:[24,2,21,7,0,void 0,12,21,7,0,void 0,12,21,17,0,void 0,22,21,17,0],88:[20,3,21,17,0,void 0,17,21,3,0],89:[18,1,21,9,11,9,0,void 0,17,21,9,11],90:[20,17,21,3,0,void 0,3,21,17,21,void 0,3,0,17,0],91:[14,4,25,4,-7,void 0,5,25,5,-7,void 0,4,25,11,25,void 0,4,-7,11,-7],92:[14,0,21,14,-3],93:[14,9,25,9,-7,void 0,10,25,10,-7,void 0,3,25,10,25,void 0,3,-7,10,-7],94:[16,6,15,8,18,10,15,void 0,3,12,8,17,13,12,void 0,8,17,8,0],95:[16,0,-2,16,-2],96:[10,6,21,5,20,4,18,4,16,5,15,6,16,5,17],97:[19,15,14,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],98:[19,4,21,4,0,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],99:[18,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],100:[19,15,21,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],101:[18,3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],102:[12,10,21,8,21,6,20,5,17,5,0,void 0,2,14,9,14],103:[19,15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],104:[19,4,21,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],105:[8,3,21,4,20,5,21,4,22,3,21,void 0,4,14,4,0],106:[10,5,21,6,20,7,21,6,22,5,21,void 0,6,14,6,-3,5,-6,3,-7,1,-7],107:[17,4,21,4,0,void 0,14,14,4,4,void 0,8,8,15,0],108:[8,4,21,4,0],109:[30,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0,void 0,15,10,18,13,20,14,23,14,25,13,26,10,26,0],110:[19,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],111:[19,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14],112:[19,4,14,4,-7,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],113:[19,15,14,15,-7,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],114:[13,4,14,4,0,void 0,4,8,5,11,7,13,9,14,12,14],115:[17,14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3],116:[12,5,21,5,4,6,1,8,0,10,0,void 0,2,14,9,14],117:[19,4,14,4,4,5,1,7,0,10,0,12,1,15,4,void 0,15,14,15,0],118:[16,2,14,8,0,void 0,14,14,8,0],119:[22,3,14,7,0,void 0,11,14,7,0,void 0,11,14,15,0,void 0,19,14,15,0],120:[17,3,14,14,0,void 0,14,14,3,0],121:[16,2,14,8,0,void 0,14,14,8,0,6,-4,4,-6,2,-7,1,-7],122:[17,14,14,3,0,void 0,3,14,14,14,void 0,3,0,14,0],123:[14,9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,void 0,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,void 0,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7],124:[8,4,25,4,-7],125:[14,5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,void 0,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,void 0,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7],126:[24,3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,void 0,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]}},{}],402:[function(e,t,n){t.exports={vectorChar:e("./vectorChar"),vectorText:e("./vectorText")}},{"./vectorChar":403,"./vectorText":405}],403:[function(e,t,n){const o=e("./vectorParams");t.exports=(e,t)=>{const{xOffset:n,yOffset:r,input:s,font:a,height:i,extrudeOffset:c}=o(e,t);let l=s.charCodeAt(0);l&&a[l]||(l=63);const u=[].concat(a[l]),p=(i-c)/a.height,f=c/2,h=u.shift()*p,m=[];let g=[];for(let e=0,t=u.length;e<t;e+=2){const t=p*u[e]+n,o=p*u[e+1]+r+f;void 0===u[e]?(m.push(g),g=[],e--):g.push([t,o])}return g.length&&m.push(g),{width:h,height:i,segments:m}}},{"./vectorParams":404}],404:[function(e,t,n){const o={xOffset:0,yOffset:0,input:"?",align:"left",font:e("./fonts/single-line/hershey/simplex.js"),height:14,lineSpacing:2.142857142857143,letterSpacing:1,extrudeOffset:0};t.exports=(e,t)=>{t||"string"!=typeof e||(e={input:e}),e=e||{};const n=Object.assign({},o,e);return n.input=t||n.input,n}},{"./fonts/single-line/hershey/simplex.js":401}],405:[function(e,t,n){const o=e("./vectorChar"),r=e("./vectorParams"),s=(e,t)=>{const{x:n,y:o}=Object.assign({x:0,y:0},e||{}),r=t.segments;let s=null,a=null;for(let e=0,t=r.length;e<t;e++){s=r[e];for(let e=0,t=s.length;e<t;e++)a=s[e],s[e]=[a[0]+n,a[1]+o]}return t};t.exports=(e,t)=>{const{xOffset:n,yOffset:a,input:i,font:c,height:l,align:u,extrudeOffset:p,lineSpacing:f,letterSpacing:h}=r(e,t);let m,g,d,y,v,b,[x,A]=[n,a],E={width:0,segments:[]};const w=[];let S=[],T=0;const P=x,D=()=>{w.push(E),T=Math.max(T,E.width),E={width:0,segments:[]}};for(m=0,g=i.length;m<g;m++)d=i[m],y=o({xOffset:x,yOffset:A,font:c,height:l,extrudeOffset:p},d),"\n"!==d?(v=y.width*h,E.width+=v,x+=v," "!==d&&(E.segments=E.segments.concat(y.segments))):(x=P,A-=y.height*f,D());for(E.segments.length&&D(),m=0,g=w.length;m<g;m++)E=w[m],T>E.width&&(b=T-E.width,"right"===u?E=s({x:b},E):"center"===u&&(E=s({x:b/2},E))),S=S.concat(E.segments);return S}},{"./vectorChar":403,"./vectorParams":404}],406:[function(e,t,n){const o=e("../geometries/geom2"),r=e("../geometries/geom3"),s=e("../geometries/path2");t.exports=e=>{let t;for(const n of e){let e=0;if(o.isA(n)&&(e=1),r.isA(n)&&(e=2),s.isA(n)&&(e=3),t&&e!==t)return!1;t=e}return!0}},{"../geometries/geom2":38,"../geometries/geom3":53,"../geometries/path2":74}],407:[function(e,t,n){t.exports=e=>.017453292519943295*e},{}],408:[function(e,t,n){const o=e=>e.reduce(((e,t)=>Array.isArray(t)?e.concat(o(t)):e.concat(t)),[]);t.exports=o},{}],409:[function(e,t,n){t.exports=(e,t)=>e-t},{}],410:[function(e,t,n){t.exports={areAllShapesTheSameType:e("./areAllShapesTheSameType"),degToRad:e("./degToRad"),flatten:e("./flatten"),fnNumberSort:e("./fnNumberSort"),insertSorted:e("./insertSorted"),radiusToSegments:e("./radiusToSegments"),radToDeg:e("./radToDeg")}},{"./areAllShapesTheSameType":406,"./degToRad":407,"./flatten":408,"./fnNumberSort":409,"./insertSorted":411,"./radToDeg":413,"./radiusToSegments":414}],411:[function(e,t,n){t.exports=(e,t,n)=>{let o=0,r=e.length;for(;r>o;){const s=Math.floor((o+r)/2);n(t,e[s])>0?o=s+1:r=s}e.splice(o,0,t)}},{}],412:[function(e,t,n){t.exports=(e,t,n)=>{for(e=e.slice();e.length<n;)e.push(t);return e}},{}],413:[function(e,t,n){t.exports=e=>57.29577951308232*e},{}],414:[function(e,t,n){const{TAU:o}=e("../maths/constants");t.exports=(e,t,n)=>{const r=t>0?e*o/t:0,s=n>0?o/n:0;return Math.ceil(Math.max(r,s,4))}},{"../maths/constants":106}],415:[function(e,t,n){t.exports=class{constructor(e){this._buffer=e,this._pos=0}readInt8(){return this._decodeInt(8,!0)}readUInt8(){return this._decodeInt(8,!1)}readInt16(){return this._decodeInt(16,!0)}readUInt16(){return this._decodeInt(16,!1)}readInt32(){return this._decodeInt(32,!0)}readUInt32(){return this._decodeInt(32,!1)}readFloat(){return this._decodeFloat(23,8)}readDouble(){return this._decodeFloat(52,11)}readChar(){return this.readString(1)}readString(e){this._checkSize(8*e);const t=this._buffer.substr(this._pos,e);return this._pos+=e,t}seek(e){this._pos=e,this._checkSize(0)}getPosition(){return this._pos}getSize(){return this._buffer.length}_decodeFloat(e,t){const n=e+t+1,o=n>>3;this._checkSize(n);const r=Math.pow(2,t-1)-1,s=this._readBits(e+t,1,o),a=this._readBits(e,t,o);let i=0,c=2,l=0,u=0;do{const t=this._readByte(++l,o);u=e%8||8;let n=1<<u;for(;n>>=1;)t&n&&(i+=1/c),c*=2}while(e-=u);return this._pos+=o,a===1+(r<<1)?i?NaN:s?-1/0:1/0:(1+-2*s)*(a||i?a?Math.pow(2,a-r)*(1+i):Math.pow(2,1-r)*i:0)}_decodeInt(e,t){const n=this._readBits(0,e,e/8),o=Math.pow(2,e),r=t&&n>=o/2?n-o:n;return this._pos+=e/8,r}_shl(e,t){for(++t;--t;e=1073741824&~(e%=2147483648)?2*(e-1073741824)+2147483647+1:2*e);return e}_readByte(e,t){return 255&this._buffer.charCodeAt(this._pos+t-e-1)}_readBits(e,t,n){const o=(e+t)%8,r=e%8,s=n-(e>>3)-1;let a=n+(-(e+t)>>3),i=s-a,c=this._readByte(s,n)>>r&(1<<(i?8-r:t))-1;for(i&&o&&(c+=(this._readByte(a++,n)&(1<<o)-1)<<(i--<<3)-r);i;)c+=this._shl(this._readByte(a++,n),(i--<<3)-r);return c}_checkSize(e){this._pos,Math.ceil(e/8),this._buffer.length}}},{}],416:[function(e,t,n){(function(e){class n{constructor(t,n){if(n=n||{},this.size=0,this.type="",this.isClosed=!1,this.encoding="utf8",this.buffer=null,this.length=0,!t)return;if(!Array.isArray(t))return;let o,r;t.forEach((e=>{"string"==typeof e?this.length+=e.length:e instanceof ArrayBuffer&&(this.length+=e.byteLength)})),n.type&&(this.type=n.type.toLowerCase()),n.endings,n.encoding&&(this.encoding=n.encoding.toLowerCase()),n.length&&(this.length=n.length),this.buffer=e.allocUnsafe(this.length);for(let e=0;e<t.length;e++)switch(typeof t[e]){case"string":o=this.buffer.write(t[e],this.size,this.encoding),this.size=this.size+o;break;case"object":if(r=t[e],r instanceof ArrayBuffer){const e=new DataView(r);for(let t=0;t<r.byteLength;t++){const n=e.getUint8(t);o=this.buffer.writeUInt8(n,this.size,!1),this.size++}}}}asBuffer(){return this.buffer.slice(0,this.size)}arrayBuffer(){return this.buffer.slice(0,this.size)}slice(e,t,o){return e=e||0,t=t||this.size,o=o||"",new n}stream(){return null}text(){return""}close(){this.isClosed||(this.isClosed=!0)}toString(){return""}}t.exports=n}).call(this,e("buffer").Buffer)},{buffer:831}],417:[function(e,t,n){const o=e("./makeBlob")();t.exports=e=>{const{data:t,mimeType:n}=e;return new o(t,{type:n})}},{"./makeBlob":419}],418:[function(e,t,n){t.exports={convertToBlob:e("./convertToBlob"),makeBlob:e("./makeBlob"),BinaryReader:e("./BinaryReader"),Blob:e("./Blob")}},{"./BinaryReader":415,"./Blob":416,"./convertToBlob":417,"./makeBlob":419}],419:[function(e,t,n){const o=e("./Blob.js");t.exports=()=>"undefined"!=typeof window?window.Blob:o},{"./Blob.js":416}],420:[function(e,t,n){arguments[4][14][0].apply(n,arguments)},{"./cssColors":422,dup:14}],421:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{"../geometries/geom2":444,"../geometries/geom3":460,"../geometries/path2":481,"../geometries/poly3":498,"../utils/flatten":817,dup:15}],422:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],423:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],424:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{"../utils/flatten":817,"./hueToColorComponent":426,dup:18}],425:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{"../utils/flatten":817,dup:19}],426:[function(e,t,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],427:[function(e,t,n){arguments[4][21][0].apply(n,arguments)},{"./colorNameToRgb":420,"./colorize":421,"./cssColors":422,"./hexToRgb":423,"./hslToRgb":424,"./hsvToRgb":425,"./hueToColorComponent":426,"./rgbToHex":428,"./rgbToHsl":429,"./rgbToHsv":430,dup:21}],428:[function(e,t,n){arguments[4][22][0].apply(n,arguments)},{"../utils/flatten":817,dup:22}],429:[function(e,t,n){arguments[4][23][0].apply(n,arguments)},{"../utils/flatten":817,dup:23}],430:[function(e,t,n){arguments[4][24][0].apply(n,arguments)},{"../utils/flatten":817,dup:24}],431:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{"./lengths":435,dup:25}],432:[function(e,t,n){arguments[4][26][0].apply(n,arguments)},{dup:26}],433:[function(e,t,n){arguments[4][27][0].apply(n,arguments)},{"./arcLengthToT":431,"./create":432,"./length":434,"./lengths":435,"./tangentAt":436,"./valueAt":437,dup:27}],434:[function(e,t,n){arguments[4][28][0].apply(n,arguments)},{"./lengths":435,dup:28}],435:[function(e,t,n){arguments[4][29][0].apply(n,arguments)},{"./valueAt":437,dup:29}],436:[function(e,t,n){arguments[4][30][0].apply(n,arguments)},{dup:30}],437:[function(e,t,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],438:[function(e,t,n){arguments[4][32][0].apply(n,arguments)},{"./bezier":433,dup:32}],439:[function(e,t,n){arguments[4][33][0].apply(n,arguments)},{"../../maths/mat4":562,"../../maths/vec2":610,dup:33}],440:[function(e,t,n){arguments[4][34][0].apply(n,arguments)},{dup:34}],441:[function(e,t,n){arguments[4][35][0].apply(n,arguments)},{"../../maths/mat4":562,dup:35}],442:[function(e,t,n){arguments[4][36][0].apply(n,arguments)},{"../../maths/mat4":562,"../../maths/vec2":610,"./create":441,dup:36}],443:[function(e,t,n){arguments[4][37][0].apply(n,arguments)},{"../../maths/vec2":610,"./create":441,dup:37}],444:[function(e,t,n){arguments[4][38][0].apply(n,arguments)},{"./clone":440,"./create":441,"./fromCompactBinary":442,"./fromPoints":443,"./isA":445,"./reverse":446,"./toCompactBinary":447,"./toOutlines":448,"./toPoints":449,"./toSides":450,"./toString":451,"./transform":452,"./validate":453,dup:38}],445:[function(e,t,n){arguments[4][39][0].apply(n,arguments)},{dup:39}],446:[function(e,t,n){arguments[4][40][0].apply(n,arguments)},{"./create":441,"./toSides":450,dup:40}],447:[function(e,t,n){arguments[4][41][0].apply(n,arguments)},{dup:41}],448:[function(e,t,n){arguments[4][42][0].apply(n,arguments)},{"../../maths/vec2":610,"./toSides":450,dup:42}],449:[function(e,t,n){arguments[4][43][0].apply(n,arguments)},{"./toSides":450,dup:43}],450:[function(e,t,n){arguments[4][44][0].apply(n,arguments)},{"./applyTransforms":439,dup:44}],451:[function(e,t,n){arguments[4][45][0].apply(n,arguments)},{"../../maths/vec2":610,"./toSides":450,dup:45}],452:[function(e,t,n){const o=e("../../maths/mat4"),r=e("./reverse.js");t.exports=(e,t)=>{const n=o.multiply(o.create(),e,t.transforms),s=Object.assign({},t,{transforms:n});return e[0]*e[5]-e[4]*e[1]<0?r(s):s}},{"../../maths/mat4":562,"./reverse.js":446}],453:[function(e,t,n){arguments[4][47][0].apply(n,arguments)},{"../../maths/vec2":610,"./isA":445,"./toOutlines":448,dup:47}],454:[function(e,t,n){arguments[4][48][0].apply(n,arguments)},{"../../maths/mat4":562,"../poly3":498,dup:48}],455:[function(e,t,n){arguments[4][49][0].apply(n,arguments)},{dup:49}],456:[function(e,t,n){arguments[4][50][0].apply(n,arguments)},{"../../maths/mat4":562,dup:50}],457:[function(e,t,n){arguments[4][51][0].apply(n,arguments)},{"../../maths/mat4":562,"../../maths/vec3":641,"../poly3":498,"./create":456,dup:51}],458:[function(e,t,n){arguments[4][52][0].apply(n,arguments)},{"../poly3":498,"./create":456,dup:52}],459:[function(e,t,n){const o=e("../../operations/hulls/quickhull"),r=e("./create"),s=e("../poly3");t.exports=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");const t=o(e,{skipTriangulation:!0}).map((t=>{const n=t.map((t=>e[t]));return s.create(n)}));return r(t)}},{"../../operations/hulls/quickhull":767,"../poly3":498,"./create":456}],460:[function(e,t,n){t.exports={clone:e("./clone"),create:e("./create"),fromPointsConvex:e("./fromPointsConvex"),fromPoints:e("./fromPoints"),fromCompactBinary:e("./fromCompactBinary"),invert:e("./invert"),isA:e("./isA"),toPoints:e("./toPoints"),toPolygons:e("./toPolygons"),toString:e("./toString"),toCompactBinary:e("./toCompactBinary"),transform:e("./transform"),validate:e("./validate")}},{"./clone":455,"./create":456,"./fromCompactBinary":457,"./fromPoints":458,"./fromPointsConvex":459,"./invert":461,"./isA":462,"./toCompactBinary":463,"./toPoints":464,"./toPolygons":465,"./toString":466,"./transform":467,"./validate":468}],461:[function(e,t,n){arguments[4][54][0].apply(n,arguments)},{"../poly3":498,"./create":456,"./toPolygons":465,dup:54}],462:[function(e,t,n){arguments[4][55][0].apply(n,arguments)},{dup:55}],463:[function(e,t,n){arguments[4][56][0].apply(n,arguments)},{"../poly3":498,dup:56}],464:[function(e,t,n){arguments[4][57][0].apply(n,arguments)},{"../poly3":498,"./toPolygons":465,dup:57}],465:[function(e,t,n){arguments[4][58][0].apply(n,arguments)},{"./applyTransforms":454,dup:58}],466:[function(e,t,n){arguments[4][59][0].apply(n,arguments)},{"../poly3":498,"./toPolygons":465,dup:59}],467:[function(e,t,n){arguments[4][60][0].apply(n,arguments)},{"../../maths/mat4":562,dup:60}],468:[function(e,t,n){arguments[4][61][0].apply(n,arguments)},{"../poly3":498,"./isA":462,dup:61}],469:[function(e,t,n){arguments[4][62][0].apply(n,arguments)},{"./geom2":444,"./geom3":460,"./path2":481,"./poly2":492,"./poly3":498,dup:62}],470:[function(e,t,n){arguments[4][63][0].apply(n,arguments)},{"../../maths/constants":513,"../../maths/vec2":610,"./fromPoints":480,"./toPoints":485,dup:63}],471:[function(e,t,n){arguments[4][64][0].apply(n,arguments)},{"../../maths/constants":513,"../../maths/vec2":610,"./appendPoints":472,"./toPoints":485,dup:64}],472:[function(e,t,n){arguments[4][65][0].apply(n,arguments)},{"./concat":476,"./create":477,dup:65}],473:[function(e,t,n){arguments[4][66][0].apply(n,arguments)},{"../../maths/mat4":562,"../../maths/vec2":610,dup:66}],474:[function(e,t,n){arguments[4][67][0].apply(n,arguments)},{dup:67}],475:[function(e,t,n){arguments[4][68][0].apply(n,arguments)},{"../../maths/constants":513,"../../maths/vec2":610,"./clone":474,dup:68}],476:[function(e,t,n){arguments[4][69][0].apply(n,arguments)},{"../../maths/vec2":610,"./fromPoints":480,"./toPoints":485,dup:69}],477:[function(e,t,n){arguments[4][70][0].apply(n,arguments)},{"../../maths/mat4":562,dup:70}],478:[function(e,t,n){arguments[4][71][0].apply(n,arguments)},{"../../maths/vec2":610,"./toPoints":485,dup:71}],479:[function(e,t,n){arguments[4][72][0].apply(n,arguments)},{"../../maths/mat4":562,"../../maths/vec2":610,"./create":477,dup:72}],480:[function(e,t,n){arguments[4][73][0].apply(n,arguments)},{"../../maths/constants":513,"../../maths/vec2":610,"./close":475,"./create":477,dup:73}],481:[function(e,t,n){arguments[4][74][0].apply(n,arguments)},{"./appendArc":470,"./appendBezier":471,"./appendPoints":472,"./clone":474,"./close":475,"./concat":476,"./create":477,"./equals":478,"./fromCompactBinary":479,"./fromPoints":480,"./isA":482,"./reverse":483,"./toCompactBinary":484,"./toPoints":485,"./toString":486,"./transform":487,"./validate":488,dup:74}],482:[function(e,t,n){arguments[4][75][0].apply(n,arguments)},{dup:75}],483:[function(e,t,n){arguments[4][76][0].apply(n,arguments)},{"./clone":474,dup:76}],484:[function(e,t,n){arguments[4][77][0].apply(n,arguments)},{dup:77}],485:[function(e,t,n){arguments[4][78][0].apply(n,arguments)},{"./applyTransforms":473,dup:78}],486:[function(e,t,n){arguments[4][79][0].apply(n,arguments)},{"../../maths/vec2":610,"./toPoints":485,dup:79}],487:[function(e,t,n){arguments[4][80][0].apply(n,arguments)},{"../../maths/mat4":562,dup:80}],488:[function(e,t,n){arguments[4][81][0].apply(n,arguments)},{"../../maths/vec2":610,"./isA":482,dup:81}],489:[function(e,t,n){arguments[4][82][0].apply(n,arguments)},{"./flip":491,"./measureArea":493,dup:82}],490:[function(e,t,n){arguments[4][83][0].apply(n,arguments)},{dup:83}],491:[function(e,t,n){arguments[4][84][0].apply(n,arguments)},{"./create":490,dup:84}],492:[function(e,t,n){arguments[4][85][0].apply(n,arguments)},{"./arePointsInside":489,"./create":490,"./flip":491,"./measureArea":493,dup:85}],493:[function(e,t,n){arguments[4][86][0].apply(n,arguments)},{"../../maths/utils/area":587,dup:86}],494:[function(e,t,n){arguments[4][87][0].apply(n,arguments)},{"../../maths/vec3":641,"./create":495,dup:87}],495:[function(e,t,n){arguments[4][88][0].apply(n,arguments)},{dup:88}],496:[function(e,t,n){arguments[4][89][0].apply(n,arguments)},{"../../maths/vec3":641,"./create":495,dup:89}],497:[function(e,t,n){arguments[4][90][0].apply(n,arguments)},{"./create":495,dup:90}],498:[function(e,t,n){arguments[4][91][0].apply(n,arguments)},{"./clone":494,"./create":495,"./fromPoints":496,"./fromPointsAndPlane":497,"./invert":499,"./isA":500,"./isConvex":501,"./measureArea":502,"./measureBoundingBox":503,"./measureBoundingSphere":504,"./measureSignedVolume":505,"./plane":506,"./toPoints":507,"./toString":508,"./transform":509,"./validate":510,dup:91}],499:[function(e,t,n){arguments[4][92][0].apply(n,arguments)},{"../../maths/plane":582,"./create":495,dup:92}],500:[function(e,t,n){arguments[4][93][0].apply(n,arguments)},{dup:93}],501:[function(e,t,n){arguments[4][94][0].apply(n,arguments)},{"../../maths/plane":582,"../../maths/vec3":641,dup:94}],502:[function(e,t,n){arguments[4][95][0].apply(n,arguments)},{"./plane":506,dup:95}],503:[function(e,t,n){arguments[4][96][0].apply(n,arguments)},{"../../maths/vec3":641,dup:96}],504:[function(e,t,n){arguments[4][97][0].apply(n,arguments)},{"../../maths/vec4":667,dup:97}],505:[function(e,t,n){arguments[4][98][0].apply(n,arguments)},{"../../maths/vec3":641,dup:98}],506:[function(e,t,n){arguments[4][99][0].apply(n,arguments)},{"../../maths/plane/":582,dup:99}],507:[function(e,t,n){arguments[4][100][0].apply(n,arguments)},{dup:100}],508:[function(e,t,n){arguments[4][101][0].apply(n,arguments)},{"../../maths/vec3/":641,dup:101}],509:[function(e,t,n){arguments[4][102][0].apply(n,arguments)},{"../../maths/mat4":562,"../../maths/vec3":641,"./create":495,dup:102}],510:[function(e,t,n){arguments[4][103][0].apply(n,arguments)},{"../../maths/constants":513,"../../maths/plane/signedDistanceToPoint":584,"../../maths/vec3":641,"./isA":500,"./isConvex":501,"./measureArea":502,"./plane":506,dup:103}],511:[function(e,t,n){arguments[4][104][0].apply(n,arguments)},{"./colors":427,"./curves":438,"./geometries":469,"./maths":514,"./measurements":671,"./operations/booleans":685,"./operations/expansions":714,"./operations/extrusions":737,"./operations/hulls":760,"./operations/modifiers":771,"./operations/transforms":781,"./primitives":797,"./text":811,"./utils":819,dup:104}],512:[function(e,t,n){arguments[4][105][0].apply(n,arguments)},{"./mat4":562,"./vec2":610,"./vec3":641,dup:105}],513:[function(e,t,n){arguments[4][106][0].apply(n,arguments)},{dup:106}],514:[function(e,t,n){arguments[4][107][0].apply(n,arguments)},{"./constants":513,"./line2":524,"./line3":541,"./mat4":562,"./plane":582,"./utils":588,"./vec2":610,"./vec3":641,"./vec4":667,dup:107}],515:[function(e,t,n){arguments[4][108][0].apply(n,arguments)},{"./create":518,dup:108}],516:[function(e,t,n){arguments[4][109][0].apply(n,arguments)},{"../vec2":610,"./direction":519,"./origin":526,dup:109}],517:[function(e,t,n){arguments[4][110][0].apply(n,arguments)},{dup:110}],518:[function(e,t,n){arguments[4][111][0].apply(n,arguments)},{dup:111}],519:[function(e,t,n){arguments[4][112][0].apply(n,arguments)},{"../vec2":610,dup:112}],520:[function(e,t,n){arguments[4][113][0].apply(n,arguments)},{"../vec2":610,dup:113}],521:[function(e,t,n){arguments[4][114][0].apply(n,arguments)},{dup:114}],522:[function(e,t,n){arguments[4][115][0].apply(n,arguments)},{"../vec2":610,dup:115}],523:[function(e,t,n){arguments[4][116][0].apply(n,arguments)},{"./create":518,dup:116}],524:[function(e,t,n){arguments[4][117][0].apply(n,arguments)},{"./clone":515,"./closestPoint":516,"./copy":517,"./create":518,"./direction":519,"./distanceToPoint":520,"./equals":521,"./fromPoints":522,"./fromValues":523,"./intersectPointOfLines":525,"./origin":526,"./reverse":527,"./toString":528,"./transform":529,"./xAtY":530,dup:117}],525:[function(e,t,n){arguments[4][118][0].apply(n,arguments)},{"../utils":588,"../vec2":610,dup:118}],526:[function(e,t,n){arguments[4][119][0].apply(n,arguments)},{"../vec2":610,dup:119}],527:[function(e,t,n){arguments[4][120][0].apply(n,arguments)},{"../vec2":610,"./copy":517,"./fromValues":523,dup:120}],528:[function(e,t,n){arguments[4][121][0].apply(n,arguments)},{dup:121}],529:[function(e,t,n){arguments[4][122][0].apply(n,arguments)},{"../vec2":610,"./direction":519,"./fromPoints":522,"./origin":526,dup:122}],530:[function(e,t,n){arguments[4][123][0].apply(n,arguments)},{"./origin":526,dup:123}],531:[function(e,t,n){arguments[4][124][0].apply(n,arguments)},{"../vec3":641,"./create":534,dup:124}],532:[function(e,t,n){arguments[4][125][0].apply(n,arguments)},{"../vec3":641,dup:125}],533:[function(e,t,n){arguments[4][126][0].apply(n,arguments)},{"../vec3":641,dup:126}],534:[function(e,t,n){arguments[4][127][0].apply(n,arguments)},{"../vec3":641,dup:127}],535:[function(e,t,n){arguments[4][128][0].apply(n,arguments)},{dup:128}],536:[function(e,t,n){arguments[4][129][0].apply(n,arguments)},{"../vec3":641,"./closestPoint":532,dup:129}],537:[function(e,t,n){arguments[4][130][0].apply(n,arguments)},{"../vec3":641,dup:130}],538:[function(e,t,n){arguments[4][131][0].apply(n,arguments)},{"../constants":513,"../utils":588,"../vec3":641,"./fromPointAndDirection":539,dup:131}],539:[function(e,t,n){arguments[4][132][0].apply(n,arguments)},{"../vec3":641,dup:132}],540:[function(e,t,n){arguments[4][133][0].apply(n,arguments)},{"../vec3":641,"./fromPointAndDirection":539,dup:133}],541:[function(e,t,n){arguments[4][134][0].apply(n,arguments)},{"./clone":531,"./closestPoint":532,"./copy":533,"./create":534,"./direction":535,"./distanceToPoint":536,"./equals":537,"./fromPlanes":538,"./fromPointAndDirection":539,"./fromPoints":540,"./intersectPointOfLineAndPlane":542,"./origin":543,"./reverse":544,"./toString":545,"./transform":546,dup:134}],542:[function(e,t,n){arguments[4][135][0].apply(n,arguments)},{"../vec3":641,dup:135}],543:[function(e,t,n){arguments[4][136][0].apply(n,arguments)},{dup:136}],544:[function(e,t,n){arguments[4][137][0].apply(n,arguments)},{"../vec3":641,"./fromPointAndDirection":539,dup:137}],545:[function(e,t,n){arguments[4][138][0].apply(n,arguments)},{dup:138}],546:[function(e,t,n){arguments[4][139][0].apply(n,arguments)},{"../vec3":641,"./fromPointAndDirection":539,dup:139}],547:[function(e,t,n){arguments[4][140][0].apply(n,arguments)},{dup:140}],548:[function(e,t,n){arguments[4][141][0].apply(n,arguments)},{"./create":550,dup:141}],549:[function(e,t,n){arguments[4][142][0].apply(n,arguments)},{dup:142}],550:[function(e,t,n){arguments[4][143][0].apply(n,arguments)},{dup:143}],551:[function(e,t,n){arguments[4][144][0].apply(n,arguments)},{dup:144}],552:[function(e,t,n){arguments[4][145][0].apply(n,arguments)},{"../constants":513,"../utils/trigonometry":592,"./identity":561,dup:145}],553:[function(e,t,n){arguments[4][146][0].apply(n,arguments)},{dup:146}],554:[function(e,t,n){arguments[4][147][0].apply(n,arguments)},{"../utils/trigonometry":592,dup:147}],555:[function(e,t,n){arguments[4][148][0].apply(n,arguments)},{dup:148}],556:[function(e,t,n){arguments[4][149][0].apply(n,arguments)},{"./create":550,dup:149}],557:[function(e,t,n){arguments[4][150][0].apply(n,arguments)},{"../vec3":641,"./fromRotation":552,dup:150}],558:[function(e,t,n){arguments[4][151][0].apply(n,arguments)},{"../utils/trigonometry":592,dup:151}],559:[function(e,t,n){arguments[4][152][0].apply(n,arguments)},{"../utils/trigonometry":592,dup:152}],560:[function(e,t,n){arguments[4][153][0].apply(n,arguments)},{"../utils/trigonometry":592,dup:153}],561:[function(e,t,n){arguments[4][154][0].apply(n,arguments)},{dup:154}],562:[function(e,t,n){arguments[4][155][0].apply(n,arguments)},{"./add":547,"./clone":548,"./copy":549,"./create":550,"./equals":551,"./fromRotation":552,"./fromScaling":553,"./fromTaitBryanRotation":554,"./fromTranslation":555,"./fromValues":556,"./fromVectorRotation":557,"./fromXRotation":558,"./fromYRotation":559,"./fromZRotation":560,"./identity":561,"./invert":563,"./isIdentity":564,"./isMirroring":565,"./isOnlyTransformScale":566,"./mirrorByPlane":567,"./multiply":568,"./rotate":569,"./rotateX":570,"./rotateY":571,"./rotateZ":572,"./scale":573,"./subtract":574,"./toString":575,"./translate":576,dup:155}],563:[function(e,t,n){arguments[4][156][0].apply(n,arguments)},{dup:156}],564:[function(e,t,n){arguments[4][157][0].apply(n,arguments)},{dup:157}],565:[function(e,t,n){arguments[4][158][0].apply(n,arguments)},{dup:158}],566:[function(e,t,n){arguments[4][159][0].apply(n,arguments)},{dup:159}],567:[function(e,t,n){arguments[4][160][0].apply(n,arguments)},{dup:160}],568:[function(e,t,n){arguments[4][161][0].apply(n,arguments)},{dup:161}],569:[function(e,t,n){arguments[4][162][0].apply(n,arguments)},{"../constants":513,"../utils/trigonometry":592,"./copy":549,dup:162}],570:[function(e,t,n){arguments[4][163][0].apply(n,arguments)},{"../utils/trigonometry":592,dup:163}],571:[function(e,t,n){arguments[4][164][0].apply(n,arguments)},{"../utils/trigonometry":592,dup:164}],572:[function(e,t,n){arguments[4][165][0].apply(n,arguments)},{"../utils/trigonometry":592,dup:165}],573:[function(e,t,n){arguments[4][166][0].apply(n,arguments)},{dup:166}],574:[function(e,t,n){arguments[4][167][0].apply(n,arguments)},{dup:167}],575:[function(e,t,n){arguments[4][168][0].apply(n,arguments)},{dup:168}],576:[function(e,t,n){arguments[4][169][0].apply(n,arguments)},{dup:169}],577:[function(e,t,n){arguments[4][170][0].apply(n,arguments)},{dup:170}],578:[function(e,t,n){const o=e("../vec3"),r=e("./fromNormalAndPoint");t.exports=(e,...t)=>{e[0]=0,e[1]=0,e[2]=0,e[3]=0;const n=t.length;t.forEach((t=>{o.add(e,e,t)})),o.scale(e,e,1/n);let s=0,a=0,i=0,c=0,l=0,u=0;const p=o.create();t.forEach((t=>{o.subtract(p,t,e),s+=p[0]*p[0],a+=p[0]*p[1],i+=p[0]*p[2],c+=p[1]*p[1],l+=p[1]*p[2],u+=p[2]*p[2]})),s/=n,a/=n,i/=n,c/=n,l/=n,u/=n,p[0]=0,p[1]=0,p[2]=0;const f=o.create();let h=c*u-l*l;f[0]=h,f[1]=i*l-a*u,f[2]=a*l-i*c;let m=h*h;return o.add(p,p,o.scale(f,f,m)),h=s*u-i*i,f[0]=i*l-a*u,f[1]=h,f[2]=a*i-l*s,m=h*h,o.dot(p,f)<0&&(m=-m),o.add(p,p,o.scale(f,f,m)),h=s*c-a*a,f[0]=a*l-i*c,f[1]=a*i-l*s,f[2]=h,m=h*h,o.dot(p,f)<0&&(m=-m),o.add(p,p,o.scale(f,f,m)),r(e,p,e)}},{"../vec3":641,"./fromNormalAndPoint":579}],579:[function(e,t,n){arguments[4][171][0].apply(n,arguments)},{"../vec3":641,dup:171}],580:[function(e,t,n){arguments[4][172][0].apply(n,arguments)},{"../vec3":641,dup:172}],581:[function(e,t,n){arguments[4][173][0].apply(n,arguments)},{"../constants":513,"../vec3":641,dup:173}],582:[function(e,t,n){t.exports={clone:e("../vec4/clone"),copy:e("../vec4/copy"),create:e("../vec4/create"),equals:e("../vec4/equals"),flip:e("./flip"),fromNormalAndPoint:e("./fromNormalAndPoint"),fromValues:e("../vec4/fromValues"),fromNoisyPoints:e("./fromNoisyPoints"),fromPoints:e("./fromPoints"),fromPointsRandom:e("./fromPointsRandom"),projectionOfPoint:e("./projectionOfPoint"),signedDistanceToPoint:e("./signedDistanceToPoint"),toString:e("../vec4/toString"),transform:e("./transform")}},{"../vec4/clone":660,"../vec4/copy":661,"../vec4/create":662,"../vec4/equals":664,"../vec4/fromValues":666,"../vec4/toString":668,"./flip":577,"./fromNoisyPoints":578,"./fromNormalAndPoint":579,"./fromPoints":580,"./fromPointsRandom":581,"./projectionOfPoint":583,"./signedDistanceToPoint":584,"./transform":585}],583:[function(e,t,n){arguments[4][175][0].apply(n,arguments)},{"../vec3":641,dup:175}],584:[function(e,t,n){arguments[4][176][0].apply(n,arguments)},{"../vec3":641,dup:176}],585:[function(e,t,n){arguments[4][177][0].apply(n,arguments)},{"../mat4":562,"../vec3":641,"./flip":577,"./fromPoints":580,dup:177}],586:[function(e,t,n){arguments[4][178][0].apply(n,arguments)},{"../constants":513,dup:178}],587:[function(e,t,n){arguments[4][179][0].apply(n,arguments)},{dup:179}],588:[function(e,t,n){arguments[4][180][0].apply(n,arguments)},{"./aboutEqualNormals":586,"./area":587,"./interpolateBetween2DPointsForY":589,"./intersect":590,"./solve2Linear":591,"./trigonometry":592,dup:180}],589:[function(e,t,n){arguments[4][181][0].apply(n,arguments)},{dup:181}],590:[function(e,t,n){arguments[4][182][0].apply(n,arguments)},{dup:182}],591:[function(e,t,n){arguments[4][183][0].apply(n,arguments)},{dup:183}],592:[function(e,t,n){arguments[4][184][0].apply(n,arguments)},{"../constants":513,dup:184}],593:[function(e,t,n){arguments[4][185][0].apply(n,arguments)},{dup:185}],594:[function(e,t,n){arguments[4][186][0].apply(n,arguments)},{dup:186}],595:[function(e,t,n){arguments[4][187][0].apply(n,arguments)},{"./angleRadians":597,dup:187}],596:[function(e,t,n){arguments[4][188][0].apply(n,arguments)},{"./angleRadians":597,dup:188}],597:[function(e,t,n){arguments[4][189][0].apply(n,arguments)},{dup:189}],598:[function(e,t,n){arguments[4][190][0].apply(n,arguments)},{"./create":600,dup:190}],599:[function(e,t,n){arguments[4][191][0].apply(n,arguments)},{dup:191}],600:[function(e,t,n){arguments[4][192][0].apply(n,arguments)},{dup:192}],601:[function(e,t,n){arguments[4][193][0].apply(n,arguments)},{dup:193}],602:[function(e,t,n){arguments[4][194][0].apply(n,arguments)},{dup:194}],603:[function(e,t,n){arguments[4][195][0].apply(n,arguments)},{dup:195}],604:[function(e,t,n){arguments[4][196][0].apply(n,arguments)},{dup:196}],605:[function(e,t,n){arguments[4][197][0].apply(n,arguments)},{dup:197}],606:[function(e,t,n){arguments[4][198][0].apply(n,arguments)},{"./fromAngleRadians":607,dup:198}],607:[function(e,t,n){arguments[4][199][0].apply(n,arguments)},{"../utils/trigonometry":592,dup:199}],608:[function(e,t,n){arguments[4][200][0].apply(n,arguments)},{dup:200}],609:[function(e,t,n){arguments[4][201][0].apply(n,arguments)},{"./create":600,dup:201}],610:[function(e,t,n){arguments[4][202][0].apply(n,arguments)},{"./abs":593,"./add":594,"./angle":595,"./angleDegrees":596,"./angleRadians":597,"./clone":598,"./copy":599,"./create":600,"./cross":601,"./distance":602,"./divide":603,"./dot":604,"./equals":605,"./fromAngleDegrees":606,"./fromAngleRadians":607,"./fromScalar":608,"./fromValues":609,"./length":611,"./lerp":612,"./max":613,"./min":614,"./multiply":615,"./negate":616,"./normal":617,"./normalize":618,"./rotate":619,"./scale":620,"./snap":621,"./squaredDistance":622,"./squaredLength":623,"./subtract":624,"./toString":625,"./transform":626,dup:202}],611:[function(e,t,n){arguments[4][203][0].apply(n,arguments)},{dup:203}],612:[function(e,t,n){arguments[4][204][0].apply(n,arguments)},{dup:204}],613:[function(e,t,n){arguments[4][205][0].apply(n,arguments)},{dup:205}],614:[function(e,t,n){arguments[4][206][0].apply(n,arguments)},{dup:206}],615:[function(e,t,n){arguments[4][207][0].apply(n,arguments)},{dup:207}],616:[function(e,t,n){arguments[4][208][0].apply(n,arguments)},{dup:208}],617:[function(e,t,n){arguments[4][209][0].apply(n,arguments)},{"../constants":513,"./create":600,"./rotate":619,dup:209}],618:[function(e,t,n){arguments[4][210][0].apply(n,arguments)},{dup:210}],619:[function(e,t,n){arguments[4][211][0].apply(n,arguments)},{dup:211}],620:[function(e,t,n){arguments[4][212][0].apply(n,arguments)},{dup:212}],621:[function(e,t,n){arguments[4][213][0].apply(n,arguments)},{dup:213}],622:[function(e,t,n){arguments[4][214][0].apply(n,arguments)},{dup:214}],623:[function(e,t,n){arguments[4][215][0].apply(n,arguments)},{dup:215}],624:[function(e,t,n){arguments[4][216][0].apply(n,arguments)},{dup:216}],625:[function(e,t,n){arguments[4][217][0].apply(n,arguments)},{dup:217}],626:[function(e,t,n){arguments[4][218][0].apply(n,arguments)},{dup:218}],627:[function(e,t,n){arguments[4][219][0].apply(n,arguments)},{dup:219}],628:[function(e,t,n){arguments[4][220][0].apply(n,arguments)},{dup:220}],629:[function(e,t,n){arguments[4][221][0].apply(n,arguments)},{"./dot":636,dup:221}],630:[function(e,t,n){arguments[4][222][0].apply(n,arguments)},{"./create":632,dup:222}],631:[function(e,t,n){arguments[4][223][0].apply(n,arguments)},{dup:223}],632:[function(e,t,n){arguments[4][224][0].apply(n,arguments)},{dup:224}],633:[function(e,t,n){arguments[4][225][0].apply(n,arguments)},{dup:225}],634:[function(e,t,n){arguments[4][226][0].apply(n,arguments)},{dup:226}],635:[function(e,t,n){arguments[4][227][0].apply(n,arguments)},{dup:227}],636:[function(e,t,n){arguments[4][228][0].apply(n,arguments)},{dup:228}],637:[function(e,t,n){arguments[4][229][0].apply(n,arguments)},{dup:229}],638:[function(e,t,n){arguments[4][230][0].apply(n,arguments)},{dup:230}],639:[function(e,t,n){arguments[4][231][0].apply(n,arguments)},{"./create":632,dup:231}],640:[function(e,t,n){arguments[4][232][0].apply(n,arguments)},{dup:232}],641:[function(e,t,n){arguments[4][233][0].apply(n,arguments)},{"./abs":627,"./add":628,"./angle":629,"./clone":630,"./copy":631,"./create":632,"./cross":633,"./distance":634,"./divide":635,"./dot":636,"./equals":637,"./fromScalar":638,"./fromValues":639,"./fromVec2":640,"./length":642,"./lerp":643,"./max":644,"./min":645,"./multiply":646,"./negate":647,"./normalize":648,"./orthogonal":649,"./rotateX":650,"./rotateY":651,"./rotateZ":652,"./scale":653,"./snap":654,"./squaredDistance":655,"./squaredLength":656,"./subtract":657,"./toString":658,"./transform":659,dup:233}],642:[function(e,t,n){arguments[4][234][0].apply(n,arguments)},{dup:234}],643:[function(e,t,n){arguments[4][235][0].apply(n,arguments)},{dup:235}],644:[function(e,t,n){arguments[4][236][0].apply(n,arguments)},{dup:236}],645:[function(e,t,n){arguments[4][237][0].apply(n,arguments)},{dup:237}],646:[function(e,t,n){arguments[4][238][0].apply(n,arguments)},{dup:238}],647:[function(e,t,n){arguments[4][239][0].apply(n,arguments)},{dup:239}],648:[function(e,t,n){arguments[4][240][0].apply(n,arguments)},{dup:240}],649:[function(e,t,n){arguments[4][241][0].apply(n,arguments)},{"./abs":627,"./create":632,"./cross":633,dup:241}],650:[function(e,t,n){arguments[4][242][0].apply(n,arguments)},{dup:242}],651:[function(e,t,n){arguments[4][243][0].apply(n,arguments)},{dup:243}],652:[function(e,t,n){arguments[4][244][0].apply(n,arguments)},{dup:244}],653:[function(e,t,n){arguments[4][245][0].apply(n,arguments)},{dup:245}],654:[function(e,t,n){arguments[4][246][0].apply(n,arguments)},{dup:246}],655:[function(e,t,n){arguments[4][247][0].apply(n,arguments)},{dup:247}],656:[function(e,t,n){arguments[4][248][0].apply(n,arguments)},{dup:248}],657:[function(e,t,n){arguments[4][249][0].apply(n,arguments)},{dup:249}],658:[function(e,t,n){arguments[4][250][0].apply(n,arguments)},{dup:250}],659:[function(e,t,n){arguments[4][251][0].apply(n,arguments)},{dup:251}],660:[function(e,t,n){arguments[4][252][0].apply(n,arguments)},{"./create":662,dup:252}],661:[function(e,t,n){arguments[4][253][0].apply(n,arguments)},{dup:253}],662:[function(e,t,n){arguments[4][254][0].apply(n,arguments)},{dup:254}],663:[function(e,t,n){arguments[4][255][0].apply(n,arguments)},{dup:255}],664:[function(e,t,n){arguments[4][256][0].apply(n,arguments)},{dup:256}],665:[function(e,t,n){arguments[4][257][0].apply(n,arguments)},{dup:257}],666:[function(e,t,n){arguments[4][258][0].apply(n,arguments)},{"./create":662,dup:258}],667:[function(e,t,n){arguments[4][259][0].apply(n,arguments)},{"./clone":660,"./copy":661,"./create":662,"./dot":663,"./equals":664,"./fromScalar":665,"./fromValues":666,"./toString":668,"./transform":669,dup:259}],668:[function(e,t,n){arguments[4][260][0].apply(n,arguments)},{dup:260}],669:[function(e,t,n){arguments[4][261][0].apply(n,arguments)},{dup:261}],670:[function(e,t,n){arguments[4][262][0].apply(n,arguments)},{"../maths/constants":513,dup:262}],671:[function(e,t,n){arguments[4][263][0].apply(n,arguments)},{"./measureAggregateArea":672,"./measureAggregateBoundingBox":673,"./measureAggregateEpsilon":674,"./measureAggregateVolume":675,"./measureArea":676,"./measureBoundingBox":677,"./measureBoundingSphere":678,"./measureCenter":679,"./measureCenterOfMass":680,"./measureDimensions":681,"./measureEpsilon":682,"./measureVolume":683,dup:263}],672:[function(e,t,n){arguments[4][264][0].apply(n,arguments)},{"../utils/flatten":817,"./measureArea":676,dup:264}],673:[function(e,t,n){arguments[4][265][0].apply(n,arguments)},{"../maths/vec3/max":644,"../maths/vec3/min":645,"../utils/flatten":817,"./measureBoundingBox":677,dup:265}],674:[function(e,t,n){arguments[4][266][0].apply(n,arguments)},{"../geometries":469,"../utils/flatten":817,"./calculateEpsilonFromBounds":670,"./measureAggregateBoundingBox":673,dup:266}],675:[function(e,t,n){arguments[4][267][0].apply(n,arguments)},{"../utils/flatten":817,"./measureVolume":683,dup:267}],676:[function(e,t,n){arguments[4][268][0].apply(n,arguments)},{"../geometries/geom2":444,"../geometries/geom3":460,"../geometries/path2":481,"../geometries/poly3":498,"../utils/flatten":817,dup:268}],677:[function(e,t,n){arguments[4][269][0].apply(n,arguments)},{"../geometries/geom2":444,"../geometries/geom3":460,"../geometries/path2":481,"../geometries/poly3":498,"../maths/vec2":610,"../maths/vec3":641,"../utils/flatten":817,dup:269}],678:[function(e,t,n){arguments[4][270][0].apply(n,arguments)},{"../geometries/geom2":444,"../geometries/geom3":460,"../geometries/path2":481,"../geometries/poly3":498,"../maths/vec2":610,"../maths/vec3":641,"../utils/flatten":817,dup:270}],679:[function(e,t,n){arguments[4][271][0].apply(n,arguments)},{"../utils/flatten":817,"./measureBoundingBox":677,dup:271}],680:[function(e,t,n){arguments[4][272][0].apply(n,arguments)},{"../geometries/geom2":444,"../geometries/geom3":460,"../maths/vec3":641,"../utils/flatten":817,dup:272}],681:[function(e,t,n){arguments[4][273][0].apply(n,arguments)},{"../utils/flatten":817,"./measureBoundingBox":677,dup:273}],682:[function(e,t,n){arguments[4][274][0].apply(n,arguments)},{"../geometries":469,"../utils/flatten":817,"./calculateEpsilonFromBounds":670,"./measureBoundingBox":677,dup:274}],683:[function(e,t,n){arguments[4][275][0].apply(n,arguments)},{"../geometries/geom2":444,"../geometries/geom3":460,"../geometries/path2":481,"../geometries/poly3":498,"../utils/flatten":817,dup:275}],684:[function(e,t,n){arguments[4][276][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../maths/vec2":610,dup:276}],685:[function(e,t,n){arguments[4][277][0].apply(n,arguments)},{"./intersect":686,"./scission":691,"./subtract":693,"./union":704,dup:277}],686:[function(e,t,n){arguments[4][278][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../geometries/geom3":460,"../../utils/areAllShapesTheSameType":815,"../../utils/flatten":817,"./intersectGeom2":687,"./intersectGeom3":688,dup:278}],687:[function(e,t,n){arguments[4][279][0].apply(n,arguments)},{"../../geometries/geom3":460,"../../measurements/measureEpsilon":682,"../../utils/flatten":817,"./fromFakePolygons":684,"./intersectGeom3":688,"./to3DWalls":697,dup:279}],688:[function(e,t,n){arguments[4][280][0].apply(n,arguments)},{"../../utils/flatten":817,"../modifiers/retessellate":775,"./intersectGeom3Sub":689,dup:280}],689:[function(e,t,n){arguments[4][281][0].apply(n,arguments)},{"../../geometries/geom3":460,"./mayOverlap":690,"./trees":701,dup:281}],690:[function(e,t,n){arguments[4][282][0].apply(n,arguments)},{"../../maths/constants":513,"../../measurements/measureBoundingBox":677,dup:282}],691:[function(e,t,n){arguments[4][283][0].apply(n,arguments)},{"../../geometries/geom3":460,"../../utils/flatten":817,"./scissionGeom3":692,dup:283}],692:[function(e,t,n){arguments[4][284][0].apply(n,arguments)},{"../../geometries/geom3":460,"../../maths/vec3":641,"../../measurements/measureEpsilon":682,dup:284}],693:[function(e,t,n){arguments[4][285][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../geometries/geom3":460,"../../utils/areAllShapesTheSameType":815,"../../utils/flatten":817,"./subtractGeom2":694,"./subtractGeom3":695,dup:285}],694:[function(e,t,n){arguments[4][286][0].apply(n,arguments)},{"../../geometries/geom3":460,"../../measurements/measureEpsilon":682,"../../utils/flatten":817,"./fromFakePolygons":684,"./subtractGeom3":695,"./to3DWalls":697,dup:286}],695:[function(e,t,n){arguments[4][287][0].apply(n,arguments)},{"../../utils/flatten":817,"../modifiers/retessellate":775,"./subtractGeom3Sub":696,dup:287}],696:[function(e,t,n){arguments[4][288][0].apply(n,arguments)},{"../../geometries/geom3":460,"./mayOverlap":690,"./trees":701,dup:288}],697:[function(e,t,n){arguments[4][289][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../geometries/geom3":460,"../../geometries/poly3":498,"../../maths/vec3":641,dup:289}],698:[function(e,t,n){arguments[4][290][0].apply(n,arguments)},{"../../../geometries/poly3":498,"../../../maths/plane":582,dup:290}],699:[function(e,t,n){arguments[4][291][0].apply(n,arguments)},{"../../../geometries/poly3":498,"../../../maths/constants":513,"../../../maths/vec3":641,"./splitPolygonByPlane":703,dup:291}],700:[function(e,t,n){arguments[4][292][0].apply(n,arguments)},{"./Node":698,"./PolygonTreeNode":699,dup:292}],701:[function(e,t,n){arguments[4][293][0].apply(n,arguments)},{"./Tree":700,dup:293}],702:[function(e,t,n){arguments[4][294][0].apply(n,arguments)},{"../../../maths/vec3":641,dup:294}],703:[function(e,t,n){arguments[4][295][0].apply(n,arguments)},{"../../../geometries/poly3":498,"../../../maths/constants":513,"../../../maths/plane":582,"../../../maths/vec3":641,"./splitLineSegmentByPlane":702,dup:295}],704:[function(e,t,n){arguments[4][296][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../geometries/geom3":460,"../../utils/areAllShapesTheSameType":815,"../../utils/flatten":817,"./unionGeom2":705,"./unionGeom3":706,dup:296}],705:[function(e,t,n){arguments[4][297][0].apply(n,arguments)},{"../../geometries/geom3":460,"../../measurements/measureEpsilon":682,"../../utils/flatten":817,"./fromFakePolygons":684,"./to3DWalls":697,"./unionGeom3":706,dup:297}],706:[function(e,t,n){arguments[4][298][0].apply(n,arguments)},{"../../utils/flatten":817,"../modifiers/retessellate":775,"./unionGeom3Sub":707,dup:298}],707:[function(e,t,n){arguments[4][299][0].apply(n,arguments)},{"../../geometries/geom3":460,"./mayOverlap":690,"./trees":701,dup:299}],708:[function(e,t,n){arguments[4][300][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../geometries/geom3":460,"../../geometries/path2":481,"../../utils/flatten":817,"./expandGeom2":709,"./expandGeom3":710,"./expandPath2":711,dup:300}],709:[function(e,t,n){arguments[4][301][0].apply(n,arguments)},{"../../geometries/geom2":444,"./offsetFromPoints":716,dup:301}],710:[function(e,t,n){arguments[4][302][0].apply(n,arguments)},{"../../geometries/geom3":460,"../booleans/union":704,"./expandShell":712,dup:302}],711:[function(e,t,n){arguments[4][303][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../geometries/path2":481,"../../maths/utils/area":587,"../../maths/vec2":610,"./offsetFromPoints":716,dup:303}],712:[function(e,t,n){arguments[4][304][0].apply(n,arguments)},{"../../geometries/geom3":460,"../../geometries/poly3":498,"../../maths/constants":513,"../../maths/mat4":562,"../../maths/vec3":641,"../../primitives/sphere":805,"../../utils/fnNumberSort":818,"../booleans/unionGeom3Sub":707,"../modifiers/retessellate":775,"./extrudePolygon":713,dup:304}],713:[function(e,t,n){arguments[4][305][0].apply(n,arguments)},{"../../geometries/geom3":460,"../../geometries/poly3":498,"../../maths/mat4":562,"../../maths/vec3":641,dup:305}],714:[function(e,t,n){arguments[4][306][0].apply(n,arguments)},{"./expand":708,"./offset":715,dup:306}],715:[function(e,t,n){arguments[4][307][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../geometries/path2":481,"../../utils/flatten":817,"./offsetGeom2":717,"./offsetPath2":718,dup:307}],716:[function(e,t,n){arguments[4][308][0].apply(n,arguments)},{"../../maths/constants":513,"../../maths/line2":524,"../../maths/utils/area":587,"../../maths/utils/intersect":590,"../../maths/vec2":610,dup:308}],717:[function(e,t,n){arguments[4][309][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../geometries/poly2":492,"./offsetFromPoints":716,dup:309}],718:[function(e,t,n){arguments[4][310][0].apply(n,arguments)},{"../../geometries/path2":481,"./offsetFromPoints":716,dup:310}],719:[function(e,t,n){arguments[4][311][0].apply(n,arguments)},{"../../../geometries/geom2":444,"../../../geometries/poly2":492,"../../../maths/utils":588,dup:311}],720:[function(e,t,n){arguments[4][312][0].apply(n,arguments)},{"./linkedPolygon":724,"./triangle":726,dup:312}],721:[function(e,t,n){arguments[4][313][0].apply(n,arguments)},{"./eliminateHoles":720,"./linkedList":722,"./linkedPolygon":724,"./triangle":726,dup:313}],722:[function(e,t,n){arguments[4][314][0].apply(n,arguments)},{"./linkedListSort":723,dup:314}],723:[function(e,t,n){arguments[4][315][0].apply(n,arguments)},{dup:315}],724:[function(e,t,n){arguments[4][316][0].apply(n,arguments)},{"./linkedList":722,"./triangle":726,dup:316}],725:[function(e,t,n){arguments[4][317][0].apply(n,arguments)},{"../../../geometries/geom2":444,"../../../maths/plane":582,"../../../maths/vec2":610,"../../../maths/vec3":641,"../slice/calculatePlane":739,"./assignHoles":719,dup:317}],726:[function(e,t,n){arguments[4][318][0].apply(n,arguments)},{dup:318}],727:[function(e,t,n){arguments[4][319][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../geometries/geom3":460,"../../geometries/poly3":498,"../../maths/mat4":562,"./extrudeWalls":736,"./slice":745,"./slice/repair":747,dup:319}],728:[function(e,t,n){arguments[4][320][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../maths/constants":513,"../../maths/mat4":562,"./extrudeFromSlices":727,"./slice":745,dup:320}],729:[function(e,t,n){arguments[4][321][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../geometries/path2":481,"../../utils/flatten":817,"./extrudeLinearGeom2":730,"./extrudeLinearPath2":731,dup:321}],730:[function(e,t,n){arguments[4][322][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../maths/mat4":562,"../../maths/vec3":641,"./extrudeFromSlices":727,"./slice":745,dup:322}],731:[function(e,t,n){arguments[4][323][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../geometries/path2":481,"./extrudeLinearGeom2":730,dup:323}],732:[function(e,t,n){arguments[4][324][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../geometries/path2":481,"../../utils/flatten":817,"./extrudeRectangularGeom2":733,"./extrudeRectangularPath2":734,dup:324}],733:[function(e,t,n){arguments[4][325][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../geometries/path2":481,"../../maths/utils":588,"../expansions/expand":708,"./extrudeLinearGeom2":730,dup:325}],734:[function(e,t,n){arguments[4][326][0].apply(n,arguments)},{"../../geometries/path2":481,"../expansions/expand":708,"./extrudeLinearGeom2":730,dup:326}],735:[function(e,t,n){const{TAU:o}=e("../../maths/constants"),r=e("../../maths/mat4"),{mirrorX:s}=e("../transforms/mirror"),a=e("../../geometries/geom2"),i=e("./slice"),c=e("./extrudeFromSlices");t.exports=(e,t)=>{const n={segments:12,startAngle:0,angle:o,overflow:"cap"};let{segments:l,startAngle:u,angle:p,overflow:f}=Object.assign({},n,e);if(l<3)throw new Error("segments must be greater then 3");u=Math.abs(u)>o?u%o:u,p=Math.abs(p)>o?p%o:p;let h=u+p;if(h=Math.abs(h)>o?h%o:h,h<u){const e=u;u=h,h=e}let m=h-u;if(m<=0&&(m=o),Math.abs(m)<o){const e=o/l;l=Math.floor(Math.abs(m)/e),Math.abs(m)>l*e&&l++}let g=a.toSides(t);if(0===g.length)throw new Error("the given geometry cannot be empty");const d=g.filter((e=>e[0][0]<0)),y=g.filter((e=>e[0][0]>=0));d.length>0&&y.length>0&&"cap"===f&&(d.length>y.length?(g=g.map((e=>{let t=e[0],n=e[1];return t=[Math.min(t[0],0),t[1]],n=[Math.min(n[0],0),n[1]],[t,n]})),t=a.create(g),t=s(t)):y.length>=d.length&&(g=g.map((e=>{let t=e[0],n=e[1];return t=[Math.max(t[0],0),t[1]],n=[Math.max(n[0],0),n[1]],[t,n]})),t=a.create(g)));const v=m/l,b=Math.abs(m)<o,x=i.fromSides(a.toSides(t));i.reverse(x,x);const A=r.create();return c(e={numberOfSlices:l+1,capStart:b,capEnd:b,close:!b,callback:(e,t,n)=>{let s=v*t+u;return m===o&&t===l&&(s=u),r.multiply(A,r.fromZRotation(A,s),r.fromXRotation(r.create(),o/4)),i.transform(A,n)}},x)}},{"../../geometries/geom2":444,"../../maths/constants":513,"../../maths/mat4":562,"../transforms/mirror":782,"./extrudeFromSlices":727,"./slice":745}],736:[function(e,t,n){arguments[4][328][0].apply(n,arguments)},{"../../geometries/poly3":498,"../../maths/constants":513,"../../maths/vec3":641,"./slice":745,dup:328}],737:[function(e,t,n){arguments[4][329][0].apply(n,arguments)},{"./extrudeFromSlices":727,"./extrudeHelical":728,"./extrudeLinear":729,"./extrudeRectangular":732,"./extrudeRotate":735,"./project":738,"./slice":745,dup:329}],738:[function(e,t,n){arguments[4][330][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../geometries/geom3":460,"../../geometries/poly3":498,"../../maths/mat4":562,"../../maths/plane":582,"../../maths/utils/aboutEqualNormals":586,"../../measurements/measureEpsilon":682,"../../utils/flatten":817,"../booleans/unionGeom2":705,dup:330}],739:[function(e,t,n){arguments[4][331][0].apply(n,arguments)},{"../../../maths/plane":582,"../../../maths/vec3":641,dup:331}],740:[function(e,t,n){arguments[4][332][0].apply(n,arguments)},{"../../../maths/vec3":641,"./create":741,dup:332}],741:[function(e,t,n){arguments[4][333][0].apply(n,arguments)},{dup:333}],742:[function(e,t,n){arguments[4][334][0].apply(n,arguments)},{"../../../maths/vec3":641,dup:334}],743:[function(e,t,n){arguments[4][335][0].apply(n,arguments)},{"../../../maths/vec3":641,"./create":741,dup:335}],744:[function(e,t,n){arguments[4][336][0].apply(n,arguments)},{"../../../maths/vec3":641,"./create":741,dup:336}],745:[function(e,t,n){arguments[4][337][0].apply(n,arguments)},{"./calculatePlane":739,"./clone":740,"./create":741,"./equals":742,"./fromPoints":743,"./fromSides":744,"./isA":746,"./reverse":748,"./toEdges":749,"./toPolygons":750,"./toString":751,"./transform":752,dup:337}],746:[function(e,t,n){arguments[4][338][0].apply(n,arguments)},{dup:338}],747:[function(e,t,n){arguments[4][339][0].apply(n,arguments)},{"../../../maths/vec3":641,"./create":741,dup:339}],748:[function(e,t,n){arguments[4][340][0].apply(n,arguments)},{"./create":741,dup:340}],749:[function(e,t,n){arguments[4][341][0].apply(n,arguments)},{dup:341}],750:[function(e,t,n){arguments[4][342][0].apply(n,arguments)},{"../../../geometries/poly3":498,"../earcut":721,"../earcut/polygonHierarchy":725,dup:342}],751:[function(e,t,n){arguments[4][343][0].apply(n,arguments)},{"../../../maths/vec3":641,dup:343}],752:[function(e,t,n){arguments[4][344][0].apply(n,arguments)},{"../../../maths/vec3":641,"./create":741,dup:344}],753:[function(e,t,n){arguments[4][345][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../geometries/geom3":460,"../../geometries/path2":481,"../../utils/areAllShapesTheSameType":815,"../../utils/flatten":817,"./hullGeom2":755,"./hullGeom3":756,"./hullPath2":757,dup:345}],754:[function(e,t,n){arguments[4][346][0].apply(n,arguments)},{"../../utils/flatten":817,"../booleans/union":704,"./hull":753,dup:346}],755:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../geometries/geom2"),s=e("./hullPoints2"),a=e("./toUniquePoints");t.exports=(...e)=>{e=o(e);const t=a(e),n=s(t);return n.length<3?r.create():r.fromPoints(n)}},{"../../geometries/geom2":444,"../../utils/flatten":817,"./hullPoints2":758,"./toUniquePoints":769}],756:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../geometries/geom3"),s=e("./toUniquePoints"),a=e("./hullPoints3");t.exports=(...e)=>{e=o(e);const t=s(e);return 0===t.length?r.create():r.create(a(t))}},{"../../geometries/geom3":460,"../../utils/flatten":817,"./hullPoints3":759,"./toUniquePoints":769}],757:[function(e,t,n){const o=e("../../utils/flatten"),r=e("../../geometries/path2"),s=e("./hullPoints2"),a=e("./toUniquePoints");t.exports=(...e)=>{e=o(e);const t=a(e),n=s(t);return r.fromPoints({closed:!0},n)}},{"../../geometries/path2":481,"../../utils/flatten":817,"./hullPoints2":758,"./toUniquePoints":769}],758:[function(e,t,n){const o=e("../../maths/vec2");t.exports=e=>{let t=o.fromValues(1/0,1/0);e.forEach((e=>{(e[1]<t[1]||e[1]===t[1]&&e[0]<t[0])&&(t=e)}));const n=[];e.forEach((e=>{const r=(a=e[1]-t[1],i=e[0]-t[0],0===a&&0===i?-1/0:-i/a),s=o.squaredDistance(e,t);var a,i;n.push({point:e,angle:r,distSq:s})})),n.sort(((e,t)=>e.angle!==t.angle?e.angle-t.angle:e.distSq-t.distSq));const r=[];return n.forEach((e=>{let t=r.length;for(;t>1&&(n=r[t-2],o=r[t-1],s=e.point,(o[0]-n[0])*(s[1]-n[1])-(o[1]-n[1])*(s[0]-n[0])<=Number.EPSILON);)r.pop(),t=r.length;var n,o,s;r.push(e.point)})),r}},{"../../maths/vec2":610}],759:[function(e,t,n){const o=e("../../geometries/poly3"),r=e("./quickhull");t.exports=e=>r(e,{skipTriangulation:!0}).map((t=>{const n=t.map((t=>e[t]));return o.create(n)}))},{"../../geometries/poly3":498,"./quickhull":767}],760:[function(e,t,n){t.exports={hull:e("./hull"),hullChain:e("./hullChain"),hullPoints2:e("./hullPoints2"),hullPoints3:e("./hullPoints3")}},{"./hull":753,"./hullChain":754,"./hullPoints2":758,"./hullPoints3":759}],761:[function(e,t,n){arguments[4][352][0].apply(n,arguments)},{"../../../maths/vec3/add":628,"../../../maths/vec3/copy":631,"../../../maths/vec3/cross":633,"../../../maths/vec3/dot":636,"../../../maths/vec3/length":642,"../../../maths/vec3/normalize":648,"../../../maths/vec3/scale":653,"../../../maths/vec3/subtract":657,"./HalfEdge":762,dup:352}],762:[function(e,t,n){arguments[4][353][0].apply(n,arguments)},{"../../../maths/vec3/distance":634,"../../../maths/vec3/squaredDistance":655,dup:353}],763:[function(e,t,n){arguments[4][354][0].apply(n,arguments)},{"../../../maths/vec3/dot":636,"./Face":761,"./Vertex":764,"./VertexList":765,"./get-plane-normal":766,"./point-line-distance":768,dup:354}],764:[function(e,t,n){arguments[4][355][0].apply(n,arguments)},{dup:355}],765:[function(e,t,n){arguments[4][356][0].apply(n,arguments)},{dup:356}],766:[function(e,t,n){arguments[4][357][0].apply(n,arguments)},{"../../../maths/vec3/cross":633,"../../../maths/vec3/normalize":648,"../../../maths/vec3/subtract":657,dup:357}],767:[function(e,t,n){arguments[4][358][0].apply(n,arguments)},{"./QuickHull":763,dup:358}],768:[function(e,t,n){arguments[4][359][0].apply(n,arguments)},{"../../../maths/vec3/cross":633,"../../../maths/vec3/squaredLength":656,"../../../maths/vec3/subtract":657,dup:359}],769:[function(e,t,n){arguments[4][360][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../geometries/geom3":460,"../../geometries/path2":481,dup:360}],770:[function(e,t,n){arguments[4][361][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../geometries/geom3":460,"../../geometries/path2":481,"../../measurements/measureEpsilon":682,"../../utils/flatten":817,"./insertTjunctions":772,"./mergePolygons":773,"./snapPolygons":777,"./triangulatePolygons":778,dup:361}],771:[function(e,t,n){arguments[4][362][0].apply(n,arguments)},{"./generalize":770,"./retessellate":775,"./snap":776,dup:362}],772:[function(e,t,n){arguments[4][363][0].apply(n,arguments)},{"../../geometries/poly3":498,"../../maths/constants":513,"../../maths/vec3":641,dup:363}],773:[function(e,t,n){arguments[4][364][0].apply(n,arguments)},{"../../geometries/poly3":498,"../../maths/utils/aboutEqualNormals":586,"../../maths/vec3":641,dup:364}],774:[function(e,t,n){arguments[4][365][0].apply(n,arguments)},{"../../geometries/poly3":498,"../../maths/OrthoNormalBasis":512,"../../maths/constants":513,"../../maths/line2":524,"../../maths/utils/interpolateBetween2DPointsForY":589,"../../maths/vec2":610,"../../utils":819,dup:365}],775:[function(e,t,n){arguments[4][366][0].apply(n,arguments)},{"../../geometries/geom3":460,"../../geometries/poly3":498,"../../maths/constants":513,"./reTesselateCoplanarPolygons":774,dup:366}],776:[function(e,t,n){arguments[4][367][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../geometries/geom3":460,"../../geometries/path2":481,"../../maths/vec2":610,"../../measurements/measureEpsilon":682,"../../utils/flatten":817,"./snapPolygons":777,dup:367}],777:[function(e,t,n){arguments[4][368][0].apply(n,arguments)},{"../../geometries/poly3":498,"../../maths/vec3":641,dup:368}],778:[function(e,t,n){arguments[4][369][0].apply(n,arguments)},{"../../geometries/poly3":498,"../../maths/vec3":641,dup:369}],779:[function(e,t,n){arguments[4][370][0].apply(n,arguments)},{"../../measurements/measureAggregateBoundingBox":673,"../../utils/flatten":817,"../../utils/padArrayToLength":821,"./translate":786,dup:370}],780:[function(e,t,n){arguments[4][371][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../geometries/geom3":460,"../../geometries/path2":481,"../../measurements/measureBoundingBox":677,"../../utils/flatten":817,"./translate":786,dup:371}],781:[function(e,t,n){arguments[4][372][0].apply(n,arguments)},{"./align":779,"./center":780,"./mirror":782,"./rotate":783,"./scale":784,"./transform":785,"./translate":786,dup:372}],782:[function(e,t,n){arguments[4][373][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../geometries/geom3":460,"../../geometries/path2":481,"../../maths/mat4":562,"../../maths/plane":582,"../../utils/flatten":817,dup:373}],783:[function(e,t,n){arguments[4][374][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../geometries/geom3":460,"../../geometries/path2":481,"../../maths/mat4":562,"../../utils/flatten":817,dup:374}],784:[function(e,t,n){arguments[4][375][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../geometries/geom3":460,"../../geometries/path2":481,"../../maths/mat4":562,"../../utils/flatten":817,dup:375}],785:[function(e,t,n){arguments[4][376][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../geometries/geom3":460,"../../geometries/path2":481,"../../utils/flatten":817,dup:376}],786:[function(e,t,n){arguments[4][377][0].apply(n,arguments)},{"../../geometries/geom2":444,"../../geometries/geom3":460,"../../geometries/path2":481,"../../maths/mat4":562,"../../utils/flatten":817,dup:377}],787:[function(e,t,n){arguments[4][378][0].apply(n,arguments)},{"../geometries/path2":481,"../maths/constants":513,"../maths/vec2":610,"./commonChecks":789,dup:378}],788:[function(e,t,n){arguments[4][379][0].apply(n,arguments)},{"../maths/constants":513,"./commonChecks":789,"./ellipse":794,dup:379}],789:[function(e,t,n){arguments[4][380][0].apply(n,arguments)},{dup:380}],790:[function(e,t,n){arguments[4][381][0].apply(n,arguments)},{"./commonChecks":789,"./cuboid":791,dup:381}],791:[function(e,t,n){arguments[4][382][0].apply(n,arguments)},{"../geometries/geom3":460,"../geometries/poly3":498,"./commonChecks":789,dup:382}],792:[function(e,t,n){arguments[4][383][0].apply(n,arguments)},{"../geometries/geom3":460,"./commonChecks":789,"./cylinderElliptic":793,dup:383}],793:[function(e,t,n){arguments[4][384][0].apply(n,arguments)},{"../geometries/geom3":460,"../geometries/poly3":498,"../maths/constants":513,"../maths/utils/trigonometry":592,"../maths/vec3":641,"./commonChecks":789,dup:384}],794:[function(e,t,n){arguments[4][385][0].apply(n,arguments)},{"../geometries/geom2":444,"../maths/constants":513,"../maths/utils/trigonometry":592,"../maths/vec2":610,"./commonChecks":789,dup:385}],795:[function(e,t,n){arguments[4][386][0].apply(n,arguments)},{"../geometries/geom3":460,"../geometries/poly3":498,"../maths/constants":513,"../maths/utils/trigonometry":592,"../maths/vec3":641,"./commonChecks":789,dup:386}],796:[function(e,t,n){arguments[4][387][0].apply(n,arguments)},{"../geometries/geom3":460,"../maths/mat4":562,"../maths/vec3":641,"./commonChecks":789,"./polyhedron":800,dup:387}],797:[function(e,t,n){arguments[4][388][0].apply(n,arguments)},{"./arc":787,"./circle":788,"./cube":790,"./cuboid":791,"./cylinder":792,"./cylinderElliptic":793,"./ellipse":794,"./ellipsoid":795,"./geodesicSphere":796,"./line":798,"./polygon":799,"./polyhedron":800,"./rectangle":801,"./roundedCuboid":802,"./roundedCylinder":803,"./roundedRectangle":804,"./sphere":805,"./square":806,"./star":807,"./torus":808,"./triangle":809,dup:388}],798:[function(e,t,n){arguments[4][389][0].apply(n,arguments)},{"../geometries/path2":481,dup:389}],799:[function(e,t,n){const o=e("../geometries/geom2");t.exports=e=>{const{points:t,paths:n,orientation:r}=Object.assign({},{points:[],paths:[],orientation:"counterclockwise"},e);if(!Array.isArray(t)||!Array.isArray(n))throw new Error("points and paths must be arrays");let s=t;Array.isArray(t[0])&&(Array.isArray(t[0][0])||(s=[t])),s.forEach(((e,t)=>{if(!Array.isArray(e))throw new Error("list of points "+t+" must be an array");if(e.length<3)throw new Error("list of points "+t+" must contain three or more points");e.forEach(((e,n)=>{if(!Array.isArray(e))throw new Error("list of points "+t+", point "+n+" must be an array");if(e.length<2)throw new Error("list of points "+t+", point "+n+" must contain by X and Y values")}))}));let a=n;if(0===n.length){let e=0;a=s.map((t=>t.map((t=>e++))))}const i=[];s.forEach((e=>e.forEach((e=>i.push(e)))));let c=[];a.forEach((e=>{const t=e.map((e=>i[e])),n=o.fromPoints(t);c=c.concat(o.toSides(n))}));let l=o.create(c);return"clockwise"==r&&(l=o.reverse(l)),l}},{"../geometries/geom2":444}],800:[function(e,t,n){arguments[4][391][0].apply(n,arguments)},{"../geometries/geom3":460,"../geometries/poly3":498,"./commonChecks":789,dup:391}],801:[function(e,t,n){arguments[4][392][0].apply(n,arguments)},{"../geometries/geom2":444,"../maths/vec2":610,"./commonChecks":789,dup:392}],802:[function(e,t,n){const{EPS:o,TAU:r}=e("../maths/constants"),s=e("../maths/vec2"),a=e("../maths/vec3"),i=e("../geometries/geom3"),c=e("../geometries/poly3"),{sin:l,cos:u}=e("../maths/utils/trigonometry"),{isGTE:p,isNumberArray:f}=e("./commonChecks"),h=e("./cuboid"),m=(e,t,n,i,c,p)=>{const f=r/4*c/i,h=u(f),m=l(f),g=i-c;let d=n*h,y=t[2]-(n-n*m);p||(y=n-n*m-t[2]),d=d>o?d:0;const v=a.add(a.create(),e,[t[0]-n,t[1]-n,y]),b=a.add(a.create(),e,[n-t[0],t[1]-n,y]),x=a.add(a.create(),e,[n-t[0],n-t[1],y]),A=a.add(a.create(),e,[t[0]-n,n-t[1],y]),E=[],w=[],S=[],T=[];for(let e=0;e<=g;e++){const t=g>0?r/4*e/g:0,n=s.fromAngleRadians(s.create(),t);s.scale(n,n,d);const o=a.fromVec2(a.create(),n);E.push(a.add(a.create(),v,o)),a.rotateZ(o,o,[0,0,0],r/4),w.push(a.add(a.create(),b,o)),a.rotateZ(o,o,[0,0,0],r/4),S.push(a.add(a.create(),x,o)),a.rotateZ(o,o,[0,0,0],r/4),T.push(a.add(a.create(),A,o))}return p?[E,w,S,T]:(E.reverse(),w.reverse(),S.reverse(),T.reverse(),[T,S,w,E])},g=(e,t)=>{const n=[];for(let o=0;o<e.length;o++){const r=e[o],s=t[o];for(let e=0;e<r.length-1;e++)n.push(c.create([r[e],r[e+1],s[e]])),e<s.length-1&&n.push(c.create([s[e],r[e+1],s[e+1]]))}return n},d=(e,t)=>{const n=[];for(let o=0;o<e.length;o++){let r=e[o],s=t[o];const a=r[r.length-1],i=s[s.length-1],l=(o+1)%e.length;r=e[l],s=t[l];const u=r[0],p=s[0];n.push(c.create([a,u,p,i]))}return n},y=(e,t)=>{e=(e=[e[3],e[2],e[1],e[0]]).map((e=>e.slice().reverse()));const n=[];e.forEach((e=>{e.forEach((e=>n.push(e)))}));const o=[];t.forEach((e=>{e.forEach((e=>o.push(e)))}));const r=[];for(let e=0;e<o.length;e++){const t=(e+1)%o.length;r.push(c.create([n[e],n[t],o[t],o[e]]))}return r};t.exports=e=>{let{center:t,size:n,roundRadius:r,segments:s}=Object.assign({},{center:[0,0,0],size:[2,2,2],roundRadius:.2,segments:32},e);if(!f(t,3))throw new Error("center must be an array of X, Y and Z values");if(!f(n,3))throw new Error("size must be an array of X, Y and Z values");if(!n.every((e=>e>=0)))throw new Error("size values must be positive");if(!p(r,0))throw new Error("roundRadius must be positive");if(!p(s,4))throw new Error("segments must be four or more");if(0===n[0]||0===n[1]||0===n[2])return i.create();if(0===r)return h({center:t,size:n});if(n=n.map((e=>e/2)),r>n[0]-o||r>n[1]-o||r>n[2]-o)throw new Error("roundRadius must be smaller than the radius of all dimensions");s=Math.floor(s/4);let a=null,l=null,u=[];for(let e=0;e<=s;e++){const o=m(t,n,r,s,e,!0),i=m(t,n,r,s,e,!1);if(0===e&&(u=u.concat(y(i,o))),a&&(u=u.concat(g(a,o),d(a,o))),l&&(u=u.concat(g(l,i),d(l,i))),e===s){let e=o.map((e=>e[0]));u.push(c.create(e)),e=i.map((e=>e[0])),u.push(c.create(e))}a=o,l=i}return i.create(u)}},{"../geometries/geom3":460,"../geometries/poly3":498,"../maths/constants":513,"../maths/utils/trigonometry":592,"../maths/vec2":610,"../maths/vec3":641,"./commonChecks":789,"./cuboid":791}],803:[function(e,t,n){const{EPS:o,TAU:r}=e("../maths/constants"),s=e("../maths/vec3"),a=e("../geometries/geom3"),i=e("../geometries/poly3"),{sin:c,cos:l}=e("../maths/utils/trigonometry"),{isGTE:u,isNumberArray:p}=e("./commonChecks"),f=e("./cylinder");t.exports=e=>{const{center:t,height:n,radius:h,roundRadius:m,segments:g}=Object.assign({},{center:[0,0,0],height:2,radius:1,roundRadius:.2,segments:32},e);if(!p(t,3))throw new Error("center must be an array of X, Y and Z values");if(!u(n,0))throw new Error("height must be positive");if(!u(h,0))throw new Error("radius must be positive");if(!u(m,0))throw new Error("roundRadius must be positive");if(m>h)throw new Error("roundRadius must be smaller than the radius");if(!u(g,4))throw new Error("segments must be four or more");if(0===n||0===h)return a.create();if(0===m)return f({center:t,height:n,radius:h});const d=[0,0,-n/2],y=[0,0,n/2],v=s.subtract(s.create(),y,d);if(2*m>s.length(v)-o)throw new Error("height must be larger than twice roundRadius");let b;b=Math.abs(v[0])>Math.abs(v[1])?s.fromValues(0,1,0):s.fromValues(1,0,0);const x=s.scale(s.create(),s.normalize(s.create(),v),m),A=s.scale(s.create(),s.normalize(s.create(),s.cross(s.create(),x,b)),h),E=s.scale(s.create(),s.normalize(s.create(),s.cross(s.create(),A,x)),h);s.add(d,d,x),s.subtract(y,y,x);const w=Math.floor(.25*g),S=e=>{const n=e.map((e=>s.add(e,e,t)));return i.create(n)},T=[],P=s.create(),D=s.create();let C;for(let e=0;e<=g;e++){const t=r*e/g,n=s.add(s.create(),s.scale(P,A,l(t)),s.scale(D,E,c(t)));if(e>0){let e,t,o=[];o.push(s.add(s.create(),d,n)),o.push(s.add(s.create(),d,C)),o.push(s.add(s.create(),y,C)),o.push(s.add(s.create(),y,n)),T.push(S(o));for(let a=0;a<=w;a++){const i=r/4*a/w,u=l(i),p=c(i);if(a>0){let r;o=[],r=s.add(s.create(),d,s.subtract(P,s.scale(P,C,e),s.scale(D,x,t))),o.push(r),r=s.add(s.create(),d,s.subtract(P,s.scale(P,n,e),s.scale(D,x,t))),o.push(r),a<w&&(r=s.add(s.create(),d,s.subtract(P,s.scale(P,n,u),s.scale(D,x,p))),o.push(r)),r=s.add(s.create(),d,s.subtract(P,s.scale(P,C,u),s.scale(D,x,p))),o.push(r),T.push(S(o)),o=[],r=s.add(s.create(),s.scale(P,C,e),s.scale(D,x,t)),s.add(r,r,y),o.push(r),r=s.add(s.create(),s.scale(P,n,e),s.scale(D,x,t)),s.add(r,r,y),o.push(r),a<w&&(r=s.add(s.create(),s.scale(P,n,u),s.scale(D,x,p)),s.add(r,r,y),o.push(r)),r=s.add(s.create(),s.scale(P,C,u),s.scale(D,x,p)),s.add(r,r,y),o.push(r),o.reverse(),T.push(S(o))}e=u,t=p}}C=n}return a.create(T)}},{"../geometries/geom3":460,"../geometries/poly3":498,"../maths/constants":513,"../maths/utils/trigonometry":592,"../maths/vec3":641,"./commonChecks":789,"./cylinder":792}],804:[function(e,t,n){const{EPS:o,TAU:r}=e("../maths/constants"),s=e("../maths/vec2"),a=e("../geometries/geom2"),{isGTE:i,isNumberArray:c}=e("./commonChecks"),l=e("./rectangle");t.exports=e=>{let{center:t,size:n,roundRadius:u,segments:p}=Object.assign({},{center:[0,0],size:[2,2],roundRadius:.2,segments:32},e);if(!c(t,2))throw new Error("center must be an array of X and Y values");if(!c(n,2))throw new Error("size must be an array of X and Y values");if(!n.every((e=>e>=0)))throw new Error("size values must be positive");if(!i(u,0))throw new Error("roundRadius must be positive");if(!i(p,4))throw new Error("segments must be four or more");if(0===n[0]||0===n[1])return a.create();if(0===u)return l({center:t,size:n});if(n=n.map((e=>e/2)),u>n[0]-o||u>n[1]-o)throw new Error("roundRadius must be smaller than the radius of all dimensions");const f=Math.floor(p/4),h=s.add(s.create(),t,[n[0]-u,n[1]-u]),m=s.add(s.create(),t,[u-n[0],n[1]-u]),g=s.add(s.create(),t,[u-n[0],u-n[1]]),d=s.add(s.create(),t,[n[0]-u,u-n[1]]),y=[],v=[],b=[],x=[];for(let e=0;e<=f;e++){const t=r/4*e/f,n=s.fromAngleRadians(s.create(),t);s.scale(n,n,u),y.push(s.add(s.create(),h,n)),s.rotate(n,n,s.create(),r/4),v.push(s.add(s.create(),m,n)),s.rotate(n,n,s.create(),r/4),b.push(s.add(s.create(),g,n)),s.rotate(n,n,s.create(),r/4),x.push(s.add(s.create(),d,n))}return a.fromPoints(y.concat(v,b,x))}},{"../geometries/geom2":444,"../maths/constants":513,"../maths/vec2":610,"./commonChecks":789,"./rectangle":801}],805:[function(e,t,n){arguments[4][396][0].apply(n,arguments)},{"./commonChecks":789,"./ellipsoid":795,dup:396}],806:[function(e,t,n){arguments[4][397][0].apply(n,arguments)},{"./commonChecks":789,"./rectangle":801,dup:397}],807:[function(e,t,n){arguments[4][398][0].apply(n,arguments)},{"../geometries/geom2":444,"../maths/constants":513,"../maths/vec2":610,"./commonChecks":789,dup:398}],808:[function(e,t,n){arguments[4][399][0].apply(n,arguments)},{"../maths/constants":513,"../operations/extrusions/extrudeRotate":735,"../operations/transforms/rotate":783,"../operations/transforms/translate":786,"./circle":788,"./commonChecks":789,dup:399}],809:[function(e,t,n){arguments[4][400][0].apply(n,arguments)},{"../geometries/geom2":444,"../maths/constants":513,"../maths/vec2":610,"./commonChecks":789,dup:400}],810:[function(e,t,n){arguments[4][401][0].apply(n,arguments)},{dup:401}],811:[function(e,t,n){arguments[4][402][0].apply(n,arguments)},{"./vectorChar":812,"./vectorText":814,dup:402}],812:[function(e,t,n){arguments[4][403][0].apply(n,arguments)},{"./vectorParams":813,dup:403}],813:[function(e,t,n){arguments[4][404][0].apply(n,arguments)},{"./fonts/single-line/hershey/simplex.js":810,dup:404}],814:[function(e,t,n){arguments[4][405][0].apply(n,arguments)},{"./vectorChar":812,"./vectorParams":813,dup:405}],815:[function(e,t,n){arguments[4][406][0].apply(n,arguments)},{"../geometries/geom2":444,"../geometries/geom3":460,"../geometries/path2":481,dup:406}],816:[function(e,t,n){arguments[4][407][0].apply(n,arguments)},{dup:407}],817:[function(e,t,n){arguments[4][408][0].apply(n,arguments)},{dup:408}],818:[function(e,t,n){arguments[4][409][0].apply(n,arguments)},{dup:409}],819:[function(e,t,n){arguments[4][410][0].apply(n,arguments)},{"./areAllShapesTheSameType":815,"./degToRad":816,"./flatten":817,"./fnNumberSort":818,"./insertSorted":820,"./radToDeg":822,"./radiusToSegments":823,dup:410}],820:[function(e,t,n){arguments[4][411][0].apply(n,arguments)},{dup:411}],821:[function(e,t,n){arguments[4][412][0].apply(n,arguments)},{dup:412}],822:[function(e,t,n){arguments[4][413][0].apply(n,arguments)},{dup:413}],823:[function(e,t,n){arguments[4][414][0].apply(n,arguments)},{"../maths/constants":513,dup:414}],824:[function(e,t,n){const{geometries:o}=e("@jscad/modeling"),r=(e,t)=>{const n=[];return o.geom3.toPolygons(e).forEach(((e,t)=>{n.push(i(e))})),n.join("\n")},s=e=>`${e[0]} ${e[1]} ${e[2]}`,a=e=>`vertex ${s(e)}`,i=e=>{const t=[];if(e.vertices.length>=3){const n=a(e.vertices[0]);for(let r=0;r<e.vertices.length-2;r++){const i=`facet normal ${s(o.poly3.plane(e))}\nouter loop\n${n}\n${a(e.vertices[r+1])}\n${a(e.vertices[r+2])}\nendloop\nendfacet`;t.push(i)}}return t.join("\n")};t.exports={serializeText:(e,t)=>{t.statusCallback&&t.statusCallback({progress:0});const n=`solid JSCAD\n${((e,t)=>{const n=[];return e.forEach(((o,s)=>{n.push(r(o,t)),t.statusCallback&&t.statusCallback({progress:100*s/e.length})})),n.join("\n")})(e,t)}\nendsolid JSCAD\n`;return t.statusCallback&&t.statusCallback({progress:100}),[n]}}},{"@jscad/modeling":511}],825:[function(e,t,n){const{geometries:o}=e("@jscad/modeling");t.exports={serializeBinary:(e,t)=>{t.statusCallback&&t.statusCallback({progress:0});const n=new ArrayBuffer(4),r=new Int32Array(n,0,1),s=new Int8Array(n,0,4);if(r[0]=287454020,68!==s[0])throw new Error("Binary STL output is currently only supported on little-endian (Intel) processors");let a=0,i=0;e.forEach(((e,t)=>{o.geom3.toPolygons(e).forEach((e=>{const t=e.vertices.length;a+=t>=3?t-2:0,i+=1}))}));const c=new Uint8Array(80);for(let e=0;e<80;e++)c[e]=65;const l=new Uint32Array(1);l[0]=a;const u=new ArrayBuffer(50*a),p=new Int8Array(u),f=new ArrayBuffer(50),h=new Int8Array(f),m=new Float32Array(f,0,12),g=new Uint16Array(f,48,1);let d=0;return e.forEach((e=>{o.geom3.toPolygons(e).forEach(((e,n)=>{const r=e.vertices,s=r.length,a=o.poly3.plane(e);for(let e=0;e<s-2;e++){m[0]=a[0],m[1]=a[1],m[2]=a[2];let t=3;for(let n=0;n<3;n++){const o=r[n+(n>0?e:0)];m[t++]=o[0],m[t++]=o[1],m[t++]=o[2]}g[0]=0,p.set(h,d),d+=50}t.statusCallback&&t.statusCallback({progress:100*n/i})}))})),t.statusCallback&&t.statusCallback({progress:100}),[c.buffer,l.buffer,u]}}},{"@jscad/modeling":511}],826:[function(e,t,n){const{geometries:o,modifiers:r}=e("@jscad/modeling"),{flatten:s,toArray:a}=e("@jscad/array-utils"),{serializeBinary:i}=e("./CSGToStlb"),{serializeText:c}=e("./CSGToStla");t.exports={mimeType:"application/sla",serialize:(e,...t)=>{e=Object.assign({},{binary:!0,statusCallback:null},e);let n=(t=s(t)).filter((e=>o.geom3.isA(e)));if(0===n.length)throw new Error("only 3D geometries can be serialized to STL");return t.length!==n.length&&console.warn("some objects could not be serialized to STL"),n=a(r.generalize({snap:!0,triangulate:!0},n)),e.binary?i(n,e):c(n,e)}}},{"./CSGToStla":824,"./CSGToStlb":825,"@jscad/array-utils":6,"@jscad/modeling":511}],827:[function(e,t,n){var o=e("./node-worker.cjs"),r=Uint8Array,s=Uint16Array,a=Uint32Array,i=new r([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),c=new r([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),l=new r([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),u=function(e,t){for(var n=new s(31),o=0;o<31;++o)n[o]=t+=1<<e[o-1];var r=new a(n[30]);for(o=1;o<30;++o)for(var i=n[o];i<n[o+1];++i)r[i]=i-n[o]<<5|o;return[n,r]},p=u(i,2),f=p[0],h=p[1];f[28]=258,h[258]=28;for(var m=u(c,0),g=m[0],d=m[1],y=new s(32768),v=0;v<32768;++v){var b=(43690&v)>>>1|(21845&v)<<1;b=(61680&(b=(52428&b)>>>2|(13107&b)<<2))>>>4|(3855&b)<<4,y[v]=((65280&b)>>>8|(255&b)<<8)>>>1}var x=function(e,t,n){for(var o=e.length,r=0,a=new s(t);r<o;++r)e[r]&&++a[e[r]-1];var i,c=new s(t);for(r=0;r<t;++r)c[r]=c[r-1]+a[r-1]<<1;if(n){i=new s(1<<t);var l=15-t;for(r=0;r<o;++r)if(e[r])for(var u=r<<4|e[r],p=t-e[r],f=c[e[r]-1]++<<p,h=f|(1<<p)-1;f<=h;++f)i[y[f]>>>l]=u}else for(i=new s(o),r=0;r<o;++r)e[r]&&(i[r]=y[c[e[r]-1]++]>>>15-e[r]);return i},A=new r(288);for(v=0;v<144;++v)A[v]=8;for(v=144;v<256;++v)A[v]=9;for(v=256;v<280;++v)A[v]=7;for(v=280;v<288;++v)A[v]=8;var E=new r(32);for(v=0;v<32;++v)E[v]=5;var w=x(A,9,0),S=x(A,9,1),T=x(E,5,0),P=x(E,5,1),D=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},C=function(e,t,n){var o=t/8|0;return(e[o]|e[o+1]<<8)>>(7&t)&n},M=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},R=function(e){return(e+7)/8|0},I=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var o=new(2==e.BYTES_PER_ELEMENT?s:4==e.BYTES_PER_ELEMENT?a:r)(n-t);return o.set(e.subarray(t,n)),o};n.FlateErrorCode={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14};var L=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],B=function(e,t,n){var o=new Error(t||L[e]);if(o.code=e,Error.captureStackTrace&&Error.captureStackTrace(o,B),!n)throw o;return o},$=function(e,t,n){var o=e.length;if(!o||n&&n.f&&!n.l)return t||new r(0);var s=!t||n,a=!n||n.i;n||(n={}),t||(t=new r(3*o));var u=function(e){var n=t.length;if(e>n){var o=new r(Math.max(2*n,e));o.set(t),t=o}},p=n.f||0,h=n.p||0,m=n.b||0,d=n.l,y=n.d,v=n.m,b=n.n,A=8*o;do{if(!d){p=C(e,h,1);var E=C(e,h+1,3);if(h+=3,!E){var w=e[(V=R(h)+4)-4]|e[V-3]<<8,T=V+w;if(T>o){a&&B(0);break}s&&u(m+w),t.set(e.subarray(V,T),m),n.b=m+=w,n.p=h=8*T,n.f=p;continue}if(1==E)d=S,y=P,v=9,b=5;else if(2==E){var L=C(e,h,31)+257,$=C(e,h+10,15)+4,O=L+C(e,h+5,31)+1;h+=14;for(var k=new r(O),N=new r(19),_=0;_<$;++_)N[l[_]]=C(e,h+3*_,7);h+=3*$;var F=D(N),z=(1<<F)-1,U=x(N,F,1);for(_=0;_<O;){var V,j=U[C(e,h,z)];if(h+=15&j,(V=j>>>4)<16)k[_++]=V;else{var Y=0,q=0;for(16==V?(q=3+C(e,h,3),h+=2,Y=k[_-1]):17==V?(q=3+C(e,h,7),h+=3):18==V&&(q=11+C(e,h,127),h+=7);q--;)k[_++]=Y}}var G=k.subarray(0,L),X=k.subarray(L);v=D(G),b=D(X),d=x(G,v,1),y=x(X,b,1)}else B(1);if(h>A){a&&B(0);break}}s&&u(m+131072);for(var Z=(1<<v)-1,H=(1<<b)-1,W=h;;W=h){var K=(Y=d[M(e,h)&Z])>>>4;if((h+=15&Y)>A){a&&B(0);break}if(Y||B(2),K<256)t[m++]=K;else{if(256==K){W=h,d=null;break}var J=K-254;if(K>264){var Q=i[_=K-257];J=C(e,h,(1<<Q)-1)+f[_],h+=Q}var ee=y[M(e,h)&H],te=ee>>>4;if(ee||B(3),h+=15&ee,X=g[te],te>3&&(Q=c[te],X+=M(e,h)&(1<<Q)-1,h+=Q),h>A){a&&B(0);break}s&&u(m+131072);for(var ne=m+J;m<ne;m+=4)t[m]=t[m-X],t[m+1]=t[m+1-X],t[m+2]=t[m+2-X],t[m+3]=t[m+3-X];m=ne}}n.l=d,n.p=W,n.b=m,n.f=p,d&&(p=1,n.m=v,n.d=y,n.n=b)}while(!p);return m==t.length?t:I(t,0,m)},O=function(e,t,n){n<<=7&t;var o=t/8|0;e[o]|=n,e[o+1]|=n>>>8},k=function(e,t,n){n<<=7&t;var o=t/8|0;e[o]|=n,e[o+1]|=n>>>8,e[o+2]|=n>>>16},N=function(e,t){for(var n=[],o=0;o<e.length;++o)e[o]&&n.push({s:o,f:e[o]});var a=n.length,i=n.slice();if(!a)return[Y,0];if(1==a){var c=new r(n[0].s+1);return c[n[0].s]=1,[c,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var l=n[0],u=n[1],p=0,f=1,h=2;for(n[0]={s:-1,f:l.f+u.f,l,r:u};f!=a-1;)l=n[n[p].f<n[h].f?p++:h++],u=n[p!=f&&n[p].f<n[h].f?p++:h++],n[f++]={s:-1,f:l.f+u.f,l,r:u};var m=i[0].s;for(o=1;o<a;++o)i[o].s>m&&(m=i[o].s);var g=new s(m+1),d=_(n[f-1],g,0);if(d>t){o=0;var y=0,v=d-t,b=1<<v;for(i.sort((function(e,t){return g[t.s]-g[e.s]||e.f-t.f}));o<a;++o){var x=i[o].s;if(!(g[x]>t))break;y+=b-(1<<d-g[x]),g[x]=t}for(y>>>=v;y>0;){var A=i[o].s;g[A]<t?y-=1<<t-g[A]++-1:++o}for(;o>=0&&y;--o){var E=i[o].s;g[E]==t&&(--g[E],++y)}d=t}return[new r(g),d]},_=function(e,t,n){return-1==e.s?Math.max(_(e.l,t,n+1),_(e.r,t,n+1)):t[e.s]=n},F=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new s(++t),o=0,r=e[0],a=1,i=function(e){n[o++]=e},c=1;c<=t;++c)if(e[c]==r&&c!=t)++a;else{if(!r&&a>2){for(;a>138;a-=138)i(32754);a>2&&(i(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(i(r),--a;a>6;a-=6)i(8304);a>2&&(i(a-3<<5|8208),a=0)}for(;a--;)i(r);a=1,r=e[c]}return[n.subarray(0,o),t]},z=function(e,t){for(var n=0,o=0;o<t.length;++o)n+=e[o]*t[o];return n},U=function(e,t,n){var o=n.length,r=R(t+2);e[r]=255&o,e[r+1]=o>>>8,e[r+2]=255^e[r],e[r+3]=255^e[r+1];for(var s=0;s<o;++s)e[r+s+4]=n[s];return 8*(r+4+o)},V=function(e,t,n,o,r,a,u,p,f,h,m){O(t,m++,n),++r[256];for(var g=N(r,15),d=g[0],y=g[1],v=N(a,15),b=v[0],S=v[1],P=F(d),D=P[0],C=P[1],M=F(b),R=M[0],I=M[1],L=new s(19),B=0;B<D.length;++B)L[31&D[B]]++;for(B=0;B<R.length;++B)L[31&R[B]]++;for(var $=N(L,7),_=$[0],V=$[1],j=19;j>4&&!_[l[j-1]];--j);var Y,q,G,X,Z=h+5<<3,H=z(r,A)+z(a,E)+u,W=z(r,d)+z(a,b)+u+14+3*j+z(L,_)+(2*L[16]+3*L[17]+7*L[18]);if(Z<=H&&Z<=W)return U(t,m,e.subarray(f,f+h));if(O(t,m,1+(W<H)),m+=2,W<H){Y=x(d,y,0),q=d,G=x(b,S,0),X=b;var K=x(_,V,0);for(O(t,m,C-257),O(t,m+5,I-1),O(t,m+10,j-4),m+=14,B=0;B<j;++B)O(t,m+3*B,_[l[B]]);m+=3*j;for(var J=[D,R],Q=0;Q<2;++Q){var ee=J[Q];for(B=0;B<ee.length;++B){var te=31&ee[B];O(t,m,K[te]),m+=_[te],te>15&&(O(t,m,ee[B]>>>5&127),m+=ee[B]>>>12)}}}else Y=w,q=A,G=T,X=E;for(B=0;B<p;++B)if(o[B]>255){te=o[B]>>>18&31,k(t,m,Y[te+257]),m+=q[te+257],te>7&&(O(t,m,o[B]>>>23&31),m+=i[te]);var ne=31&o[B];k(t,m,G[ne]),m+=X[ne],ne>3&&(k(t,m,o[B]>>>5&8191),m+=c[ne])}else k(t,m,Y[o[B]]),m+=q[o[B]];return k(t,m,Y[256]),m+q[256]},j=new a([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Y=new r(0),q=function(e,t,n,o,l,u){var p=e.length,f=new r(o+p+5*(1+Math.ceil(p/7e3))+l),m=f.subarray(o,f.length-l),g=0;if(!t||p<8)for(var y=0;y<=p;y+=65535){var v=y+65535;v>=p&&(m[g>>3]=u),g=U(m,g+1,e.subarray(y,v))}else{for(var b=j[t-1],x=b>>>13,A=8191&b,E=(1<<n)-1,w=new s(32768),S=new s(E+1),T=Math.ceil(n/3),P=2*T,D=function(t){return(e[t]^e[t+1]<<T^e[t+2]<<P)&E},C=new a(25e3),M=new s(288),L=new s(32),B=0,$=0,O=(y=0,0),k=0,N=0;y<p;++y){var _=D(y),F=32767&y,z=S[_];if(w[F]=z,S[_]=F,k<=y){var q=p-y;if((B>7e3||O>24576)&&q>423){g=V(e,m,0,C,M,L,$,O,N,y-N,g),O=B=$=0,N=y;for(var G=0;G<286;++G)M[G]=0;for(G=0;G<30;++G)L[G]=0}var X=2,Z=0,H=A,W=F-z&32767;if(q>2&&_==D(y-W))for(var K=Math.min(x,q)-1,J=Math.min(32767,y),Q=Math.min(258,q);W<=J&&--H&&F!=z;){if(e[y+X]==e[y+X-W]){for(var ee=0;ee<Q&&e[y+ee]==e[y+ee-W];++ee);if(ee>X){if(X=ee,Z=W,ee>K)break;var te=Math.min(W,ee-2),ne=0;for(G=0;G<te;++G){var oe=y-W+G+32768&32767,re=oe-w[oe]+32768&32767;re>ne&&(ne=re,z=oe)}}}W+=(F=z)-(z=w[F])+32768&32767}if(Z){C[O++]=268435456|h[X]<<18|d[Z];var se=31&h[X],ae=31&d[Z];$+=i[se]+c[ae],++M[257+se],++L[ae],k=y+X,++B}else C[O++]=e[y],++M[e[y]]}}g=V(e,m,u,C,M,L,$,O,N,y-N,g),!u&&7&g&&(g=U(m,g+1,Y))}return I(f,0,o+R(g)+l)},G=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var n=t,o=9;--o;)n=(1&n&&-306674912)^n>>>1;e[t]=n}return e}(),X=function(){var e=-1;return{p:function(t){for(var n=e,o=0;o<t.length;++o)n=G[255&n^t[o]]^n>>>8;e=n},d:function(){return~e}}},Z=function(){var e=1,t=0;return{p:function(n){for(var o=e,r=t,s=0|n.length,a=0;a!=s;){for(var i=Math.min(a+2655,s);a<i;++a)r+=o+=n[a];o=(65535&o)+15*(o>>16),r=(65535&r)+15*(r>>16)}e=o,t=r},d:function(){return(255&(e%=65521))<<24|e>>>8<<16|(255&(t%=65521))<<8|t>>>8}}},H=function(e,t,n,o,r){return q(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,o,!r)},W=function(e,t){var n={};for(var o in e)n[o]=e[o];for(var o in t)n[o]=t[o];return n},K=function(e,t,n){for(var o=e(),r=e.toString(),s=r.slice(r.indexOf("[")+1,r.lastIndexOf("]")).replace(/\s+/g,"").split(","),a=0;a<o.length;++a){var i=o[a],c=s[a];if("function"==typeof i){t+=";"+c+"=";var l=i.toString();if(i.prototype)if(-1!=l.indexOf("[native code]")){var u=l.indexOf(" ",8)+1;t+=l.slice(u,l.indexOf("(",u))}else for(var p in t+=l,i.prototype)t+=";"+c+".prototype."+p+"="+i.prototype[p].toString();else t+=l}else n[c]=i}return[t,n]},J=[],Q=function(e,t,n,r){var s;if(!J[n]){for(var a="",i={},c=e.length-1,l=0;l<c;++l)a=(s=K(e[l],a,i))[0],i=s[1];J[n]=K(e[c],a,i)}var u=W({},J[n][1]);return o.default(J[n][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",n,u,function(e){var t=[];for(var n in e)e[n].buffer&&t.push((e[n]=new e[n].constructor(e[n])).buffer);return t}(u),r)},ee=function(){return[r,s,a,i,c,l,f,g,S,P,y,L,x,D,C,M,R,I,B,$,Me,ae,ie]},te=function(){return[r,s,a,i,c,l,h,d,w,A,T,E,y,j,Y,x,O,k,N,_,F,z,U,V,R,I,q,H,Te,ae]},ne=function(){return[ge,ve,me,X,G]},oe=function(){return[de,ye]},re=function(){return[be,me,Z]},se=function(){return[xe]},ae=function(e){return postMessage(e,[e.buffer])},ie=function(e){return e&&e.size&&new r(e.size)},ce=function(e,t,n,o,r,s){var a=Q(n,o,r,(function(e,t){a.terminate(),s(e,t)}));return a.postMessage([e,t],t.consume?[e.buffer]:[]),function(){a.terminate()}},le=function(e){return e.ondata=function(e,t){return postMessage([e,t],[e.buffer])},function(t){return e.push(t.data[0],t.data[1])}},ue=function(e,t,n,o,r){var s,a=Q(e,o,r,(function(e,n){e?(a.terminate(),t.ondata.call(t,e)):(n[1]&&a.terminate(),t.ondata.call(t,e,n[0],n[1]))}));a.postMessage(n),t.push=function(e,n){t.ondata||B(5),s&&t.ondata(B(4,0,1),null,!!n),a.postMessage([e,s=n],[e.buffer])},t.terminate=function(){a.terminate()}},pe=function(e,t){return e[t]|e[t+1]<<8},fe=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},he=function(e,t){return fe(e,t)+4294967296*fe(e,t+4)},me=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},ge=function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&me(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var o=0;o<=n.length;++o)e[o+10]=n.charCodeAt(o)}},de=function(e){31==e[0]&&139==e[1]&&8==e[2]||B(6,"invalid gzip data");var t=e[3],n=10;4&t&&(n+=e[10]|2+(e[11]<<8));for(var o=(t>>3&1)+(t>>4&1);o>0;o-=!e[n++]);return n+(2&t)},ye=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},ve=function(e){return 10+(e.filename&&e.filename.length+1||0)},be=function(e,t){var n=t.level,o=0==n?0:n<6?1:9==n?3:2;e[0]=120,e[1]=o<<6|(o?32-2*o:1)},xe=function(e){(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)&&B(6,"invalid zlib data"),32&e[1]&&B(6,"invalid zlib data: preset dictionaries not supported")};function Ae(e,t){return t||"function"!=typeof e||(t=e,e={}),this.ondata=t,e}var Ee=function(){function e(e,t){t||"function"!=typeof e||(t=e,e={}),this.ondata=t,this.o=e||{}}return e.prototype.p=function(e,t){this.ondata(H(e,this.o,0,0,!t),t)},e.prototype.push=function(e,t){this.ondata||B(5),this.d&&B(4),this.d=t,this.p(e,t||!1)},e}();n.Deflate=Ee;var we=function(){return function(e,t){ue([te,function(){return[le,Ee]}],this,Ae.call(this,e,t),(function(e){var t=new Ee(e.data);onmessage=le(t)}),6)}}();function Se(e,t,n){return n||(n=t,t={}),"function"!=typeof n&&B(7),ce(e,t,[te],(function(e){return ae(Te(e.data[0],e.data[1]))}),0,n)}function Te(e,t){return H(e,t||{},0,0)}n.AsyncDeflate=we,n.deflate=Se,n.deflateSync=Te;var Pe=function(){function e(e){this.s={},this.p=new r(0),this.ondata=e}return e.prototype.e=function(e){this.ondata||B(5),this.d&&B(4);var t=this.p.length,n=new r(t+e.length);n.set(this.p),n.set(e,t),this.p=n},e.prototype.c=function(e){this.d=this.s.i=e||!1;var t=this.s.b,n=$(this.p,this.o,this.s);this.ondata(I(n,t,this.s.b),this.d),this.o=I(n,this.s.b-32768),this.s.b=this.o.length,this.p=I(this.p,this.s.p/8|0),this.s.p&=7},e.prototype.push=function(e,t){this.e(e),this.c(t)},e}();n.Inflate=Pe;var De=function(){return function(e){this.ondata=e,ue([ee,function(){return[le,Pe]}],this,0,(function(){var e=new Pe;onmessage=le(e)}),7)}}();function Ce(e,t,n){return n||(n=t,t={}),"function"!=typeof n&&B(7),ce(e,t,[ee],(function(e){return ae(Me(e.data[0],ie(e.data[1])))}),1,n)}function Me(e,t){return $(e,t)}n.AsyncInflate=De,n.inflate=Ce,n.inflateSync=Me;var Re=function(){function e(e,t){this.c=X(),this.l=0,this.v=1,Ee.call(this,e,t)}return e.prototype.push=function(e,t){Ee.prototype.push.call(this,e,t)},e.prototype.p=function(e,t){this.c.p(e),this.l+=e.length;var n=H(e,this.o,this.v&&ve(this.o),t&&8,!t);this.v&&(ge(n,this.o),this.v=0),t&&(me(n,n.length-8,this.c.d()),me(n,n.length-4,this.l)),this.ondata(n,t)},e}();n.Gzip=Re,n.Compress=Re;var Ie=function(){return function(e,t){ue([te,ne,function(){return[le,Ee,Re]}],this,Ae.call(this,e,t),(function(e){var t=new Re(e.data);onmessage=le(t)}),8)}}();function Le(e,t,n){return n||(n=t,t={}),"function"!=typeof n&&B(7),ce(e,t,[te,ne,function(){return[Be]}],(function(e){return ae(Be(e.data[0],e.data[1]))}),2,n)}function Be(e,t){t||(t={});var n=X(),o=e.length;n.p(e);var r=H(e,t,ve(t),8),s=r.length;return ge(r,t),me(r,s-8,n.d()),me(r,s-4,o),r}n.AsyncGzip=Ie,n.AsyncCompress=Ie,n.gzip=Le,n.compress=Le,n.gzipSync=Be,n.compressSync=Be;var $e=function(){function e(e){this.v=1,Pe.call(this,e)}return e.prototype.push=function(e,t){if(Pe.prototype.e.call(this,e),this.v){var n=this.p.length>3?de(this.p):4;if(n>=this.p.length&&!t)return;this.p=this.p.subarray(n),this.v=0}t&&(this.p.length<8&&B(6,"invalid gzip data"),this.p=this.p.subarray(0,-8)),Pe.prototype.c.call(this,t)},e}();n.Gunzip=$e;var Oe=function(){return function(e){this.ondata=e,ue([ee,oe,function(){return[le,Pe,$e]}],this,0,(function(){var e=new $e;onmessage=le(e)}),9)}}();function ke(e,t,n){return n||(n=t,t={}),"function"!=typeof n&&B(7),ce(e,t,[ee,oe,function(){return[Ne]}],(function(e){return ae(Ne(e.data[0]))}),3,n)}function Ne(e,t){return $(e.subarray(de(e),-8),t||new r(ye(e)))}n.AsyncGunzip=Oe,n.gunzip=ke,n.gunzipSync=Ne;var _e=function(){function e(e,t){this.c=Z(),this.v=1,Ee.call(this,e,t)}return e.prototype.push=function(e,t){Ee.prototype.push.call(this,e,t)},e.prototype.p=function(e,t){this.c.p(e);var n=H(e,this.o,this.v&&2,t&&4,!t);this.v&&(be(n,this.o),this.v=0),t&&me(n,n.length-4,this.c.d()),this.ondata(n,t)},e}();n.Zlib=_e;var Fe=function(){return function(e,t){ue([te,re,function(){return[le,Ee,_e]}],this,Ae.call(this,e,t),(function(e){var t=new _e(e.data);onmessage=le(t)}),10)}}();function ze(e,t){t||(t={});var n=Z();n.p(e);var o=H(e,t,2,4);return be(o,t),me(o,o.length-4,n.d()),o}n.AsyncZlib=Fe,n.zlib=function(e,t,n){return n||(n=t,t={}),"function"!=typeof n&&B(7),ce(e,t,[te,re,function(){return[ze]}],(function(e){return ae(ze(e.data[0],e.data[1]))}),4,n)},n.zlibSync=ze;var Ue=function(){function e(e){this.v=1,Pe.call(this,e)}return e.prototype.push=function(e,t){if(Pe.prototype.e.call(this,e),this.v){if(this.p.length<2&&!t)return;this.p=this.p.subarray(2),this.v=0}t&&(this.p.length<4&&B(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),Pe.prototype.c.call(this,t)},e}();n.Unzlib=Ue;var Ve=function(){return function(e){this.ondata=e,ue([ee,se,function(){return[le,Pe,Ue]}],this,0,(function(){var e=new Ue;onmessage=le(e)}),11)}}();function je(e,t,n){return n||(n=t,t={}),"function"!=typeof n&&B(7),ce(e,t,[ee,se,function(){return[Ye]}],(function(e){return ae(Ye(e.data[0],ie(e.data[1])))}),5,n)}function Ye(e,t){return $((xe(e),e.subarray(2,-4)),t)}n.AsyncUnzlib=Ve,n.unzlib=je,n.unzlibSync=Ye;var qe=function(){function e(e){this.G=$e,this.I=Pe,this.Z=Ue,this.ondata=e}return e.prototype.push=function(e,t){if(this.ondata||B(5),this.s)this.s.push(e,t);else{if(this.p&&this.p.length){var n=new r(this.p.length+e.length);n.set(this.p),n.set(e,this.p.length)}else this.p=e;if(this.p.length>2){var o=this,s=function(){o.ondata.apply(o,arguments)};this.s=31==this.p[0]&&139==this.p[1]&&8==this.p[2]?new this.G(s):8!=(15&this.p[0])||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(s):new this.Z(s),this.s.push(this.p,t),this.p=null}}},e}();n.Decompress=qe;var Ge=function(){function e(e){this.G=Oe,this.I=De,this.Z=Ve,this.ondata=e}return e.prototype.push=function(e,t){qe.prototype.push.call(this,e,t)},e}();n.AsyncDecompress=Ge,n.decompress=function(e,t,n){return n||(n=t,t={}),"function"!=typeof n&&B(7),31==e[0]&&139==e[1]&&8==e[2]?ke(e,t,n):8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31?Ce(e,t,n):je(e,t,n)},n.decompressSync=function(e,t){return 31==e[0]&&139==e[1]&&8==e[2]?Ne(e,t):8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31?Me(e,t):Ye(e,t)};var Xe=function(e,t,n,o){for(var s in e){var a=e[s],i=t+s,c=o;Array.isArray(a)&&(c=W(o,a[1]),a=a[0]),a instanceof r?n[i]=[a,c]:(n[i+="/"]=[new r(0),c],Xe(a,i,n,o))}},Ze="undefined"!=typeof TextEncoder&&new TextEncoder,He="undefined"!=typeof TextDecoder&&new TextDecoder,We=0;try{He.decode(Y,{stream:!0}),We=1}catch(e){}var Ke=function(e){for(var t="",n=0;;){var o=e[n++],r=(o>127)+(o>223)+(o>239);if(n+r>e.length)return[t,I(e,n-1)];r?3==r?(o=((15&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536,t+=String.fromCharCode(55296|o>>10,56320|1023&o)):t+=1&r?String.fromCharCode((31&o)<<6|63&e[n++]):String.fromCharCode((15&o)<<12|(63&e[n++])<<6|63&e[n++]):t+=String.fromCharCode(o)}},Je=function(){function e(e){this.ondata=e,We?this.t=new TextDecoder:this.p=Y}return e.prototype.push=function(e,t){if(this.ondata||B(5),t=!!t,this.t)return this.ondata(this.t.decode(e,{stream:!0}),t),void(t&&(this.t.decode().length&&B(8),this.t=null));this.p||B(4);var n=new r(this.p.length+e.length);n.set(this.p),n.set(e,this.p.length);var o=Ke(n),s=o[0],a=o[1];t?(a.length&&B(8),this.p=null):this.p=a,this.ondata(s,t)},e}();n.DecodeUTF8=Je;var Qe=function(){function e(e){this.ondata=e}return e.prototype.push=function(e,t){this.ondata||B(5),this.d&&B(4),this.ondata(et(e),this.d=t||!1)},e}();function et(e,t){if(t){for(var n=new r(e.length),o=0;o<e.length;++o)n[o]=e.charCodeAt(o);return n}if(Ze)return Ze.encode(e);var s=e.length,a=new r(e.length+(e.length>>1)),i=0,c=function(e){a[i++]=e};for(o=0;o<s;++o){if(i+5>a.length){var l=new r(i+8+(s-o<<1));l.set(a),a=l}var u=e.charCodeAt(o);u<128||t?c(u):u<2048?(c(192|u>>6),c(128|63&u)):u>55295&&u<57344?(c(240|(u=65536+(1047552&u)|1023&e.charCodeAt(++o))>>18),c(128|u>>12&63),c(128|u>>6&63),c(128|63&u)):(c(224|u>>12),c(128|u>>6&63),c(128|63&u))}return I(a,0,i)}function tt(e,t){if(t){for(var n="",o=0;o<e.length;o+=16384)n+=String.fromCharCode.apply(null,e.subarray(o,o+16384));return n}if(He)return He.decode(e);var r=Ke(e),s=r[0];return r[1].length&&B(8),s}n.EncodeUTF8=Qe,n.strToU8=et,n.strFromU8=tt;var nt=function(e){return 1==e?3:e<6?2:9==e?1:0},ot=function(e,t){return t+30+pe(e,t+26)+pe(e,t+28)},rt=function(e,t,n){var o=pe(e,t+28),r=tt(e.subarray(t+46,t+46+o),!(2048&pe(e,t+8))),s=t+46+o,a=fe(e,t+20),i=n&&4294967295==a?st(e,s):[a,fe(e,t+24),fe(e,t+42)],c=i[0],l=i[1],u=i[2];return[pe(e,t+10),c,l,r,s+pe(e,t+30)+pe(e,t+32),u]},st=function(e,t){for(;1!=pe(e,t);t+=4+pe(e,t+2));return[he(e,t+12),he(e,t+4),he(e,t+20)]},at=function(e){var t=0;if(e)for(var n in e){var o=e[n].length;o>65535&&B(9),t+=o+4}return t},it=function(e,t,n,o,r,s,a,i){var c=o.length,l=n.extra,u=i&&i.length,p=at(l);me(e,t,null!=a?33639248:67324752),t+=4,null!=a&&(e[t++]=20,e[t++]=n.os),e[t]=20,t+=2,e[t++]=n.flag<<1|(null==s&&8),e[t++]=r&&8,e[t++]=255&n.compression,e[t++]=n.compression>>8;var f=new Date(null==n.mtime?Date.now():n.mtime),h=f.getFullYear()-1980;if((h<0||h>119)&&B(10),me(e,t,h<<25|f.getMonth()+1<<21|f.getDate()<<16|f.getHours()<<11|f.getMinutes()<<5|f.getSeconds()>>>1),t+=4,null!=s&&(me(e,t,n.crc),me(e,t+4,s),me(e,t+8,n.size)),me(e,t+12,c),me(e,t+14,p),t+=16,null!=a&&(me(e,t,u),me(e,t+6,n.attrs),me(e,t+10,a),t+=14),e.set(o,t),t+=c,p)for(var m in l){var g=l[m],d=g.length;me(e,t,+m),me(e,t+2,d),e.set(g,t+4),t+=4+d}return u&&(e.set(i,t),t+=u),t},ct=function(e,t,n,o,r){me(e,t,101010256),me(e,t+8,n),me(e,t+10,n),me(e,t+12,o),me(e,t+16,r)},lt=function(){function e(e){this.filename=e,this.c=X(),this.size=0,this.compression=0}return e.prototype.process=function(e,t){this.ondata(null,e,t)},e.prototype.push=function(e,t){this.ondata||B(5),this.c.p(e),this.size+=e.length,t&&(this.crc=this.c.d()),this.process(e,t||!1)},e}();n.ZipPassThrough=lt;var ut=function(){function e(e,t){var n=this;t||(t={}),lt.call(this,e),this.d=new Ee(t,(function(e,t){n.ondata(null,e,t)})),this.compression=8,this.flag=nt(t.level)}return e.prototype.process=function(e,t){try{this.d.push(e,t)}catch(e){this.ondata(e,null,t)}},e.prototype.push=function(e,t){lt.prototype.push.call(this,e,t)},e}();n.ZipDeflate=ut;var pt=function(){function e(e,t){var n=this;t||(t={}),lt.call(this,e),this.d=new we(t,(function(e,t,o){n.ondata(e,t,o)})),this.compression=8,this.flag=nt(t.level),this.terminate=this.d.terminate}return e.prototype.process=function(e,t){this.d.push(e,t)},e.prototype.push=function(e,t){lt.prototype.push.call(this,e,t)},e}();n.AsyncZipDeflate=pt;var ft=function(){function e(e){this.ondata=e,this.u=[],this.d=1}return e.prototype.add=function(e){var t=this;if(this.ondata||B(5),2&this.d)this.ondata(B(4+8*(1&this.d),0,1),null,!1);else{var n=et(e.filename),o=n.length,s=e.comment,a=s&&et(s),i=o!=e.filename.length||a&&s.length!=a.length,c=o+at(e.extra)+30;o>65535&&this.ondata(B(11,0,1),null,!1);var l=new r(c);it(l,0,e,n,i);var u=[l],p=function(){for(var e=0,n=u;e<n.length;e++){var o=n[e];t.ondata(null,o,!1)}u=[]},f=this.d;this.d=0;var h=this.u.length,m=W(e,{f:n,u:i,o:a,t:function(){e.terminate&&e.terminate()},r:function(){if(p(),f){var e=t.u[h+1];e?e.r():t.d=1}f=1}}),g=0;e.ondata=function(n,o,s){if(n)t.ondata(n,o,s),t.terminate();else if(g+=o.length,u.push(o),s){var a=new r(16);me(a,0,134695760),me(a,4,e.crc),me(a,8,g),me(a,12,e.size),u.push(a),m.c=g,m.b=c+g+16,m.crc=e.crc,m.size=e.size,f&&m.r(),f=1}else f&&p()},this.u.push(m)}},e.prototype.end=function(){var e=this;2&this.d?this.ondata(B(4+8*(1&this.d),0,1),null,!0):(this.d?this.e():this.u.push({r:function(){1&e.d&&(e.u.splice(-1,1),e.e())},t:function(){}}),this.d=3)},e.prototype.e=function(){for(var e=0,t=0,n=0,o=0,s=this.u;o<s.length;o++)n+=46+(l=s[o]).f.length+at(l.extra)+(l.o?l.o.length:0);for(var a=new r(n+22),i=0,c=this.u;i<c.length;i++){var l=c[i];it(a,e,l,l.f,l.u,l.c,t,l.o),e+=46+l.f.length+at(l.extra)+(l.o?l.o.length:0),t+=l.b}ct(a,e,this.u.length,n,t),this.ondata(null,a,!0),this.d=2},e.prototype.terminate=function(){for(var e=0,t=this.u;e<t.length;e++)t[e].t();this.d=2},e}();n.Zip=ft,n.zip=function(e,t,n){n||(n=t,t={}),"function"!=typeof n&&B(7);var o={};Xe(e,"",o,t);var s=Object.keys(o),a=s.length,i=0,c=0,l=a,u=new Array(a),p=[],f=function(){for(var e=0;e<p.length;++e)p[e]()},h=function(e,t){yt((function(){n(e,t)}))};yt((function(){h=n}));var m=function(){var e=new r(c+22),t=i,n=c-i;c=0;for(var o=0;o<l;++o){var s=u[o];try{var a=s.c.length;it(e,c,s,s.f,s.u,a);var p=30+s.f.length+at(s.extra),f=c+p;e.set(s.c,f),it(e,i,s,s.f,s.u,a,c,s.m),i+=16+p+(s.m?s.m.length:0),c=f+a}catch(e){return h(e,null)}}ct(e,i,u.length,n,t),h(null,e)};a||m();for(var g=function(e){var t=s[e],n=o[t],r=n[0],l=n[1],g=X(),d=r.length;g.p(r);var y=et(t),v=y.length,b=l.comment,x=b&&et(b),A=x&&x.length,E=at(l.extra),w=0==l.level?0:8,S=function(n,o){if(n)f(),h(n,null);else{var r=o.length;u[e]=W(l,{size:d,crc:g.d(),c:o,f:y,m:x,u:v!=t.length||x&&b.length!=A,compression:w}),i+=30+v+E+r,c+=76+2*(v+E)+(A||0)+r,--a||m()}};if(v>65535&&S(B(11,0,1),null),w)if(d<16e4)try{S(null,Te(r,l))}catch(e){S(e,null)}else p.push(Se(r,l,S));else S(null,r)},d=0;d<l;++d)g(d);return f},n.zipSync=function(e,t){t||(t={});var n={},o=[];Xe(e,"",n,t);var s=0,a=0;for(var i in n){var c=n[i],l=c[0],u=c[1],p=0==u.level?0:8,f=(S=et(i)).length,h=u.comment,m=h&&et(h),g=m&&m.length,d=at(u.extra);f>65535&&B(11);var y=p?Te(l,u):l,v=y.length,b=X();b.p(l),o.push(W(u,{size:l.length,crc:b.d(),c:y,f:S,m,u:f!=i.length||m&&h.length!=g,o:s,compression:p})),s+=30+f+d+v,a+=76+2*(f+d)+(g||0)+v}for(var x=new r(a+22),A=s,E=a-s,w=0;w<o.length;++w){var S=o[w];it(x,S.o,S,S.f,S.u,S.c.length);var T=30+S.f.length+at(S.extra);x.set(S.c,S.o+T),it(x,s,S,S.f,S.u,S.c.length,S.o,S.m),s+=16+T+(S.m?S.m.length:0)}return ct(x,s,o.length,E,A),x};var ht=function(){function e(){}return e.prototype.push=function(e,t){this.ondata(null,e,t)},e.compression=0,e}();n.UnzipPassThrough=ht;var mt=function(){function e(){var e=this;this.i=new Pe((function(t,n){e.ondata(null,t,n)}))}return e.prototype.push=function(e,t){try{this.i.push(e,t)}catch(e){this.ondata(e,null,t)}},e.compression=8,e}();n.UnzipInflate=mt;var gt=function(){function e(e,t){var n=this;t<32e4?this.i=new Pe((function(e,t){n.ondata(null,e,t)})):(this.i=new De((function(e,t,o){n.ondata(e,t,o)})),this.terminate=this.i.terminate)}return e.prototype.push=function(e,t){this.i.terminate&&(e=I(e,0)),this.i.push(e,t)},e.compression=8,e}();n.AsyncUnzipInflate=gt;var dt=function(){function e(e){this.onfile=e,this.k=[],this.o={0:ht},this.p=Y}return e.prototype.push=function(e,t){var n=this;if(this.onfile||B(5),this.p||B(4),this.c>0){var o=Math.min(this.c,e.length),s=e.subarray(0,o);if(this.c-=o,this.d?this.d.push(s,!this.c):this.k[0].push(s),(e=e.subarray(o)).length)return this.push(e,t)}else{var a=0,i=0,c=void 0,l=void 0;this.p.length?e.length?((l=new r(this.p.length+e.length)).set(this.p),l.set(e,this.p.length)):l=this.p:l=e;for(var u=l.length,p=this.c,f=p&&this.d,h=function(){var e,t=fe(l,i);if(67324752==t){a=1,c=i,m.d=null,m.c=0;var o=pe(l,i+6),r=pe(l,i+8),s=2048&o,f=8&o,h=pe(l,i+26),g=pe(l,i+28);if(u>i+30+h+g){var d=[];m.k.unshift(d),a=2;var y,v=fe(l,i+18),b=fe(l,i+22),x=tt(l.subarray(i+30,i+=30+h),!s);4294967295==v?(e=f?[-2]:st(l,i),v=e[0],b=e[1]):f&&(v=-1),i+=g,m.c=v;var A={name:x,compression:r,start:function(){if(A.ondata||B(5),v){var e=n.o[r];e||A.ondata(B(14,"unknown compression type "+r,1),null,!1),(y=v<0?new e(x):new e(x,v,b)).ondata=function(e,t,n){A.ondata(e,t,n)};for(var t=0,o=d;t<o.length;t++){var s=o[t];y.push(s,!1)}n.k[0]==d&&n.c?n.d=y:y.push(Y,!0)}else A.ondata(null,Y,!0)},terminate:function(){y&&y.terminate&&y.terminate()}};v>=0&&(A.size=v,A.originalSize=b),m.onfile(A)}return"break"}if(p){if(134695760==t)return c=i+=12+(-2==p&&8),a=3,m.c=0,"break";if(33639248==t)return c=i-=4,a=3,m.c=0,"break"}},m=this;i<u-4&&"break"!==h();++i);if(this.p=Y,p<0){var g=a?l.subarray(0,c-12-(-2==p&&8)-(134695760==fe(l,c-16)&&4)):l.subarray(0,i);f?f.push(g,!!a):this.k[+(2==a)].push(g)}if(2&a)return this.push(l.subarray(i),t);this.p=l.subarray(i)}t&&(this.c&&B(13),this.p=null)},e.prototype.register=function(e){this.o[e.compression]=e},e}();n.Unzip=dt;var yt="function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout?setTimeout:function(e){e()};n.unzip=function(e,t,n){n||(n=t,t={}),"function"!=typeof n&&B(7);var o=[],s=function(){for(var e=0;e<o.length;++e)o[e]()},a={},i=function(e,t){yt((function(){n(e,t)}))};yt((function(){i=n}));for(var c=e.length-22;101010256!=fe(e,c);--c)if(!c||e.length-c>65558)return i(B(13,0,1),null),s;var l=pe(e,c+8);if(l){var u=l,p=fe(e,c+16),f=4294967295==p;if(f){if(c=fe(e,c-12),101075792!=fe(e,c))return i(B(13,0,1),null),s;u=l=fe(e,c+32),p=fe(e,c+48)}for(var h=t&&t.filter,m=function(t){var n=rt(e,p,f),c=n[0],u=n[1],m=n[2],g=n[3],d=n[4],y=n[5],v=ot(e,y);p=d;var b=function(e,t){e?(s(),i(e,null)):(t&&(a[g]=t),--l||i(null,a))};if(!h||h({name:g,size:u,originalSize:m,compression:c}))if(c)if(8==c){var x=e.subarray(v,v+u);if(u<32e4)try{b(null,Me(x,new r(m)))}catch(e){b(e,null)}else o.push(Ce(x,{size:m},b))}else b(B(14,"unknown compression type "+c,1),null);else b(null,I(e,v,v+u));else b(null,null)},g=0;g<u;++g)m()}else i(null,{});return s},n.unzipSync=function(e,t){for(var n={},o=e.length-22;101010256!=fe(e,o);--o)(!o||e.length-o>65558)&&B(13);var s=pe(e,o+8);if(!s)return{};var a=fe(e,o+16),i=4294967295==a;i&&(o=fe(e,o-12),101075792!=fe(e,o)&&B(13),s=fe(e,o+32),a=fe(e,o+48));for(var c=t&&t.filter,l=0;l<s;++l){var u=rt(e,a,i),p=u[0],f=u[1],h=u[2],m=u[3],g=u[4],d=u[5],y=ot(e,d);a=g,c&&!c({name:m,size:f,originalSize:h,compression:p})||(p?8==p?n[m]=Me(e.subarray(y,y+f),new r(h)):B(14,"unknown compression type "+p):n[m]=I(e,y,y+f))}return n}},{"./node-worker.cjs":828}],828:[function(e,t,n){var o={};n.default=function(e,t,n,r,s){var a=new Worker(o[t]||(o[t]=URL.createObjectURL(new Blob([e+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return a.onmessage=function(e){var t=e.data,n=t.$e$;if(n){var o=new Error(n[0]);o.code=n[1],o.stack=n[2],s(o,null)}else s(null,t)},a.postMessage(n,r),a}},{}],829:[function(e,t,n){t.exports=function(e,t){var n="",o=function(e){return e};return t>0&&(n="\n",o=function(e){var t=" ".repeat(e);return function(e){var n,o=[];return"string"!=typeof e?e:1===(n=e.split("\n")).length?t+e:(n.forEach((function(e){""!==e.trim()?o.push(t+e):o.push(e)})),o.join("\n"))}}(t)),function e(t){var r,s,a;return s="",a=!0,t.some((function(t,o,i){if(0===o)return r="<"+t,1===i.length||void 0;if(1===o){if((c=t)&&"[object Object]"===Object.prototype.toString.call(c))return Object.keys(t).forEach((function(e){r+=" "+e+'="'+t[e]+'"'})),2===i.length||void(r+=">");r+=">"}var c;switch(typeof t){case"string":case"number":case"boolean":case"undefined":return void(s+=t+n)}a=!1,s+=e(t)}))?r+"/>"+n:a?r+function(e){var t=e.split("\n"),n=[];return t.forEach((function(e){""!==e.trim()&&n.push(e)})),n.join("\n")}(s)+"</"+t[0]+">"+n:r+n+o(s)+"</"+t[0]+">"+n}(e)}},{}],830:[function(e,t,n){n.byteLength=function(e){var t=c(e),n=t[0],o=t[1];return 3*(n+o)/4-o},n.toByteArray=function(e){var t,n,o=c(e),a=o[0],i=o[1],l=new s(function(e,t,n){return 3*(t+n)/4-n}(0,a,i)),u=0,p=i>0?a-4:a;for(n=0;n<p;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===i&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[u++]=255&t),1===i&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},n.fromByteArray=function(e){for(var t,n=e.length,r=n%3,s=[],a=16383,i=0,c=n-r;i<c;i+=a)s.push(l(e,i,i+a>c?c:i+a));return 1===r?(t=e[n-1],s.push(o[t>>2]+o[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],s.push(o[t>>10]+o[t>>4&63]+o[t<<2&63]+"=")),s.join("")};for(var o=[],r=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0;i<64;++i)o[i]=a[i],r[a.charCodeAt(i)]=i;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var r,s,a=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),a.push(o[(s=r)>>18&63]+o[s>>12&63]+o[s>>6&63]+o[63&s]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},{}],831:[function(e,t,n){(function(t){var o=e("base64-js"),r=e("ieee754");n.Buffer=t,n.SlowBuffer=function(e){return+e!=e&&(e=0),t.alloc(+e)},n.INSPECT_MAX_BYTES=50;var s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=new Uint8Array(e);return n.__proto__=t.prototype,n}function t(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return i(e,t,n)}function i(e,n,o){if("string"==typeof e)return function(e,n){if("string"==typeof n&&""!==n||(n="utf8"),!t.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var o=0|f(e,n),r=a(o),s=r.write(e,n);return s!==o&&(r=r.slice(0,s)),r}(e,n);if(ArrayBuffer.isView(e))return u(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(F(e,ArrayBuffer)||e&&F(e.buffer,ArrayBuffer))return function(e,n,o){if(n<0||e.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<n+(o||0))throw new RangeError('"length" is outside of buffer bounds');var r;return(r=void 0===n&&void 0===o?new Uint8Array(e):void 0===o?new Uint8Array(e,n):new Uint8Array(e,n,o)).__proto__=t.prototype,r}(e,n,o);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return t.from(r,n,o);var s=function(e){if(t.isBuffer(e)){var n=0|p(e.length),o=a(n);return 0===o.length||e.copy(o,0,0,n),o}return void 0!==e.length?"number"!=typeof e.length||z(e.length)?a(0):u(e):"Buffer"===e.type&&Array.isArray(e.data)?u(e.data):void 0}(e);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return t.from(e[Symbol.toPrimitive]("string"),n,o);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return c(e),a(e<0?0:0|p(e))}function u(e){for(var t=e.length<0?0:0|p(e.length),n=a(t),o=0;o<t;o+=1)n[o]=255&e[o];return n}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function f(e,n){if(t.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||F(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var o=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===o)return 0;for(var s=!1;;)switch(n){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":return k(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*o;case"hex":return o>>>1;case"base64":return N(e).length;default:if(s)return r?-1:k(e).length;n=(""+n).toLowerCase(),s=!0}}function h(e,t,n){var o=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return P(this,t,n);case"latin1":case"binary":return D(this,t,n);case"base64":return w(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function m(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}function g(e,n,o,r,s){if(0===e.length)return-1;if("string"==typeof o?(r=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),z(o=+o)&&(o=s?0:e.length-1),o<0&&(o=e.length+o),o>=e.length){if(s)return-1;o=e.length-1}else if(o<0){if(!s)return-1;o=0}if("string"==typeof n&&(n=t.from(n,r)),t.isBuffer(n))return 0===n.length?-1:d(e,n,o,r,s);if("number"==typeof n)return n&=255,"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,n,o):Uint8Array.prototype.lastIndexOf.call(e,n,o):d(e,[n],o,r,s);throw new TypeError("val must be string, number or Buffer")}function d(e,t,n,o,r){var s,a=1,i=e.length,c=t.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(e.length<2||t.length<2)return-1;a=2,i/=2,c/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var u=-1;for(s=n;s<i;s++)if(l(e,s)===l(t,-1===u?0:s-u)){if(-1===u&&(u=s),s-u+1===c)return u*a}else-1!==u&&(s-=s-u),u=-1}else for(n+c>i&&(n=i-c),s=n;s>=0;s--){for(var p=!0,f=0;f<c;f++)if(l(e,s+f)!==l(t,f)){p=!1;break}if(p)return s}return-1}function y(e,t,n,o){n=Number(n)||0;var r=e.length-n;o?(o=Number(o))>r&&(o=r):o=r;var s=t.length;o>s/2&&(o=s/2);for(var a=0;a<o;++a){var i=parseInt(t.substr(2*a,2),16);if(z(i))return a;e[n+a]=i}return a}function v(e,t,n,o){return _(k(t,e.length-n),e,n,o)}function b(e,t,n,o){return _(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,o)}function x(e,t,n,o){return b(e,t,n,o)}function A(e,t,n,o){return _(N(t),e,n,o)}function E(e,t,n,o){return _(function(e,t){for(var n,o,r,s=[],a=0;a<e.length&&!((t-=2)<0);++a)o=(n=e.charCodeAt(a))>>8,r=n%256,s.push(r),s.push(o);return s}(t,e.length-n),e,n,o)}function w(e,t,n){return 0===t&&n===e.length?o.fromByteArray(e):o.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var o=[],r=t;r<n;){var s,a,i,c,l=e[r],u=null,p=l>239?4:l>223?3:l>191?2:1;if(r+p<=n)switch(p){case 1:l<128&&(u=l);break;case 2:128==(192&(s=e[r+1]))&&(c=(31&l)<<6|63&s)>127&&(u=c);break;case 3:s=e[r+1],a=e[r+2],128==(192&s)&&128==(192&a)&&(c=(15&l)<<12|(63&s)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:s=e[r+1],a=e[r+2],i=e[r+3],128==(192&s)&&128==(192&a)&&128==(192&i)&&(c=(15&l)<<18|(63&s)<<12|(63&a)<<6|63&i)>65535&&c<1114112&&(u=c)}null===u?(u=65533,p=1):u>65535&&(u-=65536,o.push(u>>>10&1023|55296),u=56320|1023&u),o.push(u),r+=p}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);for(var n="",o=0;o<t;)n+=String.fromCharCode.apply(String,e.slice(o,o+=T));return n}(o)}n.kMaxLength=s,t.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),t.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192,t.from=function(e,t,n){return i(e,t,n)},t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,t.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},t.allocUnsafe=function(e){return l(e)},t.allocUnsafeSlow=function(e){return l(e)},t.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==t.prototype},t.compare=function(e,n){if(F(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),F(n,Uint8Array)&&(n=t.from(n,n.offset,n.byteLength)),!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===n)return 0;for(var o=e.length,r=n.length,s=0,a=Math.min(o,r);s<a;++s)if(e[s]!==n[s]){o=e[s],r=n[s];break}return o<r?-1:r<o?1:0},t.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var o;if(void 0===n)for(n=0,o=0;o<e.length;++o)n+=e[o].length;var r=t.allocUnsafe(n),s=0;for(o=0;o<e.length;++o){var a=e[o];if(F(a,Uint8Array)&&(a=t.from(a)),!t.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,s),s+=a.length}return r},t.byteLength=f,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},t.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},t.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},t.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):h.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},t.prototype.compare=function(e,n,o,r,s){if(F(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),!t.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===n&&(n=0),void 0===o&&(o=e?e.length:0),void 0===r&&(r=0),void 0===s&&(s=this.length),n<0||o>e.length||r<0||s>this.length)throw new RangeError("out of range index");if(r>=s&&n>=o)return 0;if(r>=s)return-1;if(n>=o)return 1;if(this===e)return 0;for(var a=(s>>>=0)-(r>>>=0),i=(o>>>=0)-(n>>>=0),c=Math.min(a,i),l=this.slice(r,s),u=e.slice(n,o),p=0;p<c;++p)if(l[p]!==u[p]){a=l[p],i=u[p];break}return a<i?-1:i<a?1:0},t.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},t.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},t.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},t.prototype.write=function(e,t,n,o){if(void 0===t)o="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)o=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===o&&(o="utf8")):(o=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var s=!1;;)switch(o){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return A(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),s=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function P(e,t,n){var o="";n=Math.min(e.length,n);for(var r=t;r<n;++r)o+=String.fromCharCode(127&e[r]);return o}function D(e,t,n){var o="";n=Math.min(e.length,n);for(var r=t;r<n;++r)o+=String.fromCharCode(e[r]);return o}function C(e,t,n){var o,r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var s="",a=t;a<n;++a)s+=(o=e[a])<16?"0"+o.toString(16):o.toString(16);return s}function M(e,t,n){for(var o=e.slice(t,n),r="",s=0;s<o.length;s+=2)r+=String.fromCharCode(o[s]+256*o[s+1]);return r}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,n,o,r,s,a){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>s||n<a)throw new RangeError('"value" argument is out of bounds');if(o+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,o,r,s){if(n+o>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,o,s){return t=+t,n>>>=0,s||L(e,0,n,4),r.write(e,t,n,o,23,4),n+4}function $(e,t,n,o,s){return t=+t,n>>>=0,s||L(e,0,n,8),r.write(e,t,n,o,52,8),n+8}t.prototype.slice=function(e,n){var o=this.length;(e=~~e)<0?(e+=o)<0&&(e=0):e>o&&(e=o),(n=void 0===n?o:~~n)<0?(n+=o)<0&&(n=0):n>o&&(n=o),n<e&&(n=e);var r=this.subarray(e,n);return r.__proto__=t.prototype,r},t.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var o=this[e],r=1,s=0;++s<t&&(r*=256);)o+=this[e+s]*r;return o},t.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var o=this[e+--t],r=1;t>0&&(r*=256);)o+=this[e+--t]*r;return o},t.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},t.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},t.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},t.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},t.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},t.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var o=this[e],r=1,s=0;++s<t&&(r*=256);)o+=this[e+s]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},t.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var o=t,r=1,s=this[e+--o];o>0&&(r*=256);)s+=this[e+--o]*r;return s>=(r*=128)&&(s-=Math.pow(2,8*t)),s},t.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},t.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},t.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},t.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),r.read(this,e,!0,23,4)},t.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),r.read(this,e,!1,23,4)},t.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),r.read(this,e,!0,52,8)},t.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),r.read(this,e,!1,52,8)},t.prototype.writeUIntLE=function(e,t,n,o){e=+e,t>>>=0,n>>>=0,o||I(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,s=0;for(this[t]=255&e;++s<n&&(r*=256);)this[t+s]=e/r&255;return t+n},t.prototype.writeUIntBE=function(e,t,n,o){e=+e,t>>>=0,n>>>=0,o||I(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,s=1;for(this[t+r]=255&e;--r>=0&&(s*=256);)this[t+r]=e/s&255;return t+n},t.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,1,255,0),this[t]=255&e,t+1},t.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},t.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeIntLE=function(e,t,n,o){if(e=+e,t>>>=0,!o){var r=Math.pow(2,8*n-1);I(this,e,t,n,r-1,-r)}var s=0,a=1,i=0;for(this[t]=255&e;++s<n&&(a*=256);)e<0&&0===i&&0!==this[t+s-1]&&(i=1),this[t+s]=(e/a|0)-i&255;return t+n},t.prototype.writeIntBE=function(e,t,n,o){if(e=+e,t>>>=0,!o){var r=Math.pow(2,8*n-1);I(this,e,t,n,r-1,-r)}var s=n-1,a=1,i=0;for(this[t+s]=255&e;--s>=0&&(a*=256);)e<0&&0===i&&0!==this[t+s+1]&&(i=1),this[t+s]=(e/a|0)-i&255;return t+n},t.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},t.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},t.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},t.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},t.prototype.writeDoubleLE=function(e,t,n){return $(this,e,t,!0,n)},t.prototype.writeDoubleBE=function(e,t,n){return $(this,e,t,!1,n)},t.prototype.copy=function(e,n,o,r){if(!t.isBuffer(e))throw new TypeError("argument should be a Buffer");if(o||(o=0),r||0===r||(r=this.length),n>=e.length&&(n=e.length),n||(n=0),r>0&&r<o&&(r=o),r===o)return 0;if(0===e.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(o<0||o>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-n<r-o&&(r=e.length-n+o);var s=r-o;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(n,o,r);else if(this===e&&o<n&&n<r)for(var a=s-1;a>=0;--a)e[a+n]=this[a+o];else Uint8Array.prototype.set.call(e,this.subarray(o,r),n);return s},t.prototype.fill=function(e,n,o,r){if("string"==typeof e){if("string"==typeof n?(r=n,n=0,o=this.length):"string"==typeof o&&(r=o,o=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!t.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var s=e.charCodeAt(0);("utf8"===r&&s<128||"latin1"===r)&&(e=s)}}else"number"==typeof e&&(e&=255);if(n<0||this.length<n||this.length<o)throw new RangeError("Out of range index");if(o<=n)return this;var a;if(n>>>=0,o=void 0===o?this.length:o>>>0,e||(e=0),"number"==typeof e)for(a=n;a<o;++a)this[a]=e;else{var i=t.isBuffer(e)?e:t.from(e,r),c=i.length;if(0===c)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<o-n;++a)this[a+n]=i[a%c]}return this};var O=/[^+/0-9A-Za-z-_]/g;function k(e,t){var n;t=t||1/0;for(var o=e.length,r=null,s=[],a=0;a<o;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(a+1===o){(t-=3)>-1&&s.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&s.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function N(e){return o.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function _(e,t,n,o){for(var r=0;r<o&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function F(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function z(e){return e!=e}}).call(this,e("buffer").Buffer)},{"base64-js":830,buffer:831,ieee754:832}],832:[function(e,t,n){n.read=function(e,t,n,o,r){var s,a,i=8*r-o-1,c=(1<<i)-1,l=c>>1,u=-7,p=n?r-1:0,f=n?-1:1,h=e[t+p];for(p+=f,s=h&(1<<-u)-1,h>>=-u,u+=i;u>0;s=256*s+e[t+p],p+=f,u-=8);for(a=s&(1<<-u)-1,s>>=-u,u+=o;u>0;a=256*a+e[t+p],p+=f,u-=8);if(0===s)s=1-l;else{if(s===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,o),s-=l}return(h?-1:1)*a*Math.pow(2,s-o)},n.write=function(e,t,n,o,r,s){var a,i,c,l=8*s-r-1,u=(1<<l)-1,p=u>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=o?0:s-1,m=o?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(i=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+p>=1?f/c:f*Math.pow(2,1-p))*c>=2&&(a++,c/=2),a+p>=u?(i=0,a=u):a+p>=1?(i=(t*c-1)*Math.pow(2,r),a+=p):(i=t*Math.pow(2,p-1)*Math.pow(2,r),a=0));r>=8;e[n+h]=255&i,h+=m,i/=256,r-=8);for(a=a<<r|i,l+=r;l>0;e[n+h]=255&a,h+=m,a/=256,l-=8);e[n+h-m]|=128*g}},{}]},{},[1])}}]);