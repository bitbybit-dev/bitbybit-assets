(()=>{var t,e,o={430:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>s});const s=o.p+"static/js/manifold.b03f5972.wasm"},764:(t,e,o)=>{"use strict";t.exports=o.p+"956447fcc1fc40ca7b39.js"},677:()=>{}},s={};function r(t){var e=s[t];if(void 0!==e)return e.exports;var n=s[t]={exports:{}};return o[t](n,n.exports,r),n.exports}e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,r.t=function(o,s){if(1&s&&(o=this(o)),8&s)return o;if("object"==typeof o&&o){if(4&s&&o.__esModule)return o;if(16&s&&"function"==typeof o.then)return o}var n=Object.create(null);r.r(n);var i={};t=t||[null,e({}),e([]),e(e)];for(var a=2&s&&o;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>i[t]=()=>o[t]));return i.default=()=>o,r.d(n,i),n},r.d=(t,e)=>{for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var o=e.getElementsByTagName("script");if(o.length)for(var s=o.length-1;s>-1&&(!t||!/^http(s?):/.test(t));)t=o[s--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),r.b=void 0,(()=>{"use strict";var t,e,o,s,n,i,a,c,l,h,u,d,f,m,p,v,g,y;(g=t||(t={}))[g.loading=0]="loading",g[g.loaded=1]="loaded",g[g.initialised=2]="initialised",g[g.computing=3]="computing";class b{constructor(){this.hashesFromPreviousRun={},this.usedHashes={},this.argCache={},this.manifoldObjectHashes=new Set}cleanAllCache(){Object.keys(this.argCache).forEach((t=>{if(this.argCache[t])try{const e=this.argCache[t];this.isManifoldObject(e)&&(Array.isArray(e)?e.forEach((t=>{try{t.delete()}catch(t){}})):e.delete())}catch(t){}})),this.argCache={},this.usedHashes={},this.hashesFromPreviousRun={},this.manifoldObjectHashes.clear()}cleanCacheForHash(t){if(this.argCache[t])try{const e=this.argCache[t];this.isManifoldObject(e)&&(Array.isArray(e)?e.forEach((t=>{try{t.delete()}catch(t){}})):e.delete())}catch(t){}delete this.argCache[t],delete this.usedHashes[t],delete this.hashesFromPreviousRun[t],this.manifoldObjectHashes.delete(t)}cleanUpCache(){const t=Object.keys(this.usedHashes),e=Object.keys(this.hashesFromPreviousRun);let o=[];e.length>0&&(o=e.filter((e=>!t.includes(e)))),o.length>0&&o.forEach((t=>{if(this.argCache[t]){try{const e=this.argCache[t];this.isManifoldObject(e)&&(Array.isArray(e)?e.forEach((t=>{try{t.delete()}catch(t){}})):e.delete())}catch(t){}delete this.argCache[t]}delete this.usedHashes[t],this.manifoldObjectHashes.delete(t)})),this.hashesFromPreviousRun=Object.assign({},this.usedHashes)}isManifoldObject(t){return null!=t&&!Array.isArray(t)&&void 0!==t.$$||Array.isArray(t)&&t.length>0&&void 0!==t[0].$$}cacheOp(t,e){let o=null;const s=this.computeHash(t);this.usedHashes[s]=s,this.hashesFromPreviousRun[s]=s;const r=this.checkCache(s);if(r)this.isManifoldObject(r)?(o=r,o.hash=r.hash):r.value&&(o=r.value);else if(o=e(),Array.isArray(o)&&this.isManifoldObject(o))o.forEach(((e,o)=>{const s=this.computeHash(Object.assign(Object.assign({},t),{index:o}));e.hash=s,this.addToCache(s,e),this.usedHashes[s]=s,this.hashesFromPreviousRun[s]=s}));else if(this.isManifoldObject(o))o.hash=s,this.addToCache(s,o);else if(o&&o.compound&&o.data&&o.manifolds&&o.manifolds.length>0){const e=o,r=this.computeHash(Object.assign(Object.assign({},t),{index:"compound"}));e.compound.hash=r,this.addToCache(r,e.compound),this.usedHashes[r]=r,this.hashesFromPreviousRun[r]=r,e.manifolds.forEach(((e,o)=>{const s=this.computeHash(Object.assign(Object.assign({},t),{index:o}));e.manifold.hash=s,this.addToCache(s,e.manifold),this.usedHashes[s]=s,this.hashesFromPreviousRun[s]=s})),this.addToCache(s,{value:e})}else this.addToCache(s,{value:o});return o}checkCache(t){const e=this.argCache[t];return e?(void 0===e.value||this.isManifoldObject(e))&&this.manifoldObjectHashes.has(t)&&!this.isManifoldObject(e)?(delete this.argCache[t],this.manifoldObjectHashes.delete(t),null):e:null}addToCache(t,e){const o=e;return null!==o&&"object"==typeof o&&(o.hash=t),this.argCache[t]=o,this.isManifoldObject(o)&&this.manifoldObjectHashes.add(t),t}computeHash(t,e){let o=JSON.stringify(t);o=o.replace(/("ptr":(-?[0-9]*?),)/g,""),o=o.replace(/("ptr":(-?[0-9]*))/g,""),o.includes("ptr")&&console.error("YOU DONE MESSED UP YOUR REGEX.");const s=Math.random.toString()+o;return e?s:this.stringToHash(s)}stringToHash(t){let e=0;if(0===t.length)return e;for(let o=0;o<t.length;o++)e=(e<<5)-e+t.charCodeAt(o),e|=0;return e}remove(t,e){return t.filter((t=>t.hash!==e.hash||t.ptr!==e.ptr))}}!function(t){let e,o;!function(t){t.evenOdd="EvenOdd",t.nonZero="NonZero",t.positive="Positive",t.negative="Negative"}(e=t.fillRuleEnum||(t.fillRuleEnum={})),function(t){t.square="Square",t.round="Round",t.miter="Miter",t.bevel="Bevel"}(o=t.manifoldJoinTypeEnum||(t.manifoldJoinTypeEnum={})),t.DecomposedManifoldMeshDto=class{},t.DrawManifoldOrCrossSectionDto=class{constructor(t,e,o,s,r,n,i,a,c,l,h){this.faceOpacity=1,this.faceColour="#ff0000",this.crossSectionColour="#ff00ff",this.crossSectionWidth=2,this.crossSectionOpacity=1,this.computeNormals=!1,this.drawTwoSided=!0,this.backFaceColour="#0000ff",this.backFaceOpacity=1,void 0!==t&&(this.manifoldOrCrossSection=t),void 0!==e&&(this.faceOpacity=e),void 0!==o&&(this.faceMaterial=o),void 0!==s&&(this.faceColour=s),void 0!==r&&(this.crossSectionColour=r),void 0!==n&&(this.crossSectionWidth=n),void 0!==i&&(this.crossSectionOpacity=i),void 0!==a&&(this.computeNormals=a),void 0!==c&&(this.drawTwoSided=c),void 0!==l&&(this.backFaceColour=l),void 0!==h&&(this.backFaceOpacity=h)}},t.DrawManifoldsOrCrossSectionsDto=class{constructor(t,e,o,s,r,n,i,a,c,l,h){this.faceColour="#ff0000",this.faceOpacity=1,this.crossSectionColour="#ff00ff",this.crossSectionWidth=2,this.crossSectionOpacity=1,this.computeNormals=!1,this.drawTwoSided=!0,this.backFaceColour="#0000ff",this.backFaceOpacity=1,void 0!==t&&(this.manifoldsOrCrossSections=t),void 0!==e&&(this.faceOpacity=e),void 0!==o&&(this.faceMaterial=o),void 0!==s&&(this.faceColour=s),void 0!==r&&(this.crossSectionColour=r),void 0!==n&&(this.crossSectionWidth=n),void 0!==i&&(this.crossSectionOpacity=i),void 0!==a&&(this.computeNormals=a),void 0!==c&&(this.drawTwoSided=c),void 0!==l&&(this.backFaceColour=l),void 0!==h&&(this.backFaceOpacity=h)}},t.CreateFromMeshDto=class{constructor(t){void 0!==t&&(this.mesh=t)}},t.FromPolygonPointsDto=class{constructor(t){void 0!==t&&(this.polygonPoints=t)}},t.CrossSectionFromPolygonPointsDto=class{constructor(t,o,s,r){this.fillRule=e.positive,this.removeDuplicates=!1,this.tolerance=1e-7,void 0!==t&&(this.points=t),void 0!==o&&(this.fillRule=o),void 0!==s&&(this.removeDuplicates=s),void 0!==r&&(this.tolerance=r)}},t.CrossSectionFromPolygonsPointsDto=class{constructor(t,o,s,r){this.fillRule=e.positive,this.removeDuplicates=!1,this.tolerance=1e-7,void 0!==t&&(this.polygonPoints=t),void 0!==o&&(this.fillRule=o),void 0!==s&&(this.removeDuplicates=s),void 0!==r&&(this.tolerance=r)}},t.CubeDto=class{constructor(t,e){this.center=!0,this.size=1,void 0!==t&&(this.center=t),void 0!==e&&(this.size=e)}},t.CreateContourSectionDto=class{constructor(t,o){this.fillRule=e.evenOdd,void 0!==t&&(this.polygons=t),void 0!==o&&(this.fillRule=o)}},t.SquareDto=class{constructor(t,e){this.center=!1,this.size=1,void 0!==t&&(this.center=t),void 0!==e&&(this.size=e)}},t.SphereDto=class{constructor(t,e){this.radius=1,void 0!==t&&(this.radius=t),void 0!==e&&(this.circularSegments=e)}},t.CylinderDto=class{constructor(t,e,o,s,r){this.height=1,this.radiusLow=1,this.radiusHigh=1,this.circularSegments=32,this.center=!0,void 0!==t&&(this.height=t),void 0!==e&&(this.radiusLow=e),void 0!==o&&(this.radiusHigh=o),void 0!==s&&(this.circularSegments=s),void 0!==r&&(this.center=r)}},t.CircleDto=class{constructor(t,e){this.radius=1,this.circularSegments=32,void 0!==t&&(this.radius=t),void 0!==e&&(this.circularSegments=e)}},t.RectangleDto=class{constructor(t,e,o){this.length=1,this.height=1,this.center=!1,void 0!==t&&(this.length=t),void 0!==e&&(this.height=e),void 0!==o&&(this.center=o)}},t.ManifoldDto=class{constructor(t){void 0!==t&&(this.manifold=t)}},t.CalculateNormalsDto=class{constructor(t,e,o){this.normalIdx=0,this.minSharpAngle=0,void 0!==t&&(this.manifold=t),void 0!==e&&(this.normalIdx=e),void 0!==o&&(this.minSharpAngle=o)}},t.CalculateCurvatureDto=class{constructor(t){void 0!==t&&(this.manifold=t)}},t.CountDto=class{constructor(t){void 0!==t&&(this.count=t)}},t.ManifoldsMinGapDto=class{constructor(t,e,o){this.searchLength=100,void 0!==t&&(this.manifold1=t),void 0!==e&&(this.manifold2=e),void 0!==o&&(this.searchLength=o)}},t.ManifoldRefineToleranceDto=class{constructor(t,e){this.tolerance=1e-6,void 0!==t&&(this.manifold=t),void 0!==e&&(this.tolerance=e)}},t.ManifoldRefineLengthDto=class{constructor(t,e){this.length=.1,void 0!==t&&(this.manifold=t),void 0!==e&&(this.length=e)}},t.ManifoldRefineDto=class{constructor(t,e){this.number=1,void 0!==t&&(this.manifold=t),void 0!==e&&(this.number=e)}},t.ManifoldSmoothByNormalsDto=class{constructor(t,e){this.normalIdx=0,void 0!==t&&(this.manifold=t),void 0!==e&&(this.normalIdx=e)}},t.ManifoldSimplifyDto=class{constructor(t,e){void 0!==t&&(this.manifold=t),void 0!==e&&(this.tolerance=e)}},t.ManifoldSetPropertiesDto=class{constructor(t,e,o){this.numProp=3,void 0!==t&&(this.manifold=t),void 0!==e&&(this.numProp=e),void 0!==o&&(this.propFunc=o)}},t.ManifoldSmoothOutDto=class{constructor(t,e,o){this.minSharpAngle=60,this.minSmoothness=0,void 0!==t&&(this.manifold=t),void 0!==e&&(this.minSharpAngle=e),void 0!==o&&(this.minSmoothness=o)}},t.HullPointsDto=class{constructor(t){void 0!==t&&(this.points=t)}},t.SliceDto=class{constructor(t){this.height=.5,void 0!==t&&(this.manifold=t)}},t.MeshDto=class{constructor(t){void 0!==t&&(this.mesh=t)}},t.MeshVertexIndexDto=class{constructor(t,e){void 0!==t&&(this.mesh=t),void 0!==e&&(this.vertexIndex=e)}},t.MeshTriangleRunIndexDto=class{constructor(t,e){void 0!==t&&(this.mesh=t),void 0!==e&&(this.triangleRunIndex=e)}},t.MeshHalfEdgeIndexDto=class{constructor(t,e){void 0!==t&&(this.mesh=t),void 0!==e&&(this.halfEdgeIndex=e)}},t.MeshTriangleIndexDto=class{constructor(t,e){void 0!==t&&(this.mesh=t),void 0!==e&&(this.triangleIndex=e)}},t.CrossSectionDto=class{constructor(t){void 0!==t&&(this.crossSection=t)}},t.CrossSectionsDto=class{constructor(t){void 0!==t&&(this.crossSections=t)}},t.ExtrudeDto=class{constructor(t){this.height=1,this.nDivisions=1,this.twistDegrees=0,this.scaleTopX=1,this.scaleTopY=1,this.center=!0,void 0!==t&&(this.crossSection=t)}},t.RevolveDto=class{constructor(t,e,o,s){this.matchProfile=!0,this.circularSegments=32,void 0!==t&&(this.crossSection=t),void 0!==e&&(this.revolveDegrees=e),void 0!==o&&(this.matchProfile=o),void 0!==s&&(this.circularSegments=s)}},t.OffsetDto=class{constructor(t,e,s,r,n){this.joinType=o.round,this.miterLimit=2,this.circularSegments=32,void 0!==t&&(this.crossSection=t),void 0!==e&&(this.delta=e),void 0!==s&&(this.joinType=s),void 0!==r&&(this.miterLimit=r),void 0!==n&&(this.circularSegments=n)}},t.SimplifyDto=class{constructor(t,e){this.epsilon=1e-6,void 0!==t&&(this.crossSection=t),void 0!==e&&(this.epsilon=e)}},t.ComposeDto=class{constructor(t){void 0!==t&&(this.polygons=t)}},t.MirrorCrossSectionDto=class{constructor(t,e){this.normal=[1,0],void 0!==t&&(this.crossSection=t),void 0!==e&&(this.normal=e)}},t.Scale2DCrossSectionDto=class{constructor(t,e){this.vector=[2,2],void 0!==t&&(this.crossSection=t),void 0!==e&&(this.vector=e)}},t.TranslateCrossSectionDto=class{constructor(t,e){void 0!==t&&(this.crossSection=t),void 0!==e&&(this.vector=e)}},t.RotateCrossSectionDto=class{constructor(t,e){void 0!==t&&(this.crossSection=t),void 0!==e&&(this.degrees=e)}},t.ScaleCrossSectionDto=class{constructor(t,e){this.factor=2,void 0!==t&&(this.crossSection=t),void 0!==e&&(this.factor=e)}},t.TranslateXYCrossSectionDto=class{constructor(t,e,o){this.x=0,this.y=0,void 0!==t&&(this.crossSection=t),void 0!==e&&(this.x=e),void 0!==o&&(this.y=o)}},t.TransformCrossSectionDto=class{constructor(t,e){void 0!==t&&(this.crossSection=t),void 0!==e&&(this.transform=e)}},t.CrossSectionWarpDto=class{constructor(t,e){void 0!==t&&(this.crossSection=t),void 0!==e&&(this.warpFunc=e)}},t.MirrorDto=class{constructor(t,e){this.normal=[1,0,0],void 0!==t&&(this.manifold=t),void 0!==e&&(this.normal=e)}},t.Scale3DDto=class{constructor(t,e){this.vector=[2,2,2],void 0!==t&&(this.manifold=t),void 0!==e&&(this.vector=e)}},t.TranslateDto=class{constructor(t,e){void 0!==t&&(this.manifold=t),void 0!==e&&(this.vector=e)}},t.TranslateByVectorsDto=class{constructor(t,e){void 0!==t&&(this.manifold=t),void 0!==e&&(this.vectors=e)}},t.RotateDto=class{constructor(t,e){void 0!==t&&(this.manifold=t),void 0!==e&&(this.vector=e)}},t.RotateXYZDto=class{constructor(t,e,o,s){this.x=0,this.y=0,this.z=0,void 0!==t&&(this.manifold=t),void 0!==e&&(this.x=e),void 0!==o&&(this.y=o),void 0!==s&&(this.z=s)}},t.ScaleDto=class{constructor(t,e){this.factor=2,void 0!==t&&(this.manifold=t),void 0!==e&&(this.factor=e)}},t.TranslateXYZDto=class{constructor(t,e,o,s){this.x=0,this.y=0,this.z=0,void 0!==t&&(this.manifold=t),void 0!==e&&(this.x=e),void 0!==o&&(this.y=o),void 0!==s&&(this.z=s)}},t.TransformDto=class{constructor(t,e){void 0!==t&&(this.manifold=t),void 0!==e&&(this.transform=e)}},t.TransformsDto=class{constructor(t,e){void 0!==t&&(this.manifold=t),void 0!==e&&(this.transforms=e)}},t.ManifoldWarpDto=class{constructor(t,e){void 0!==t&&(this.manifold=t),void 0!==e&&(this.warpFunc=e)}},t.TwoCrossSectionsDto=class{constructor(t,e){void 0!==t&&(this.crossSection1=t),void 0!==e&&(this.crossSection2=e)}},t.TwoManifoldsDto=class{constructor(t,e){void 0!==t&&(this.manifold1=t),void 0!==e&&(this.manifold2=e)}},t.SplitManifoldsDto=class{constructor(t,e){void 0!==t&&(this.manifoldToSplit=t),void 0!==e&&(this.manifoldCutter=e)}},t.TrimByPlaneDto=class{constructor(t,e,o){this.normal=[1,0,0],this.originOffset=0,void 0!==t&&(this.manifold=t),void 0!==e&&(this.normal=e),void 0!==o&&(this.originOffset=o)}},t.SplitByPlaneDto=class{constructor(t,e,o){this.normal=[1,0,0],this.originOffset=0,void 0!==t&&(this.manifold=t),void 0!==e&&(this.normal=e),void 0!==o&&(this.originOffset=o)}},t.SplitByPlaneOnOffsetsDto=class{constructor(t,e,o){this.normal=[1,0,0],this.originOffsets=[0],void 0!==t&&(this.manifold=t),void 0!==e&&(this.normal=e),void 0!==o&&(this.originOffsets=o)}},t.ManifoldsDto=class{constructor(t){void 0!==t&&(this.manifolds=t)}},t.ManifoldToMeshDto=class{constructor(t,e){void 0!==t&&(this.manifold=t),void 0!==e&&(this.normalIdx=e)}},t.ManifoldsToMeshesDto=class{constructor(t,e){void 0!==t&&(this.manifolds=t),void 0!==e&&(this.normalIdx=e)}},t.DecomposeManifoldOrCrossSectionDto=class{constructor(t,e){void 0!==t&&(this.manifoldOrCrossSection=t),void 0!==e&&(this.normalIdx=e)}},t.ManifoldOrCrossSectionDto=class{constructor(t){void 0!==t&&(this.manifoldOrCrossSection=t)}},t.ManifoldsOrCrossSectionsDto=class{constructor(t){void 0!==t&&(this.manifoldsOrCrossSections=t)}},t.DecomposeManifoldsOrCrossSectionsDto=class{constructor(t,e){void 0!==t&&(this.manifoldsOrCrossSections=t),void 0!==e&&(this.normalIdx=e)}}}(e||(e={})),function(t){t.HexDto=class{constructor(t){this.color="#0000ff",void 0!==t&&(this.color=t)}},t.Rgb255Dto=class{constructor(t){this.colorRgb={r:0,g:0,b:255},void 0!==t&&(this.colorRgb=t)}},t.Rgb1Dto=class{constructor(t){this.colorRgb={r:0,g:0,b:1},void 0!==t&&(this.colorRgb=t)}},t.Rgba255Dto=class{constructor(t){this.colorRgba={r:0,g:0,b:255,a:1},void 0!==t&&(this.colorRgba=t)}},t.Rgba1Dto=class{constructor(t){this.colorRgba={r:0,g:0,b:1,a:1},void 0!==t&&(this.colorRgba=t)}},t.RgbAttomic255Dto=class{constructor(t,e,o){this.r=0,this.g=0,this.b=255,void 0!==t&&(this.r=t),void 0!==e&&(this.g=e),void 0!==o&&(this.b=o)}},t.RgbaAttomic255Dto=class{constructor(t,e,o,s){this.r=0,this.g=0,this.b=255,this.a=1,void 0!==t&&(this.r=t),void 0!==e&&(this.g=e),void 0!==o&&(this.b=o),void 0!==s&&(this.a=s)}},t.RgbAttomic1Dto=class{constructor(t,e,o){this.r=0,this.g=0,this.b=1,void 0!==t&&(this.r=t),void 0!==e&&(this.g=e),void 0!==o&&(this.b=o)}},t.RgbaAttomic1Dto=class{constructor(t,e,o,s){this.r=0,this.g=0,this.b=1,this.a=1,void 0!==t&&(this.r=t),void 0!==e&&(this.g=e),void 0!==o&&(this.b=o),void 0!==s&&(this.a=s)}},t.InvertHexDto=class{constructor(t){this.color="#0000ff",this.blackAndWhite=!1,void 0!==t&&(this.color=t)}},t.HexDtoMapped=class{constructor(t,e,o){this.color="#0000ff",this.from=0,this.to=255,void 0!==t&&(this.color=t),void 0!==e&&(this.from=e),void 0!==o&&(this.to=o)}},t.RGBObjectMaxDto=class{constructor(t,e){this.min=0,this.max=255,void 0!==t&&(this.rgb=t),void 0!==e&&(this.max=e)}},t.RGBMinMaxDto=class{constructor(t,e,o,s,r){this.r=255,this.g=255,this.b=255,this.min=0,this.max=255,void 0!==t&&(this.r=t),void 0!==e&&(this.g=e),void 0!==o&&(this.b=o),void 0!==s&&(this.min=s),void 0!==r&&(this.max=r)}},t.RGBObjectDto=class{constructor(t){void 0!==t&&(this.rgb=t)}}}(o||(o={})),function(t){let e;!function(t){t.first="first",t.last="last"}(e=t.firstLastEnum||(t.firstLastEnum={})),t.ListItemDto=class{constructor(t,e,o){this.index=0,this.clone=!0,void 0!==t&&(this.list=t),void 0!==e&&(this.index=e),void 0!==o&&(this.clone=o)}},t.SubListDto=class{constructor(t,e,o,s){this.indexStart=0,this.indexEnd=1,this.clone=!0,void 0!==t&&(this.list=t),void 0!==e&&(this.indexStart=e),void 0!==o&&(this.indexEnd=o),void 0!==s&&(this.clone=s)}},t.ListCloneDto=class{constructor(t,e){this.clone=!0,void 0!==t&&(this.list=t),void 0!==e&&(this.clone=e)}},t.RepeatInPatternDto=class{constructor(t){this.clone=!0,this.lengthLimit=100,void 0!==t&&(this.list=t)}},t.SortDto=class{constructor(t,e,o){this.clone=!0,this.orderAsc=!0,void 0!==t&&(this.list=t),void 0!==e&&(this.clone=e),void 0!==o&&(this.orderAsc=o)}},t.SortJsonDto=class{constructor(t,e,o){this.clone=!0,this.orderAsc=!0,this.property="propName",void 0!==t&&(this.list=t),void 0!==e&&(this.clone=e),void 0!==o&&(this.orderAsc=o)}},t.ListDto=class{constructor(t){void 0!==t&&(this.list=t)}},t.GroupListDto=class{constructor(t,e,o){this.nrElements=2,this.keepRemainder=!1,void 0!==t&&(this.list=t),void 0!==e&&(this.nrElements=e),void 0!==o&&(this.keepRemainder=o)}},t.MultiplyItemDto=class{constructor(t,e){void 0!==t&&(this.item=t),void 0!==e&&(this.times=e)}},t.AddItemAtIndexDto=class{constructor(t,e,o,s){this.index=0,this.clone=!0,void 0!==t&&(this.list=t),void 0!==e&&(this.item=e),void 0!==o&&(this.index=o),void 0!==s&&(this.clone=s)}},t.AddItemAtIndexesDto=class{constructor(t,e,o,s){this.indexes=[0],this.clone=!0,void 0!==t&&(this.list=t),void 0!==e&&(this.item=e),void 0!==o&&(this.indexes=o),void 0!==s&&(this.clone=s)}},t.AddItemsAtIndexesDto=class{constructor(t,e,o,s){this.indexes=[0],this.clone=!0,void 0!==t&&(this.list=t),void 0!==e&&(this.items=e),void 0!==o&&(this.indexes=o),void 0!==s&&(this.clone=s)}},t.RemoveItemAtIndexDto=class{constructor(t,e,o){this.index=0,this.clone=!0,void 0!==t&&(this.list=t),void 0!==e&&(this.index=e),void 0!==o&&(this.clone=o)}},t.RemoveItemsAtIndexesDto=class{constructor(t,e,o){this.clone=!0,void 0!==t&&(this.list=t),void 0!==e&&(this.indexes=e),void 0!==o&&(this.clone=o)}},t.RemoveNthItemDto=class{constructor(t,e,o,s){this.nth=2,this.offset=0,this.clone=!0,void 0!==t&&(this.list=t),void 0!==e&&(this.nth=e),void 0!==o&&(this.offset=o),void 0!==s&&(this.clone=s)}},t.RandomThresholdDto=class{constructor(t,e,o){this.threshold=1,this.clone=!0,void 0!==t&&(this.list=t),void 0!==e&&(this.threshold=e),void 0!==o&&(this.clone=o)}},t.RemoveDuplicatesDto=class{constructor(t,e){this.clone=!0,void 0!==t&&(this.list=t),void 0!==e&&(this.clone=e)}},t.RemoveDuplicatesToleranceDto=class{constructor(t,e,o){this.tolerance=1e-7,this.clone=!0,void 0!==t&&(this.list=t),void 0!==o&&(this.tolerance=o),void 0!==e&&(this.clone=e)}},t.GetByPatternDto=class{constructor(t,e){this.pattern=[!0,!0,!1],void 0!==t&&(this.list=t),void 0!==e&&(this.pattern=e)}},t.GetNthItemDto=class{constructor(t,e,o,s){this.nth=2,this.offset=0,this.clone=!0,void 0!==t&&(this.list=t),void 0!==e&&(this.nth=e),void 0!==o&&(this.offset=o),void 0!==s&&(this.clone=s)}},t.GetLongestListLength=class{constructor(t){void 0!==t&&(this.lists=t)}},t.MergeElementsOfLists=class{constructor(t,e){this.level=0,void 0!==t&&(this.lists=t),void 0!==e&&(this.level=e)}},t.AddItemDto=class{constructor(t,e,o){this.clone=!0,void 0!==t&&(this.list=t),void 0!==e&&(this.item=e),void 0!==o&&(this.clone=o)}},t.AddItemFirstLastDto=class{constructor(t,o,s,r){this.position=e.last,this.clone=!0,void 0!==t&&(this.list=t),void 0!==o&&(this.item=o),void 0!==s&&(this.position=s),void 0!==r&&(this.clone=r)}},t.ConcatenateDto=class{constructor(t,e){this.clone=!0,void 0!==t&&(this.lists=t),void 0!==e&&(this.clone=e)}},t.IncludesDto=class{constructor(t,e){void 0!==t&&(this.list=t),void 0!==e&&(this.item=e)}},t.InterleaveDto=class{constructor(t,e){this.clone=!0,void 0!==t&&(this.lists=t),void 0!==e&&(this.clone=e)}}}(s||(s={})),function(t){let e;!function(t){t.less="<",t.lessOrEqual="<=",t.greater=">",t.greaterOrEqual=">=",t.tripleEqual="===",t.tripleNotEqual="!==",t.equal="==",t.notEqual="!="}(e=t.BooleanOperatorsEnum||(t.BooleanOperatorsEnum={})),t.ComparisonDto=class{constructor(t,e,o){void 0!==t&&(this.first=t),void 0!==e&&(this.second=e),void 0!==o&&(this.operator=o)}},t.BooleanDto=class{constructor(t){this.boolean=!1,void 0!==t&&(this.boolean=t)}},t.BooleanListDto=class{constructor(t){void 0!==t&&(this.booleans=t)}},t.ValueGateDto=class{constructor(t,e){this.boolean=!1,void 0!==t&&(this.value=t),void 0!==e&&(this.boolean=e)}},t.TwoValueGateDto=class{constructor(t,e){void 0!==t&&(this.value1=t),void 0!==e&&(this.value2=e)}},t.RandomBooleansDto=class{constructor(t){this.length=10,this.trueThreshold=.5,void 0!==t&&(this.length=t)}},t.TwoThresholdRandomGradientDto=class{},t.ThresholdBooleanListDto=class{},t.ThresholdGapsBooleanListDto=class{}}(n||(n={})),function(t){let e,o,s;!function(t){t.add="add",t.subtract="subtract",t.multiply="multiply",t.divide="divide",t.power="power",t.modulus="modulus"}(e=t.mathTwoNrOperatorEnum||(t.mathTwoNrOperatorEnum={})),function(t){t.absolute="absolute",t.negate="negate",t.ln="ln",t.log10="log10",t.tenPow="tenPow",t.round="round",t.floor="floor",t.ceil="ceil",t.sqrt="sqrt",t.sin="sin",t.cos="cos",t.tan="tan",t.asin="asin",t.acos="acos",t.atan="atan",t.log="log",t.exp="exp",t.radToDeg="radToDeg",t.degToRad="degToRad"}(o=t.mathOneNrOperatorEnum||(t.mathOneNrOperatorEnum={})),function(t){t.easeInSine="easeInSine",t.easeOutSine="easeOutSine",t.easeInOutSine="easeInOutSine",t.easeInQuad="easeInQuad",t.easeOutQuad="easeOutQuad",t.easeInOutQuad="easeInOutQuad",t.easeInCubic="easeInCubic",t.easeOutCubic="easeOutCubic",t.easeInOutCubic="easeInOutCubic",t.easeInQuart="easeInQuart",t.easeOutQuart="easeOutQuart",t.easeInOutQuart="easeInOutQuart",t.easeInQuint="easeInQuint",t.easeOutQuint="easeOutQuint",t.easeInOutQuint="easeInOutQuint",t.easeInExpo="easeInExpo",t.easeOutExpo="easeOutExpo",t.easeInOutExpo="easeInOutExpo",t.easeInCirc="easeInCirc",t.easeOutCirc="easeOutCirc",t.easeInOutCirc="easeInOutCirc",t.easeInElastic="easeInElastic",t.easeOutElastic="easeOutElastic",t.easeInOutElastic="easeInOutElastic",t.easeInBack="easeInBack",t.easeOutBack="easeOutBack",t.easeInOutBack="easeInOutBack",t.easeInBounce="easeInBounce",t.easeOutBounce="easeOutBounce",t.easeInOutBounce="easeInOutBounce"}(s=t.easeEnum||(t.easeEnum={})),t.ModulusDto=class{constructor(t,e){this.number=1,this.modulus=2,void 0!==t&&(this.number=t),void 0!==e&&(this.modulus=e)}},t.NumberDto=class{constructor(t){this.number=1,void 0!==t&&(this.number=t)}},t.EaseDto=class{constructor(t){this.x=.5,this.min=0,this.max=1,void 0!==t&&(this.x=t)}},t.RoundToDecimalsDto=class{constructor(t,e){this.number=1.123456,this.decimalPlaces=2,void 0!==t&&(this.number=t),void 0!==e&&(this.decimalPlaces=e)}},t.ActionOnTwoNumbersDto=class{constructor(t,e,o){this.first=1,this.second=1,void 0!==t&&(this.first=t),void 0!==e&&(this.second=e),void 0!==o&&(this.operation=o)}},t.TwoNumbersDto=class{constructor(t,e){this.first=1,this.second=2,void 0!==t&&(this.first=t),void 0!==e&&(this.second=e)}},t.ActionOnOneNumberDto=class{constructor(t,e){this.number=1,void 0!==t&&(this.number=t),void 0!==e&&(this.operation=e)}},t.RemapNumberDto=class{constructor(t,e,o,s,r){this.number=.5,this.fromLow=0,this.fromHigh=1,this.toLow=1,this.toHigh=2,void 0!==t&&(this.number=t),void 0!==e&&(this.fromLow=e),void 0!==o&&(this.fromHigh=o),void 0!==s&&(this.toLow=s),void 0!==r&&(this.toHigh=r)}},t.RandomNumberDto=class{constructor(t,e){this.low=0,this.high=1,void 0!==t&&(this.low=t),void 0!==e&&(this.high=e)}},t.RandomNumbersDto=class{constructor(t,e,o){this.low=0,this.high=1,this.count=10,void 0!==t&&(this.low=t),void 0!==e&&(this.high=e),void 0!==o&&(this.count=o)}},t.ToFixedDto=class{constructor(t,e){this.decimalPlaces=2,void 0!==t&&(this.number=t),void 0!==e&&(this.decimalPlaces=e)}},t.ClampDto=class{constructor(t,e,o){this.number=.5,this.min=0,this.max=1,void 0!==t&&(this.number=t),void 0!==e&&(this.min=e),void 0!==o&&(this.max=o)}},t.LerpDto=class{constructor(t,e,o){this.start=0,this.end=1,this.t=.5,void 0!==t&&(this.start=t),void 0!==e&&(this.end=e),void 0!==o&&(this.t=o)}},t.InverseLerpDto=class{constructor(t,e,o){this.start=0,this.end=1,this.value=.5,void 0!==t&&(this.start=t),void 0!==e&&(this.end=e),void 0!==o&&(this.value=o)}},t.WrapDto=class{constructor(t,e,o){this.number=1.5,this.min=0,this.max=1,void 0!==t&&(this.number=t),void 0!==e&&(this.min=e),void 0!==o&&(this.max=o)}},t.PingPongDto=class{constructor(t,e){this.t=.5,this.length=1,void 0!==t&&(this.t=t),void 0!==e&&(this.length=e)}},t.MoveTowardsDto=class{constructor(t,e,o){this.current=0,this.target=1,this.maxDelta=.1,void 0!==t&&(this.current=t),void 0!==e&&(this.target=e),void 0!==o&&(this.maxDelta=o)}}}(i||(i={})),function(t){t.PointDto=class{constructor(t){void 0!==t&&(this.point=t)}},t.PointXYZDto=class{constructor(t,e,o){this.x=0,this.y=0,this.z=0,void 0!==t&&(this.x=t),void 0!==e&&(this.y=e),void 0!==o&&(this.z=o)}},t.PointXYDto=class{constructor(t,e){this.x=0,this.y=0,void 0!==t&&(this.x=t),void 0!==e&&(this.y=e)}},t.PointsDto=class{constructor(t){void 0!==t&&(this.points=t)}},t.TwoPointsDto=class{constructor(t,e){void 0!==t&&(this.point1=t),void 0!==e&&(this.point2=e)}},t.DrawPointDto=class{constructor(t,e,o,s,r,n){this.opacity=1,this.size=3,this.colours="#444444",this.updatable=!1,void 0!==t&&(this.point=t),void 0!==e&&(this.opacity=e),void 0!==o&&(this.size=o),void 0!==s&&(this.colours=s),void 0!==r&&(this.updatable=r),void 0!==n&&(this.pointMesh=n)}},t.DrawPointsDto=class{constructor(t,e,o,s,r,n){this.opacity=1,this.size=.1,this.colours="#444444",this.updatable=!1,void 0!==t&&(this.points=t),void 0!==e&&(this.opacity=e),void 0!==o&&(this.size=o),void 0!==s&&(this.colours=s),void 0!==r&&(this.updatable=r),void 0!==n&&(this.pointsMesh=n)}},t.TransformPointDto=class{constructor(t,e){void 0!==t&&(this.point=t),void 0!==e&&(this.transformation=e)}},t.TransformPointsDto=class{constructor(t,e){void 0!==t&&(this.points=t),void 0!==e&&(this.transformation=e)}},t.TranslatePointsWithVectorsDto=class{constructor(t,e){void 0!==t&&(this.points=t),void 0!==e&&(this.translations=e)}},t.TranslatePointsDto=class{constructor(t,e){void 0!==t&&(this.points=t),void 0!==e&&(this.translation=e)}},t.TranslateXYZPointsDto=class{constructor(t,e,o,s){this.x=0,this.y=1,this.z=0,void 0!==t&&(this.points=t),void 0!==e&&(this.x=e),void 0!==o&&(this.y=o),void 0!==s&&(this.z=s)}},t.ScalePointsCenterXYZDto=class{constructor(t,e,o){this.center=[0,0,0],this.scaleXyz=[1,1,1],void 0!==t&&(this.points=t),void 0!==e&&(this.center=e),void 0!==o&&(this.scaleXyz=o)}},t.StretchPointsDirFromCenterDto=class{constructor(t,e,o,s){this.center=[0,0,0],this.direction=[0,0,1],this.scale=2,void 0!==t&&(this.points=t),void 0!==e&&(this.center=e),void 0!==o&&(this.direction=o),void 0!==s&&(this.scale=s)}},t.RotatePointsCenterAxisDto=class{constructor(t,e,o,s){this.angle=90,this.axis=[0,1,0],this.center=[0,0,0],void 0!==t&&(this.points=t),void 0!==e&&(this.angle=e),void 0!==o&&(this.axis=o),void 0!==s&&(this.center=s)}},t.TransformsForPointsDto=class{constructor(t,e){void 0!==t&&(this.points=t),void 0!==e&&(this.transformation=e)}},t.ThreePointsNormalDto=class{constructor(t,e,o,s){this.reverseNormal=!1,void 0!==t&&(this.point1=t),void 0!==e&&(this.point2=e),void 0!==o&&(this.point3=o),void 0!==s&&(this.reverseNormal=s)}},t.ThreePointsToleranceDto=class{constructor(t,e,o,s){this.tolerance=1e-7,void 0!==t&&(this.start=t),void 0!==e&&(this.center=e),void 0!==o&&(this.end=o),void 0!==s&&(this.tolerance=s)}},t.PointsMaxFilletsHalfLineDto=class{constructor(t,e,o){this.checkLastWithFirst=!1,this.tolerance=1e-7,void 0!==t&&(this.points=t),void 0!==e&&(this.checkLastWithFirst=e),void 0!==o&&(this.tolerance=o)}},t.RemoveConsecutiveDuplicatesDto=class{constructor(t,e,o){this.tolerance=1e-7,this.checkFirstAndLast=!1,void 0!==t&&(this.points=t),void 0!==e&&(this.tolerance=e),void 0!==o&&(this.checkFirstAndLast=o)}},t.ClosestPointFromPointsDto=class{constructor(t,e){void 0!==t&&(this.points=t),void 0!==e&&(this.point=e)}},t.TwoPointsToleranceDto=class{constructor(t,e,o){this.tolerance=1e-7,void 0!==t&&(this.point1=t),void 0!==e&&(this.point2=e),void 0!==o&&(this.tolerance=o)}},t.StartEndPointsDto=class{constructor(t,e){void 0!==t&&(this.startPoint=t),void 0!==e&&(this.endPoint=e)}},t.StartEndPointsListDto=class{constructor(t,e){void 0!==t&&(this.startPoint=t),void 0!==e&&(this.endPoints=e)}},t.MultiplyPointDto=class{constructor(t,e){void 0!==t&&(this.point=t),void 0!==e&&(this.amountOfPoints=e)}},t.SpiralDto=class{constructor(t,e,o,s,r){this.phi=.9,this.numberPoints=200,this.widening=3,this.radius=6,this.factor=1,void 0!==t&&(this.radius=t),void 0!==e&&(this.numberPoints=e),void 0!==o&&(this.widening=o),void 0!==s&&(this.factor=s),void 0!==r&&(this.phi=r)}},t.HexGridScaledToFitDto=class{constructor(t,e,o,s,r,n){this.width=10,this.height=10,this.nrHexagonsInWidth=10,this.nrHexagonsInHeight=10,this.flatTop=!1,this.extendTop=!1,this.extendBottom=!1,this.extendLeft=!1,this.extendRight=!1,this.centerGrid=!1,this.pointsOnGround=!1,void 0!==t&&(this.width=t),void 0!==e&&(this.height=e),void 0!==o&&(this.nrHexagonsInHeight=o),void 0!==s&&(this.nrHexagonsInWidth=s),void 0!==r&&(this.centerGrid=r),void 0!==n&&(this.pointsOnGround=n)}},t.HexGridCentersDto=class{constructor(t,e,o,s,r){this.nrHexagonsY=21,this.nrHexagonsX=21,this.orientOnCenter=!1,this.pointsOnGround=!1,void 0!==t&&(this.nrHexagonsX=t),void 0!==e&&(this.nrHexagonsY=e),void 0!==o&&(this.radiusHexagon=o),void 0!==s&&(this.orientOnCenter=s),void 0!==r&&(this.pointsOnGround=r)}}}(a||(a={})),function(t){t.TextDto=class{constructor(t){this.text="Hello World",void 0!==t&&(this.text=t)}},t.TextSplitDto=class{constructor(t,e){this.text="a,b,c",this.separator=",",void 0!==t&&(this.text=t),void 0!==e&&(this.separator=e)}},t.TextReplaceDto=class{constructor(t,e,o){this.text="a-c",this.search="-",this.replaceWith="b",void 0!==t&&(this.text=t),void 0!==e&&(this.search=e),void 0!==o&&(this.replaceWith=o)}},t.TextJoinDto=class{constructor(t,e){this.separator=",",void 0!==t&&(this.list=t),void 0!==e&&(this.separator=e)}},t.ToStringDto=class{constructor(t){void 0!==t&&(this.item=t)}},t.ToStringEachDto=class{constructor(t){void 0!==t&&(this.list=t)}},t.TextFormatDto=class{constructor(t,e){this.text="Hello {0}",this.values=["World"],void 0!==t&&(this.text=t),void 0!==e&&(this.values=e)}},t.TextSearchDto=class{constructor(t,e){this.text="hello world",this.search="world",void 0!==t&&(this.text=t),void 0!==e&&(this.search=e)}},t.TextSubstringDto=class{constructor(t,e,o){this.text="hello world",this.start=0,this.end=5,void 0!==t&&(this.text=t),void 0!==e&&(this.start=e),void 0!==o&&(this.end=o)}},t.TextIndexDto=class{constructor(t,e){this.text="hello",this.index=0,void 0!==t&&(this.text=t),void 0!==e&&(this.index=e)}},t.TextPadDto=class{constructor(t,e,o){this.text="x",this.length=3,this.padString="a",void 0!==t&&(this.text=t),void 0!==e&&(this.length=e),void 0!==o&&(this.padString=o)}},t.TextRepeatDto=class{constructor(t,e){this.text="ha",this.count=3,void 0!==t&&(this.text=t),void 0!==e&&(this.count=e)}},t.TextConcatDto=class{constructor(t){this.texts=["hello"," ","world"],void 0!==t&&(this.texts=t)}},t.TextRegexDto=class{constructor(t,e,o){this.text="hello123world",this.pattern="[0-9]+",this.flags="g",void 0!==t&&(this.text=t),void 0!==e&&(this.pattern=e),void 0!==o&&(this.flags=o)}},t.TextRegexReplaceDto=class{constructor(t,e,o,s){this.text="hello123world456",this.pattern="[0-9]+",this.flags="g",this.replaceWith="X",void 0!==t&&(this.text=t),void 0!==e&&(this.pattern=e),void 0!==o&&(this.flags=o),void 0!==s&&(this.replaceWith=s)}},t.VectorCharDto=class{constructor(t,e,o,s,r){this.char="A",this.xOffset=0,this.yOffset=0,this.height=1,this.extrudeOffset=0,void 0!==t&&(this.char=t),void 0!==e&&(this.xOffset=e),void 0!==o&&(this.yOffset=o),void 0!==s&&(this.height=s),void 0!==r&&(this.extrudeOffset=r)}},t.VectorTextDto=class{constructor(t,e,o,s,r,n,i,a,c){this.xOffset=0,this.yOffset=0,this.height=1,this.lineSpacing=1.4,this.letterSpacing=0,this.extrudeOffset=0,this.centerOnOrigin=!1,void 0!==t&&(this.text=t),void 0!==e&&(this.xOffset=e),void 0!==o&&(this.yOffset=o),void 0!==s&&(this.height=s),void 0!==r&&(this.lineSpacing=r),void 0!==n&&(this.letterSpacing=n),void 0!==i&&(this.align=i),void 0!==a&&(this.extrudeOffset=a),void 0!==c&&(this.centerOnOrigin=c)}}}(c||(c={})),function(t){t.TwoVectorsDto=class{constructor(t,e){void 0!==t&&(this.first=t),void 0!==e&&(this.second=e)}},t.VectorBoolDto=class{constructor(t){void 0!==t&&(this.vector=t)}},t.RemoveAllDuplicateVectorsDto=class{constructor(t,e){this.tolerance=1e-7,void 0!==t&&(this.vectors=t),void 0!==e&&(this.tolerance=e)}},t.RemoveConsecutiveDuplicateVectorsDto=class{constructor(t,e,o){this.checkFirstAndLast=!1,this.tolerance=1e-7,void 0!==t&&(this.vectors=t),void 0!==e&&(this.checkFirstAndLast=e),void 0!==o&&(this.tolerance=o)}},t.VectorsTheSameDto=class{constructor(t,e,o){this.tolerance=1e-7,void 0!==t&&(this.vec1=t),void 0!==e&&(this.vec2=e),void 0!==o&&(this.tolerance=o)}},t.VectorDto=class{constructor(t){void 0!==t&&(this.vector=t)}},t.VectorStringDto=class{constructor(t){void 0!==t&&(this.vector=t)}},t.Vector3Dto=class{constructor(t){void 0!==t&&(this.vector=t)}},t.RangeMaxDto=class{constructor(t){void 0!==t&&(this.max=t)}},t.VectorXYZDto=class{constructor(t,e,o){void 0!==t&&(this.x=t),void 0!==e&&(this.y=e),void 0!==o&&(this.z=o)}},t.VectorXYDto=class{constructor(t,e){void 0!==t&&(this.x=t),void 0!==e&&(this.y=e)}},t.SpanDto=class{constructor(t,e,o){this.step=.1,this.min=0,this.max=1,void 0!==t&&(this.step=t),void 0!==e&&(this.min=e),void 0!==o&&(this.max=o)}},t.SpanEaseItemsDto=class{constructor(t,e,o,s){this.nrItems=100,this.min=0,this.max=1,this.ease=i.easeEnum.easeInSine,this.intervals=!1,void 0!==t&&(this.nrItems=t),void 0!==e&&(this.min=e),void 0!==o&&(this.max=o),void 0!==s&&(this.ease=s)}},t.SpanLinearItemsDto=class{constructor(t,e,o){this.nrItems=100,this.min=0,this.max=1,void 0!==t&&(this.nrItems=t),void 0!==e&&(this.min=e),void 0!==o&&(this.max=o)}},t.RayPointDto=class{constructor(t,e,o){void 0!==t&&(this.point=t),void 0!==e&&(this.distance=e),void 0!==o&&(this.vector=o)}},t.VectorsDto=class{constructor(t){void 0!==t&&(this.vectors=t)}},t.FractionTwoVectorsDto=class{constructor(t,e,o){this.fraction=.5,void 0!==t&&(this.fraction=t),void 0!==e&&(this.first=e),void 0!==o&&(this.second=o)}},t.VectorScalarDto=class{constructor(t,e){void 0!==t&&(this.scalar=t),void 0!==e&&(this.vector=e)}},t.TwoVectorsReferenceDto=class{constructor(t,e,o){void 0!==t&&(this.reference=t),void 0!==e&&(this.first=e),void 0!==o&&(this.second=o)}}}(l||(l={})),function(t){t.RotationCenterAxisDto=class{constructor(t,e,o){this.angle=90,this.axis=[0,1,0],this.center=[0,0,0],void 0!==t&&(this.angle=t),void 0!==e&&(this.axis=e),void 0!==o&&(this.center=o)}},t.RotationCenterDto=class{constructor(t,e){this.angle=90,this.center=[0,0,0],void 0!==t&&(this.angle=t),void 0!==e&&(this.center=e)}},t.RotationCenterYawPitchRollDto=class{constructor(t,e,o,s){this.yaw=0,this.pitch=0,this.roll=0,this.center=[0,0,0],void 0!==t&&(this.yaw=t),void 0!==e&&(this.pitch=e),void 0!==o&&(this.roll=o),void 0!==s&&(this.center=s)}},t.ScaleXYZDto=class{constructor(t){this.scaleXyz=[1,1,1],void 0!==t&&(this.scaleXyz=t)}},t.StretchDirCenterDto=class{constructor(t,e,o){this.center=[0,0,0],this.direction=[0,0,1],this.scale=2,void 0!==t&&(this.scale=t),void 0!==e&&(this.center=e),void 0!==o&&(this.direction=o)}},t.ScaleCenterXYZDto=class{constructor(t,e){this.center=[0,0,0],this.scaleXyz=[1,1,1],void 0!==t&&(this.center=t),void 0!==e&&(this.scaleXyz=e)}},t.UniformScaleDto=class{constructor(t){this.scale=1,void 0!==t&&(this.scale=t)}},t.UniformScaleFromCenterDto=class{constructor(t,e){this.scale=1,this.center=[0,0,0],void 0!==t&&(this.scale=t),void 0!==e&&(this.center=e)}},t.TranslationXYZDto=class{constructor(t){this.translation=[0,0,0],void 0!==t&&(this.translation=t)}},t.TranslationsXYZDto=class{constructor(t){void 0!==t&&(this.translations=t)}}}(h||(h={})),function(t){let e,o,s,r;!function(t){t.left="left",t.center="center",t.right="right"}(e=t.horizontalAlignEnum||(t.horizontalAlignEnum={})),function(t){t.top="top",t.middle="middle",t.bottom="bottom"}(o=t.verticalAlignmentEnum||(t.verticalAlignmentEnum={})),function(t){t.top="top",t.bottom="bottom"}(s=t.topBottomEnum||(t.topBottomEnum={})),function(t){t.topLeft="topLeft",t.topMid="topMid",t.topRight="topRight",t.midLeft="midLeft",t.midMid="midMid",t.midRight="midRight",t.bottomLeft="bottomLeft",t.bottomMid="bottomMid",t.bottomRight="bottomRight"}(r=t.basicAlignmentEnum||(t.basicAlignmentEnum={}))}(u||(u={})),function(t){t.DateDto=class{constructor(t){void 0!==t&&(this.date=t)}},t.DateStringDto=class{constructor(t){void 0!==t&&(this.dateString=t)}},t.DateSecondsDto=class{constructor(t,e){this.seconds=30,void 0!==t&&(this.date=t),void 0!==e&&(this.seconds=e)}},t.DateDayDto=class{constructor(t,e){this.day=1,void 0!==t&&(this.date=t),void 0!==e&&(this.day=e)}},t.DateYearDto=class{constructor(t,e){this.year=1,void 0!==t&&(this.date=t),void 0!==e&&(this.year=e)}},t.DateMonthDto=class{constructor(t,e){this.month=1,void 0!==t&&(this.date=t),void 0!==e&&(this.month=e)}},t.DateHoursDto=class{constructor(t,e){this.hours=1,void 0!==t&&(this.date=t),void 0!==e&&(this.hours=e)}},t.DateMinutesDto=class{constructor(t,e){this.minutes=1,void 0!==t&&(this.date=t),void 0!==e&&(this.minutes=e)}},t.DateMillisecondsDto=class{constructor(t,e){this.milliseconds=1,void 0!==t&&(this.date=t),void 0!==e&&(this.milliseconds=e)}},t.DateTimeDto=class{constructor(t,e){this.time=1,void 0!==t&&(this.date=t),void 0!==e&&(this.time=e)}},t.CreateFromUnixTimeStampDto=class{constructor(t){this.unixTimeStamp=1,void 0!==t&&(this.unixTimeStamp=t)}},t.CreateDateDto=class{constructor(t,e,o,s,r,n,i){this.year=1,this.month=1,this.day=1,this.hours=1,this.minutes=1,this.seconds=1,this.milliseconds=1,void 0!==t&&(this.year=t),void 0!==e&&(this.month=e),void 0!==o&&(this.day=o),void 0!==s&&(this.hours=s),void 0!==r&&(this.minutes=r),void 0!==n&&(this.seconds=n),void 0!==i&&(this.milliseconds=i)}}}(d||(d={})),function(t){t.LinePointsDto=class{constructor(t,e){void 0!==t&&(this.start=t),void 0!==e&&(this.end=e)}},t.LineStartEndPointsDto=class{constructor(t,e){void 0!==t&&(this.startPoints=t),void 0!==e&&(this.endPoints=e)}},t.DrawLineDto=class{constructor(t,e,o,s,r,n){this.opacity=1,this.colours="#444444",this.size=3,this.updatable=!1,void 0!==t&&(this.line=t),void 0!==e&&(this.opacity=e),void 0!==o&&(this.colours=o),void 0!==s&&(this.size=s),void 0!==r&&(this.updatable=r),void 0!==n&&(this.lineMesh=n)}},t.DrawLinesDto=class{constructor(t,e,o,s,r,n){this.opacity=1,this.colours="#444444",this.size=3,this.updatable=!1,void 0!==t&&(this.lines=t),void 0!==e&&(this.opacity=e),void 0!==o&&(this.colours=o),void 0!==s&&(this.size=s),void 0!==r&&(this.updatable=r),void 0!==n&&(this.linesMesh=n)}},t.PointsLinesDto=class{constructor(t){void 0!==t&&(this.points=t)}},t.LineDto=class{constructor(t){void 0!==t&&(this.line=t)}},t.SegmentDto=class{constructor(t){void 0!==t&&(this.segment=t)}},t.SegmentsDto=class{constructor(t){void 0!==t&&(this.segments=t)}},t.LinesDto=class{constructor(t){void 0!==t&&(this.lines=t)}},t.LineLineIntersectionDto=class{constructor(t,e,o){this.checkSegmentsOnly=!0,void 0!==t&&(this.line1=t),void 0!==e&&(this.line2=e),void 0!==o&&(this.tolerance=o)}},t.PointOnLineDto=class{constructor(t,e){this.param=.5,void 0!==t&&(this.line=t),void 0!==e&&(this.param=e)}},t.TransformLineDto=class{constructor(t,e){void 0!==t&&(this.line=t),void 0!==e&&(this.transformation=e)}},t.TransformsLinesDto=class{constructor(t,e){void 0!==t&&(this.lines=t),void 0!==e&&(this.transformation=e)}},t.TransformLinesDto=class{constructor(t,e){void 0!==t&&(this.lines=t),void 0!==e&&(this.transformation=e)}}}(f||(f={})),function(t){t.PolylineCreateDto=class{constructor(t,e){this.isClosed=!1,void 0!==t&&(this.points=t),void 0!==e&&(this.isClosed=e)}},t.PolylinePropertiesDto=class{constructor(t,e){this.isClosed=!1,void 0!==t&&(this.points=t),void 0!==e&&(this.isClosed=e)}},t.PolylineDto=class{constructor(t){void 0!==t&&(this.polyline=t)}},t.PolylinesDto=class{constructor(t){void 0!==t&&(this.polylines=t)}},t.TransformPolylineDto=class{constructor(t,e){void 0!==t&&(this.polyline=t),void 0!==e&&(this.transformation=e)}},t.DrawPolylineDto=class{constructor(t,e,o,s,r,n){this.opacity=1,this.colours="#444444",this.size=3,this.updatable=!1,void 0!==t&&(this.polyline=t),void 0!==e&&(this.opacity=e),void 0!==o&&(this.colours=o),void 0!==s&&(this.size=s),void 0!==r&&(this.updatable=r),void 0!==n&&(this.polylineMesh=n)}},t.DrawPolylinesDto=class{constructor(t,e,o,s,r,n){this.opacity=1,this.colours="#444444",this.size=3,this.updatable=!1,void 0!==t&&(this.polylines=t),void 0!==e&&(this.opacity=e),void 0!==o&&(this.colours=o),void 0!==s&&(this.size=s),void 0!==r&&(this.updatable=r),void 0!==n&&(this.polylinesMesh=n)}},t.SegmentsToleranceDto=class{constructor(t){this.tolerance=1e-5,void 0!==t&&(this.segments=t)}},t.PolylineToleranceDto=class{constructor(t,e){this.tolerance=1e-5,void 0!==t&&(this.polyline=t),void 0!==e&&(this.tolerance=e)}},t.TwoPolylinesToleranceDto=class{constructor(t,e,o){this.tolerance=1e-5,void 0!==t&&(this.polyline1=t),void 0!==e&&(this.polyline2=e),void 0!==o&&(this.tolerance=o)}}}(m||(m={})),(y=p||(p={})).SignedDistanceFromPlaneToPointDto=class{constructor(t,e){void 0!==t&&(this.point=t),void 0!==e&&(this.plane=e)}},y.TriangleDto=class{constructor(t){void 0!==t&&(this.triangle=t)}},y.TriangleToleranceDto=class{constructor(t){this.tolerance=1e-7,void 0!==t&&(this.triangle=t)}},y.TriangleTriangleToleranceDto=class{constructor(t,e,o){this.tolerance=1e-7,void 0!==t&&(this.triangle1=t),void 0!==e&&(this.triangle2=e),void 0!==o&&(this.tolerance=o)}},y.MeshMeshToleranceDto=class{constructor(t,e,o){this.tolerance=1e-7,void 0!==t&&(this.mesh1=t),void 0!==e&&(this.mesh2=e),void 0!==o&&(this.tolerance=o)}},function(t){t.DxfLineSegmentDto=class{constructor(t,e){void 0!==t&&(this.start=t),void 0!==e&&(this.end=e)}},t.DxfArcSegmentDto=class{constructor(t,e,o,s){void 0!==t&&(this.center=t),void 0!==e&&(this.radius=e),void 0!==o&&(this.startAngle=o),void 0!==s&&(this.endAngle=s)}},t.DxfCircleSegmentDto=class{constructor(t,e){void 0!==t&&(this.center=t),void 0!==e&&(this.radius=e)}},t.DxfPolylineSegmentDto=class{constructor(t,e,o){this.closed=!1,void 0!==t&&(this.points=t),void 0!==e&&(this.closed=e),void 0!==o&&(this.bulges=o)}},t.DxfSplineSegmentDto=class{constructor(t,e,o){this.degree=3,this.closed=!1,void 0!==t&&(this.controlPoints=t),void 0!==e&&(this.degree=e),void 0!==o&&(this.closed=o)}},t.DxfPathDto=class{constructor(t){void 0!==t&&(this.segments=t)}},t.DxfPathsPartDto=class{constructor(t,e,o){this.layer="Default",this.color="#000000",void 0!==t&&(this.layer=t),void 0!==e&&(this.color=e),void 0!==o&&(this.paths=o)}},t.DxfModelDto=class{constructor(t,e,o){this.colorFormat="aci",this.acadVersion="AC1009",void 0!==t&&(this.dxfPathsParts=t),void 0!==e&&(this.colorFormat=e),void 0!==o&&(this.acadVersion=o)}}}(v||(v={}));class x{getItem(t){if(t.index<0||t.index>=t.list.length)throw new Error("Index out of bounds");let e;return e=t.clone?structuredClone(t.list[t.index]):t.list[t.index],e}getFirstItem(t){if(0===t.list.length)throw new Error("List is empty");let e;return e=t.clone?structuredClone(t.list[0]):t.list[0],e}getLastItem(t){if(0===t.list.length)throw new Error("List is empty");let e;return e=t.clone?structuredClone(t.list[t.list.length-1]):t.list[t.list.length-1],e}randomGetThreshold(t){let e=t.list;t.clone&&(e=structuredClone(t.list));const o=[];for(let s=0;s<t.list.length;s++)Math.random()<t.threshold&&o.push(e[s]);return o}getSubList(t){let e;return e=t.clone?structuredClone(t.list.slice(t.indexStart,t.indexEnd)):t.list.slice(t.indexStart,t.indexEnd),e}getNthItem(t){let e=t.list;t.clone&&(e=structuredClone(t.list));const o=[];for(let s=0;s<e.length;s++)(s+t.offset)%t.nth==0&&o.push(e[s]);return o}getByPattern(t){const{list:e,pattern:o}=t;if(!o||0===o.length)throw new Error("Pattern is empty or does not exist");const s=o.length,r=e.length,n=[];if(s>=r)e.forEach(((t,e)=>{!0===o[e]&&n.push(t)}));else{const t=[],i=Math.ceil(r/s);for(let e=0;e<i;e++)t.push(...o);e.forEach(((e,o)=>{!0===t[o]&&n.push(e)}))}return n}mergeElementsOfLists(t){const e=t.lists,o=t.level,s=[],r=[];e.forEach((t=>{const e=t.flat(o);s.push(e)}));const n=this.getLongestListLength({lists:s});for(let t=0;t<n;t++){const e=[];for(let o=0;o<s.length;o++){const r=s[o][t];void 0!==r&&e.push(r)}e.length>0&&r.push(e)}let i=[];if(o>0)for(let t=0;t<o;t++)t===o-1&&0!==t?i[t-1].push(r):t===o-1?i.push(r):i.push([]);else i=r;return i}getLongestListLength(t){let e=0;return t.lists?(t.lists.forEach((t=>{t.length>e&&(e=t.length)})),e):void 0}reverse(t){let e=t.list;return t.clone&&(e=structuredClone(t.list)),e.reverse()}shuffle(t){let e=t.list;t.clone&&(e=structuredClone(t.list));for(let t=e.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}return e}flipLists(t){if(t.list.length>0){const e=t.list[0].length;let o=!0;if(t.list.forEach((t=>{t.length!==e&&(o=!1)})),o){const o=[];for(let s=0;s<e;s++){const e=[];t.list.forEach((t=>{e.push(t[s])})),o.push(e)}return o}throw new Error("Lists are not of the same length")}throw new Error("List is empty")}groupNth(t){return(t=>{const{nrElements:e,list:o,keepRemainder:s}=t,r=e,n=[];let i=[];return o.forEach(((t,e)=>{i.push(t),(e+1)%r==0&&(n.push(i),i=[]),i.length>0&&s&&e===o.length-1&&n.push(i)})),n})(t)}includes(t){return t.list.includes(t.item)}findIndex(t){return t.list.indexOf(t.item)}getListDepth(t){let e=0,o=!0,s=t.list;for(;o;){let t=!1;for(let e=0;e<s.length;e++)Array.isArray(s[e])&&(t=!0);s=s.flat(),t?e++:(e++,o=!1)}return e}listLength(t){return t.list.length}addItemAtIndex(t){let e=t.list;return t.clone&&(e=structuredClone(t.list)),t.index>=0&&t.index<=e.length&&e.splice(t.index,0,t.item),e}addItemAtIndexes(t){let e=t.list;t.clone&&(e=structuredClone(t.list));let o=[...t.indexes];return o=o.filter((t=>t>=0&&t<=e.length)),o.sort(((t,e)=>t-e)),o.forEach(((o,s)=>{o>=0&&o+s<=e.length&&e.splice(o+s,0,t.item)})),e}addItemsAtIndexes(t){if(t.items.length!==t.indexes.length)throw new Error("Items and indexes must have the same length");for(let e=0;e<t.indexes.length;e++)if(e>0&&t.indexes[e-1]>t.indexes[e])throw new Error("Indexes must be in ascending order");let e=t.list;return t.clone&&(e=structuredClone(t.list)),[...t.indexes].forEach(((o,s)=>{o>=0&&o+s<=e.length&&e.splice(o+s,0,t.items[s])})),e}removeItemAtIndex(t){let e=t.list;return t.clone&&(e=structuredClone(t.list)),t.index>=0&&t.index<=e.length&&e.splice(t.index,1),e}removeFirstItem(t){let e=t.list;return t.clone&&(e=structuredClone(t.list)),e.length>0&&e.shift(),e}removeLastItem(t){let e=t.list;return t.clone&&(e=structuredClone(t.list)),e.length>0&&e.pop(),e}removeItemAtIndexFromEnd(t){let e=t.list;if(t.clone&&(e=structuredClone(t.list)),t.index>=0&&t.index<e.length){const o=e.length-1-t.index;e.splice(o,1)}return e}removeItemsAtIndexes(t){let e=t.list;t.clone&&(e=structuredClone(t.list));const o=[...t.indexes];return o.sort(((t,e)=>e-t)),o.forEach((t=>{t>=0&&t<e.length&&e.splice(t,1)})),e}removeAllItems(t){return t.list.length=0,t.list}removeNthItem(t){let e=t.list;t.clone&&(e=structuredClone(t.list));const o=[];for(let s=0;s<e.length;s++)(s+t.offset)%t.nth!=0&&o.push(e[s]);return o}randomRemoveThreshold(t){let e=t.list;t.clone&&(e=structuredClone(t.list));const o=[];for(let s=0;s<t.list.length;s++)Math.random()>t.threshold&&o.push(e[s]);return o}removeDuplicateNumbers(t){let e=t.list;return t.clone&&(e=structuredClone(t.list)),e.filter(((t,e,o)=>o.indexOf(t)===e))}removeDuplicateNumbersTolerance(t){let e=t.list;return t.clone&&(e=structuredClone(t.list)),e.filter(((e,o,s)=>s.findIndex((o=>Math.abs(o-e)<t.tolerance))===o))}removeDuplicates(t){let e=t.list;return t.clone&&(e=structuredClone(t.list)),e.filter(((t,e,o)=>o.indexOf(t)===e))}addItem(t){let e=t.list;return t.clone&&(e=structuredClone(t.list)),e.push(t.item),e}prependItem(t){let e=t.list;return t.clone&&(e=structuredClone(t.list)),e.unshift(t.item),e}addItemFirstLast(t){let e=t.list;return t.clone&&(e=structuredClone(t.list)),t.position===s.firstLastEnum.first?e.unshift(t.item):e.push(t.item),e}concatenate(t){let e=[];return t.clone?t.lists.forEach((t=>{e=e.concat(structuredClone(t))})):t.lists.forEach((t=>{e=e.concat(t)})),e}createEmptyList(){return[]}repeat(t){const e=[];for(let o=0;o<t.times;o++)e.push(t.item);return e}repeatInPattern(t){let e=t.list;t.clone&&(e=structuredClone(t.list));const o=[];let s=0,r=0;for(;s<t.lengthLimit;)o.push(e[r]),r++,r===e.length&&(r=0),s++;return o}sortNumber(t){let e=t.list;return t.clone&&(e=structuredClone(t.list)),t.orderAsc?e.sort(((t,e)=>t-e)):e.sort(((t,e)=>e-t))}sortTexts(t){let e=t.list;return t.clone&&(e=structuredClone(t.list)),t.orderAsc?e.sort():e.sort().reverse()}sortByPropValue(t){let e=t.list;return t.clone&&(e=structuredClone(t.list)),t.orderAsc?e.sort(((e,o)=>e[t.property]-o[t.property])):e.sort(((e,o)=>o[t.property]-e[t.property]))}interleave(t){const e=t.clone?structuredClone(t.lists):t.lists;if(!e||0===e.length)throw new Error("Lists array is empty or does not exist");const o=[],s=Math.max(...e.map((t=>t.length)));for(let t=0;t<s;t++)for(const s of e)t<s.length&&o.push(s[t]);return o}}class P{number(t){return t.number}twoNrOperation(t){let e;switch(t.operation){case i.mathTwoNrOperatorEnum.add:e=t.first+t.second;break;case i.mathTwoNrOperatorEnum.subtract:e=t.first-t.second;break;case i.mathTwoNrOperatorEnum.multiply:e=t.first*t.second;break;case i.mathTwoNrOperatorEnum.divide:e=t.first/t.second;break;case i.mathTwoNrOperatorEnum.power:e=Math.pow(t.first,t.second);break;case i.mathTwoNrOperatorEnum.modulus:e=t.first%t.second}return e}modulus(t){return this.twoNrOperation({first:t.number,second:t.modulus,operation:i.mathTwoNrOperatorEnum.modulus})}roundToDecimals(t){return Math.round(t.number*Math.pow(10,t.decimalPlaces))/Math.pow(10,t.decimalPlaces)}roundAndRemoveTrailingZeros(t){const e=Math.round(t.number*Math.pow(10,t.decimalPlaces))/Math.pow(10,t.decimalPlaces);return parseFloat(e.toFixed(t.decimalPlaces))}oneNrOperation(t){let e;switch(t.operation){case i.mathOneNrOperatorEnum.absolute:e=Math.abs(t.number);break;case i.mathOneNrOperatorEnum.negate:e=-t.number;break;case i.mathOneNrOperatorEnum.ln:e=Math.log(t.number);break;case i.mathOneNrOperatorEnum.log10:e=Math.log10(t.number);break;case i.mathOneNrOperatorEnum.tenPow:e=Math.pow(10,t.number);break;case i.mathOneNrOperatorEnum.round:e=Math.round(t.number);break;case i.mathOneNrOperatorEnum.floor:e=Math.floor(t.number);break;case i.mathOneNrOperatorEnum.ceil:e=Math.ceil(t.number);break;case i.mathOneNrOperatorEnum.sqrt:e=Math.sqrt(t.number);break;case i.mathOneNrOperatorEnum.sin:e=Math.sin(t.number);break;case i.mathOneNrOperatorEnum.cos:e=Math.cos(t.number);break;case i.mathOneNrOperatorEnum.tan:e=Math.tan(t.number);break;case i.mathOneNrOperatorEnum.asin:e=Math.asin(t.number);break;case i.mathOneNrOperatorEnum.acos:e=Math.acos(t.number);break;case i.mathOneNrOperatorEnum.atan:e=Math.atan(t.number);break;case i.mathOneNrOperatorEnum.log:e=Math.log(t.number);break;case i.mathOneNrOperatorEnum.exp:e=Math.exp(t.number);break;case i.mathOneNrOperatorEnum.degToRad:e=t.number*Math.PI/180;break;case i.mathOneNrOperatorEnum.radToDeg:e=180*t.number/Math.PI}return e}remap(t){return(t.number-t.fromLow)*(t.toHigh-t.toLow)/(t.fromHigh-t.fromLow)+t.toLow}random(){return Math.random()}randomNumber(t){return Math.random()*(t.high-t.low)+t.low}randomNumbers(t){const e=[];for(let o=0;o<t.count;o++)e.push(this.randomNumber(t));return e}pi(){return Math.PI}toFixed(t){return t.number.toFixed(t.decimalPlaces)}add(t){return t.first+t.second}subtract(t){return t.first-t.second}multiply(t){return t.first*t.second}divide(t){return t.first/t.second}power(t){return Math.pow(t.first,t.second)}sqrt(t){return Math.sqrt(t.number)}abs(t){return Math.abs(t.number)}round(t){return Math.round(t.number)}floor(t){return Math.floor(t.number)}ceil(t){return Math.ceil(t.number)}negate(t){return-t.number}ln(t){return Math.log(t.number)}log10(t){return Math.log10(t.number)}tenPow(t){return Math.pow(10,t.number)}sin(t){return Math.sin(t.number)}cos(t){return Math.cos(t.number)}tan(t){return Math.tan(t.number)}asin(t){return Math.asin(t.number)}acos(t){return Math.acos(t.number)}atan(t){return Math.atan(t.number)}exp(t){return Math.exp(t.number)}degToRad(t){return t.number*Math.PI/180}radToDeg(t){return 180*t.number/Math.PI}ease(t){const e=t.x,o=t.min,s=t.max,r=this[t.ease](e);return this.remap({number:r,fromLow:0,fromHigh:1,toLow:o,toHigh:s})}clamp(t){return Math.max(t.min,Math.min(t.max,t.number))}lerp(t){return t.start+(t.end-t.start)*t.t}inverseLerp(t){return t.start===t.end?0:(t.value-t.start)/(t.end-t.start)}smoothstep(t){const e=Math.max(0,Math.min(1,t.number));return e*e*(3-2*e)}sign(t){return Math.sign(t.number)}fract(t){return t.number-Math.floor(t.number)}wrap(t){const e=t.max-t.min;if(0===e)return t.min;const o=(t.number-t.min)%e;return o<0?o+t.max:o+t.min}pingPong(t){const e=Math.abs(t.t)%(2*t.length);return e>t.length?2*t.length-e:e}moveTowards(t){const e=t.target-t.current;return Math.abs(e)<=t.maxDelta?t.target:t.current+Math.sign(e)*t.maxDelta}easeInSine(t){return 1-Math.cos(t*Math.PI/2)}easeOutSine(t){return Math.sin(t*Math.PI/2)}easeInOutSine(t){return-(Math.cos(Math.PI*t)-1)/2}easeInQuad(t){return t*t}easeOutQuad(t){return 1-(1-t)*(1-t)}easeInOutQuad(t){return t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2}easeInCubic(t){return t*t*t}easeOutCubic(t){return 1-Math.pow(1-t,3)}easeInOutCubic(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2}easeInQuart(t){return t*t*t*t}easeOutQuart(t){return 1-Math.pow(1-t,4)}easeInOutQuart(t){return t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2}easeInQuint(t){return t*t*t*t*t}easeOutQuint(t){return 1-Math.pow(1-t,5)}easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2}easeInExpo(t){return 0===t?0:Math.pow(2,10*t-10)}easeOutExpo(t){return 1===t?1:1-Math.pow(2,-10*t)}easeInOutExpo(t){return 0===t?0:1===t?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2}easeInCirc(t){return 1-Math.sqrt(1-t*t)}easeOutCirc(t){return Math.sqrt(1-Math.pow(t-1,2))}easeInOutCirc(t){return t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2}easeInBack(t){return 2.70158*t*t*t-1.70158*t*t}easeOutBack(t){return 1+2.70158*Math.pow(t-1,3)+1.70158*Math.pow(t-1,2)}easeInOutBack(t){const e=2.5949095;return t<.5?Math.pow(2*t,2)*(7.189819*t-e)/2:(Math.pow(2*t-2,2)*((e+1)*(2*t-2)+e)+2)/2}easeInElastic(t){const e=2*Math.PI/3;return 0===t?0:1===t?1:-Math.pow(2,10*t-10)*Math.sin((10*t-10.75)*e)}easeOutElastic(t){const e=2*Math.PI/3;return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin((10*t-.75)*e)+1}easeInOutElastic(t){const e=2*Math.PI/4.5;return 0===t?0:1===t?1:t<.5?-Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*e)/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*e)/2+1}easeInBounce(t){return 1-this.easeOutBounce(1-t)}easeOutBounce(t){const e=7.5625,o=2.75;return t<1/o?e*t*t:t<2/o?e*(t-=1.5/o)*t+.75:t<2.5/o?e*(t-=2.25/o)*t+.9375:e*(t-=2.625/o)*t+.984375}easeInOutBounce(t){return t<.5?(1-this.easeOutBounce(1-2*t))/2:(1+this.easeOutBounce(2*t-1))/2}}class D{constructor(t,e,o,s){this.geometryHelper=t,this.transforms=e,this.vector=o,this.lists=s}transformPoint(t){const e=t.transformation;let o=[t.point];return o=this.geometryHelper.transformControlPoints(e,o),o[0]}transformPoints(t){return this.geometryHelper.transformControlPoints(t.transformation,t.points)}transformsForPoints(t){if(t.points.length!==t.transformation.length)throw new Error("You must provide equal nr of points and transformations");return t.points.map(((e,o)=>this.geometryHelper.transformControlPoints(t.transformation[o],[e])[0]))}translatePoints(t){const e=this.transforms.translationXYZ({translation:t.translation});return this.geometryHelper.transformControlPoints(e,t.points)}translatePointsWithVectors(t){if(t.points.length!==t.translations.length)throw new Error("You must provide equal nr of points and translations");const e=this.transforms.translationsXYZ({translations:t.translations});return t.points.map(((t,o)=>this.geometryHelper.transformControlPoints(e[o],[t])[0]))}translateXYZPoints(t){const e=this.transforms.translationXYZ({translation:[t.x,t.y,t.z]});return this.geometryHelper.transformControlPoints(e,t.points)}scalePointsCenterXYZ(t){const e=this.transforms.scaleCenterXYZ({center:t.center,scaleXyz:t.scaleXyz});return this.geometryHelper.transformControlPoints(e,t.points)}stretchPointsDirFromCenter(t){const e=this.transforms.stretchDirFromCenter({center:t.center,scale:t.scale,direction:t.direction});return this.geometryHelper.transformControlPoints(e,t.points)}rotatePointsCenterAxis(t){const e=this.transforms.rotationCenterAxis({center:t.center,axis:t.axis,angle:t.angle});return this.geometryHelper.transformControlPoints(e,t.points)}boundingBoxOfPoints(t){const e=[],o=[],s=[];t.points.forEach((t=>{e.push(t[0]),o.push(t[1]),s.push(t[2])}));const r=[Math.min(...e),Math.min(...o),Math.min(...s)],n=[Math.max(...e),Math.max(...o),Math.max(...s)];return{min:r,max:n,center:[(r[0]+n[0])/2,(r[1]+n[1])/2,(r[2]+n[2])/2],width:n[0]-r[0],height:n[1]-r[1],length:n[2]-r[2]}}closestPointFromPointsDistance(t){return this.closestPointFromPointData(t).distance}closestPointFromPointsIndex(t){return this.closestPointFromPointData(t).index}closestPointFromPoints(t){return this.closestPointFromPointData(t).point}distance(t){const e=t.endPoint[0]-t.startPoint[0],o=t.endPoint[1]-t.startPoint[1],s=t.endPoint[2]-t.startPoint[2];return Math.sqrt(e*e+o*o+s*s)}distancesToPoints(t){return t.endPoints.map((e=>this.distance({startPoint:t.startPoint,endPoint:e})))}multiplyPoint(t){const e=[];for(let o=0;o<t.amountOfPoints;o++)e.push([t.point[0],t.point[1],t.point[2]]);return e}getX(t){return t.point[0]}getY(t){return t.point[1]}getZ(t){return t.point[2]}averagePoint(t){const e=[],o=[],s=[];return t.points.forEach((t=>{e.push(t[0]),o.push(t[1]),s.push(t[2])})),[e.reduce(((t,e)=>t+e),0)/t.points.length,o.reduce(((t,e)=>t+e),0)/t.points.length,s.reduce(((t,e)=>t+e),0)/t.points.length]}pointXYZ(t){return[t.x,t.y,t.z]}pointXY(t){return[t.x,t.y]}spiral(t){const e=t.phi,o=Math.log(e)/(Math.PI/t.widening),s=[],r=t.radius/t.numberPoints;for(let e=0;e<t.radius;e+=r){const r=Math.log(e/t.factor)/o,n=e*Math.cos(r),i=e*Math.sin(r);s.push([n||0,i||0,0])}return s}hexGrid(t){const e=Math.sqrt(Math.pow(t.radiusHexagon,2)-Math.pow(t.radiusHexagon/2,2)),o=[];for(let s=0;s<t.nrHexagonsX;s++){const r=s*e*2;for(let s=0;s<t.nrHexagonsY;s++){const n=(t.radiusHexagon+t.radiusHexagon/2)*s,i=r+(s%2==0?0:e);o.push([i,n,0])}}if(t.orientOnCenter){const t=o[o.length-1][0]/2,e=o[o.length-1][1]/2;o.forEach(((s,r)=>{o[r]=[s[0]-t,s[1]-e,0]}))}return t.pointsOnGround&&o.forEach(((t,e)=>{o[e]=[t[0],0,t[1]]})),o}hexGridScaledToFit(t){var e,o,s,r;let n=t.width,i=t.height,a=t.nrHexagonsInHeight,c=t.nrHexagonsInWidth,l=null!==(e=t.extendTop)&&void 0!==e&&e,h=null!==(o=t.extendBottom)&&void 0!==o&&o,u=null!==(s=t.extendLeft)&&void 0!==s&&s,d=null!==(r=t.extendRight)&&void 0!==r&&r;const{flatTop:f=!1,centerGrid:m=!1,pointsOnGround:p=!1}=t;if(f){const e=n;n=t.height,i=e;const o=c;c=a,a=o;const s=l,r=h;l=u,h=d,u=r,d=s}if(n<=0||i<=0||c<1||a<1)return console.warn("Hex grid dimensions and counts must be positive."),{centers:[],hexagons:[],shortestDistEdge:void 0,longestDistEdge:void 0,maxFilletRadius:void 0};const v=this.hexGrid({radiusHexagon:1,nrHexagonsX:c,nrHexagonsY:a,orientOnCenter:!1,pointsOnGround:!1});if(0===v.length)return{centers:[],hexagons:[],shortestDistEdge:void 0,longestDistEdge:void 0,maxFilletRadius:void 0};const g=v.map((t=>this.getRegularHexagonVertices(t,1)));let y=1/0,b=-1/0,x=1/0,P=-1/0;for(const t of g)for(const e of t)e[0]<y&&(y=e[0]),e[0]>b&&(b=e[0]),e[1]<x&&(x=e[1]),e[1]>P&&(P=e[1]);const D=b-y,C=P-x,S=D>1e-9?n/D:1,w=C>1e-9?i/C:1;let T=v.map((t=>[(t[0]-y)*S,(t[1]-x)*w,0])),M=g.map((t=>t.map((t=>[(t[0]-y)*S,(t[1]-x)*w,0])))),O=1/0,E=-1/0,A=0;if(0!==M.length){const t=M[0];if(A=this.safestPointsMaxFilletHalfLine({points:t,checkLastWithFirst:!0,tolerance:1e-7}),t.forEach(((e,o)=>{const s=t[(o+1)%t.length],r=this.distance({startPoint:e,endPoint:s});r<O&&(O=r),r>E&&(E=r)})),l||h||u||d){const e=t[0],o=t[1],s=e[1]-o[1],r=o[0]-e[0];if(l&&!h){const t={center:[0,0,0],direction:[0,1,0],scale:i/(i-s)};M=M.map((e=>(t.points=e,this.stretchPointsDirFromCenter(t)))),t.points=T,T=this.stretchPointsDirFromCenter(t)}if(h&&!l){const t={center:[0,i,0],direction:[0,-1,0],scale:i/(i-s)};M=M.map((e=>(t.points=e,this.stretchPointsDirFromCenter(t)))),t.points=T,T=this.stretchPointsDirFromCenter(t)}if(l&&h){const t={center:[0,i/2,0],direction:[0,1,0],scale:i/(i-2*s)};M=M.map((e=>(t.points=e,this.stretchPointsDirFromCenter(t)))),t.points=T,T=this.stretchPointsDirFromCenter(t)}if(u&&!d){const t={center:[n,0,0],direction:[1,0,0],scale:n/(n-r)};M=M.map((e=>(t.points=e,this.stretchPointsDirFromCenter(t)))),t.points=T,T=this.stretchPointsDirFromCenter(t)}if(d&&!u){const t={center:[0,0,0],direction:[1,0,0],scale:n/(n-r)};M=M.map((e=>(t.points=e,this.stretchPointsDirFromCenter(t)))),t.points=T,T=this.stretchPointsDirFromCenter(t)}if(u&&d){const t={center:[n/2,0,0],direction:[1,0,0],scale:n/(n-2*r)};M=M.map((e=>(t.points=e,this.stretchPointsDirFromCenter(t)))),t.points=T,T=this.stretchPointsDirFromCenter(t)}}}if(f){T=this.rotatePointsCenterAxis({points:T,center:[n/2,i/2,0],axis:[0,0,1],angle:90}),M=M.map((t=>this.rotatePointsCenterAxis({points:t,center:[n/2,i/2,0],axis:[0,0,1],angle:90})));const t=this.vector.sub({first:[i/2,n/2,0],second:[n/2,i/2,0]});T=this.translatePoints({points:T,translation:t}),M=M.map((e=>this.translatePoints({points:e,translation:t})))}if(m){let t=n/2,e=i/2;f&&(t=i/2,e=n/2);for(let o=0;o<T.length;o++)T[o][0]-=t,T[o][1]-=e;for(let o=0;o<M.length;o++)for(let s=0;s<M[o].length;s++)M[o][s][0]-=t,M[o][s][1]-=e}if(p){for(let t=0;t<T.length;t++)T[t]=[T[t][0],0,T[t][1]];for(let t=0;t<M.length;t++)for(let e=0;e<M[t].length;e++)M[t][e]=[M[t][e][0],0,M[t][e][1]]}if(f){const e=this.lists.groupNth({list:M.reverse(),nrElements:t.nrHexagonsInWidth,keepRemainder:!0}),o=this.lists.flipLists({list:e});o.forEach((t=>t.reverse())),M=o.flat();const s=this.lists.groupNth({list:T.reverse(),nrElements:t.nrHexagonsInWidth,keepRemainder:!0}),r=this.lists.flipLists({list:s});r.forEach((t=>t.reverse())),T=r.flat()}return{centers:T,hexagons:M,shortestDistEdge:O,longestDistEdge:E,maxFilletRadius:A}}maxFilletRadius(t){const{start:e,center:o,end:s,tolerance:r=1e-7}=t,n=this.vector.sub({first:e,second:s}),i=this.vector.sub({first:o,second:s}),a=this.vector.length({vector:n}),c=this.vector.length({vector:i});if(a<r||c<r)return 0;const l=this.vector.normalized({vector:n}),h=this.vector.normalized({vector:i});if(!l||!h)return 0;const u=Math.max(-1,Math.min(1,this.vector.dot({first:l,second:h})));if(u>1-r)return 0;if(u<-1+r)return 0;const d=Math.acos(u),f=Math.tan(d/2);return f<r?0:Math.min(a,c)*f}maxFilletRadiusHalfLine(t){const{start:e,center:o,end:s,tolerance:r=1e-7}=t,n=this.vector.sub({first:e,second:s}),i=this.vector.sub({first:o,second:s}),a=this.vector.length({vector:n}),c=this.vector.length({vector:i});if(a<r||c<r)return 0;const l=this.vector.normalized({vector:n}),h=this.vector.normalized({vector:i});if(!l||!h)return 0;const u=Math.max(-1,Math.min(1,this.vector.dot({first:l,second:h})));if(u>1-r||u<-1+r)return 0;const d=Math.acos(u),f=Math.tan(d/2);return f<r?0:Math.min(a/2,c/2)*f}maxFilletsHalfLine(t){const{points:e,checkLastWithFirst:o=!1,tolerance:s=1e-7}=t,r=e.length,n=[];if(r<3)return n;for(let t=1;t<r-1;t++){const o=e[t-1],r=e[t],i={start:o,center:e[t+1],end:r,tolerance:s};n.push(this.maxFilletRadiusHalfLine(i))}if(o&&r>=3){const t=e[r-1],o=e[0],i={start:t,center:e[1],end:o,tolerance:s};n.push(this.maxFilletRadiusHalfLine(i));const a=e[r-2],c=e[r-1],l={start:a,center:e[0],end:c,tolerance:s};n.push(this.maxFilletRadiusHalfLine(l))}return n}safestPointsMaxFilletHalfLine(t){const e=this.maxFilletsHalfLine(t);if(0===e.length)return 0;const o=Math.min(...e);return Math.max(0,o)}removeConsecutiveDuplicates(t){return this.geometryHelper.removeConsecutivePointDuplicates(t.points,t.checkFirstAndLast,t.tolerance)}normalFromThreePoints(t){const e=t.point1,o=t.point2,s=t.point3;if(!e||!o||!s||3!==e.length||3!==o.length||3!==s.length)throw new Error("All points must be arrays of 3 numbers [x, y, z]");const r=o[0]-e[0],n=o[1]-e[1],i=o[2]-e[2],a=s[0]-e[0],c=s[1]-e[1],l=s[2]-e[2];let h=n*l-i*c,u=i*a-r*l,d=r*c-n*a;if(0!==h||0!==u||0!==d)return t.reverseNormal&&(h=-h,u=-u,d=-d),this.vector.normalized({vector:[h,u,d]});console.warn("Points are collinear or coincident; cannot calculate a unique normal.")}closestPointFromPointData(t){let e,o,s=Number.MAX_SAFE_INTEGER;for(let r=0;r<t.points.length;r++){const n=t.points[r],i=this.distance({startPoint:t.point,endPoint:n});i<s&&(s=i,e=r,o=n)}return{index:e+1,distance:s,point:o}}twoPointsAlmostEqual(t){const e=t.point1,o=t.point2;return this.distance({startPoint:e,endPoint:o})<t.tolerance}sortPoints(t){return[...t.points].sort(((t,e)=>t[0]!==e[0]?t[0]-e[0]:t[1]!==e[1]?t[1]-e[1]:t[2]-e[2]))}getRegularHexagonVertices(t,e){const o=[],s=t[0],r=t[1],n=t[2],i=Math.PI/3;for(let t=0;t<6;t++){const a=i*t;o.push([s+e*Math.sin(a),r+e*Math.cos(a),n])}return o}}const C={xOffset:0,yOffset:0,input:"?",align:"left",font:{height:21,32:[16],33:[10,5,21,5,7,void 0,5,2,4,1,5,0,6,1,5,2],34:[16,4,21,4,14,void 0,12,21,12,14],35:[21,11,25,4,-7,void 0,17,25,10,-7,void 0,4,12,18,12,void 0,3,6,17,6],36:[20,8,25,8,-4,void 0,12,25,12,-4,void 0,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],37:[24,21,21,3,0,void 0,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,void 0,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7],38:[26,23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2],39:[10,5,19,4,20,5,21,6,20,6,18,5,16,4,15],40:[14,11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7],41:[14,3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7],42:[16,8,21,8,9,void 0,3,18,13,12,void 0,13,18,3,12],43:[26,13,18,13,0,void 0,4,9,22,9],44:[10,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],45:[26,4,9,22,9],46:[10,5,2,4,1,5,0,6,1,5,2],47:[22,20,25,2,-7],48:[20,9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21],49:[20,6,17,8,18,11,21,11,0],50:[20,4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0],51:[20,5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],52:[20,13,21,3,7,18,7,void 0,13,21,13,0],53:[20,15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],54:[20,16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7],55:[20,17,21,7,0,void 0,3,21,17,21],56:[20,8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21],57:[20,16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3],58:[10,5,14,4,13,5,12,6,13,5,14,void 0,5,2,4,1,5,0,6,1,5,2],59:[10,5,14,4,13,5,12,6,13,5,14,void 0,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],60:[24,20,18,4,9,20,0],61:[26,4,12,22,12,void 0,4,6,22,6],62:[24,4,18,20,9,4,0],63:[18,3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,void 0,9,2,8,1,9,0,10,1,9,2],64:[27,18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,void 0,12,16,10,14,9,11,9,8,10,6,11,5,void 0,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,void 0,19,16,18,8,18,6,19,5],65:[18,9,21,1,0,void 0,9,21,17,0,void 0,4,7,14,7],66:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,void 0,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0],67:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5],68:[21,4,21,4,0,void 0,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0],69:[19,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11,void 0,4,0,17,0],70:[18,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11],71:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,void 0,13,8,18,8],72:[22,4,21,4,0,void 0,18,21,18,0,void 0,4,11,18,11],73:[8,4,21,4,0],74:[16,12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7],75:[21,4,21,4,0,void 0,18,21,4,7,void 0,9,12,18,0],76:[17,4,21,4,0,void 0,4,0,16,0],77:[24,4,21,4,0,void 0,4,21,12,0,void 0,20,21,12,0,void 0,20,21,20,0],78:[22,4,21,4,0,void 0,4,21,18,0,void 0,18,21,18,0],79:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21],80:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10],81:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,void 0,12,4,18,-2],82:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,void 0,11,11,18,0],83:[20,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],84:[16,8,21,8,0,void 0,1,21,15,21],85:[22,4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21],86:[18,1,21,9,0,void 0,17,21,9,0],87:[24,2,21,7,0,void 0,12,21,7,0,void 0,12,21,17,0,void 0,22,21,17,0],88:[20,3,21,17,0,void 0,17,21,3,0],89:[18,1,21,9,11,9,0,void 0,17,21,9,11],90:[20,17,21,3,0,void 0,3,21,17,21,void 0,3,0,17,0],91:[14,4,25,4,-7,void 0,5,25,5,-7,void 0,4,25,11,25,void 0,4,-7,11,-7],92:[14,0,21,14,-3],93:[14,9,25,9,-7,void 0,10,25,10,-7,void 0,3,25,10,25,void 0,3,-7,10,-7],94:[16,6,15,8,18,10,15,void 0,3,12,8,17,13,12,void 0,8,17,8,0],95:[16,0,-2,16,-2],96:[10,6,21,5,20,4,18,4,16,5,15,6,16,5,17],97:[19,15,14,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],98:[19,4,21,4,0,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],99:[18,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],100:[19,15,21,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],101:[18,3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],102:[12,10,21,8,21,6,20,5,17,5,0,void 0,2,14,9,14],103:[19,15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],104:[19,4,21,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],105:[8,3,21,4,20,5,21,4,22,3,21,void 0,4,14,4,0],106:[10,5,21,6,20,7,21,6,22,5,21,void 0,6,14,6,-3,5,-6,3,-7,1,-7],107:[17,4,21,4,0,void 0,14,14,4,4,void 0,8,8,15,0],108:[8,4,21,4,0],109:[30,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0,void 0,15,10,18,13,20,14,23,14,25,13,26,10,26,0],110:[19,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],111:[19,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14],112:[19,4,14,4,-7,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],113:[19,15,14,15,-7,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],114:[13,4,14,4,0,void 0,4,8,5,11,7,13,9,14,12,14],115:[17,14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3],116:[12,5,21,5,4,6,1,8,0,10,0,void 0,2,14,9,14],117:[19,4,14,4,4,5,1,7,0,10,0,12,1,15,4,void 0,15,14,15,0],118:[16,2,14,8,0,void 0,14,14,8,0],119:[22,3,14,7,0,void 0,11,14,7,0,void 0,11,14,15,0,void 0,19,14,15,0],120:[17,3,14,14,0,void 0,14,14,3,0],121:[16,2,14,8,0,void 0,14,14,8,0,6,-4,4,-6,2,-7,1,-7],122:[17,14,14,3,0,void 0,3,14,14,14,void 0,3,0,14,0],123:[14,9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,void 0,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,void 0,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7],124:[8,4,25,4,-7],125:[14,5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,void 0,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,void 0,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7],126:[24,3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,void 0,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12],176:[14,7,21,5,20,4,18,4,16,5,14,7,13,9,14,10,16,10,18,9,20,7,21],178:[14,5,17,5,18,6,19,7,20,9,21,10,21,11,20,12,19,12,18,11,17,10,16,6,14,12,14],179:[14,5,21,11,21,8,18,9,18,10,17,11,16,11,15,10,14,8,14,6,15,5,16],181:[19,4,14,4,-7,void 0,4,14,4,4,5,1,7,0,10,0,12,1,15,4,void 0,15,14,15,0],185:[14,7,19,8,20,10,21,10,14],188:[26,4,19,5,20,7,21,7,14,void 0,6,0,18,21,void 0,16,11,16,7,22,7,void 0,18,11,18,0,void 0,16,0,22,0],189:[26,4,19,5,20,7,21,7,14,void 0,6,0,18,21,void 0,15,4,15,5,16,6,17,7,19,7,20,6,20,5,19,4,17,2,15,0,21,0],190:[26,4,21,10,21,8,18,9,18,10,17,11,16,11,15,10,14,8,14,6,15,5,16,void 0,6,0,18,21,void 0,16,11,16,7,22,7,void 0,18,11,18,0,void 0,16,0,22,0],215:[18,3,15,15,3,void 0,15,15,3,3],247:[22,4,9,18,9,void 0,11,15,10,14,11,13,12,14,11,15,void 0,11,5,10,4,11,3,12,4,11,5],177:[26,13,18,13,6,void 0,4,12,22,12,void 0,4,3,22,3],8304:[14,8,21,7,20,6,19,5,17,5,15,6,14,8,14,9,14,11,15,12,17,12,19,11,20,9,21,8,21],8308:[14,10,21,6,17,12,17,void 0,10,21,10,14],8309:[14,11,21,6,21,5,17,6,17,7,18,9,18,10,17,11,16,11,15,10,14,8,14,6,15,5,16],8310:[14,11,19,10,20,9,21,7,21,6,20,5,18,5,15,6,14,8,14,9,14,10,15,11,16,11,17,10,18,9,18,8,17,7,16,6,15],8311:[14,11,21,7,14,void 0,5,21,11,21],8312:[14,8,21,7,20,6,19,6,18,7,17,8,17,9,18,10,19,10,20,9,21,8,21,7,20,void 0,8,17,7,16,6,15,6,14,7,13,8,13,9,14,10,15,10,16,9,17],8313:[14,10,17,9,16,8,16,7,17,6,18,6,19,7,20,8,20,9,19,10,18,10,15,9,14,7,14,6,15,5,16],8320:[14,8,7,7,6,6,5,5,3,5,1,6,0,8,0,9,0,11,1,12,3,12,5,11,6,9,7,8,7],8321:[14,7,5,8,6,10,7,10,0],8322:[14,5,4,5,5,6,6,7,7,9,7,10,6,11,5,11,4,10,3,9,2,6,0,12,0],8323:[14,5,7,11,7,8,4,10,4,11,3,12,2,12,1,11,0,9,0,7,1,6,2,5,3],8324:[14,10,7,6,3,12,3,void 0,10,7,10,0],8776:[24,3,11,4,13,6,14,8,14,10,13,14,10,16,9,18,9,20,10,21,12,void 0,3,5,4,7,6,8,8,8,10,7,14,4,16,3,18,3,20,4,21,6],8730:[20,4,12,6,8,8,0,void 0,8,0,10,21,void 0,10,21,20,21],8731:[24,2,21,5,21,4,19,5,18,6,17,6,16,5,15,3,15,2,16,void 0,8,12,10,8,12,0,void 0,12,0,14,21,void 0,14,21,24,21],8732:[24,5,21,3,18,6,18,void 0,5,21,5,15,void 0,8,12,10,8,12,0,void 0,12,0,14,21,void 0,14,21,24,21],8960:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,void 0,6,3,16,18]},height:21,lineSpacing:2.142857142857143,letterSpacing:1,extrudeOffset:0};class S{constructor(t){this.point=t}create(t){return t.text}split(t){return t.text.split(t.separator)}replaceAll(t){return t.text.split(t.search).join(t.replaceWith)}join(t){return t.list.join(t.separator)}toString(t){return t.item.toString()}toStringEach(t){return t.list.map((t=>t.toString()))}format(t){return t.text.replace(/{(\d+)}/g,((e,o)=>void 0!==t.values[o]?t.values[o]:e))}includes(t){return t.text.includes(t.search)}startsWith(t){return t.text.startsWith(t.search)}endsWith(t){return t.text.endsWith(t.search)}indexOf(t){return t.text.indexOf(t.search)}lastIndexOf(t){return t.text.lastIndexOf(t.search)}substring(t){return t.text.substring(t.start,t.end)}slice(t){return t.text.slice(t.start,t.end)}charAt(t){return t.text.charAt(t.index)}trim(t){return t.text.trim()}trimStart(t){return t.text.trimStart()}trimEnd(t){return t.text.trimEnd()}padStart(t){return t.text.padStart(t.length,t.padString)}padEnd(t){return t.text.padEnd(t.length,t.padString)}toUpperCase(t){return t.text.toUpperCase()}toLowerCase(t){return t.text.toLowerCase()}toUpperCaseFirst(t){return t.text?t.text.charAt(0).toUpperCase()+t.text.slice(1):t.text}toLowerCaseFirst(t){return t.text?t.text.charAt(0).toLowerCase()+t.text.slice(1):t.text}repeat(t){return t.text.repeat(t.count)}reverse(t){return t.text.split("").reverse().join("")}length(t){return t.text.length}isEmpty(t){return!t.text||0===t.text.trim().length}concat(t){return t.texts.join("")}regexTest(t){return new RegExp(t.pattern,t.flags).test(t.text)}regexMatch(t){const e=new RegExp(t.pattern,t.flags),o=t.text.match(e);return o?Array.from(o):null}regexReplace(t){const e=new RegExp(t.pattern,t.flags);return t.text.replace(e,t.replaceWith)}regexSearch(t){const e=new RegExp(t.pattern,t.flags);return t.text.search(e)}regexSplit(t){const e=new RegExp(t.pattern,t.flags);return t.text.split(e)}vectorChar(t){const{xOffset:e,yOffset:o,font:s,input:r,height:n,extrudeOffset:i}=this.vectorParamsChar(t);let a=r.charCodeAt(0);a&&s[a]||(a=63);const c=[].concat(s[a]),l=(n-i)/s.height,h=i/2,u=c.shift()*l,d=[];let f=[];for(let t=0,s=c.length;t<s;t+=2){const s=l*c[t]+e,r=l*c[t+1]+o+h;void 0===c[t]?(d.push(f),f=[],t--):f.push([s,0,r])}return f.length&&d.push(f),{width:u,height:n,paths:d}}vectorText(t){const{xOffset:e,yOffset:o,height:s,align:r,extrudeOffset:n,lineSpacing:i,letterSpacing:a}=Object.assign({},C,t),c=t.text;if("string"!=typeof c)throw new Error("text must be a string");const l=s*a;let h=0,d={width:0,height:0,chars:[]},f=[];const m=()=>{h=Math.max(h,d.width),d.chars.length&&f.push(d),d={width:0,height:0,chars:[]}};let p,v=e,g=o;const y=c.length;for(let t=0;t<y;t++){const o=c[t];if("\n"===o){m(),v=e,g-=s*i;continue}p=this.vectorChar({xOffset:v,yOffset:g,height:s,extrudeOffset:n,char:o});const r=p.width+l;v+=r,d.width+=r,d.height=Math.max(d.height,p.height)," "!==o&&(d.chars=d.chars.concat(p))}if(d.chars.length&&m(),f=f.map((t=>{const e=h-t.width;return r===u.horizontalAlignEnum.right?this.translateLine({x:e},t):r===u.horizontalAlignEnum.center?this.translateLine({x:e/2},t):t})),t.centerOnOrigin){const t=[];f.forEach((e=>{e.chars.forEach((e=>{e.paths.forEach((e=>{t.push(...e)}))}))}));const e=this.point.boundingBoxOfPoints({points:t});f.forEach((t=>{t.chars.forEach((t=>(t.paths=t.paths.map((t=>this.point.translatePoints({points:t,translation:[-e.center[0],-e.center[1],-e.center[2]]}))),t)))}))}return f}vectorParamsChar(t){const e=Object.assign({},C,t);return e.input=t.char||e.char,e}translateLine(t,e){const{x:o,y:s}=Object.assign({x:0,y:0},t);return e.chars=e.chars.map((t=>(t.paths=t.paths.map((t=>this.point.translatePoints({points:t,translation:[o,0,s]}))),t))),e}}class w{constructor(t,e){this.math=t,this.geometryHelper=e}removeAllDuplicateVectors(t){return this.geometryHelper.removeAllDuplicateVectors(t.vectors,t.tolerance)}removeConsecutiveDuplicateVectors(t){return this.geometryHelper.removeConsecutiveVectorDuplicates(t.vectors,t.checkFirstAndLast,t.tolerance)}vectorsTheSame(t){return this.geometryHelper.vectorsTheSame(t.vec1,t.vec2,t.tolerance)}angleBetween(t){return this.math.radToDeg({number:Math.acos(this.dot({first:t.first,second:t.second})/(this.norm({vector:t.first})*this.norm({vector:t.second})))})}angleBetweenNormalized2d(t){const e=t.first[0]*t.second[1]-t.first[1]*t.second[0];return this.math.radToDeg({number:Math.atan2(e,this.dot({first:t.first,second:t.second}))})}positiveAngleBetween(t){const e=this.signedAngleBetween(t);return e<0?360+e:e}addAll(t){const e=[];for(let o=0;o<t.vectors[0].length;o++){let s=0;for(const e of t.vectors)s+=e[o];e.push(s)}return e}add(t){const e=[];for(let o=0;o<t.first.length;o++)e.push(t.first[o]+t.second[o]);return e}all(t){return t.vector.every((t=>t))}cross(t){const e=[];return e.push(t.first[1]*t.second[2]-t.first[2]*t.second[1]),e.push(t.first[2]*t.second[0]-t.first[0]*t.second[2]),e.push(t.first[0]*t.second[1]-t.first[1]*t.second[0]),e}distSquared(t){let e=0;for(let o=0;o<t.first.length;o++)e+=Math.pow(t.first[o]-t.second[o],2);return e}dist(t){return Math.sqrt(this.distSquared(t))}div(t){const e=[];for(let o=0;o<t.vector.length;o++)e.push(t.vector[o]/t.scalar);return e}domain(t){return t.vector[t.vector.length-1]-t.vector[0]}dot(t){let e=0;for(let o=0;o<t.first.length;o++)e+=t.first[o]*t.second[o];return e}finite(t){return t.vector.map((t=>isFinite(t)))}isZero(t){return 0===this.norm({vector:t.vector})}lerp(t){return this.add({first:this.mul({vector:t.first,scalar:t.fraction}),second:this.mul({vector:t.second,scalar:1-t.fraction})})}max(t){return Math.max(...t.vector)}min(t){return Math.min(...t.vector)}mul(t){const e=[];for(let o=0;o<t.vector.length;o++)e.push(t.vector[o]*t.scalar);return e}neg(t){const e=[];for(let o=0;o<t.vector.length;o++)e.push(-t.vector[o]);return e}normSquared(t){return this.dot({first:t.vector,second:t.vector})}norm(t){const e=this.normSquared(t);return 0!==e?Math.sqrt(e):e}normalized(t){if(!(this.length({vector:t.vector})<=1e-8))return this.div({scalar:this.norm(t),vector:t.vector})}onRay(t){return this.add({first:t.point,second:this.mul({vector:t.vector,scalar:t.distance})})}vectorXYZ(t){return[t.x,t.y,t.z]}vectorXY(t){return[t.x,t.y]}range(t){const e=[];for(let o=0;o<t.max;o++)e.push(o);return e}signedAngleBetween(t){const e=this.cross({first:t.first,second:t.second}),o=this.norm({vector:t.first})*this.norm({vector:t.second}),s=this.dot({first:t.first,second:t.second}),r=this.norm({vector:e})/o,n=s/o,i=Math.atan2(r,n),a=this.dot({first:t.reference,second:e})>0?i:2*Math.PI-i;return this.math.radToDeg({number:a})}span(t){const e=[];for(let o=t.min;o<=t.max;o+=t.step)e.push(o);return e}spanEaseItems(t){const e=[];for(let o=0;o<t.nrItems;o++){const s=1*o/(t.nrItems-1);e.push(this.math.ease({x:s,ease:t.ease,min:t.min,max:t.max}))}return t.intervals?e.map(((t,e,o)=>0===e?t:t-o[e-1])):e}spanLinearItems(t){const e=[],o=t.max-t.min;for(let s=0;s<t.nrItems;s++){const r=o*s/(t.nrItems-1);e.push(r+t.min)}return e}sub(t){const e=[];for(let o=0;o<t.first.length;o++)e.push(t.first[o]-t.second[o]);return e}sum(t){return t.vector.reduce(((t,e)=>t+e),0)}lengthSq(t){const e=t.vector;return e[0]*e[0]+e[1]*e[1]+e[2]*e[2]}length(t){return Math.sqrt(this.lengthSq(t))}parseNumbers(t){return t.vector.map((t=>parseFloat(t)))}}class T{constructor(t,e){this.vector=t,this.math=e}rotationCenterAxis(t){return[this.translation(-t.center[0],-t.center[1],-t.center[2]),this.rotationAxis(t.axis,this.math.degToRad({number:t.angle})),this.translation(t.center[0],t.center[1],t.center[2])]}rotationCenterX(t){return[this.translation(-t.center[0],-t.center[1],-t.center[2]),this.rotationX(this.math.degToRad({number:t.angle})),this.translation(t.center[0],t.center[1],t.center[2])]}rotationCenterY(t){return[this.translation(-t.center[0],-t.center[1],-t.center[2]),this.rotationY(this.math.degToRad({number:t.angle})),this.translation(t.center[0],t.center[1],t.center[2])]}rotationCenterZ(t){return[this.translation(-t.center[0],-t.center[1],-t.center[2]),this.rotationZ(this.math.degToRad({number:t.angle})),this.translation(t.center[0],t.center[1],t.center[2])]}rotationCenterYawPitchRoll(t){return[this.translation(-t.center[0],-t.center[1],-t.center[2]),this.rotationYawPitchRoll(this.math.degToRad({number:t.yaw}),this.math.degToRad({number:t.pitch}),this.math.degToRad({number:t.roll})),this.translation(t.center[0],t.center[1],t.center[2])]}scaleCenterXYZ(t){return[this.translation(-t.center[0],-t.center[1],-t.center[2]),this.scaling(t.scaleXyz[0],t.scaleXyz[1],t.scaleXyz[2]),this.translation(t.center[0],t.center[1],t.center[2])]}scaleXYZ(t){return[this.scaling(t.scaleXyz[0],t.scaleXyz[1],t.scaleXyz[2])]}stretchDirFromCenter(t){return[this.translation(-t.center[0],-t.center[1],-t.center[2]),this.stretchDirection(t.direction,t.scale),this.translation(t.center[0],t.center[1],t.center[2])]}uniformScale(t){return[this.scaling(t.scale,t.scale,t.scale)]}uniformScaleFromCenter(t){return[this.translation(-t.center[0],-t.center[1],-t.center[2]),this.scaling(t.scale,t.scale,t.scale),this.translation(t.center[0],t.center[1],t.center[2])]}translationXYZ(t){return[this.translation(t.translation[0],t.translation[1],t.translation[2])]}translationsXYZ(t){return t.translations.map((t=>[this.translation(t[0],t[1],t[2])]))}identity(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}translation(t,e,o){return[1,0,0,0,0,1,0,0,0,0,1,0,t,e,o,1]}scaling(t,e,o){return[t,0,0,0,0,e,0,0,0,0,o,0,0,0,0,1]}rotationAxis(t,e){const o=Math.sin(-e),s=Math.cos(-e),r=1-s,n=this.vector.normalized({vector:t}),i=n[0],a=n[1],c=n[2],l=this.identity();return l[0]=i*i*r+s,l[1]=i*a*r-c*o,l[2]=i*c*r+a*o,l[3]=0,l[4]=a*i*r+c*o,l[5]=a*a*r+s,l[6]=a*c*r-i*o,l[7]=0,l[8]=c*i*r-a*o,l[9]=c*a*r+i*o,l[10]=c*c*r+s,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l}rotationX(t){const e=Math.sin(t),o=Math.cos(t);return[1,0,0,0,0,o,e,0,0,-e,o,0,0,0,0,1]}rotationY(t){const e=Math.sin(t),o=Math.cos(t);return[o,0,-e,0,0,1,0,0,e,0,o,0,0,0,0,1]}rotationZ(t){const e=Math.sin(t),o=Math.cos(t);return[o,e,0,0,-e,o,0,0,0,0,1,0,0,0,0,1]}rotationYawPitchRoll(t,e,o){const s=.5*o,r=.5*e,n=.5*t,i=Math.sin(s),a=Math.cos(s),c=Math.sin(r),l=Math.cos(r),h=Math.sin(n),u=Math.cos(n),d=u*c*a+h*l*i,f=h*l*a-u*c*i,m=u*l*i-h*c*a,p=u*l*a+h*c*i;return this.rotationMatrixFromQuat(d,f,m,p)}rotationMatrixFromQuat(t,e,o,s){const r=t*t,n=e*e,i=o*o,a=t*e,c=o*s,l=o*t,h=e*s,u=e*o,d=t*s,f=this.identity();return f[0]=1-2*(n+i),f[1]=2*(a+c),f[2]=2*(l-h),f[3]=0,f[4]=2*(a-c),f[5]=1-2*(i+r),f[6]=2*(u+d),f[7]=0,f[8]=2*(l+h),f[9]=2*(u-d),f[10]=1-2*(n+r),f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f}stretchDirection(t,e){const o=this.vector.normalized({vector:t}),[s,r,n]=o;if(isNaN(s)||0===s&&0===r&&0===n)return console.warn("Stretch direction vector is zero or invalid. Returning identity matrix."),this.identity();const i=e-1;return[1+i*s*s,i*r*s,i*n*s,0,i*s*r,1+i*r*r,i*n*r,0,i*s*n,i*r*n,1+i*n*n,0,0,0,0,1]}}class M{constructor(){this.getArrayDepth=t=>Array.isArray(t)?1+Math.max(...t.map(this.getArrayDepth)):0}transformControlPoints(t,e){return this.getFlatTransformations(t).forEach((t=>{e=this.transformPointsByMatrixArray(e,t)})),e}getFlatTransformations(t){let e=[];return 3===this.getArrayDepth(t)?t.forEach((t=>{e.push(...t)})):e=t,e}transformPointsByMatrixArray(t,e){return this.transformPointsCoordinates(t,e)}transformPointsCoordinates(t,e){const o=[];for(const s of t){const t=this.transformCoordinates(s[0],s[1],s[2],e);o.push(t)}return o}removeAllDuplicateVectors(t,e=1e-7){const o=[];return t.forEach((t=>{o.some((o=>this.vectorsTheSame(t,o,e)))||o.push(t)})),o}removeConsecutiveVectorDuplicates(t,e=!0,o=1e-7){const s=[];if(t.length>1){for(let e=1;e<t.length;e++){const r=t[e],n=t[e-1];this.vectorsTheSame(r,n,o)||s.push(n),e===t.length-1&&s.push(r)}if(e){const t=s[0],e=s[s.length-1];this.vectorsTheSame(t,e,o)&&s.pop()}}else 1===t.length&&s.push(...t);return s}vectorsTheSame(t,e,o){let s=!1;if(t.length!==e.length)return s;s=!0;for(let r=0;r<t.length;r++)if(!this.approxEq(t[r],e[r],o)){s=!1;break}return s}approxEq(t,e,o){return Math.abs(t-e)<o}removeConsecutivePointDuplicates(t,e=!0,o=1e-7){const s=[];if(t.length>1){for(let e=1;e<t.length;e++){const r=t[e],n=t[e-1];this.arePointsTheSame(r,n,o)||s.push(n),e===t.length-1&&s.push(r)}if(e){const t=s[0],e=s[s.length-1];this.arePointsTheSame(t,e,o)&&s.pop()}}else 1===t.length&&s.push(...t);return s}arePointsTheSame(t,e,o){let s=!1;return 2===t.length&&2===e.length?this.approxEq(t[0],e[0],o)&&this.approxEq(t[1],e[1],o)&&(s=!0):3===t.length&&3===e.length&&this.approxEq(t[0],e[0],o)&&this.approxEq(t[1],e[1],o)&&this.approxEq(t[2],e[2],o)&&(s=!0),s}transformCoordinates(t,e,o,s){const r=s,n=t*r[0]+e*r[4]+o*r[8]+r[12],i=t*r[1]+e*r[5]+o*r[9]+r[13],a=t*r[2]+e*r[6]+o*r[10]+r[14],c=1/(t*r[3]+e*r[7]+o*r[11]+r[15]);return[n*c,i*c,a*c]}}class O{constructor(t,e,o){this.vector=t,this.point=e,this.geometryHelper=o}getStartPoint(t){return t.line.start}getEndPoint(t){return t.line.end}length(t){return this.point.distance({startPoint:t.line.start,endPoint:t.line.end})}reverse(t){return{start:t.line.end,end:t.line.start}}transformLine(t){const e=t.transformation;let o=[t.line.start,t.line.end];return o=this.geometryHelper.transformControlPoints(e,o),{start:o[0],end:o[1]}}transformsForLines(t){return t.lines.map(((e,o)=>{const s=t.transformation[o];let r=[e.start,e.end];return r=this.geometryHelper.transformControlPoints(s,r),{start:r[0],end:r[1]}}))}create(t){return{start:t.start,end:t.end}}createSegment(t){return[t.start,t.end]}getPointOnLine(t){const e=t.line.start,o=t.line.end,s=t.param,r=[o[0]-e[0],o[1]-e[1],o[2]-e[2]];return[e[0]+s*r[0],e[1]+s*r[1],e[2]+s*r[2]]}linesBetweenPoints(t){const e=[];for(let o=1;o<t.points.length;o++){const s=t.points[o-1],r=t.points[o];e.push({start:s,end:r})}return e}linesBetweenStartAndEndPoints(t){return t.startPoints.map(((e,o)=>({start:e,end:t.endPoints[o]}))).filter((t=>0!==this.point.distance({startPoint:t.start,endPoint:t.end})))}lineToSegment(t){return[t.line.start,t.line.end]}linesToSegments(t){return t.lines.map((t=>[t.start,t.end]))}segmentToLine(t){return{start:t.segment[0],end:t.segment[1]}}segmentsToLines(t){return t.segments.map((t=>({start:t[0],end:t[1]})))}lineLineIntersection(t){const e=t.tolerance||1e-6,o=t.checkSegmentsOnly,s=t.line1,r=t.line2;if(!((null==s?void 0:s.start)&&s.end&&(null==r?void 0:r.start)&&r.end&&3===s.start.length&&3===s.end.length&&3===r.start.length&&3===r.end.length))return void console.error("Invalid line input to lineLineIntersection");const n=s.start,i=this.vector.sub({first:s.end,second:s.start}),a=r.start,c=this.vector.sub({first:r.end,second:r.start}),l=this.vector.sub({first:a,second:n}),h=this.vector.lengthSq({vector:i}),u=this.vector.lengthSq({vector:c});if(h<e*e||u<e*e)return;const d=this.vector.cross({first:i,second:c});if(this.vector.lengthSq({vector:d})<e*e){const t=this.vector.cross({first:l,second:i}),s=e*e*h;if(this.vector.lengthSq({vector:t})<s){if(o){const t=h<e*e?1:h,o=this.vector.dot({first:i,second:l})/t,s=this.vector.sub({first:r.end,second:n}),a=this.vector.dot({first:i,second:s})/t,c=[Math.min(o,a),Math.max(o,a)],u=[0,1];return Math.max(u[0],c[0]),void Math.min(u[1],c[1])}return n}return}const f=this.vector.dot({first:l,second:d}),m=e*e*e;if(Math.abs(f)>m)return;const p=h,v=u,g=this.vector.dot({first:i,second:c}),y=this.vector.dot({first:i,second:l}),b=this.vector.dot({first:c,second:l}),x=p*v-g*g;if(Math.abs(x)<e*e)return void console.error("Internal error: Denominator near zero after non-parallel check.");const P=(v*y-g*b)/x,D=(g*y-p*b)/x;if(o&&(P<-e||P>1+e||D<-e||D>1+e))return;const C=this.getPointOnLine({param:P,line:s});return[Math.abs(C[0])<e?0:C[0],Math.abs(C[1])<e?0:C[1],Math.abs(C[2])<e?0:C[2]]}}class E{constructor(t,e,o,s){this.vector=t,this.point=e,this.line=o,this.geometryHelper=s}length(t){let e=0;for(let o=1;o<t.polyline.points.length;o++){const s=t.polyline.points[o-1],r=t.polyline.points[o];e+=this.point.distance({startPoint:s,endPoint:r})}return e}countPoints(t){return t.polyline.points.length}getPoints(t){return t.polyline.points}reverse(t){return{points:t.polyline.points.reverse()}}transformPolyline(t){const e=t.transformation;let o=t.polyline.points;return o=this.geometryHelper.transformControlPoints(e,o),{points:o}}create(t){var e;return{points:t.points,isClosed:null!==(e=t.isClosed)&&void 0!==e&&e}}polylineToLines(t){return this.polylineToSegments(t).map((t=>({start:t[0],end:t[1]})))}polylineToSegments(t){const e=t.polyline,o=[],s=e.points,r=s.length;if(r<2)return o;for(let t=0;t<r-1;t++)o.push([s[t],s[t+1]]);return e.isClosed&&r>=2&&(this.point.twoPointsAlmostEqual({point1:s[r-1],point2:s[0],tolerance:1e-9})||o.push([s[r-1],s[0]])),o}polylineSelfIntersection(t){const{polyline:e,tolerance:o}=t,s=this.polylineToLines({polyline:e}),r=s.length;if(r<3)return[];const n=[],i=null!=o?o:1e-6;for(let t=0;t<r;t++)for(let o=t+1;o<r;o++){let a=o===t+1;if(!a&&e.isClosed&&0===t&&o===r-1&&(a=!0),a)continue;const c=this.line.lineLineIntersection({line1:s[t],line2:s[o],checkSegmentsOnly:!0,tolerance:i});if(c){let t=!1;for(const e of n)if(this.point.twoPointsAlmostEqual({point1:c,point2:e,tolerance:i})){t=!0;break}t||n.push(c)}}return n}twoPolylineIntersection(t){const{polyline1:e,polyline2:o,tolerance:s}=t,r=this.polylineToLines({polyline:e}),n=this.polylineToLines({polyline:o}),i=[],a=null!=s?s:1e-6;for(const t of r)for(const e of n){const o=this.line.lineLineIntersection({line1:t,line2:e,checkSegmentsOnly:!0,tolerance:a});if(o){let t=!1;for(const e of i)if(this.point.twoPointsAlmostEqual({point1:o,point2:e,tolerance:a})){t=!0;break}t||i.push(o)}}return i}sortSegmentsIntoPolylines(t){var e;const o=null!==(e=t.tolerance)&&void 0!==e?e:1e-5,s=t.segments;if(!s||0===s.length)return[];const r=o*o,n=s.length,i=new Array(n).fill(!1),a=[],c=new Map,l=1/o,h=t=>`${Math.round(t[0]*l)},${Math.round(t[1]*l)},${Math.round(t[2]*l)}`;for(let t=0;t<n;t++){const e=s[t];if(this.point.twoPointsAlmostEqual({point1:e[0],point2:e[1],tolerance:o})){i[t]=!0;continue}const r=h(e[0]),n=h(e[1]),a={segmentIndex:t,endpointIndex:0,coords:e[0]},l={segmentIndex:t,endpointIndex:1,coords:e[1]};c.has(r)||c.set(r,[]),c.get(r).push(a),n!==r?(c.has(n)||c.set(n,[]),c.get(n).push(l)):c.get(r).push(l)}const u=t=>{const e=[],s=Math.round(t[0]*l),n=Math.round(t[1]*l),a=Math.round(t[2]*l);for(let t=-1;t<=1;t++)for(let o=-1;o<=1;o++)for(let r=-1;r<=1;r++)e.push(`${s+t},${n+o},${a+r}`);let h,u=r;for(const s of e){const e=c.get(s);if(e)for(const s of e)if(!i[s.segmentIndex]){const e=this.vector.sub({first:s.coords,second:t}),r=this.vector.lengthSq({vector:e});r<u&&this.point.twoPointsAlmostEqual({point1:s.coords,point2:t,tolerance:o})&&(h=s,u=r)}}if(h&&!i[h.segmentIndex])return h};for(let t=0;t<n;t++){if(i[t])continue;i[t]=!0;const e=s[t],r=[e[0],e[1]];let c=e[0],l=e[1],h=!1,d=0;for(;d++<n;){const t=u(l);if(!t)break;const e=s[t.segmentIndex],n=0===t.endpointIndex?e[1]:e[0];if(this.point.twoPointsAlmostEqual({point1:n,point2:c,tolerance:o})){h=!0,i[t.segmentIndex]=!0;break}i[t.segmentIndex]=!0,r.push(n),l=n}if(d=0,!h)for(;d++<n;){const t=u(c);if(!t)break;const e=s[t.segmentIndex],n=0===t.endpointIndex?e[1]:e[0];if(this.point.twoPointsAlmostEqual({point1:n,point2:l,tolerance:o})){h=!0,i[t.segmentIndex]=!0;break}i[t.segmentIndex]=!0,r.unshift(n),c=n}!h&&r.length>=2&&(h=this.point.twoPointsAlmostEqual({point1:c,point2:l,tolerance:o})),h&&r.length>2&&this.point.twoPointsAlmostEqual({point1:r[r.length-1],point2:r[0],tolerance:o})&&r.pop(),a.push({points:r,isClosed:h})}return a}maxFilletsHalfLine(t){return this.point.maxFilletsHalfLine({points:t.polyline.points,checkLastWithFirst:t.polyline.isClosed,tolerance:t.tolerance})}safestFilletRadius(t){const e=this.maxFilletsHalfLine(t);if(0===e.length)return 0;const o=Math.min(...e);return Math.max(0,o)}}class A{constructor(t,e){this.vector=t,this.polyline=e}signedDistanceToPlane(t){return this.vector.dot({first:t.plane.normal,second:t.point})-t.plane.d}calculateTrianglePlane(t){const e=Math.pow(t.tolerance||1e-7,2),o=this.vector.sub({first:t.triangle[1],second:t.triangle[0]}),s=this.vector.sub({first:t.triangle[2],second:t.triangle[0]}),r=this.vector.cross({first:o,second:s});if(this.vector.lengthSq({vector:r})<e)return;const n=this.vector.normalized({vector:r});return{normal:n,d:this.vector.dot({first:n,second:t.triangle[0]})}}triangleTriangleIntersection(t){const e=t.triangle1,o=t.triangle2,s=t.tolerance||1e-7,r=e[0],n=e[1],i=e[2],a=o[0],c=o[1],l=o[2],h=this.calculateTrianglePlane({triangle:e,tolerance:s}),u=this.calculateTrianglePlane({triangle:o,tolerance:s});if(!h||!u)return;const d=[this.signedDistanceToPlane({point:a,plane:h}),this.signedDistanceToPlane({point:c,plane:h}),this.signedDistanceToPlane({point:l,plane:h})];if(d[0]>s&&d[1]>s&&d[2]>s||d[0]<-s&&d[1]<-s&&d[2]<-s)return;const f=[this.signedDistanceToPlane({point:r,plane:u}),this.signedDistanceToPlane({point:n,plane:u}),this.signedDistanceToPlane({point:i,plane:u})];if(f[0]>s&&f[1]>s&&f[2]>s||f[0]<-s&&f[1]<-s&&f[2]<-s)return;const m=f.every((t=>Math.abs(t)<s)),p=d.every((t=>Math.abs(t)<s));if(m&&p)return;const v=this.vector.cross({first:h.normal,second:u.normal}),g=this.vector.dot({first:v,second:v});if(g<s*s)return;const y=[],b=[],x=[[r,n],[n,i],[i,r]],P=f;for(let t=0;t<3;++t){const e=x[t][0],o=x[t][1],r=P[t],n=P[(t+1)%3];if(Math.abs(r)<s&&y.push(e),r*n<0&&Math.abs(r-n)>s){const t=r/(r-n);y.push(this.computeIntersectionPoint(e,o,t))}}const D=[[a,c],[c,l],[l,a]],C=d;for(let t=0;t<3;++t){const e=D[t][0],o=D[t][1],r=C[t],n=C[(t+1)%3];if(Math.abs(r)<s&&b.push(e),r*n<0&&Math.abs(r-n)>s){const t=r/(r-n);b.push(this.computeIntersectionPoint(e,o,t))}}if(y.length<2||b.length<2)return;const S=h.normal,w=u.normal,T=h.d,M=u.d,O=this.vector.mul({vector:w,scalar:T}),E=this.vector.mul({vector:S,scalar:M}),A=this.vector.sub({first:O,second:E}),I=this.vector.cross({first:A,second:v}),$=this.vector.mul({vector:I,scalar:1/g}),R=y.map((t=>this.vector.dot({first:this.vector.sub({first:t,second:$}),second:v}))),F=b.map((t=>this.vector.dot({first:this.vector.sub({first:t,second:$}),second:v}))),L=[Math.min(...R),Math.max(...R)],N=[Math.min(...F),Math.max(...F)],k=Math.max(L[0],N[0]),H=Math.min(L[1],N[1]);if(k<H-s*g){const t=this.vector.add({first:$,second:this.vector.mul({vector:v,scalar:k/g})}),e=this.vector.add({first:$,second:this.vector.mul({vector:v,scalar:H/g})}),o=this.vector.sub({first:t,second:e});return this.vector.lengthSq({vector:o})>s*s?[t,e]:void 0}}meshMeshIntersectionSegments(t){const e=t.mesh1,o=t.mesh2,s=[];for(let r=0;r<e.length;++r)for(let n=0;n<o.length;++n){const i=e[r],a=o[n],c=this.triangleTriangleIntersection({triangle1:i,triangle2:a,tolerance:t.tolerance});c&&s.push(c)}return s}meshMeshIntersectionPolylines(t){const e=this.meshMeshIntersectionSegments(t);return this.polyline.sortSegmentsIntoPolylines({segments:e,tolerance:t.tolerance})}meshMeshIntersectionPoints(t){return this.meshMeshIntersectionPolylines(t).map((t=>t.isClosed?[...t.points,t.points[0]]:t.points))}computeIntersectionPoint(t,e,o){return this.vector.add({first:t,second:this.vector.mul({vector:this.vector.sub({first:e,second:t}),scalar:o})})}}class I{constructor(){this.entityHandle=256,this.colorFormat="aci",this.acadVersion="AC1009"}generateDxf(t){this.colorFormat=t.colorFormat||"aci",this.acadVersion=t.acadVersion||"AC1009";const e=[];return e.push(...this.generateHeader()),e.push(...this.generateTables(t)),e.push(...this.generateBlocks()),e.push(...this.generateEntities(t)),e.push("0","EOF"),e.join("\n")}generateHeader(){const t=["0","SECTION","2","HEADER","9","$ACADVER","1",this.acadVersion];return"AC1009"===this.acadVersion?t.push("9","$DWGCODEPAGE","3","ascii","9","$HANDSEED","5","0"):t.push("9","$DWGCODEPAGE","3","ANSI_1252","9","$LASTSAVEDBY","1","bitbybit.dev","9","$HANDSEED","5","20000"),t.push("0","ENDSEC"),t}generateTables(t){const e=["0","SECTION","2","TABLES"];return"AC1009"===this.acadVersion&&e.push(...this.generateVportTable()),e.push(...this.generateLineTypeTable()),e.push(...this.generateLayerTable(t)),e.push(...this.generateStyleTable()),"AC1009"===this.acadVersion&&(e.push(...this.generateViewTable()),e.push(...this.generateUcsTable()),e.push(...this.generateAppidTable()),e.push(...this.generateDimstyleTable())),e.push("0","ENDSEC"),e}generateLineTypeTable(){const t=["0","TABLE","2","LTYPE","70","1"];return"AC1015"===this.acadVersion&&t.push("5","5","100","AcDbSymbolTable"),t.push("0","LTYPE","2","CONTINUOUS","70","AC1009"===this.acadVersion?"64":"0","3","Solid line","72","65","73","0","40","0.0"),"AC1015"===this.acadVersion&&t.splice(t.indexOf("LTYPE")+1,0,"5","14","100","AcDbSymbolTableRecord","100","AcDbLinetypeTableRecord"),t.push("0","ENDTAB"),t}generateStyleTable(){const t=["0","TABLE","2","STYLE","70","1"];return"AC1015"===this.acadVersion&&t.push("5","3","100","AcDbSymbolTable"),t.push("0","STYLE","2","STANDARD","70","0","40","0.0","41","1.0","50","0.0","71","0","42","0.2","3","txt","4",""),"AC1015"===this.acadVersion&&t.splice(t.indexOf("STYLE")+1,0,"5","11","100","AcDbSymbolTableRecord","100","AcDbTextStyleTableRecord"),t.push("0","ENDTAB"),t}generateVportTable(){return["0","TABLE","2","VPORT","70","2","0","VPORT","2","*ACTIVE","70","0","10","0.0","20","0.0","11","1.0","21","1.0","12","15.0","22","11.101231","13","0.0","23","0.0","14","0.1","24","0.1","15","0.5","25","0.5","16","0.0","26","0.0","36","1.0","17","0.0","27","0.0","37","0.0","40","22.202462","41","1.351201","42","50.0","43","0.0","44","0.0","50","0.0","51","0.0","71","0","72","100","73","1","74","1","75","1","76","0","77","0","78","0","0","ENDTAB"]}generateViewTable(){return["0","TABLE","2","VIEW","70","0","0","ENDTAB"]}generateUcsTable(){return["0","TABLE","2","UCS","70","0","0","ENDTAB"]}generateAppidTable(){return["0","TABLE","2","APPID","70","1","0","APPID","2","ACAD","70","64","0","ENDTAB"]}generateDimstyleTable(){return["0","TABLE","2","DIMSTYLE","70","0","0","ENDTAB"]}generateBlocks(){return["0","SECTION","2","BLOCKS","0","ENDSEC"]}generateLayerTable(t){const e=new Set;t.dxfPathsParts&&t.dxfPathsParts.forEach((t=>{t.layer&&e.add(t.layer)})),0===e.size&&e.add("0");const o=["0","TABLE","2","LAYER","70",e.size.toString()];return"AC1015"===this.acadVersion&&o.splice(4,0,"5","2","100","AcDbSymbolTable"),e.forEach((t=>{if(o.push("0","LAYER","2",t,"70","0","62","7","6","CONTINUOUS"),"AC1015"===this.acadVersion){const t=o.lastIndexOf("LAYER")+1;o.splice(t,0,"5",this.getNextHandle(),"100","AcDbSymbolTableRecord","100","AcDbLayerTableRecord")}})),o.push("0","ENDTAB"),o}generateEntities(t){const e=["0","SECTION","2","ENTITIES"];return t.dxfPathsParts&&t.dxfPathsParts.forEach((t=>{t.paths&&t.paths.forEach((o=>{o.segments&&o.segments.forEach((o=>{e.push(...this.generateSegmentEntity(o,t))}))}))})),e.push("0","ENDSEC"),e}generateSegmentEntity(t,e){return this.isLineSegment(t)?this.generateLineEntity(t,e):this.isArcSegment(t)?this.generateArcEntity(t,e):this.isCircleSegment(t)?this.generateCircleEntity(t,e):this.isPolylineSegment(t)?this.generatePolylineEntity(t,e):this.isSplineSegment(t)?this.generateSplineEntity(t,e):[]}isLineSegment(t){return void 0!==t.start&&void 0!==t.end&&void 0===t.radius}isArcSegment(t){return void 0!==t.center&&void 0!==t.radius&&void 0!==t.startAngle&&void 0!==t.endAngle}isCircleSegment(t){return void 0!==t.center&&void 0!==t.radius&&void 0===t.startAngle}isPolylineSegment(t){return void 0!==t.points&&Array.isArray(t.points)}isSplineSegment(t){return void 0!==t.controlPoints&&Array.isArray(t.controlPoints)}generateLineEntity(t,e){const o=["0","LINE","8",e.layer||"0"];if(void 0!==e.color&&this.convertColorToDxf(e.color).forEach((t=>o.push(t.code,t.value))),o.push("10",t.start[0].toFixed(6),"20",t.start[1].toFixed(6),"30","0.00","11",t.end[0].toFixed(6),"21",t.end[1].toFixed(6),"31","0.00"),"AC1015"===this.acadVersion){o.splice(2,0,"5",this.getNextHandle(),"100","AcDbEntity");const t=o.indexOf("10");o.splice(t,0,"100","AcDbLine")}return o}generateCircleEntity(t,e){const o=["0","CIRCLE","8",e.layer||"0"];if(void 0!==e.color&&this.convertColorToDxf(e.color).forEach((t=>o.push(t.code,t.value))),o.push("10",t.center[0].toFixed(6),"20",t.center[1].toFixed(6),"30","0.00","40",t.radius.toFixed(6)),"AC1015"===this.acadVersion){o.splice(2,0,"5",this.getNextHandle(),"100","AcDbEntity");const t=o.indexOf("10");o.splice(t,0,"100","AcDbCircle")}return o}generateArcEntity(t,e){const o=["0","ARC","8",e.layer||"0"];if("AC1009"===this.acadVersion&&o.push("6"," "),void 0!==e.color&&this.convertColorToDxf(e.color).forEach((t=>o.push(t.code,t.value))),o.push("10",t.center[0].toFixed(6),"20",t.center[1].toFixed(6),"30","AC1009"===this.acadVersion?"":"0.0","40",t.radius.toFixed(6),"50",t.startAngle.toFixed(6),"51",t.endAngle.toFixed(6)),"AC1015"===this.acadVersion){o.splice(2,0,"5",this.getNextHandle(),"100","AcDbEntity");const t=o.indexOf("10");o.splice(t,0,"100","AcDbCircle");const e=o.indexOf("50");o.splice(e,0,"100","AcDbArc")}return o}generatePolylineEntity(t,e){const o=["0","LWPOLYLINE","8",e.layer||"0"];void 0!==e.color&&this.convertColorToDxf(e.color).forEach((t=>o.push(t.code,t.value)));const s=t.closed||t.points.length>2&&this.isClosedPolyline(t.points);if(o.push("90",t.points.length.toString(),"70",s?"1":"0"),"AC1015"===this.acadVersion){o.splice(2,0,"5",this.getNextHandle(),"100","AcDbEntity");const t=o.indexOf("90");o.splice(t,0,"100","AcDbPolyline")}return t.points.forEach(((e,s)=>{if(o.push("10",e[0].toFixed(6),"20",e[1].toFixed(6)),t.bulges&&t.bulges.length>s){const e=t.bulges[s];0!==e&&o.push("42",e.toFixed(6))}})),o}generateSplineEntity(t,e){const o=["0","SPLINE","8",e.layer||"0"];void 0!==e.color&&this.convertColorToDxf(e.color).forEach((t=>o.push(t.code,t.value)));const s=t.degree||3,r=t.controlPoints.length,n=r+s+1,i=t.closed?9:8;if(o.push("210","0.0","220","0.0","230","1.0","70",i.toString(),"71",s.toString(),"72",n.toString(),"73",r.toString(),"74","0"),"AC1015"===this.acadVersion){o.splice(2,0,"5",this.getNextHandle(),"100","AcDbEntity");const t=o.indexOf("210");o.splice(t,0,"100","AcDbSpline")}for(let t=0;t<n;t++)o.push("40",t.toFixed(6));return t.controlPoints.forEach((t=>{o.push("10",t[0].toFixed(6),"20",t[1].toFixed(6),"30","0.0")})),o}isClosedPolyline(t){if(t.length<3)return!1;const e=t[0],o=t[t.length-1];return Math.abs(e[0]-o[0])<1e-10&&Math.abs(e[1]-o[1])<1e-10}getNextHandle(){return(++this.entityHandle).toString(16).toUpperCase()}convertColorToDxf(t){if(/^\d+$/.test(t)){const e=parseInt(t,10);if(e>=1&&e<=255)return[{code:"62",value:t}]}if(t.startsWith("#")){const e=t.substring(1);if(6===e.length){const t=parseInt(e.substring(0,2),16),o=parseInt(e.substring(2,4),16),s=parseInt(e.substring(4,6),16);return"truecolor"===this.colorFormat?[{code:"62",value:"256"},{code:"420",value:(65536*t+256*o+s).toString()}]:[{code:"62",value:this.rgbToAciColorIndex(t,o,s).toString()}]}}return[{code:"62",value:"7"}]}rgbToAciColorIndex(t,e,o){const s={1:[255,0,0],2:[255,255,0],3:[0,255,0],4:[0,255,255],5:[0,0,255],6:[255,0,255],7:[255,255,255],8:[128,128,128],9:[192,192,192]};if(t<30&&e<30&&o<30)return 7;let r=7,n=1/0;for(const[i,[a,c,l]]of Object.entries(s)){const s=Math.sqrt(Math.pow(t-a,2)+Math.pow(e-c,2)+Math.pow(o-l,2));s<n&&(n=s,r=parseInt(i))}return r}}class ${constructor(){this.dxfGenerator=new I}lineSegment(t){return t}arcSegment(t){return t}circleSegment(t){return t}polylineSegment(t){return t}splineSegment(t){return t}path(t){return t}pathsPart(t){return t}dxfCreate(t){return this.dxfGenerator.generateDxf(t)}}class R{constructor(){this.dxf=new $}}class F{}F.BITBYBIT_CDN_URL="https://git-cdn.bitbybit.dev/v1.0.0-rc.1";class L{constructor(t){this.manifold=t}manifoldFromMesh(t){const{Manifold:e}=this.manifold;return new e(t.mesh)}fromPolygonPoints(t){const{Manifold:o}=this.manifold,s=t.polygonPoints,r=new Map,n=[],i=[];let a=0;for(const t of s)if(t&&3===t.length)for(const e of t){if(!e||3!==e.length||e.some(isNaN))throw console.warn(`Skipping invalid point data in triangle: ${JSON.stringify(e)}`),new Error(`Invalid point data encountered: ${JSON.stringify(e)} in triangle ${JSON.stringify(t)}`);const o=`${e[0]},${e[1]},${e[2]}`;let s;r.has(o)?s=r.get(o):(s=a,r.set(o,s),n.push(e[0],e[1],e[2]),a++),i.push(s)}else console.warn(`Skipping invalid polygon data (expected 3 vertices): ${JSON.stringify(t)}`);const c=Float32Array.from(n),l=Uint32Array.from(i),h=new e.DecomposedManifoldMeshDto;return h.numProp=3,h.vertProperties=c,h.triVerts=l,new o(h)}cube(t){const{Manifold:e}=this.manifold,{cube:o}=e;return o(t.size,t.center)}sphere(t){const{Manifold:e}=this.manifold,{sphere:o}=e;return o(t.radius,t.circularSegments)}tetrahedron(){const{Manifold:t}=this.manifold,{tetrahedron:e}=t;return e()}cylinder(t){const{Manifold:e}=this.manifold,{cylinder:o}=e;return o(t.height,t.radiusLow,t.radiusHigh,t.circularSegments,t.center)}}class N{constructor(t){this.manifold=t}split(t){return t.manifoldToSplit.split(t.manifoldCutter)}splitByPlane(t){return t.manifold.splitByPlane(t.normal,t.originOffset)}splitByPlaneOnOffsets(t){const e=[],o=[t.manifold.asOriginal()],s=[];return t.originOffsets.forEach(((r,n)=>{if(o[n]){const i=o[n].splitByPlane(t.normal,r);i[1].isEmpty()||i[0].isEmpty()?i[1].isEmpty()&&!i[0].isEmpty()?(o.push(i[0]),s.push(i[1])):!i[1].isEmpty()&&i[0].isEmpty()?(e.push(i[1]),s.push(i[0])):i[0].isEmpty()&&i[1].isEmpty()&&s.push(...i):(e.push(i[1]),o.push(i[0]))}})),o.forEach((t=>t.delete())),s.forEach((t=>t.delete())),e}trimByPlane(t){return t.manifold.asOriginal().trimByPlane(t.normal,t.originOffset)}subtract(t){return t.manifold1.subtract(t.manifold2)}add(t){return t.manifold1.add(t.manifold2)}intersect(t){return t.manifold1.intersect(t.manifold2)}differenceTwo(t){const{Manifold:e}=this.manifold,{difference:o}=e;return o(t.manifold1,t.manifold2)}difference(t){const{Manifold:e}=this.manifold,{difference:o}=e;return o(t.manifolds)}unionTwo(t){const{Manifold:e}=this.manifold,{union:o}=e;return o(t.manifold1,t.manifold2)}union(t){const{Manifold:e}=this.manifold,{union:o}=e;return o(t.manifolds)}intersectionTwo(t){const{Manifold:e}=this.manifold,{intersection:o}=e;return o(t.manifold1,t.manifold2)}intersection(t){const{Manifold:e}=this.manifold,{intersection:o}=e;return o(t.manifolds)}}class k{constructor(t){this.manifold=t}hull(t){return t.manifold.hull()}hullPoints(t){const{Manifold:e}=this.manifold,{hull:o}=e;return o(t.points)}slice(t){return t.manifold.slice(t.height)}project(t){return t.manifold.project()}setTolerance(t){return t.manifold.setTolerance(t.tolerance)}asOriginal(t){return t.manifold.asOriginal()}reserveIds(t){const{Manifold:e}=this.manifold,{reserveIDs:o}=e;return o(t.count)}compose(t){const{Manifold:e}=this.manifold,{compose:o}=e;return o(t.manifolds)}decompose(t){return t.manifold.decompose()}calculateNormals(t){return t.manifold.calculateNormals(t.normalIdx,t.minSharpAngle)}calculateCurvature(t){return t.manifold.calculateCurvature(t.gaussianIdx,t.meanIdx)}refineToTolerance(t){return t.manifold.refineToTolerance(t.tolerance)}refineToLength(t){return t.manifold.refineToLength(t.length)}refine(t){return t.manifold.refine(t.number)}smoothOut(t){return t.manifold.smoothOut(t.minSharpAngle,t.minSmoothness)}smoothByNormals(t){return t.manifold.smoothByNormals(t.normalIdx)}simplify(t){return t.manifold.simplify(t.tolerance)}setProperties(t){return t.manifold.setProperties(t.numProp,t.propFunc)}}class H{constructor(t){this.manifold=t}scale3D(t){return t.manifold.scale(t.vector)}scale(t){return t.manifold.scale(t.vector)}mirror(t){return t.manifold.mirror(t.normal)}translate(t){return t.manifold.translate(t.vector)}translateByVectors(t){return t.vectors.map((e=>t.manifold.translate(e)))}rotate(t){return t.manifold.rotate(t.vector)}rotateXYZ(t){return t.manifold.rotate(t.x,t.y,t.z)}translateXYZ(t){return t.manifold.translate(t.x,t.y,t.z)}transform(t){return t.manifold.transform(t.transform)}transforms(t){let e=t.manifold;const o=[];t.transforms.forEach((t=>{e=e.transform(t),o.push(e)}));const s=o.pop();return o.forEach((t=>{t.delete()})),s}warp(t){return t.manifold.warp(t.warpFunc)}}class _{constructor(t){this.manifold=t}volume(t){return t.manifold.volume()}surfaceArea(t){return t.manifold.surfaceArea()}isEmpty(t){return t.manifold.isEmpty()}numVert(t){return t.manifold.numVert()}numTri(t){return t.manifold.numTri()}numEdge(t){return t.manifold.numEdge()}numProp(t){return t.manifold.numProp()}numPropVert(t){return t.manifold.numPropVert()}boundingBox(t){const e=t.manifold.boundingBox();return[e.min,e.max]}tolerance(t){return t.manifold.tolerance()}genus(t){return t.manifold.genus()}minGap(t){return t.manifold1.minGap(t.manifold2,t.searchLength)}originalID(t){return t.manifold.originalID()}status(t){return t.manifold.status()}}class V{constructor(t){this.shapes=new L(t),this.booleans=new N(t),this.operations=new k(t),this.transforms=new H(t),this.evaluate=new _(t)}manifoldToMesh(t){return t.manifold.getMesh(t.normalIdx)}manifoldsToMeshes(t){return t.manifolds.map(((e,o)=>{const s=t.normalIdx?t.normalIdx[o]:void 0;return this.manifoldToMesh({manifold:e,normalIdx:s})}))}}class B{constructor(t){this.manifold=t}create(t){const{CrossSection:e}=this.manifold;return new e(t.polygons,t.fillRule)}square(t){const{CrossSection:e}=this.manifold,{square:o}=e;return o(t.size,t.center)}circle(t){const{CrossSection:e}=this.manifold,{circle:o}=e;return o(t.radius,t.circularSegments)}rectangle(t){const{CrossSection:e}=this.manifold,{square:o}=e;return o([t.length,t.height],t.center)}}class j{constructor(t){this.manifold=t}hull(t){return t.crossSection.hull()}extrude(t){return t.crossSection.extrude(t.height,t.nDivisions,t.twistDegrees,[t.scaleTopX,t.scaleTopY],t.center)}revolve(t){const e=t.crossSection.revolve(t.circularSegments,t.revolveDegrees);return t.matchProfile?e.rotate([-90,0,0]):e}offset(t){return t.crossSection.offset(t.delta,t.joinType,t.miterLimit,t.circularSegments)}simplify(t){return t.crossSection.simplify(t.epsilon)}compose(t){const{CrossSection:e}=this.manifold,{compose:o}=e;return o(t.polygons)}decompose(t){return t.crossSection.decompose()}}class W{constructor(t){this.manifold=t}scale2D(t){return t.crossSection.scale(t.vector)}scale(t){return t.crossSection.scale(t.factor)}mirror(t){return t.crossSection.mirror(t.normal)}translate(t){return t.crossSection.translate(t.vector)}translateXY(t){return t.crossSection.translate([t.x,t.y])}rotate(t){return t.crossSection.rotate(t.degrees)}transform(t){return t.crossSection.transform(t.transform)}warp(t){return t.crossSection.warp(t.warpFunc)}}class z{constructor(t){this.manifold=t}subtract(t){return t.crossSection1.subtract(t.crossSection2)}add(t){return t.crossSection1.add(t.crossSection2)}intersect(t){return t.crossSection1.intersect(t.crossSection2)}differenceTwo(t){const{CrossSection:e}=this.manifold,{difference:o}=e;return o(t.crossSection1,t.crossSection2)}difference(t){const{CrossSection:e}=this.manifold,{difference:o}=e;return o(t.crossSections)}unionTwo(t){const{CrossSection:e}=this.manifold,{union:o}=e;return o(t.crossSection1,t.crossSection2)}union(t){const{CrossSection:e}=this.manifold,{union:o}=e;return o(t.crossSections)}intersectionTwo(t){const{CrossSection:e}=this.manifold,{intersection:o}=e;return o(t.crossSection1,t.crossSection2)}intersection(t){const{CrossSection:e}=this.manifold,{intersection:o}=e;return o(t.crossSections)}}class q{constructor(t){this.manifold=t}area(t){return t.crossSection.area()}isEmpty(t){return t.crossSection.isEmpty()}numVert(t){return t.crossSection.numVert()}numContour(t){return t.crossSection.numContour()}bounds(t){const e=t.crossSection.bounds();return[e.min,e.max]}}class Y{constructor(t,e){this.manifold=t,this.base=e,this.shapes=new B(t),this.operations=new j(t),this.transforms=new W(t),this.booleans=new z(t),this.evaluate=new q(t)}crossSectionFromPoints(t){let e=t.points;t.removeDuplicates&&(e=this.base.point.removeConsecutiveDuplicates({points:e,checkFirstAndLast:!0,tolerance:t.tolerance||1e-7}));const o=e.map((t=>[t[0],t[1]]));return this.manifold.CrossSection.ofPolygons([o],t.fillRule)}crossSectionFromPolygons(t){let e=t.polygonPoints;t.removeDuplicates&&(e=e.map((e=>this.base.point.removeConsecutiveDuplicates({points:e,checkFirstAndLast:!0,tolerance:t.tolerance||1e-7}))));const o=e.map((t=>t.map((t=>[t[0],t[1]]))));return this.manifold.CrossSection.ofPolygons(o,t.fillRule)}crossSectionToPolygons(t){return t.crossSection.toPolygons()}crossSectionToPoints(t){return t.crossSection.toPolygons().map((t=>t.map((t=>[t[0],t[1],0]))))}crossSectionsToPolygons(t){return t.crossSections.map((t=>this.crossSectionToPolygons({crossSection:t})))}crossSectionsToPoints(t){return t.crossSections.map((t=>this.crossSectionToPoints({crossSection:t})))}deleteCrossSection(t){t.crossSection.delete()}deleteCrossSections(t){t.crossSections.forEach((t=>this.deleteCrossSection({crossSection:t})))}}class X{constructor(t){this.manifold=t}position(t){const e=t.mesh.position(t.vertexIndex);return[e[0],e[1],e[2]]}tangent(t){const e=t.mesh.tangent(t.halfEdgeIndex);return[e[0],e[1],e[2],e[4]]}verts(t){const e=t.mesh.verts(t.triangleIndex);return[e[0],e[1],e[2]]}extras(t){return[...t.mesh.extras(t.vertexIndex)]}transform(t){return[...t.mesh.transform(t.triangleRunIndex)]}numProp(t){return t.mesh.numProp}numVert(t){return t.mesh.numVert}numTri(t){return t.mesh.numTri}numRun(t){return t.mesh.numRun}}class U{constructor(t){this.manifold=t}merge(t){return t.mesh.merge()}}class G{constructor(t){this.operations=new U(t),this.evaluate=new X(t)}}class Z{constructor(){this.geometryHelper=new M,this.math=new P,this.vector=new w(this.math,this.geometryHelper),this.transforms=new T(this.vector,this.math),this.lists=new x,this.point=new D(this.geometryHelper,this.transforms,this.vector,this.lists),this.line=new O(this.vector,this.point,this.geometryHelper),this.polyline=new E(this.vector,this.point,this.line,this.geometryHelper),this.textService=new S(this.point),this.mesh=new A(this.vector,this.polyline),this.io=new R}}class Q{constructor(t){this.base=new Z,this.crossSection=new Y(t,this.base),this.manifold=new V(t),this.mesh=new G(t)}toPolygonPoints(t){if(t.manifold.getMesh){const e=t.manifold.getMesh();if(!e||!e.vertProperties||!e.triVerts||0===e.vertProperties.length||0===e.triVerts.length)return console.warn("Manifold does not contain valid mesh data or is empty."),[];const o=e.vertProperties,s=e.triVerts,r=e.numProp;if(r<3)throw new Error(`Cannot convert to PolygonPoints: Expected numProp >= 3 (for x, y, z), but found ${r}.`);if(s.length%3!=0)throw new Error(`Mesh data corruption: triVerts length (${s.length}) is not a multiple of 3.`);const n=[],i=o.length/r;for(let t=0;t<s.length;t+=3){const e=s[t],a=s[t+1],c=s[t+2];if(e>=i||a>=i||c>=i){console.error(`Invalid vertex index found in triVerts at offset ${t}. Max index should be ${i-1}. Indices: ${e}, ${a}, ${c}`);continue}const l=e*r,h=a*r,u=c*r,d=[[o[l],o[l+1],o[l+2]],[o[h],o[h+1],o[h+2]],[o[u],o[u+1],o[u+2]]];n.push(d)}return n}}decomposeManifoldOrCrossSection(t){return t.manifoldOrCrossSection.getMesh?t.manifoldOrCrossSection.getMesh(t.normalIdx):t.manifoldOrCrossSection.toPolygons()}decomposeManifoldsOrCrossSections(t){return t.manifoldsOrCrossSections.map(((e,o)=>{const s=t.normalIdx?t.normalIdx[o]:void 0;return this.decomposeManifoldOrCrossSection({manifoldOrCrossSection:e,normalIdx:s})}))}}let J,K,tt;var et,ot=(et="file:///Users/matasubarevicius/Documents/MyProjects/bitbybit-ui/projects/bitbybit-runners/browser-babylon/node_modules/manifold-3d/manifold.js",async function(t={}){var e,o,s=t,n=new Promise(((t,s)=>{e=t,o=s})),i="object"==typeof window,a="function"==typeof importScripts,c="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(c){const{createRequire:t}=await Promise.resolve().then(r.t.bind(r,677,19));var l=t("file:///Users/matasubarevicius/Documents/MyProjects/bitbybit-ui/projects/bitbybit-runners/browser-babylon/node_modules/manifold-3d/manifold.js")}var h=!1;s.setup=function(){if(h)return;function t(t,e,o=(t=>t)){if(e)for(let s of e)t.push_back(o(s));return t}function e(t,e=(t=>t)){const o=[],s=t.size();for(let r=0;r<s;r++)o.push(e(t.get(r)));return o}function o(e){return e[0].length<3&&(e=[e]),t(new s.Vector2_vec2,e,(e=>t(new s.Vector_vec2,e,(t=>t instanceof Array?{x:t[0],y:t[1]}:t))))}function r(t){for(let e=0;e<t.size();e++)t.get(e).delete();t.delete()}function n(t){return t[0]instanceof Array?{x:t[0][0],y:t[0][1]}:"number"==typeof t[0]?{x:t[0]||0,y:t[1]||0}:t[0]}function i(t){return t[0]instanceof Array?{x:t[0][0],y:t[0][1],z:t[0][2]}:"number"==typeof t[0]?{x:t[0]||0,y:t[1]||0,z:t[2]||0}:t[0]}function a(t){return"EvenOdd"==t?0:"NonZero"==t?1:"Negative"==t?3:2}h=!0,s.initTBB();const c=s.CrossSection;function l(t,e="Positive"){if(t instanceof c)return t;{const s=o(t),n=new c(s,a(e));return r(s),n}}s.CrossSection.prototype.translate=function(...t){return this._Translate(n(t))},s.CrossSection.prototype.scale=function(t){return"number"==typeof t?this._Scale({x:t,y:t}):this._Scale(n([t]))},s.CrossSection.prototype.mirror=function(t){return this._Mirror(n([t]))},s.CrossSection.prototype.warp=function(t){const e=ye((function(e){const o=[W(e,"double"),W(e+8,"double")];t(o),z(e,o[0],"double"),z(e+8,o[1],"double")}),"vi"),o=this._Warp(e);return be(e),o},s.CrossSection.prototype.decompose=function(){const t=this._Decompose(),o=e(t);return t.delete(),o},s.CrossSection.prototype.bounds=function(){const t=this._Bounds();return{min:["x","y"].map((e=>t.min[e])),max:["x","y"].map((e=>t.max[e]))}},s.CrossSection.prototype.offset=function(t,e="Round",o=2,s=0){return this._Offset(t,function(t){return"Round"==t?1:"Miter"==t?2:0}(e),o,s)},s.CrossSection.prototype.simplify=function(t=1e-6){return this._Simplify(t)},s.CrossSection.prototype.extrude=function(t,e=0,o=0,r=[1,1],i=!1){r=n([r]);const a=s._Extrude(this._ToPolygons(),t,e,o,r);return i?a.translate([0,0,-t/2]):a},s.CrossSection.prototype.revolve=function(t=0,e=360){return s._Revolve(this._ToPolygons(),t,e)},s.CrossSection.prototype.add=function(t){return this._add(l(t))},s.CrossSection.prototype.subtract=function(t){return this._subtract(l(t))},s.CrossSection.prototype.intersect=function(t){return this._intersect(l(t))},s.CrossSection.prototype.toPolygons=function(){const t=this._ToPolygons(),e=function(t,e=(t=>t)){const o=[],s=t.size();for(let r=0;r<s;r++){const s=t.get(r),n=s.size(),i=[];for(let t=0;t<n;t++)i.push(e(s.get(t)));o.push(i)}return o}(t,(t=>[t.x,t.y]));return t.delete(),e},s.Manifold.prototype.smoothOut=function(t=60,e=0){return this._SmoothOut(t,e)},s.Manifold.prototype.warp=function(t){const e=ye((function(e){const o=[W(e,"double"),W(e+8,"double"),W(e+16,"double")];t(o),z(e,o[0],"double"),z(e+8,o[1],"double"),z(e+16,o[2],"double")}),"vi"),o=this._Warp(e);be(e);const r=o.status();if("NoError"!==r)throw new s.ManifoldError(r);return o},s.Manifold.prototype.calculateNormals=function(t,e=60){return this._CalculateNormals(t,e)},s.Manifold.prototype.setProperties=function(t,e){const o=this.numProp(),s=ye((function(s,r,n){const i=[];for(let e=0;e<t;++e)i[e]=W(s+8*e,"double");const a=[];for(let t=0;t<3;++t)a[t]=W(r+8*t,"double");const c=[];for(let t=0;t<o;++t)c[t]=W(n+8*t,"double");e(i,a,c);for(let e=0;e<t;++e)z(s+8*e,i[e],"double")}),"viii"),r=this._SetProperties(t,s);return be(s),r},s.Manifold.prototype.translate=function(...t){return this._Translate(i(t))},s.Manifold.prototype.rotate=function(t,e,o){return Array.isArray(t)?this._Rotate(...t):this._Rotate(t,e||0,o||0)},s.Manifold.prototype.scale=function(t){return"number"==typeof t?this._Scale({x:t,y:t,z:t}):this._Scale(i([t]))},s.Manifold.prototype.mirror=function(t){return this._Mirror(i([t]))},s.Manifold.prototype.trimByPlane=function(t,e=0){return this._TrimByPlane(i([t]),e)},s.Manifold.prototype.slice=function(t=0){const e=this._Slice(t),o=new c(e,a("Positive"));return r(e),o},s.Manifold.prototype.project=function(){const t=this._Project(),e=new c(t,a("Positive"));return r(t),e},s.Manifold.prototype.split=function(t){const o=this._Split(t),s=e(o);return o.delete(),s},s.Manifold.prototype.splitByPlane=function(t,o=0){const s=this._SplitByPlane(i([t]),o),r=e(s);return s.delete(),r},s.Manifold.prototype.decompose=function(){const t=this._Decompose(),o=e(t);return t.delete(),o},s.Manifold.prototype.boundingBox=function(){const t=this._boundingBox();return{min:["x","y","z"].map((e=>t.min[e])),max:["x","y","z"].map((e=>t.max[e]))}};class u{constructor({numProp:t=3,triVerts:e=new Uint32Array,vertProperties:o=new Float32Array,mergeFromVert:s,mergeToVert:r,runIndex:n,runOriginalID:i,faceID:a,halfedgeTangent:c,runTransform:l}={}){this.numProp=t,this.triVerts=e,this.vertProperties=o,this.mergeFromVert=s,this.mergeToVert=r,this.runIndex=n,this.runOriginalID=i,this.faceID=a,this.halfedgeTangent=c,this.runTransform=l}get numTri(){return this.triVerts.length/3}get numVert(){return this.vertProperties.length/this.numProp}get numRun(){return this.runOriginalID.length}merge(){const{changed:t,mesh:e}=s._Merge(this);return Object.assign(this,{...e}),t}verts(t){return this.triVerts.subarray(3*t,3*(t+1))}position(t){return this.vertProperties.subarray(this.numProp*t,this.numProp*t+3)}extras(t){return this.vertProperties.subarray(this.numProp*t+3,this.numProp*(t+1))}tangent(t){return this.halfedgeTangent.subarray(4*t,4*(t+1))}transform(t){const e=new Array(16);for(const o of[0,1,2,3])for(const s of[0,1,2])e[4*o+s]=this.runTransform[12*t+3*o+s];return e[15]=1,e}}function d(t){return function(...e){1==e.length&&(e=e[0]);const o=new s.Vector_crossSection;for(const t of e)o.push_back(l(t));const r=s["_crossSection"+t](o);return o.delete(),r}}s.Mesh=u,s.Manifold.prototype.getMesh=function(t=-1){return new u(this._GetMeshJS(t))},s.ManifoldError=function(t,...e){let o="Unknown error";switch(t){case"NonFiniteVertex":o="Non-finite vertex";break;case"NotManifold":o="Not manifold";break;case"VertexOutOfBounds":o="Vertex index out of bounds";break;case"PropertiesWrongLength":o="Properties have wrong length";break;case"MissingPositionProperties":o="Less than three properties";break;case"MergeVectorsDifferentLengths":o="Merge vectors have different lengths";break;case"MergeIndexOutOfBounds":o="Merge index out of bounds";break;case"TransformWrongLength":o="Transform vector has wrong length";break;case"RunIndexWrongLength":o="Run index vector has wrong length";break;case"FaceIDWrongLength":o="Face ID vector has wrong length";case"InvalidConstruction":o="Manifold constructed with invalid parameters"}const s=Error.apply(this,[o,...e]);s.name=this.name="ManifoldError",this.message=s.message,this.stack=s.stack,this.code=t},s.ManifoldError.prototype=Object.create(Error.prototype,{constructor:{value:s.ManifoldError,writable:!0,configurable:!0}}),s.CrossSection=function(t,e="Positive"){const s=o(t),n=new c(s,a(e));return r(s),n},s.CrossSection.ofPolygons=function(t,e="Positive"){return new s.CrossSection(t,e)},s.CrossSection.square=function(...t){let e;e=0==t.length?{x:1,y:1}:"number"==typeof t[0]?{x:t[0],y:t[0]}:n(t);const o=t[1]||!1;return s._Square(e,o)},s.CrossSection.circle=function(t,e=0){return s._Circle(t,e)},s.CrossSection.compose=d("Compose"),s.CrossSection.union=d("UnionN"),s.CrossSection.difference=d("DifferenceN"),s.CrossSection.intersection=d("IntersectionN"),s.CrossSection.hull=function(...e){1==e.length&&(e=e[0]);let o=new s.Vector_vec2;for(const r of e)if(r instanceof c)s._crossSectionCollectVertices(o,r);else if(r instanceof Array&&2==r.length&&"number"==typeof r[0])o.push_back({x:r[0],y:r[1]});else if(r.x)o.push_back(r);else{const e=2==r[0].length&&"number"==typeof r[0][0]||r[0].x?[r]:r;for(const s of e)t(o,s,(t=>t instanceof Array?{x:t[0],y:t[1]}:t))}const r=s._crossSectionHullPoints(o);return o.delete(),r},s.CrossSection.prototype=Object.create(c.prototype),Object.defineProperty(s.CrossSection,Symbol.hasInstance,{get:()=>t=>t instanceof c});const f=s.Manifold;function m(t){return function(...e){1==e.length&&(e=e[0]);const o=new s.Vector_manifold;for(const t of e)o.push_back(t);const r=s["_manifold"+t+"N"](o);return o.delete(),r}}s.Manifold=function(t){const e=new f(t),o=e.status();if("NoError"!==o)throw new s.ManifoldError(o);return e},s.Manifold.ofMesh=function(t){return new s.Manifold(t)},s.Manifold.tetrahedron=function(){return s._Tetrahedron()},s.Manifold.cube=function(...t){let e;e=0==t.length?{x:1,y:1,z:1}:"number"==typeof t[0]?{x:t[0],y:t[0],z:t[0]}:i(t);const o=t[1]||!1;return s._Cube(e,o)},s.Manifold.cylinder=function(t,e,o=-1,r=0,n=!1){return s._Cylinder(t,e,o,r,n)},s.Manifold.sphere=function(t,e=0){return s._Sphere(t,e)},s.Manifold.smooth=function(e,o=[]){const r=new s.Vector_smoothness;t(r,o);const n=s._Smooth(e,r);return r.delete(),n},s.Manifold.extrude=function(t,e,o=0,r=0,n=[1,1],i=!1){return(t instanceof c?t:s.CrossSection(t,"Positive")).extrude(e,o,r,n,i)},s.Manifold.revolve=function(t,e=0,o=360){return(t instanceof c?t:s.CrossSection(t,"Positive")).revolve(e,o)},s.Manifold.reserveIDs=function(t){return s._ReserveIDs(t)},s.Manifold.compose=function(e){const o=new s.Vector_manifold;t(o,e);const r=s._manifoldCompose(o);return o.delete(),r},s.Manifold.union=m("Union"),s.Manifold.difference=m("Difference"),s.Manifold.intersection=m("Intersection"),s.Manifold.levelSet=function(t,e,o,r=0,n=-1){const i={min:{x:e.min[0],y:e.min[1],z:e.min[2]},max:{x:e.max[0],y:e.max[1],z:e.max[2]}},a=ye((function(e){const o=W(e,"double"),s=W(e+8,"double"),r=W(e+16,"double");return t([o,s,r])}),"di"),c=s._LevelSet(a,i,o,r,n);return be(a),c},s.Manifold.hull=function(...e){1==e.length&&(e=e[0]);let o=new s.Vector_vec3;for(const r of e)r instanceof f?s._manifoldCollectVertices(o,r):r instanceof Array&&3==r.length&&"number"==typeof r[0]?o.push_back({x:r[0],y:r[1],z:r[2]}):r.x?o.push_back(r):t(o,r,(t=>t instanceof Array?{x:t[0],y:t[1],z:t[2]}:t));const r=s._manifoldHullPoints(o);return o.delete(),r},s.Manifold.prototype=Object.create(f.prototype),Object.defineProperty(s.Manifold,Symbol.hasInstance,{get:()=>t=>t instanceof f}),s.triangulate=function(t,n=-1,i=!0){const a=o(t),c=e(s._Triangulate(a,n,i),(t=>[t[0],t[1],t[2]]));return r(a),c}};var u,d,f=Object.assign({},s),m="";if(c){var p=l("fs"),v=l("path");m=l("url").fileURLToPath(new URL(r(764),r.b)),d=t=>(t=_(t)?new URL(t):v.normalize(t),p.readFileSync(t)),u=(t,e=!0)=>(t=_(t)?new URL(t):v.normalize(t),new Promise(((o,s)=>{p.readFile(t,e?void 0:"utf8",((t,r)=>{t?s(t):o(e?r.buffer:r)}))}))),!s.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2)}else(i||a)&&(a?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),et&&(m=et),m=m.startsWith("blob:")?"":m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1),a&&(d=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),u=t=>_(t)?new Promise(((e,o)=>{var s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="arraybuffer",s.onload=()=>{(200==s.status||0==s.status&&s.response)&&o(s.response),e(s.status)},s.onerror=e,s.send(null)})):fetch(t,{credentials:"same-origin"}).then((t=>t.ok?t.arrayBuffer():Promise.reject(new Error(t.status+" : "+t.url)))));s.print||console.log.bind(console);var g,y,b=s.printErr||console.error.bind(console);Object.assign(s,f),f=null,s.arguments&&s.arguments,s.thisProgram&&s.thisProgram,s.quit&&s.quit,s.wasmBinary&&(g=s.wasmBinary);var x,P,D,C,S,w,T,M,O=!1;function E(){var t=y.buffer;s.HEAP8=x=new Int8Array(t),s.HEAP16=D=new Int16Array(t),s.HEAPU8=P=new Uint8Array(t),s.HEAPU16=C=new Uint16Array(t),s.HEAP32=S=new Int32Array(t),s.HEAPU32=w=new Uint32Array(t),s.HEAPF32=T=new Float32Array(t),s.HEAPF64=M=new Float64Array(t)}var A=[],I=[],$=[],R=0,F=null,L=null;function N(t){s.onAbort?.(t),b(t="Aborted("+t+")"),O=!0,t+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(t);throw o(e),e}var k,H=t=>t.startsWith("data:application/octet-stream;base64,"),_=t=>t.startsWith("file://");function V(t){if(t==k&&g)return new Uint8Array(g);if(d)return d(t);throw"both async and sync fetching of the wasm failed"}function B(t,e,o){return function(t){return g?Promise.resolve().then((()=>V(t))):u(t).then((t=>new Uint8Array(t)),(()=>V(t)))}(t).then((t=>WebAssembly.instantiate(t,e))).then(o,(t=>{b(`failed to asynchronously prepare wasm: ${t}`),N(t)}))}var j=t=>{for(;t.length>0;)t.shift()(s)};function W(t,e="i8"){switch(e.endsWith("*")&&(e="*"),e){case"i1":case"i8":return x[t>>>0];case"i16":return D[t>>>1>>>0];case"i32":return S[t>>>2>>>0];case"i64":N("to do getValue(i64) use WASM_BIGINT");case"float":return T[t>>>2>>>0];case"double":return M[t>>>3>>>0];case"*":return w[t>>>2>>>0];default:N(`invalid type for getValue: ${e}`)}}function z(t,e,o="i8"){switch(o.endsWith("*")&&(o="*"),o){case"i1":case"i8":x[t>>>0]=e;break;case"i16":D[t>>>1>>>0]=e;break;case"i32":S[t>>>2>>>0]=e;break;case"i64":N("to do setValue(i64) use WASM_BIGINT");case"float":T[t>>>2>>>0]=e;break;case"double":M[t>>>3>>>0]=e;break;case"*":w[t>>>2>>>0]=e;break;default:N(`invalid type for setValue: ${o}`)}}s.noExitRuntime;class q{constructor(t){this.excPtr=t,this.ptr=t-24}set_type(t){w[this.ptr+4>>>2>>>0]=t}get_type(){return w[this.ptr+4>>>2>>>0]}set_destructor(t){w[this.ptr+8>>>2>>>0]=t}get_destructor(){return w[this.ptr+8>>>2>>>0]}set_caught(t){t=t?1:0,x[this.ptr+12>>>0]=t}get_caught(){return 0!=x[this.ptr+12>>>0]}set_rethrown(t){t=t?1:0,x[this.ptr+13>>>0]=t}get_rethrown(){return 0!=x[this.ptr+13>>>0]}init(t,e){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(e)}set_adjusted_ptr(t){w[this.ptr+16>>>2>>>0]=t}get_adjusted_ptr(){return w[this.ptr+16>>>2>>>0]}get_exception_ptr(){if(Te(this.get_type()))return w[this.excPtr>>>2>>>0];var t=this.get_adjusted_ptr();return 0!==t?t:this.excPtr}}var Y={},X=t=>{for(;t.length;){var e=t.pop();t.pop()(e)}};function U(t){return this.fromWireType(w[t>>>2>>>0])}var G,Z,Q,J={},K={},tt={},ot=t=>{throw new G(t)},st=(t,e,o)=>{function s(e){var s=o(e);s.length!==t.length&&ot("Mismatched type converter count");for(var r=0;r<t.length;++r)it(t[r],s[r])}t.forEach((function(t){tt[t]=e}));var r=new Array(e.length),n=[],i=0;e.forEach(((t,e)=>{K.hasOwnProperty(t)?r[e]=K[t]:(n.push(t),J.hasOwnProperty(t)||(J[t]=[]),J[t].push((()=>{r[e]=K[t],++i===n.length&&s(r)})))})),0===n.length&&s(r)},rt=t=>{for(var e="",o=t;P[o>>>0];)e+=Z[P[o++>>>0]];return e},nt=t=>{throw new Q(t)};function it(t,e,o={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");return function(t,e,o={}){var s=e.name;if(t||nt(`type "${s}" must have a positive integer typeid pointer`),K.hasOwnProperty(t)){if(o.ignoreDuplicateRegistrations)return;nt(`Cannot register type '${s}' twice`)}if(K[t]=e,delete tt[t],J.hasOwnProperty(t)){var r=J[t];delete J[t],r.forEach((t=>t()))}}(t,e,o)}var at,ct=t=>{nt(t.$$.ptrType.registeredClass.name+" instance already deleted")},lt=!1,ht=t=>{},ut=t=>{t.count.value-=1,0===t.count.value&&(t=>{t.smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr)})(t)},dt=(t,e,o)=>{if(e===o)return t;if(void 0===o.baseClass)return null;var s=dt(t,e,o.baseClass);return null===s?null:o.downcast(s)},ft={},mt=[],pt=()=>{for(;mt.length;){var t=mt.pop();t.$$.deleteScheduled=!1,t.delete()}},vt={},gt=(t,e)=>(e.ptrType&&e.ptr||ot("makeClassHandle requires ptr and ptrType"),!!e.smartPtrType!=!!e.smartPtr&&ot("Both smartPtrType and smartPtr must be specified"),e.count={value:1},yt(Object.create(t,{$$:{value:e,writable:!0}})));var yt=t=>"undefined"==typeof FinalizationRegistry?(yt=t=>t,t):(lt=new FinalizationRegistry((t=>{ut(t.$$)})),yt=t=>{var e=t.$$;if(e.smartPtr){var o={$$:e};lt.register(t,o,t)}return t},ht=t=>lt.unregister(t),yt(t));function bt(){}var xt=(t,e)=>Object.defineProperty(e,"name",{value:t}),Pt=(t,e,o)=>{if(void 0===t[e].overloadTable){var s=t[e];t[e]=function(...s){return t[e].overloadTable.hasOwnProperty(s.length)||nt(`Function '${o}' called with an invalid number of arguments (${s.length}) - expects one of (${t[e].overloadTable})!`),t[e].overloadTable[s.length].apply(this,s)},t[e].overloadTable=[],t[e].overloadTable[s.argCount]=s}},Dt=(t,e,o)=>{s.hasOwnProperty(t)?((void 0===o||void 0!==s[t].overloadTable&&void 0!==s[t].overloadTable[o])&&nt(`Cannot register public name '${t}' twice`),Pt(s,t,t),s.hasOwnProperty(o)&&nt(`Cannot register multiple overloads of a function with the same number of arguments (${o})!`),s[t].overloadTable[o]=e):(s[t]=e,void 0!==o&&(s[t].numArguments=o))};function Ct(t,e,o,s,r,n,i,a){this.name=t,this.constructor=e,this.instancePrototype=o,this.rawDestructor=s,this.baseClass=r,this.getActualType=n,this.upcast=i,this.downcast=a,this.pureVirtualFunctions=[]}var St=(t,e,o)=>{for(;e!==o;)e.upcast||nt(`Expected null or instance of ${o.name}, got an instance of ${e.name}`),t=e.upcast(t),e=e.baseClass;return t};function wt(t,e){if(null===e)return this.isReference&&nt(`null is not a valid ${this.name}`),0;e.$$||nt(`Cannot pass "${Zt(e)}" as a ${this.name}`),e.$$.ptr||nt(`Cannot pass deleted object as a pointer of type ${this.name}`);var o=e.$$.ptrType.registeredClass;return St(e.$$.ptr,o,this.registeredClass)}function Tt(t,e){var o;if(null===e)return this.isReference&&nt(`null is not a valid ${this.name}`),this.isSmartPointer?(o=this.rawConstructor(),null!==t&&t.push(this.rawDestructor,o),o):0;e&&e.$$||nt(`Cannot pass "${Zt(e)}" as a ${this.name}`),e.$$.ptr||nt(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&e.$$.ptrType.isConst&&nt(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);var s=e.$$.ptrType.registeredClass;if(o=St(e.$$.ptr,s,this.registeredClass),this.isSmartPointer)switch(void 0===e.$$.smartPtr&&nt("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?o=e.$$.smartPtr:nt(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:o=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)o=e.$$.smartPtr;else{var r=e.clone();o=this.rawShare(o,qt.toHandle((()=>r.delete()))),null!==t&&t.push(this.rawDestructor,o)}break;default:nt("Unsupporting sharing policy")}return o}function Mt(t,e){if(null===e)return this.isReference&&nt(`null is not a valid ${this.name}`),0;e.$$||nt(`Cannot pass "${Zt(e)}" as a ${this.name}`),e.$$.ptr||nt(`Cannot pass deleted object as a pointer of type ${this.name}`),e.$$.ptrType.isConst&&nt(`Cannot convert argument of type ${e.$$.ptrType.name} to parameter type ${this.name}`);var o=e.$$.ptrType.registeredClass;return St(e.$$.ptr,o,this.registeredClass)}function Ot(t,e,o,s,r,n,i,a,c,l,h){this.name=t,this.registeredClass=e,this.isReference=o,this.isConst=s,this.isSmartPointer=r,this.pointeeType=n,this.sharingPolicy=i,this.rawGetPointee=a,this.rawConstructor=c,this.rawShare=l,this.rawDestructor=h,r||void 0!==e.baseClass?this.toWireType=Tt:s?(this.toWireType=wt,this.destructorFunction=null):(this.toWireType=Mt,this.destructorFunction=null)}var Et,At,It=(t,e,o)=>{s.hasOwnProperty(t)||ot("Replacing nonexistent public symbol"),void 0!==s[t].overloadTable&&void 0!==o?s[t].overloadTable[o]=e:(s[t]=e,s[t].argCount=o)},$t=t=>Et.get(t),Rt=(t,e)=>(...o)=>((t,e,o=[])=>{if(t.includes("j"))return((t,e,o)=>(t=t.replace(/p/g,"i"),(0,s["dynCall_"+t])(e,...o)))(t,e,o);var r=$t(e)(...o);return"p"==t[0]?r>>>0:r})(t,e,o),Ft=(t,e)=>{var o=(t=rt(t)).includes("j")||t.includes("p")?Rt(t,e):$t(e);return"function"!=typeof o&&nt(`unknown function pointer with signature ${t}: ${e}`),o},Lt=t=>{var e=Ce(t),o=rt(e);return we(e),o},Nt=(t,e)=>{var o=[],s={};throw e.forEach((function t(e){s[e]||K[e]||(tt[e]?tt[e].forEach(t):(o.push(e),s[e]=!0))})),new At(`${t}: `+o.map(Lt).join([", "]))},kt=(t,e)=>{for(var o=[],s=0;s<t;s++)o.push(w[e+4*s>>>2>>>0]);return o};function Ht(t){for(var e=1;e<t.length;++e)if(null!==t[e]&&void 0===t[e].destructorFunction)return!0;return!1}function _t(t,e){if(!(t instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof t} which is not a function`);var o=xt(t.name||"unknownFunctionName",(function(){}));o.prototype=t.prototype;var s=new o,r=t.apply(s,e);return r instanceof Object?r:s}function Vt(t,e,o,s,r,n){var i=e.length;i<2&&nt("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==e[1]&&null!==o,c=Ht(e),l="void"!==e[0].name,h=[t,nt,s,r,X,e[0],e[1]],u=0;u<i-2;++u)h.push(e[u+2]);if(!c)for(u=a?1:2;u<e.length;++u)null!==e[u].destructorFunction&&h.push(e[u].destructorFunction);let[d,f]=function(t,e,o,s){for(var r=Ht(t),n=t.length,i="",a="",c=0;c<n-2;++c)i+=(0!==c?", ":"")+"arg"+c,a+=(0!==c?", ":"")+"arg"+c+"Wired";var l=`\n        return function (${i}) {\n        if (arguments.length !== ${n-2}) {\n          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${n-2}');\n        }`;r&&(l+="var destructors = [];\n");var h=r?"destructors":"null",u=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];for(e&&(l+="var thisWired = classParam['toWireType']("+h+", this);\n"),c=0;c<n-2;++c)l+="var arg"+c+"Wired = argType"+c+"['toWireType']("+h+", arg"+c+");\n",u.push("argType"+c);if(e&&(a="thisWired"+(a.length>0?", ":"")+a),l+=(o||s?"var rv = ":"")+"invoker(fn"+(a.length>0?", ":"")+a+");\n",r)l+="runDestructors(destructors);\n";else for(c=e?1:2;c<t.length;++c){var d=1===c?"thisWired":"arg"+(c-2)+"Wired";null!==t[c].destructorFunction&&(l+=`${d}_dtor(${d});\n`,u.push(`${d}_dtor`))}return o&&(l+="var ret = retType['fromWireType'](rv);\nreturn ret;\n"),[u,l+="}\n"]}(e,a,l,n);d.push(f);var m=_t(Function,d)(...h);return xt(t,m)}var Bt=t=>{const e=(t=t.trim()).indexOf("(");return-1!==e?t.substr(0,e):t},jt=[],Wt=[];function zt(t){(t>>>=0)>9&&0==--Wt[t+1]&&(Wt[t]=void 0,jt.push(t))}var qt={toValue:t=>(t||nt("Cannot use deleted val. handle = "+t),Wt[t]),toHandle:t=>{switch(t){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const e=jt.pop()||Wt.length;return Wt[e]=t,Wt[e+1]=1,e}}}},Yt={name:"emscripten::val",fromWireType:t=>{var e=qt.toValue(t);return zt(t),e},toWireType:(t,e)=>qt.toHandle(e),argPackAdvance:8,readValueFromPointer:U,destructorFunction:null};function Xt(t){return it(t>>>=0,Yt)}var Ut=(t,e,o)=>{switch(e){case 1:return o?function(t){return this.fromWireType(x[t>>>0])}:function(t){return this.fromWireType(P[t>>>0])};case 2:return o?function(t){return this.fromWireType(D[t>>>1>>>0])}:function(t){return this.fromWireType(C[t>>>1>>>0])};case 4:return o?function(t){return this.fromWireType(S[t>>>2>>>0])}:function(t){return this.fromWireType(w[t>>>2>>>0])};default:throw new TypeError(`invalid integer width (${e}): ${t}`)}},Gt=(t,e)=>{var o=K[t];return void 0===o&&nt(`${e} has unknown type ${Lt(t)}`),o},Zt=t=>{if(null===t)return"null";var e=typeof t;return"object"===e||"array"===e||"function"===e?t.toString():""+t},Qt=(t,e)=>{switch(e){case 4:return function(t){return this.fromWireType(T[t>>>2>>>0])};case 8:return function(t){return this.fromWireType(M[t>>>3>>>0])};default:throw new TypeError(`invalid float width (${e}): ${t}`)}},Jt=(t,e,o)=>{switch(e){case 1:return o?t=>x[t>>>0]:t=>P[t>>>0];case 2:return o?t=>D[t>>>1>>>0]:t=>C[t>>>1>>>0];case 4:return o?t=>S[t>>>2>>>0]:t=>w[t>>>2>>>0];default:throw new TypeError(`invalid integer width (${e}): ${t}`)}},Kt="undefined"!=typeof TextDecoder?new TextDecoder:void 0,te="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,ee=(t,e)=>{for(var o=t,s=o>>1,r=s+e/2;!(s>=r)&&C[s>>>0];)++s;if((o=s<<1)-t>32&&te)return te.decode(P.subarray(t>>>0,o>>>0));for(var n="",i=0;!(i>=e/2);++i){var a=D[t+2*i>>>1>>>0];if(0==a)break;n+=String.fromCharCode(a)}return n},oe=(t,e,o)=>{if(o??=2147483647,o<2)return 0;for(var s=e,r=(o-=2)<2*t.length?o/2:t.length,n=0;n<r;++n){var i=t.charCodeAt(n);D[e>>>1>>>0]=i,e+=2}return D[e>>>1>>>0]=0,e-s},se=t=>2*t.length,re=(t,e)=>{for(var o=0,s="";!(o>=e/4);){var r=S[t+4*o>>>2>>>0];if(0==r)break;if(++o,r>=65536){var n=r-65536;s+=String.fromCharCode(55296|n>>10,56320|1023&n)}else s+=String.fromCharCode(r)}return s},ne=(t,e,o)=>{if(e>>>=0,o??=2147483647,o<4)return 0;for(var s=e,r=s+o-4,n=0;n<t.length;++n){var i=t.charCodeAt(n);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&t.charCodeAt(++n)),S[e>>>2>>>0]=i,(e+=4)+4>r)break}return S[e>>>2>>>0]=0,e-s},ie=t=>{for(var e=0,o=0;o<t.length;++o){var s=t.charCodeAt(o);s>=55296&&s<=57343&&++o,e+=4}return e},ae=(t,e,o)=>{var s=[],r=t.toWireType(s,o);return s.length&&(w[e>>>2>>>0]=qt.toHandle(s)),r},ce={},le=t=>{var e=ce[t];return void 0===e?rt(t):e},he=[];Reflect.construct;var ue,de,fe,me=t=>{var e=(t-y.buffer.byteLength+65535)/65536;try{return y.grow(e),E(),1}catch(t){}},pe=(t,e)=>{t<128?e.push(t):e.push(t%128|128,t>>7)},ve=[],ge=(t,e)=>Et.set(t,e),ye=(t,e)=>{var o=(t=>(ue||(ue=new WeakMap,((t,e)=>{if(ue)for(var o=0;o<0+e;o++){var s=$t(o);s&&ue.set(s,o)}})(0,Et.length)),ue.get(t)||0))(t);if(o)return o;var s=(()=>{if(ve.length)return ve.pop();try{Et.grow(1)}catch(t){if(!(t instanceof RangeError))throw t;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return Et.length-1})();try{ge(s,t)}catch(o){if(!(o instanceof TypeError))throw o;var r=((t,e)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((t=>{for(var e={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},o={parameters:[],results:"v"==t[0]?[]:[e[t[0]]]},s=1;s<t.length;++s)o.parameters.push(e[t[s]]);return o})(e),t);var o=[1];((t,e)=>{var o=t.slice(0,1),s=t.slice(1),r={i:127,p:127,j:126,f:125,d:124,e:111};e.push(96),pe(s.length,e);for(var n=0;n<s.length;++n)e.push(r[s[n]]);"v"==o?e.push(0):e.push(1,r[o])})(e,o);var s=[0,97,115,109,1,0,0,0,1];pe(o.length,s),s.push(...o),s.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var r=new WebAssembly.Module(new Uint8Array(s));return new WebAssembly.Instance(r,{e:{f:t}}).exports.f})(t,e);ge(s,r)}return ue.set(t,s),s},be=t=>{ue.delete($t(t)),ge(t,null),ve.push(t)};G=s.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},(()=>{for(var t=new Array(256),e=0;e<256;++e)t[e]=String.fromCharCode(e);Z=t})(),Q=s.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Object.assign(bt.prototype,{isAliasOf(t){if(!(this instanceof bt))return!1;if(!(t instanceof bt))return!1;var e=this.$$.ptrType.registeredClass,o=this.$$.ptr;t.$$=t.$$;for(var s=t.$$.ptrType.registeredClass,r=t.$$.ptr;e.baseClass;)o=e.upcast(o),e=e.baseClass;for(;s.baseClass;)r=s.upcast(r),s=s.baseClass;return e===s&&o===r},clone(){if(this.$$.ptr||ct(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t,e=yt(Object.create(Object.getPrototypeOf(this),{$$:{value:(t=this.$$,{count:t.count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType})}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||ct(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&nt("Object already scheduled for deletion"),ht(this),ut(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||ct(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&nt("Object already scheduled for deletion"),mt.push(this),1===mt.length&&at&&at(pt),this.$$.deleteScheduled=!0,this}}),s.getInheritedInstanceCount=()=>Object.keys(vt).length,s.getLiveInheritedInstances=()=>{var t=[];for(var e in vt)vt.hasOwnProperty(e)&&t.push(vt[e]);return t},s.flushPendingDeletes=pt,s.setDelayFunction=t=>{at=t,mt.length&&at&&at(pt)},Object.assign(Ot.prototype,{getPointee(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t},destructor(t){this.rawDestructor?.(t)},argPackAdvance:8,readValueFromPointer:U,fromWireType:function(t){var e=this.getPointee(t);if(!e)return this.destructor(t),null;var o=((t,e)=>(e=((t,e)=>{for(void 0===e&&nt("ptr should not be undefined");t.baseClass;)e=t.upcast(e),t=t.baseClass;return e})(t,e),vt[e]))(this.registeredClass,e);if(void 0!==o){if(0===o.$$.count.value)return o.$$.ptr=e,o.$$.smartPtr=t,o.clone();var s=o.clone();return this.destructor(t),s}function r(){return this.isSmartPointer?gt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:e,smartPtrType:this,smartPtr:t}):gt(this.registeredClass.instancePrototype,{ptrType:this,ptr:t})}var n,i=this.registeredClass.getActualType(e),a=ft[i];if(!a)return r.call(this);n=this.isConst?a.constPointerType:a.pointerType;var c=dt(e,this.registeredClass,n.registeredClass);return null===c?r.call(this):this.isSmartPointer?gt(n.registeredClass.instancePrototype,{ptrType:n,ptr:c,smartPtrType:this,smartPtr:t}):gt(n.registeredClass.instancePrototype,{ptrType:n,ptr:c})}}),At=s.UnboundTypeError=(de=Error,(fe=xt("UnboundTypeError",(function(t){this.name="UnboundTypeError",this.message=t;var e=new Error(t).stack;void 0!==e&&(this.stack=this.toString()+"\n"+e.replace(/^Error(:[^\n]*)?\n/,""))}))).prototype=Object.create(de.prototype),fe.prototype.constructor=fe,fe.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},fe),Wt.push(0,1,void 0,1,null,1,!0,1,!1,1),s.count_emval_handles=()=>Wt.length/2-5-jt.length;var xe,Pe={i:function(t,e,o){throw e>>>=0,o>>>=0,new q(t>>>=0).init(e,o),t},D:()=>{N("")},n:function(t){var e=Y[t>>>=0];delete Y[t];var o=e.rawConstructor,s=e.rawDestructor,r=e.fields,n=r.map((t=>t.getterReturnType)).concat(r.map((t=>t.setterArgumentType)));st([t],n,(t=>{var n={};return r.forEach(((e,o)=>{var s=e.fieldName,i=t[o],a=e.getter,c=e.getterContext,l=t[o+r.length],h=e.setter,u=e.setterContext;n[s]={read:t=>i.fromWireType(a(c,t)),write:(t,e)=>{var o=[];h(u,t,l.toWireType(o,e)),X(o)}}})),[{name:e.name,fromWireType:t=>{var e={};for(var o in n)e[o]=n[o].read(t);return s(t),e},toWireType:(t,e)=>{for(var r in n)if(!(r in e))throw new TypeError(`Missing field: "${r}"`);var i=o();for(r in n)n[r].write(i,e[r]);return null!==t&&t.push(s,i),i},argPackAdvance:8,readValueFromPointer:U,destructorFunction:s}]}))},C:function(t,e,o,s,r){},H:function(t,e,o,s){it(t>>>=0,{name:e=rt(e>>>=0),fromWireType:function(t){return!!t},toWireType:function(t,e){return e?o:s},argPackAdvance:8,readValueFromPointer:function(t){return this.fromWireType(P[t>>>0])},destructorFunction:null})},h:function(t,e,o,s,r,n,i,a,c,l,h,u,d){t>>>=0,e>>>=0,o>>>=0,s>>>=0,r>>>=0,n>>>=0,i>>>=0,a>>>=0,c>>>=0,l>>>=0,u>>>=0,d>>>=0,h=rt(h>>>=0),n=Ft(r,n),a&&=Ft(i,a),l&&=Ft(c,l),d=Ft(u,d);var f=(t=>{if(void 0===t)return"_unknown";var e=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return e>=48&&e<=57?`_${t}`:t})(h);Dt(f,(function(){Nt(`Cannot construct ${h} due to unbound types`,[s])})),st([t,e,o],s?[s]:[],(e=>{var o,r;e=e[0],r=s?(o=e.registeredClass).instancePrototype:bt.prototype;var i=xt(h,(function(...t){if(Object.getPrototypeOf(this)!==c)throw new Q("Use 'new' to construct "+h);if(void 0===u.constructor_body)throw new Q(h+" has no accessible constructor");var e=u.constructor_body[t.length];if(void 0===e)throw new Q(`Tried to invoke ctor of ${h} with invalid number of parameters (${t.length}) - expected (${Object.keys(u.constructor_body).toString()}) parameters instead!`);return e.apply(this,t)})),c=Object.create(r,{constructor:{value:i}});i.prototype=c;var u=new Ct(h,i,c,d,o,n,a,l);u.baseClass&&(u.baseClass.__derivedClasses??=[],u.baseClass.__derivedClasses.push(u));var m=new Ot(h,u,!0,!1,!1),p=new Ot(h+"*",u,!1,!1,!1),v=new Ot(h+" const*",u,!1,!0,!1);return ft[t]={pointerType:p,constPointerType:v},It(f,i),[m,p,v]}))},g:function(t,e,o,s,r,n){t>>>=0,s>>>=0,r>>>=0,n>>>=0;var i=kt(e,o>>>=0);r=Ft(s,r),st([],[t],(t=>{var o=`constructor ${(t=t[0]).name}`;if(void 0===t.registeredClass.constructor_body&&(t.registeredClass.constructor_body=[]),void 0!==t.registeredClass.constructor_body[e-1])throw new Q(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${t.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return t.registeredClass.constructor_body[e-1]=()=>{Nt(`Cannot construct ${t.name} due to unbound types`,i)},st([],i,(s=>(s.splice(1,0,null),t.registeredClass.constructor_body[e-1]=Vt(o,s,null,r,n),[]))),[]}))},a:function(t,e,o,s,r,n,i,a,c){t>>>=0,e>>>=0,r>>>=0,n>>>=0,i>>>=0;var l=kt(o,s>>>=0);e=rt(e),e=Bt(e),n=Ft(r,n),st([],[t],(t=>{var s=`${(t=t[0]).name}.${e}`;function r(){Nt(`Cannot call ${s} due to unbound types`,l)}e.startsWith("@@")&&(e=Symbol[e.substring(2)]),a&&t.registeredClass.pureVirtualFunctions.push(e);var h=t.registeredClass.instancePrototype,u=h[e];return void 0===u||void 0===u.overloadTable&&u.className!==t.name&&u.argCount===o-2?(r.argCount=o-2,r.className=t.name,h[e]=r):(Pt(h,e,s),h[e].overloadTable[o-2]=r),st([],l,(r=>{var a=Vt(s,r,t,n,i,c);return void 0===h[e].overloadTable?(a.argCount=o-2,h[e]=a):h[e].overloadTable[o-2]=a,[]})),[]}))},G:Xt,t:function(t,e,o,s){function r(){}t>>>=0,o>>>=0,e=rt(e>>>=0),r.values={},it(t,{name:e,constructor:r,fromWireType:function(t){return this.constructor.values[t]},toWireType:(t,e)=>e.value,argPackAdvance:8,readValueFromPointer:Ut(e,o,s),destructorFunction:null}),Dt(e,r)},e:function(t,e,o){e>>>=0;var s=Gt(t>>>=0,"enum");e=rt(e);var r=s.constructor,n=Object.create(s.constructor.prototype,{value:{value:o},constructor:{value:xt(`${s.name}_${e}`,(function(){}))}});r.values[o]=n,r[e]=n},x:function(t,e,o){o>>>=0,it(t>>>=0,{name:e=rt(e>>>=0),fromWireType:t=>t,toWireType:(t,e)=>e,argPackAdvance:8,readValueFromPointer:Qt(e,o),destructorFunction:null})},c:function(t,e,o,s,r,n,i){t>>>=0,s>>>=0,r>>>=0,n>>>=0;var a=kt(e,o>>>=0);t=rt(t),t=Bt(t),r=Ft(s,r),Dt(t,(function(){Nt(`Cannot call ${t} due to unbound types`,a)}),e-1),st([],a,(o=>{var s=[o[0],null].concat(o.slice(1));return It(t,Vt(t,s,null,r,n,i),e-1),[]}))},j:function(t,e,o,s,r){t>>>=0,o>>>=0,e=rt(e>>>=0),-1===r&&(r=4294967295);var n=t=>t;if(0===s){var i=32-8*o;n=t=>t<<i>>>i}var a=e.includes("unsigned");it(t,{name:e,fromWireType:n,toWireType:a?function(t,e){return this.name,e>>>0}:function(t,e){return this.name,e},argPackAdvance:8,readValueFromPointer:Jt(e,o,0!==s),destructorFunction:null})},f:function(t,e,o){o>>>=0;var s=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function r(t){var e=w[t>>>2>>>0],o=w[t+4>>>2>>>0];return new s(x.buffer,o,e)}it(t>>>=0,{name:o=rt(o),fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{ignoreDuplicateRegistrations:!0})},k:function(t,e){Xt(t>>>=0)},w:function(t,e){t>>>=0;var o="std::string"===(e=rt(e>>>=0));it(t,{name:e,fromWireType(t){var e,s,r,n=w[t>>>2>>>0],i=t+4;if(o)for(var a=i,c=0;c<=n;++c){var l=i+c;if(c==n||0==P[l>>>0]){var h=(s=a,r=l-a,(s>>>=0)?((t,e,o)=>{for(var s=(e>>>=0)+o,r=e;t[r]&&!(r>=s);)++r;if(r-e>16&&t.buffer&&Kt)return Kt.decode(t.subarray(e,r));for(var n="";e<r;){var i=t[e++];if(128&i){var a=63&t[e++];if(192!=(224&i)){var c=63&t[e++];if((i=224==(240&i)?(15&i)<<12|a<<6|c:(7&i)<<18|a<<12|c<<6|63&t[e++])<65536)n+=String.fromCharCode(i);else{var l=i-65536;n+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else n+=String.fromCharCode((31&i)<<6|a)}else n+=String.fromCharCode(i)}return n})(P,s,r):"");void 0===e?e=h:(e+=String.fromCharCode(0),e+=h),a=l+1}}else{var u=new Array(n);for(c=0;c<n;++c)u[c]=String.fromCharCode(P[i+c>>>0]);e=u.join("")}return we(t),e},toWireType(t,e){var s;e instanceof ArrayBuffer&&(e=new Uint8Array(e));var r="string"==typeof e;r||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||nt("Cannot pass non-string to std::string"),s=o&&r?(t=>{for(var e=0,o=0;o<t.length;++o){var s=t.charCodeAt(o);s<=127?e++:s<=2047?e+=2:s>=55296&&s<=57343?(e+=4,++o):e+=3}return e})(e):e.length;var n=Se(4+s+1),i=n+4;if(w[n>>>2>>>0]=s,o&&r)((t,e,o,s)=>{if(!(s>0))return 0;for(var r=(o>>>=0)+s-1,n=0;n<t.length;++n){var i=t.charCodeAt(n);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&t.charCodeAt(++n)),i<=127){if(o>=r)break;e[o++>>>0]=i}else if(i<=2047){if(o+1>=r)break;e[o++>>>0]=192|i>>6,e[o++>>>0]=128|63&i}else if(i<=65535){if(o+2>=r)break;e[o++>>>0]=224|i>>12,e[o++>>>0]=128|i>>6&63,e[o++>>>0]=128|63&i}else{if(o+3>=r)break;e[o++>>>0]=240|i>>18,e[o++>>>0]=128|i>>12&63,e[o++>>>0]=128|i>>6&63,e[o++>>>0]=128|63&i}}e[o>>>0]=0})(e,P,i,s+1);else if(r)for(var a=0;a<s;++a){var c=e.charCodeAt(a);c>255&&(we(i),nt("String has UTF-16 code units that do not fit in 8 bits")),P[i+a>>>0]=c}else for(a=0;a<s;++a)P[i+a>>>0]=e[a];return null!==t&&t.push(we,n),n},argPackAdvance:8,readValueFromPointer:U,destructorFunction(t){we(t)}})},s:function(t,e,o){var s,r,n,i;t>>>=0,e>>>=0,o=rt(o>>>=0),2===e?(s=ee,r=oe,i=se,n=t=>C[t>>>1>>>0]):4===e&&(s=re,r=ne,i=ie,n=t=>w[t>>>2>>>0]),it(t,{name:o,fromWireType:t=>{for(var o,r=w[t>>>2>>>0],i=t+4,a=0;a<=r;++a){var c=t+4+a*e;if(a==r||0==n(c)){var l=s(i,c-i);void 0===o?o=l:(o+=String.fromCharCode(0),o+=l),i=c+e}}return we(t),o},toWireType:(t,s)=>{"string"!=typeof s&&nt(`Cannot pass non-string to C++ string type ${o}`);var n=i(s),a=Se(4+n+e);return w[a>>>2>>>0]=n/e,r(s,a+4,n+e),null!==t&&t.push(we,a),a},argPackAdvance:8,readValueFromPointer:U,destructorFunction(t){we(t)}})},o:function(t,e,o,s,r,n){e>>>=0,o>>>=0,s>>>=0,r>>>=0,n>>>=0,Y[t>>>=0]={name:rt(e),rawConstructor:Ft(o,s),rawDestructor:Ft(r,n),fields:[]}},l:function(t,e,o,s,r,n,i,a,c,l){e>>>=0,o>>>=0,s>>>=0,r>>>=0,n>>>=0,i>>>=0,a>>>=0,c>>>=0,l>>>=0,Y[t>>>=0].fields.push({fieldName:rt(e),getterReturnType:o,getter:Ft(s,r),getterContext:n,setterArgumentType:i,setter:Ft(a,c),setterContext:l})},I:function(t,e){it(t>>>=0,{isVoid:!0,name:e=rt(e>>>=0),argPackAdvance:0,fromWireType:()=>{},toWireType:(t,e)=>{}})},F:function(t,e,o){return t>>>=0,e>>>=0,o>>>=0,P.copyWithin(t>>>0,e>>>0,e+o>>>0)},v:function(t,e,o){return t>>>=0,e>>>=0,o>>>=0,t=qt.toValue(t),e=Gt(e,"emval::as"),ae(e,o,t)},z:function(t,e,o,s,r){return e>>>=0,o>>>=0,s>>>=0,r>>>=0,(t=he[t>>>=0])(e=qt.toValue(e),e[o=le(o)],s,r)},b:zt,m:function(t,e){return t>>>=0,e>>>=0,(t=qt.toValue(t))==qt.toValue(e)},y:function(t,e,o){var s=((t,e)=>{for(var o=new Array(t),s=0;s<t;++s)o[s]=Gt(w[e+4*s>>>2>>>0],"parameter "+s);return o})(t,e>>>=0),r=s.shift();t--;var n="return function (obj, func, destructorsRef, args) {\n",i=0,a=[];0===o&&a.push("obj");for(var c=["retType"],l=[r],h=0;h<t;++h)a.push("arg"+h),c.push("argType"+h),l.push(s[h]),n+=`  var arg${h} = argType${h}.readValueFromPointer(args${i?"+"+i:""});\n`,i+=s[h].argPackAdvance;n+=`  var rv = ${1===o?"new func":"func.call"}(${a.join(", ")});\n`,r.isVoid||(c.push("emval_returnValue"),l.push(ae),n+="  return emval_returnValue(retType, destructorsRef, rv);\n"),n+="};\n",c.push(n);var u,d,f=_t(Function,c)(...l),m=`methodCaller<(${s.map((t=>t.name)).join(", ")}) => ${r.name}>`;return u=xt(m,f),d=he.length,he.push(u),d},B:function(t,e){return t>>>=0,e>>>=0,t=qt.toValue(t),e=qt.toValue(e),qt.toHandle(t[e])},u:function(t){(t>>>=0)>9&&(Wt[t+1]+=1)},q:function(t){return t>>>=0,qt.toHandle(le(t))},A:function(){return qt.toHandle({})},p:function(t){t>>>=0;var e=qt.toValue(t);X(e),zt(t)},r:function(t,e,o){t>>>=0,e>>>=0,o>>>=0,t=qt.toValue(t),e=qt.toValue(e),o=qt.toValue(o),t[e]=o},d:function(t,e){e>>>=0;var o=(t=Gt(t>>>=0,"_emval_take_value")).readValueFromPointer(e);return qt.toHandle(o)},E:function(t){t>>>=0;var e=P.length,o=4294901760;if(t>o)return!1;for(var s,r=1;r<=4;r*=2){var n=e*(1+.2/r);n=Math.min(n,t+100663296);var i=Math.min(o,(s=Math.max(t,n))+(65536-s%65536)%65536);if(me(i))return!0}return!1}},De=function(){var t,e,n,i,a={a:Pe};function l(t,e){var o;return De=function(t){var e,o=t=>e=>t(e)>>>0;return(t=Object.assign({},t)).L=o(t.L),t.N=o(t.N),t._emscripten_stack_alloc=o(t._emscripten_stack_alloc),t.emscripten_stack_get_current=(e=t.emscripten_stack_get_current,()=>e()>>>0),t}(De=t.exports),y=De.J,E(),Et=De.M,o=De.K,I.unshift(o),function(t){if(R--,s.monitorRunDependencies?.(R),0==R&&(null!==F&&(clearInterval(F),F=null),L)){var e=L;L=null,e()}}(),De}if(R++,s.monitorRunDependencies?.(R),s.instantiateWasm)try{return s.instantiateWasm(a,l)}catch(t){b(`Module.instantiateWasm callback failed with error: ${t}`),o(t)}return k||(k=function(){if(s.locateFile){var t="manifold.wasm";return H(t)?t:(e=t,s.locateFile?s.locateFile(e,m):m+e)}var e;return new URL(r(430),r.b).href}()),(t=g,e=k,n=a,i=function(t){l(t.instance)},t||"function"!=typeof WebAssembly.instantiateStreaming||H(e)||_(e)||c||"function"!=typeof fetch?B(e,n,i):fetch(e,{credentials:"same-origin"}).then((t=>WebAssembly.instantiateStreaming(t,n).then(i,(function(t){return b(`wasm streaming compile failed: ${t}`),b("falling back to ArrayBuffer instantiation"),B(e,n,i)}))))).catch(o),{}}(),Ce=t=>(Ce=De.L)(t),Se=t=>(Se=De.N)(t),we=t=>(we=De.O)(t),Te=t=>(Te=De.P)(t);function Me(){function t(){xe||(xe=!0,s.calledRun=!0,O||(j(I),e(s),s.onRuntimeInitialized?.(),function(){if(s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;)t=s.postRun.shift(),$.unshift(t);var t;j($)}()))}R>0||(function(){if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)t=s.preRun.shift(),A.unshift(t);var t;j(A)}(),R>0||(s.setStatus?(s.setStatus("Running..."),setTimeout((function(){setTimeout((function(){s.setStatus("")}),1),t()}),1)):t()))}if(s.addFunction=ye,s.removeFunction=be,L=function t(){xe||Me(),xe||(L=t)},s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();return Me(),n});const st=ot;(async()=>{const t=await st({locateFile:()=>F.BITBYBIT_CDN_URL+"/wasm/manifold-3-3-2.wasm"});var e;t.setup(),e=t,K=new b,J=new Q(e),postMessage("manifold-initialised"),postMessage("manifold-initialised")})(),addEventListener("message",(({data:t})=>{((t,e)=>{let o;e("busy");try{if("manifoldToMesh"!==t.action.functionName&&"manifoldsToMeshes"!==t.action.functionName&&"deleteManifoldOrCrossSection"!==t.action.functionName&&"deleteManifoldsOrCrossSections"!==t.action.functionName&&"manifoldToMeshPointer"!==t.action.functionName&&"startedTheRun"!==t.action.functionName&&"cleanAllCache"!==t.action.functionName&&"addManifoldPluginDependency"!==t.action.functionName){Object.keys(t.action.inputs).forEach((e=>{const o=t.action.inputs[e];if(o&&o.type&&"manifold-shape"===o.type&&o.hash){const o=K.checkCache(t.action.inputs[e].hash);if(!o)throw new Error(`Manifold with hash ${t.action.inputs[e].hash} not found in cache. The cache may have been cleaned. Please regenerate the manifold.`);t.action.inputs[e]=o}o&&Array.isArray(o)&&o.length>0&&(o[0].type&&"manifold-shape"===o[0].type&&o[0].hash?t.action.inputs[e]=t.action.inputs[e].map((t=>{const e=K.checkCache(t.hash);if(!e)throw new Error(`Manifold with hash ${t.hash} not found in cache. The cache may have been cleaned. Please regenerate the manifold.`);return e})):Array.isArray(o[0])&&o[0][0].type&&"manifold-shape"===o[0][0].type&&o[0][0].hash&&(t.action.inputs[e]=t.action.inputs[e].map((t=>t.map((t=>{const e=K.checkCache(t.hash);if(!e)throw new Error(`Manifold with hash ${t.hash} not found in cache. The cache may have been cleaned. Please regenerate the manifold.`);return e}))))))}));const e=t.action.functionName.split(".");let s;if(s=3===e.length?K.cacheOp(t.action,(()=>J[e[0]][e[1]][e[2]](t.action.inputs))):2===e.length?K.cacheOp(t.action,(()=>J[e[0]][e[1]](t.action.inputs))):K.cacheOp(t.action,(()=>J[t.action.functionName](t.action.inputs))),K.isManifoldObject(s))o=Array.isArray(s)?s.map((t=>({hash:t.hash,type:"manifold-shape"}))):{hash:s.hash,type:"manifold-shape"};else if(s&&s.compound&&s.data&&s.manifolds&&s.manifolds.length>0){const t=s;t.manifolds=t.manifolds.map((t=>({id:t.id,manifold:{hash:t.manifold.hash,type:"manifold-shape"}}))),t.compound={hash:t.compound.hash,type:"manifold-shape"},o=t}else o=s}if("addManifoldPluginDependency"===t.action.functionName&&(J&&J.plugins?Object.keys(t.action.inputs).forEach((e=>{J.plugins.dependencies[e]=t.action.inputs[e]})):tt=t.action.inputs),"manifoldToMesh"===t.action.functionName){const e=K.checkCache(t.action.inputs.manifold.hash);if(!e)throw new Error(`Manifold with hash ${t.action.inputs.manifold.hash} not found in cache. The cache may have been cleaned. Please regenerate the manifold.`);t.action.inputs.manifold=e,o=J.decomposeManifoldOrCrossSection(t.action.inputs)}if("manifoldToMeshPointer"===t.action.functionName){const e=K.checkCache(t.action.inputs.manifold.hash);if(!e)throw new Error(`Manifold with hash ${t.action.inputs.manifold.hash} not found in cache. The cache may have been cleaned. Please regenerate the manifold.`);t.action.inputs.manifold=e;const s=J.manifold.manifoldToMesh(t.action.inputs),r=K.computeHash(t.action);K.addToCache(r,s),o={hash:r,type:"manifold-shape"}}if("manifoldsToMeshes"===t.action.functionName){if(!(t.action.inputs.manifolds&&t.action.inputs.manifolds.length>0))throw new Error("No manifolds detected");t.action.inputs.manifolds=t.action.inputs.manifolds.map((t=>{const e=K.checkCache(t.hash);if(!e)throw new Error(`Manifold with hash ${t.hash} not found in cache. The cache may have been cleaned. Please regenerate the manifold.`);return e})),o=J.decomposeManifoldsOrCrossSections(t.action.inputs)}"deleteManifoldOrCrossSection"===t.action.functionName&&(K.cleanCacheForHash(t.action.inputs.manifoldOrCrossSection.hash),o={}),"deleteManifoldsOrCrossSections"===t.action.functionName&&(t.action.inputs.manifoldsOrCrossSections.forEach((t=>K.cleanCacheForHash(t.hash))),o={}),"startedTheRun"===t.action.functionName&&(K&&Object.keys(K.usedHashes).length>1e4&&K.cleanAllCache(),o={}),"cleanAllCache"===t.action.functionName&&(K.cleanAllCache(),o={}),e({uid:t.uid,result:o})}catch(o){let s,r;t&&t.action&&t.action.inputs&&(s=`Input values were: {${Object.keys(t.action.inputs).map((e=>`${e}: ${JSON.stringify(t.action.inputs[e])}`)).join(",")}}. `),t&&t.action&&t.action.functionName&&(r=`- ${t.action.functionName}`),e({uid:t.uid,result:void 0,error:`Manifold computation failed. ${o} While executing function ${r}. ${s}`})}})(t,postMessage)}))})()})();